{"version":3,"file":"bundle.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE,KAA4D;AAC9D,EAAE,CAC0G;AAC5G,CAAC,uBAAuB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,0BAA0B;;AAEjC;AACA,KAAK;AACL;;AAEA;;AAEA;AACA,eAAe,2BAA2B;AAC1C;;AAEA;AACA,eAAe,uDAAuD;AACtE,eAAe,0BAA0B;AACzC;;AAEA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA,GAAG,aAAa,aAAa,IAAI;;AAEjC,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,GAAG,aAAa,WAAW,IAAI;;AAE/B;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA,oBAAoB,eAAe,EAAE,0DAA0D;AAC/F;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,qBAAqB,eAAe,EAAE,QAAQ;AAC9C;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA,iBAAiB,gBAAgB,gEAAgE,sBAAsB,WAAW,iBAAiB;AACnJ;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,eAAe;AACf;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA,6DAA6D,sBAAsB;;AAEnF;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA,iCAAiC,UAAU;AAC3C;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA,6CAA6C,mBAAmB,wBAAwB,qBAAqB,GAAG,oBAAoB;;AAEpI;AACA,eAAe;AACf;AACA,4CAA4C,mBAAmB,wBAAwB,qBAAqB,GAAG,mBAAmB;;AAElI;AACA,eAAe;AACf;AACA,0CAA0C,mBAAmB,wBAAwB,qBAAqB,GAAG,iBAAiB;;AAE9H;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA,gDAAgD,mBAAmB;;AAEnE;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;;AAEL,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,YAAY;AACZ;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA,mJAAmJ;AACnJ;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,6BAA6B;AACpF;AACA;AACA;AACA;AACA,0CAA0C,UAAU,6CAA6C,mBAAmB;AACpH;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,gEAAgE;AAC7E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mBAAmB,KAAK,wBAAwB;AACvF;AACA,uCAAuC,mBAAmB,KAAK,sBAAsB;AACrF;AACA,uCAAuC,mBAAmB,KAAK,mBAAmB,2CAA2C,mBAAmB,KAAK,mBAAmB;AACxK;AACA,uCAAuC,mBAAmB,KAAK,mBAAmB;AAClF;AACA,uCAAuC,mBAAmB,KAAK,kBAAkB;AACjF;AACA;;AAEA;AACA,aAAa,4DAA4D;AACzE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,oCAAoC;AACjD,aAAa,mDAAmD;AAChE,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,oCAAoC;AACjD,aAAa,mDAAmD;AAChE;AACA;AACA;AACA;;AAEA;AACA,aAAa,oCAAoC;AACjD,aAAa,mDAAmD;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB,aAAa,GAAG;AAChB;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA,sEAAsE,MAAM;AAC5E,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,oBAAoB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,oBAAoB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,KAAK;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,oBAAoB;AACjC,eAAe;AACf;AACA;;AAEA;AACA,eAAe;AACf;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,aAAa;AAClE;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,wBAAwB;AAC9D;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA,yBAAyB,kBAAkB,sBAAsB,8BAA8B,WAAW,kBAAkB;AAC5H,kCAAkC,kBAAkB;AACpD,gBAAgB,8BAA8B;AAC9C,iBAAiB,iBAAiB;AAClC,iBAAiB,kBAAkB;AACnC,gBAAgB,kBAAkB,QAAQ,kBAAkB;AAC5D,iBAAiB,8BAA8B,QAAQ,8BAA8B;AACrF,mBAAmB,kBAAkB,QAAQ,kBAAkB;AAC/D,+BAA+B,iBAAiB;AAChD,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA,oBAAoB,mBAAmB,QAAQ,mBAAmB;AAClE,iBAAiB,kBAAkB;AACnC,mBAAmB,qBAAqB;AACxC,kCAAkC,qBAAqB;AACvD,oBAAoB,kBAAkB;AACtC;AACA,sBAAsB,qBAAqB,QAAQ,qBAAqB;AACxE,iBAAiB,kCAAkC,QAAQ,kCAAkC;AAC7F,iBAAiB,oBAAoB;AACrC,mBAAmB,mBAAmB;AACtC,oCAAoC,oBAAoB;AACxD,oCAAoC,iBAAiB;AACrD,oCAAoC,mBAAmB;AACvD;AACA,iBAAiB,mBAAmB;AACpC,iBAAiB,4CAA4C;AAC7D,mBAAmB,kCAAkC;AACrD;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,0CAA0C,mBAAmB;AAC7D,eAAe,mBAAmB;AAClC,gDAAgD,mBAAmB;AACnE;AACA,eAAe,kBAAkB;AACjC,6CAA6C,sBAAsB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,sBAAsB;AACnC,eAAe;AACf;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,+BAA+B;AAC5C,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,+BAA+B;AAC5C,aAAa,mBAAmB;AAChC;AACA;AACA,kCAAkC,+BAA+B;AACjE,iCAAiC,WAAW;AAC5C,mCAAmC,WAAW,qBAAqB;AACnE,gDAAgD,WAAW,0BAA0B;;AAErF;AACA;AACA,wCAAwC,WAAW;AACnD;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,2BAA2B;AACxC;AACA;AACA;AACA;AACA;AACA,4CAA4C,KAAK;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA,aAAa,cAAc;AAC3B;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,yCAAyC,SAAS,aAAa;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,sCAAsC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,wCAAwC;AACrD,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,WAAW;AAC3E;;AAEA;AACA,aAAa,4DAA4D;AACzE,aAAa,iCAAiC;AAC9C;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,MAAM;AACN,4FAA4F,kBAAkB;AAC9G;AACA;;AAEA,aAAa,2FAA2F;AACxG;;AAEA;AACA,aAAa,kBAAkB;AAC/B,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA,sTAAsT,kEAAkE;AACxX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAClC,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,aAAa;AAC5B,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,cAAc;AACtD,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG,YAAY;AAC5G;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,4DAA4D;AAC5D,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA,gDAAgD,4BAA4B,IAAI,QAAQ;;AAExF;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA,gEAAgE,aAAa;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,wCAAwC,kCAAkC;AAC1E,uCAAuC,kCAAkC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,yBAAyB;AACtC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC,2BAA2B,YAAY;AACvC,MAAM;AACN,2BAA2B,YAAY;AACvC,2BAA2B,YAAY;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA,6DAA6D;AAC7D,yBAAyB,mBAAmB,EAAE,0CAA0C;AACxF;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,mDAAmD;;AAEnE,aAAa,sCAAsC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC,aAAa,eAAe;AAC5B,aAAa,UAAU;AACvB;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,eAAe;AAC5B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA,oBAAoB,8BAA8B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,eAAe;AAC5B,aAAa,mBAAmB;AAChC,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA,gFAAgF;;AAEhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,GAAG;AAChB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,yCAAyC;AACrF;AACA;AACA;AACA;AACA,4CAA4C,oBAAoB;AAChE;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,0BAA0B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,0BAA0B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA,MAAM;AACN,qFAAqF,2BAA2B;AAChH;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,4BAA4B,OAAO,WAAW;AACjG;AACA;AACA;AACA,KAAK;AACL,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,wBAAwB;AACrC,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,wBAAwB;AACrC,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC,eAAe,UAAU;AACzB,eAAe;AACf;AACA;AACA,eAAe,wBAAwB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,sBAAsB;AACnC,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA,sFAAsF,4BAA4B;AAClH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,sBAAsB;AACnC,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,yBAAyB;AACtC,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C,sDAAsD,kBAAkB;AACxE,sBAAsB,mBAAmB;AACzC;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,oCAAoC;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,iCAAiC,MAAM;AACvC;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,MAAM;AACnC;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,6CAA6C,MAAM;AACnD;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,aAAa,mBAAmB;AAChC,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,UAAU;AACV,sCAAsC,KAAK,wCAAwC,WAAW;AAC9F;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC,eAAe;AACf;AACA;AACA,wEAAwE,aAAa;AACrF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,YAAY,kBAAkB,oBAAoB,yDAAyD;AAC3G,YAAY,iBAAiB,oBAAoB,wDAAwD;AACzG;AACA;AACA,qCAAqC,uCAAuC;AAC5E,YAAY,kBAAkB;AAC9B,YAAY,iBAAiB;AAC7B;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,4EAA4E,aAAa;AACzF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA,iGAAiG,eAAe;AAChH;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;;AAEA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA,uEAAuE,qBAAqB;AAC5F;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA,eAAe,qBAAqB;AACpC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA,mCAAmC,yBAAyB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA,eAAe,qBAAqB;AACpC;AACA,eAAe,eAAe;AAC9B;AACA;AACA,mCAAmC,yBAAyB;AAC5D;AACA;AACA;AACA;AACA,iDAAiD,MAAM;AACvD,KAAK;AACL;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA,eAAe,qBAAqB;AACpC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,KAAK;AACrB,oBAAoB,4BAA4B;AAChD;AACA,kBAAkB,KAAK;AACvB;AACA;AACA,kBAAkB,KAAK;AACvB;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA,eAAe,qBAAqB;AACpC;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B,aAAa,UAAU;AACvB,eAAe;AACf;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA,KAAK;AACL;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,yCAAyC,eAAe,QAAQ,yBAAyB,QAAQ,sDAAsD,6BAA6B,qDAAqD;AACzO;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,uBAAuB;AAC9B,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA,wDAAwD,MAAM,QAAQ,KAAK;AAC3E;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,cAAc;AACd;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0EAA0E,aAAa;AACvF;AACA;AACA;;AAEA,iBAAiB,6BAA6B;AAC9C;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,aAAa,UAAU;AACvB,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,aAAa,mBAAmB;AAChC,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA,mCAAmC,2DAA2D;AAC9F,uCAAuC;AACvC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,mBAAmB;AAChC,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,UAAU;AACvB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,UAAU;AACvB,aAAa,mBAAmB;AAChC,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAiD,IAAI;AACrD,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD,qDAAqD,SAAS,GAAG,eAAe,GAAG,SAAS,GAAG,eAAe;AAC9G,4CAA4C,+BAA+B,iHAAiH,SAAS,cAAc,SAAS,eAAe,iBAAiB,mCAAmC,qCAAqC,oBAAoB,4BAA4B,qBAAqB,iCAAiC,0BAA0B,uBAAuB,kCAAkC,wCAAwC,kDAAkD,sCAAsC,0CAA0C,+CAA+C,uCAAuC,uCAAuC,iCAAiC,sCAAsC,iCAAiC,wBAAwB,kCAAkC,kCAAkC,kDAAkD,6CAA6C,kCAAkC,+GAA+G,8HAA8H,gE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","sources":["webpack://blankbook/./node_modules/sweetalert2/dist/sweetalert2.all.js","webpack://blankbook/./public/js/core/placeholders.js","webpack://blankbook/./public/js/core/state.js","webpack://blankbook/./public/js/core/storyProcessor.js","webpack://blankbook/./public/js/data/storage.js","webpack://blankbook/./public/js/handlers/events.js","webpack://blankbook/./public/js/ui/forms.js","webpack://blankbook/./public/js/ui/menu.js","webpack://blankbook/./public/js/ui/notifications.js","webpack://blankbook/./public/js/utils/StringUtils.js","webpack://blankbook/./public/js/utils/domUtils.js","webpack://blankbook/./public/js/utils/typeHelpers.js","webpack://blankbook/./public/js/utils/utils.js","webpack://blankbook/webpack/bootstrap","webpack://blankbook/webpack/runtime/compat get default export","webpack://blankbook/webpack/runtime/define property getters","webpack://blankbook/webpack/runtime/hasOwnProperty shorthand","webpack://blankbook/webpack/runtime/make namespace object","webpack://blankbook/./public/js/main.js"],"sourcesContent":["/*!\n* sweetalert2 v11.17.2\n* Released under the MIT License.\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Sweetalert2 = factory());\n})(this, (function () { 'use strict';\n\n  function _assertClassBrand(e, t, n) {\n    if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n    throw new TypeError(\"Private element is not present on this object\");\n  }\n  function _checkPrivateRedeclaration(e, t) {\n    if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n  function _classPrivateFieldGet2(s, a) {\n    return s.get(_assertClassBrand(s, a));\n  }\n  function _classPrivateFieldInitSpec(e, t, a) {\n    _checkPrivateRedeclaration(e, t), t.set(e, a);\n  }\n  function _classPrivateFieldSet2(s, a, r) {\n    return s.set(_assertClassBrand(s, a), r), r;\n  }\n\n  const RESTORE_FOCUS_TIMEOUT = 100;\n\n  /** @type {GlobalState} */\n  const globalState = {};\n  const focusPreviousActiveElement = () => {\n    if (globalState.previousActiveElement instanceof HTMLElement) {\n      globalState.previousActiveElement.focus();\n      globalState.previousActiveElement = null;\n    } else if (document.body) {\n      document.body.focus();\n    }\n  };\n\n  /**\n   * Restore previous active (focused) element\n   *\n   * @param {boolean} returnFocus\n   * @returns {Promise<void>}\n   */\n  const restoreActiveElement = returnFocus => {\n    return new Promise(resolve => {\n      if (!returnFocus) {\n        return resolve();\n      }\n      const x = window.scrollX;\n      const y = window.scrollY;\n      globalState.restoreFocusTimeout = setTimeout(() => {\n        focusPreviousActiveElement();\n        resolve();\n      }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n      window.scrollTo(x, y);\n    });\n  };\n\n  const swalPrefix = 'swal2-';\n\n  /**\n   * @typedef {Record<SwalClass, string>} SwalClasses\n   */\n\n  /**\n   * @typedef {'success' | 'warning' | 'info' | 'question' | 'error'} SwalIcon\n   * @typedef {Record<SwalIcon, string>} SwalIcons\n   */\n\n  /** @type {SwalClass[]} */\n  const classNames = ['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'default-outline', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error', 'draggable', 'dragging'];\n  const swalClasses = classNames.reduce((acc, className) => {\n    acc[className] = swalPrefix + className;\n    return acc;\n  }, /** @type {SwalClasses} */{});\n\n  /** @type {SwalIcon[]} */\n  const icons = ['success', 'warning', 'info', 'question', 'error'];\n  const iconTypes = icons.reduce((acc, icon) => {\n    acc[icon] = swalPrefix + icon;\n    return acc;\n  }, /** @type {SwalIcons} */{});\n\n  const consolePrefix = 'SweetAlert2:';\n\n  /**\n   * Capitalize the first letter of a string\n   *\n   * @param {string} str\n   * @returns {string}\n   */\n  const capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n  /**\n   * Standardize console warnings\n   *\n   * @param {string | string[]} message\n   */\n  const warn = message => {\n    console.warn(`${consolePrefix} ${typeof message === 'object' ? message.join(' ') : message}`);\n  };\n\n  /**\n   * Standardize console errors\n   *\n   * @param {string} message\n   */\n  const error = message => {\n    console.error(`${consolePrefix} ${message}`);\n  };\n\n  /**\n   * Private global state for `warnOnce`\n   *\n   * @type {string[]}\n   * @private\n   */\n  const previousWarnOnceMessages = [];\n\n  /**\n   * Show a console warning, but only if it hasn't already been shown\n   *\n   * @param {string} message\n   */\n  const warnOnce = message => {\n    if (!previousWarnOnceMessages.includes(message)) {\n      previousWarnOnceMessages.push(message);\n      warn(message);\n    }\n  };\n\n  /**\n   * Show a one-time console warning about deprecated params/methods\n   *\n   * @param {string} deprecatedParam\n   * @param {string?} useInstead\n   */\n  const warnAboutDeprecation = function (deprecatedParam) {\n    let useInstead = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    warnOnce(`\"${deprecatedParam}\" is deprecated and will be removed in the next major release.${useInstead ? ` Use \"${useInstead}\" instead.` : ''}`);\n  };\n\n  /**\n   * If `arg` is a function, call it (with no arguments or context) and return the result.\n   * Otherwise, just pass the value through\n   *\n   * @param {Function | any} arg\n   * @returns {any}\n   */\n  const callIfFunction = arg => typeof arg === 'function' ? arg() : arg;\n\n  /**\n   * @param {any} arg\n   * @returns {boolean}\n   */\n  const hasToPromiseFn = arg => arg && typeof arg.toPromise === 'function';\n\n  /**\n   * @param {any} arg\n   * @returns {Promise<any>}\n   */\n  const asPromise = arg => hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n\n  /**\n   * @param {any} arg\n   * @returns {boolean}\n   */\n  const isPromise = arg => arg && Promise.resolve(arg) === arg;\n\n  /**\n   * Gets the popup container which contains the backdrop and the popup itself.\n   *\n   * @returns {HTMLElement | null}\n   */\n  const getContainer = () => document.body.querySelector(`.${swalClasses.container}`);\n\n  /**\n   * @param {string} selectorString\n   * @returns {HTMLElement | null}\n   */\n  const elementBySelector = selectorString => {\n    const container = getContainer();\n    return container ? container.querySelector(selectorString) : null;\n  };\n\n  /**\n   * @param {string} className\n   * @returns {HTMLElement | null}\n   */\n  const elementByClass = className => {\n    return elementBySelector(`.${className}`);\n  };\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getPopup = () => elementByClass(swalClasses.popup);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getIcon = () => elementByClass(swalClasses.icon);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getIconContent = () => elementByClass(swalClasses['icon-content']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getTitle = () => elementByClass(swalClasses.title);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getHtmlContainer = () => elementByClass(swalClasses['html-container']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getImage = () => elementByClass(swalClasses.image);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getProgressSteps = () => elementByClass(swalClasses['progress-steps']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getValidationMessage = () => elementByClass(swalClasses['validation-message']);\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getConfirmButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`));\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getCancelButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`));\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getDenyButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`));\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getInputLabel = () => elementByClass(swalClasses['input-label']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getLoader = () => elementBySelector(`.${swalClasses.loader}`);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getActions = () => elementByClass(swalClasses.actions);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getFooter = () => elementByClass(swalClasses.footer);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getCloseButton = () => elementByClass(swalClasses.close);\n\n  // https://github.com/jkup/focusable/blob/master/index.js\n  const focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`;\n  /**\n   * @returns {HTMLElement[]}\n   */\n  const getFocusableElements = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return [];\n    }\n    /** @type {NodeListOf<HTMLElement>} */\n    const focusableElementsWithTabindex = popup.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])');\n    const focusableElementsWithTabindexSorted = Array.from(focusableElementsWithTabindex)\n    // sort according to tabindex\n    .sort((a, b) => {\n      const tabindexA = parseInt(a.getAttribute('tabindex') || '0');\n      const tabindexB = parseInt(b.getAttribute('tabindex') || '0');\n      if (tabindexA > tabindexB) {\n        return 1;\n      } else if (tabindexA < tabindexB) {\n        return -1;\n      }\n      return 0;\n    });\n\n    /** @type {NodeListOf<HTMLElement>} */\n    const otherFocusableElements = popup.querySelectorAll(focusable);\n    const otherFocusableElementsFiltered = Array.from(otherFocusableElements).filter(el => el.getAttribute('tabindex') !== '-1');\n    return [...new Set(focusableElementsWithTabindexSorted.concat(otherFocusableElementsFiltered))].filter(el => isVisible$1(el));\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isModal = () => {\n    return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isToast = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    return hasClass(popup, swalClasses.toast);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isLoading = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    return popup.hasAttribute('data-loading');\n  };\n\n  /**\n   * Securely set innerHTML of an element\n   * https://github.com/sweetalert2/sweetalert2/issues/1926\n   *\n   * @param {HTMLElement} elem\n   * @param {string} html\n   */\n  const setInnerHtml = (elem, html) => {\n    elem.textContent = '';\n    if (html) {\n      const parser = new DOMParser();\n      const parsed = parser.parseFromString(html, `text/html`);\n      const head = parsed.querySelector('head');\n      if (head) {\n        Array.from(head.childNodes).forEach(child => {\n          elem.appendChild(child);\n        });\n      }\n      const body = parsed.querySelector('body');\n      if (body) {\n        Array.from(body.childNodes).forEach(child => {\n          if (child instanceof HTMLVideoElement || child instanceof HTMLAudioElement) {\n            elem.appendChild(child.cloneNode(true)); // https://github.com/sweetalert2/sweetalert2/issues/2507\n          } else {\n            elem.appendChild(child);\n          }\n        });\n      }\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {string} className\n   * @returns {boolean}\n   */\n  const hasClass = (elem, className) => {\n    if (!className) {\n      return false;\n    }\n    const classList = className.split(/\\s+/);\n    for (let i = 0; i < classList.length; i++) {\n      if (!elem.classList.contains(classList[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {SweetAlertOptions} params\n   */\n  const removeCustomClasses = (elem, params) => {\n    Array.from(elem.classList).forEach(className => {\n      if (!Object.values(swalClasses).includes(className) && !Object.values(iconTypes).includes(className) && !Object.values(params.showClass || {}).includes(className)) {\n        elem.classList.remove(className);\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {SweetAlertOptions} params\n   * @param {string} className\n   */\n  const applyCustomClass = (elem, params, className) => {\n    removeCustomClasses(elem, params);\n    if (!params.customClass) {\n      return;\n    }\n    const customClass = params.customClass[(/** @type {keyof SweetAlertCustomClass} */className)];\n    if (!customClass) {\n      return;\n    }\n    if (typeof customClass !== 'string' && !customClass.forEach) {\n      warn(`Invalid type of customClass.${className}! Expected string or iterable object, got \"${typeof customClass}\"`);\n      return;\n    }\n    addClass(elem, customClass);\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {import('./renderers/renderInput').InputClass | SweetAlertInput} inputClass\n   * @returns {HTMLInputElement | null}\n   */\n  const getInput$1 = (popup, inputClass) => {\n    if (!inputClass) {\n      return null;\n    }\n    switch (inputClass) {\n      case 'select':\n      case 'textarea':\n      case 'file':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses[inputClass]}`);\n      case 'checkbox':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);\n      case 'radio':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`) || popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);\n      case 'range':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);\n      default:\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`);\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} input\n   */\n  const focusInput = input => {\n    input.focus();\n\n    // place cursor at end of text in text input\n    if (input.type !== 'file') {\n      // http://stackoverflow.com/a/2345915\n      const val = input.value;\n      input.value = '';\n      input.value = val;\n    }\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   * @param {boolean} condition\n   */\n  const toggleClass = (target, classList, condition) => {\n    if (!target || !classList) {\n      return;\n    }\n    if (typeof classList === 'string') {\n      classList = classList.split(/\\s+/).filter(Boolean);\n    }\n    classList.forEach(className => {\n      if (Array.isArray(target)) {\n        target.forEach(elem => {\n          if (condition) {\n            elem.classList.add(className);\n          } else {\n            elem.classList.remove(className);\n          }\n        });\n      } else {\n        if (condition) {\n          target.classList.add(className);\n        } else {\n          target.classList.remove(className);\n        }\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   */\n  const addClass = (target, classList) => {\n    toggleClass(target, classList, true);\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   */\n  const removeClass = (target, classList) => {\n    toggleClass(target, classList, false);\n  };\n\n  /**\n   * Get direct child of an element by class name\n   *\n   * @param {HTMLElement} elem\n   * @param {string} className\n   * @returns {HTMLElement | undefined}\n   */\n  const getDirectChildByClass = (elem, className) => {\n    const children = Array.from(elem.children);\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child instanceof HTMLElement && hasClass(child, className)) {\n        return child;\n      }\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {string} property\n   * @param {*} value\n   */\n  const applyNumericalStyle = (elem, property, value) => {\n    if (value === `${parseInt(value)}`) {\n      value = parseInt(value);\n    }\n    if (value || parseInt(value) === 0) {\n      elem.style.setProperty(property, typeof value === 'number' ? `${value}px` : value);\n    } else {\n      elem.style.removeProperty(property);\n    }\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   * @param {string} display\n   */\n  const show = function (elem) {\n    let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n    if (!elem) {\n      return;\n    }\n    elem.style.display = display;\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   */\n  const hide = elem => {\n    if (!elem) {\n      return;\n    }\n    elem.style.display = 'none';\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   * @param {string} display\n   */\n  const showWhenInnerHtmlPresent = function (elem) {\n    let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'block';\n    if (!elem) {\n      return;\n    }\n    new MutationObserver(() => {\n      toggle(elem, elem.innerHTML, display);\n    }).observe(elem, {\n      childList: true,\n      subtree: true\n    });\n  };\n\n  /**\n   * @param {HTMLElement} parent\n   * @param {string} selector\n   * @param {string} property\n   * @param {string} value\n   */\n  const setStyle = (parent, selector, property, value) => {\n    /** @type {HTMLElement | null} */\n    const el = parent.querySelector(selector);\n    if (el) {\n      el.style.setProperty(property, value);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {any} condition\n   * @param {string} display\n   */\n  const toggle = function (elem, condition) {\n    let display = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'flex';\n    if (condition) {\n      show(elem, display);\n    } else {\n      hide(elem);\n    }\n  };\n\n  /**\n   * borrowed from jquery $(elem).is(':visible') implementation\n   *\n   * @param {HTMLElement | null} elem\n   * @returns {boolean}\n   */\n  const isVisible$1 = elem => !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n\n  /**\n   * @returns {boolean}\n   */\n  const allButtonsAreHidden = () => !isVisible$1(getConfirmButton()) && !isVisible$1(getDenyButton()) && !isVisible$1(getCancelButton());\n\n  /**\n   * @param {HTMLElement} elem\n   * @returns {boolean}\n   */\n  const isScrollable = elem => !!(elem.scrollHeight > elem.clientHeight);\n\n  /**\n   * borrowed from https://stackoverflow.com/a/46352119\n   *\n   * @param {HTMLElement} elem\n   * @returns {boolean}\n   */\n  const hasCssAnimation = elem => {\n    const style = window.getComputedStyle(elem);\n    const animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n    const transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n    return animDuration > 0 || transDuration > 0;\n  };\n\n  /**\n   * @param {number} timer\n   * @param {boolean} reset\n   */\n  const animateTimerProgressBar = function (timer) {\n    let reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    const timerProgressBar = getTimerProgressBar();\n    if (!timerProgressBar) {\n      return;\n    }\n    if (isVisible$1(timerProgressBar)) {\n      if (reset) {\n        timerProgressBar.style.transition = 'none';\n        timerProgressBar.style.width = '100%';\n      }\n      setTimeout(() => {\n        timerProgressBar.style.transition = `width ${timer / 1000}s linear`;\n        timerProgressBar.style.width = '0%';\n      }, 10);\n    }\n  };\n  const stopTimerProgressBar = () => {\n    const timerProgressBar = getTimerProgressBar();\n    if (!timerProgressBar) {\n      return;\n    }\n    const timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    timerProgressBar.style.removeProperty('transition');\n    timerProgressBar.style.width = '100%';\n    const timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    const timerProgressBarPercent = timerProgressBarWidth / timerProgressBarFullWidth * 100;\n    timerProgressBar.style.width = `${timerProgressBarPercent}%`;\n  };\n\n  /**\n   * Detect Node env\n   *\n   * @returns {boolean}\n   */\n  const isNodeEnv = () => typeof window === 'undefined' || typeof document === 'undefined';\n\n  const sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" id=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\" id=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" id=\"${swalClasses.checkbox}\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\" id=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\n  /**\n   * @returns {boolean}\n   */\n  const resetOldContainer = () => {\n    const oldContainer = getContainer();\n    if (!oldContainer) {\n      return false;\n    }\n    oldContainer.remove();\n    removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n    return true;\n  };\n  const resetValidationMessage$1 = () => {\n    globalState.currentInstance.resetValidationMessage();\n  };\n  const addInputChangeListeners = () => {\n    const popup = getPopup();\n    const input = getDirectChildByClass(popup, swalClasses.input);\n    const file = getDirectChildByClass(popup, swalClasses.file);\n    /** @type {HTMLInputElement} */\n    const range = popup.querySelector(`.${swalClasses.range} input`);\n    /** @type {HTMLOutputElement} */\n    const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n    const select = getDirectChildByClass(popup, swalClasses.select);\n    /** @type {HTMLInputElement} */\n    const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n    const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n    input.oninput = resetValidationMessage$1;\n    file.onchange = resetValidationMessage$1;\n    select.onchange = resetValidationMessage$1;\n    checkbox.onchange = resetValidationMessage$1;\n    textarea.oninput = resetValidationMessage$1;\n    range.oninput = () => {\n      resetValidationMessage$1();\n      rangeOutput.value = range.value;\n    };\n    range.onchange = () => {\n      resetValidationMessage$1();\n      rangeOutput.value = range.value;\n    };\n  };\n\n  /**\n   * @param {string | HTMLElement} target\n   * @returns {HTMLElement}\n   */\n  const getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const setupAccessibility = params => {\n    const popup = getPopup();\n    popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n    popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n    if (!params.toast) {\n      popup.setAttribute('aria-modal', 'true');\n    }\n  };\n\n  /**\n   * @param {HTMLElement} targetElement\n   */\n  const setupRTL = targetElement => {\n    if (window.getComputedStyle(targetElement).direction === 'rtl') {\n      addClass(getContainer(), swalClasses.rtl);\n    }\n  };\n\n  /**\n   * Add modal + backdrop + no-war message for Russians to DOM\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const init = params => {\n    // Clean up the old popup container if it exists\n    const oldContainerExisted = resetOldContainer();\n    if (isNodeEnv()) {\n      error('SweetAlert2 requires document to initialize');\n      return;\n    }\n    const container = document.createElement('div');\n    container.className = swalClasses.container;\n    if (oldContainerExisted) {\n      addClass(container, swalClasses['no-transition']);\n    }\n    setInnerHtml(container, sweetHTML);\n    container.dataset['swal2Theme'] = params.theme;\n    const targetElement = getTarget(params.target);\n    targetElement.appendChild(container);\n    setupAccessibility(params);\n    setupRTL(targetElement);\n    addInputChangeListeners();\n  };\n\n  /**\n   * @param {HTMLElement | object | string} param\n   * @param {HTMLElement} target\n   */\n  const parseHtmlToContainer = (param, target) => {\n    // DOM element\n    if (param instanceof HTMLElement) {\n      target.appendChild(param);\n    }\n\n    // Object\n    else if (typeof param === 'object') {\n      handleObject(param, target);\n    }\n\n    // Plain string\n    else if (param) {\n      setInnerHtml(target, param);\n    }\n  };\n\n  /**\n   * @param {any} param\n   * @param {HTMLElement} target\n   */\n  const handleObject = (param, target) => {\n    // JQuery element(s)\n    if (param.jquery) {\n      handleJqueryElem(target, param);\n    }\n\n    // For other objects use their string representation\n    else {\n      setInnerHtml(target, param.toString());\n    }\n  };\n\n  /**\n   * @param {HTMLElement} target\n   * @param {any} elem\n   */\n  const handleJqueryElem = (target, elem) => {\n    target.textContent = '';\n    if (0 in elem) {\n      for (let i = 0; i in elem; i++) {\n        target.appendChild(elem[i].cloneNode(true));\n      }\n    } else {\n      target.appendChild(elem.cloneNode(true));\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderActions = (instance, params) => {\n    const actions = getActions();\n    const loader = getLoader();\n    if (!actions || !loader) {\n      return;\n    }\n\n    // Actions (buttons) wrapper\n    if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n      hide(actions);\n    } else {\n      show(actions);\n    }\n\n    // Custom class\n    applyCustomClass(actions, params, 'actions');\n\n    // Render all the buttons\n    renderButtons(actions, loader, params);\n\n    // Loader\n    setInnerHtml(loader, params.loaderHtml || '');\n    applyCustomClass(loader, params, 'loader');\n  };\n\n  /**\n   * @param {HTMLElement} actions\n   * @param {HTMLElement} loader\n   * @param {SweetAlertOptions} params\n   */\n  function renderButtons(actions, loader, params) {\n    const confirmButton = getConfirmButton();\n    const denyButton = getDenyButton();\n    const cancelButton = getCancelButton();\n    if (!confirmButton || !denyButton || !cancelButton) {\n      return;\n    }\n\n    // Render buttons\n    renderButton(confirmButton, 'confirm', params);\n    renderButton(denyButton, 'deny', params);\n    renderButton(cancelButton, 'cancel', params);\n    handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n    if (params.reverseButtons) {\n      if (params.toast) {\n        actions.insertBefore(cancelButton, confirmButton);\n        actions.insertBefore(denyButton, confirmButton);\n      } else {\n        actions.insertBefore(cancelButton, loader);\n        actions.insertBefore(denyButton, loader);\n        actions.insertBefore(confirmButton, loader);\n      }\n    }\n  }\n\n  /**\n   * @param {HTMLElement} confirmButton\n   * @param {HTMLElement} denyButton\n   * @param {HTMLElement} cancelButton\n   * @param {SweetAlertOptions} params\n   */\n  function handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n    if (!params.buttonsStyling) {\n      removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n      return;\n    }\n    addClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n\n    // Buttons background colors\n    if (params.confirmButtonColor) {\n      confirmButton.style.backgroundColor = params.confirmButtonColor;\n      addClass(confirmButton, swalClasses['default-outline']);\n    }\n    if (params.denyButtonColor) {\n      denyButton.style.backgroundColor = params.denyButtonColor;\n      addClass(denyButton, swalClasses['default-outline']);\n    }\n    if (params.cancelButtonColor) {\n      cancelButton.style.backgroundColor = params.cancelButtonColor;\n      addClass(cancelButton, swalClasses['default-outline']);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} button\n   * @param {'confirm' | 'deny' | 'cancel'} buttonType\n   * @param {SweetAlertOptions} params\n   */\n  function renderButton(button, buttonType, params) {\n    const buttonName = /** @type {'Confirm' | 'Deny' | 'Cancel'} */capitalizeFirstLetter(buttonType);\n    toggle(button, params[`show${buttonName}Button`], 'inline-block');\n    setInnerHtml(button, params[`${buttonType}ButtonText`] || ''); // Set caption text\n    button.setAttribute('aria-label', params[`${buttonType}ButtonAriaLabel`] || ''); // ARIA label\n\n    // Add buttons custom classes\n    button.className = swalClasses[buttonType];\n    applyCustomClass(button, params, `${buttonType}Button`);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderCloseButton = (instance, params) => {\n    const closeButton = getCloseButton();\n    if (!closeButton) {\n      return;\n    }\n    setInnerHtml(closeButton, params.closeButtonHtml || '');\n\n    // Custom class\n    applyCustomClass(closeButton, params, 'closeButton');\n    toggle(closeButton, params.showCloseButton);\n    closeButton.setAttribute('aria-label', params.closeButtonAriaLabel || '');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderContainer = (instance, params) => {\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    handleBackdropParam(container, params.backdrop);\n    handlePositionParam(container, params.position);\n    handleGrowParam(container, params.grow);\n\n    // Custom class\n    applyCustomClass(container, params, 'container');\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['backdrop']} backdrop\n   */\n  function handleBackdropParam(container, backdrop) {\n    if (typeof backdrop === 'string') {\n      container.style.background = backdrop;\n    } else if (!backdrop) {\n      addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['position']} position\n   */\n  function handlePositionParam(container, position) {\n    if (!position) {\n      return;\n    }\n    if (position in swalClasses) {\n      addClass(container, swalClasses[position]);\n    } else {\n      warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n      addClass(container, swalClasses.center);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['grow']} grow\n   */\n  function handleGrowParam(container, grow) {\n    if (!grow) {\n      return;\n    }\n    addClass(container, swalClasses[`grow-${grow}`]);\n  }\n\n  /**\n   * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n\n  var privateProps = {\n    innerParams: new WeakMap(),\n    domCache: new WeakMap()\n  };\n\n  /// <reference path=\"../../../../sweetalert2.d.ts\"/>\n\n\n  /** @type {InputClass[]} */\n  const inputClasses = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderInput = (instance, params) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const innerParams = privateProps.innerParams.get(instance);\n    const rerender = !innerParams || params.input !== innerParams.input;\n    inputClasses.forEach(inputClass => {\n      const inputContainer = getDirectChildByClass(popup, swalClasses[inputClass]);\n      if (!inputContainer) {\n        return;\n      }\n\n      // set attributes\n      setAttributes(inputClass, params.inputAttributes);\n\n      // set class\n      inputContainer.className = swalClasses[inputClass];\n      if (rerender) {\n        hide(inputContainer);\n      }\n    });\n    if (params.input) {\n      if (rerender) {\n        showInput(params);\n      }\n      // set custom class\n      setCustomClass(params);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const showInput = params => {\n    if (!params.input) {\n      return;\n    }\n    if (!renderInputType[params.input]) {\n      error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(' | ')}, got \"${params.input}\"`);\n      return;\n    }\n    const inputContainer = getInputContainer(params.input);\n    if (!inputContainer) {\n      return;\n    }\n    const input = renderInputType[params.input](inputContainer, params);\n    show(inputContainer);\n\n    // input autofocus\n    if (params.inputAutoFocus) {\n      setTimeout(() => {\n        focusInput(input);\n      });\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   */\n  const removeAttributes = input => {\n    for (let i = 0; i < input.attributes.length; i++) {\n      const attrName = input.attributes[i].name;\n      if (!['id', 'type', 'value', 'style'].includes(attrName)) {\n        input.removeAttribute(attrName);\n      }\n    }\n  };\n\n  /**\n   * @param {InputClass} inputClass\n   * @param {SweetAlertOptions['inputAttributes']} inputAttributes\n   */\n  const setAttributes = (inputClass, inputAttributes) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const input = getInput$1(popup, inputClass);\n    if (!input) {\n      return;\n    }\n    removeAttributes(input);\n    for (const attr in inputAttributes) {\n      input.setAttribute(attr, inputAttributes[attr]);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const setCustomClass = params => {\n    if (!params.input) {\n      return;\n    }\n    const inputContainer = getInputContainer(params.input);\n    if (inputContainer) {\n      applyCustomClass(inputContainer, params, 'input');\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLTextAreaElement} input\n   * @param {SweetAlertOptions} params\n   */\n  const setInputPlaceholder = (input, params) => {\n    if (!input.placeholder && params.inputPlaceholder) {\n      input.placeholder = params.inputPlaceholder;\n    }\n  };\n\n  /**\n   * @param {Input} input\n   * @param {Input} prependTo\n   * @param {SweetAlertOptions} params\n   */\n  const setInputLabel = (input, prependTo, params) => {\n    if (params.inputLabel) {\n      const label = document.createElement('label');\n      const labelClass = swalClasses['input-label'];\n      label.setAttribute('for', input.id);\n      label.className = labelClass;\n      if (typeof params.customClass === 'object') {\n        addClass(label, params.customClass.inputLabel);\n      }\n      label.innerText = params.inputLabel;\n      prependTo.insertAdjacentElement('beforebegin', label);\n    }\n  };\n\n  /**\n   * @param {SweetAlertInput} inputType\n   * @returns {HTMLElement | undefined}\n   */\n  const getInputContainer = inputType => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    return getDirectChildByClass(popup, swalClasses[(/** @type {SwalClass} */inputType)] || swalClasses.input);\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLOutputElement | HTMLTextAreaElement} input\n   * @param {SweetAlertOptions['inputValue']} inputValue\n   */\n  const checkAndSetInputValue = (input, inputValue) => {\n    if (['string', 'number'].includes(typeof inputValue)) {\n      input.value = `${inputValue}`;\n    } else if (!isPromise(inputValue)) {\n      warn(`Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"${typeof inputValue}\"`);\n    }\n  };\n\n  /** @type {Record<SweetAlertInput, (input: Input | HTMLElement, params: SweetAlertOptions) => Input>} */\n  const renderInputType = {};\n\n  /**\n   * @param {HTMLInputElement} input\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = renderInputType.search = renderInputType.date = renderInputType['datetime-local'] = renderInputType.time = renderInputType.week = renderInputType.month = /** @type {(input: Input | HTMLElement, params: SweetAlertOptions) => Input} */\n  (input, params) => {\n    checkAndSetInputValue(input, params.inputValue);\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    input.type = params.input;\n    return input;\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.file = (input, params) => {\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    return input;\n  };\n\n  /**\n   * @param {HTMLInputElement} range\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.range = (range, params) => {\n    const rangeInput = range.querySelector('input');\n    const rangeOutput = range.querySelector('output');\n    checkAndSetInputValue(rangeInput, params.inputValue);\n    rangeInput.type = params.input;\n    checkAndSetInputValue(rangeOutput, params.inputValue);\n    setInputLabel(rangeInput, range, params);\n    return range;\n  };\n\n  /**\n   * @param {HTMLSelectElement} select\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLSelectElement}\n   */\n  renderInputType.select = (select, params) => {\n    select.textContent = '';\n    if (params.inputPlaceholder) {\n      const placeholder = document.createElement('option');\n      setInnerHtml(placeholder, params.inputPlaceholder);\n      placeholder.value = '';\n      placeholder.disabled = true;\n      placeholder.selected = true;\n      select.appendChild(placeholder);\n    }\n    setInputLabel(select, select, params);\n    return select;\n  };\n\n  /**\n   * @param {HTMLInputElement} radio\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.radio = radio => {\n    radio.textContent = '';\n    return radio;\n  };\n\n  /**\n   * @param {HTMLLabelElement} checkboxContainer\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.checkbox = (checkboxContainer, params) => {\n    const checkbox = getInput$1(getPopup(), 'checkbox');\n    checkbox.value = '1';\n    checkbox.checked = Boolean(params.inputValue);\n    const label = checkboxContainer.querySelector('span');\n    setInnerHtml(label, params.inputPlaceholder || params.inputLabel);\n    return checkbox;\n  };\n\n  /**\n   * @param {HTMLTextAreaElement} textarea\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLTextAreaElement}\n   */\n  renderInputType.textarea = (textarea, params) => {\n    checkAndSetInputValue(textarea, params.inputValue);\n    setInputPlaceholder(textarea, params);\n    setInputLabel(textarea, textarea, params);\n\n    /**\n     * @param {HTMLElement} el\n     * @returns {number}\n     */\n    const getMargin = el => parseInt(window.getComputedStyle(el).marginLeft) + parseInt(window.getComputedStyle(el).marginRight);\n\n    // https://github.com/sweetalert2/sweetalert2/issues/2291\n    setTimeout(() => {\n      // https://github.com/sweetalert2/sweetalert2/issues/1699\n      if ('MutationObserver' in window) {\n        const initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);\n        const textareaResizeHandler = () => {\n          // check if texarea is still in document (i.e. popup wasn't closed in the meantime)\n          if (!document.body.contains(textarea)) {\n            return;\n          }\n          const textareaWidth = textarea.offsetWidth + getMargin(textarea);\n          if (textareaWidth > initialPopupWidth) {\n            getPopup().style.width = `${textareaWidth}px`;\n          } else {\n            applyNumericalStyle(getPopup(), 'width', params.width);\n          }\n        };\n        new MutationObserver(textareaResizeHandler).observe(textarea, {\n          attributes: true,\n          attributeFilter: ['style']\n        });\n      }\n    });\n    return textarea;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderContent = (instance, params) => {\n    const htmlContainer = getHtmlContainer();\n    if (!htmlContainer) {\n      return;\n    }\n    showWhenInnerHtmlPresent(htmlContainer);\n    applyCustomClass(htmlContainer, params, 'htmlContainer');\n\n    // Content as HTML\n    if (params.html) {\n      parseHtmlToContainer(params.html, htmlContainer);\n      show(htmlContainer, 'block');\n    }\n\n    // Content as plain text\n    else if (params.text) {\n      htmlContainer.textContent = params.text;\n      show(htmlContainer, 'block');\n    }\n\n    // No content\n    else {\n      hide(htmlContainer);\n    }\n    renderInput(instance, params);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderFooter = (instance, params) => {\n    const footer = getFooter();\n    if (!footer) {\n      return;\n    }\n    showWhenInnerHtmlPresent(footer);\n    toggle(footer, params.footer, 'block');\n    if (params.footer) {\n      parseHtmlToContainer(params.footer, footer);\n    }\n\n    // Custom class\n    applyCustomClass(footer, params, 'footer');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderIcon = (instance, params) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    const icon = getIcon();\n    if (!icon) {\n      return;\n    }\n\n    // if the given icon already rendered, apply the styling without re-rendering the icon\n    if (innerParams && params.icon === innerParams.icon) {\n      // Custom or default content\n      setContent(icon, params);\n      applyStyles(icon, params);\n      return;\n    }\n    if (!params.icon && !params.iconHtml) {\n      hide(icon);\n      return;\n    }\n    if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n      error(`Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"${params.icon}\"`);\n      hide(icon);\n      return;\n    }\n    show(icon);\n\n    // Custom or default content\n    setContent(icon, params);\n    applyStyles(icon, params);\n\n    // Animate icon\n    addClass(icon, params.showClass && params.showClass.icon);\n\n    // Re-adjust the success icon on system theme change\n    const colorSchemeQueryList = window.matchMedia('(prefers-color-scheme: dark)');\n    colorSchemeQueryList.addEventListener('change', adjustSuccessIconBackgroundColor);\n  };\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const applyStyles = (icon, params) => {\n    for (const [iconType, iconClassName] of Object.entries(iconTypes)) {\n      if (params.icon !== iconType) {\n        removeClass(icon, iconClassName);\n      }\n    }\n    addClass(icon, params.icon && iconTypes[params.icon]);\n\n    // Icon color\n    setColor(icon, params);\n\n    // Success icon background color\n    adjustSuccessIconBackgroundColor();\n\n    // Custom class\n    applyCustomClass(icon, params, 'icon');\n  };\n\n  // Adjust success icon background color to match the popup background color\n  const adjustSuccessIconBackgroundColor = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n    /** @type {NodeListOf<HTMLElement>} */\n    const successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n    for (let i = 0; i < successIconParts.length; i++) {\n      successIconParts[i].style.backgroundColor = popupBackgroundColor;\n    }\n  };\n  const successIconHtml = `\n  <div class=\"swal2-success-circular-line-left\"></div>\n  <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n  <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n  <div class=\"swal2-success-circular-line-right\"></div>\n`;\n  const errorIconHtml = `\n  <span class=\"swal2-x-mark\">\n    <span class=\"swal2-x-mark-line-left\"></span>\n    <span class=\"swal2-x-mark-line-right\"></span>\n  </span>\n`;\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const setContent = (icon, params) => {\n    if (!params.icon && !params.iconHtml) {\n      return;\n    }\n    let oldContent = icon.innerHTML;\n    let newContent = '';\n    if (params.iconHtml) {\n      newContent = iconContent(params.iconHtml);\n    } else if (params.icon === 'success') {\n      newContent = successIconHtml;\n      oldContent = oldContent.replace(/ style=\".*?\"/g, ''); // undo adjustSuccessIconBackgroundColor()\n    } else if (params.icon === 'error') {\n      newContent = errorIconHtml;\n    } else if (params.icon) {\n      const defaultIconHtml = {\n        question: '?',\n        warning: '!',\n        info: 'i'\n      };\n      newContent = iconContent(defaultIconHtml[params.icon]);\n    }\n    if (oldContent.trim() !== newContent.trim()) {\n      setInnerHtml(icon, newContent);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const setColor = (icon, params) => {\n    if (!params.iconColor) {\n      return;\n    }\n    icon.style.color = params.iconColor;\n    icon.style.borderColor = params.iconColor;\n    for (const sel of ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']) {\n      setStyle(icon, sel, 'background-color', params.iconColor);\n    }\n    setStyle(icon, '.swal2-success-ring', 'border-color', params.iconColor);\n  };\n\n  /**\n   * @param {string} content\n   * @returns {string}\n   */\n  const iconContent = content => `<div class=\"${swalClasses['icon-content']}\">${content}</div>`;\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderImage = (instance, params) => {\n    const image = getImage();\n    if (!image) {\n      return;\n    }\n    if (!params.imageUrl) {\n      hide(image);\n      return;\n    }\n    show(image, '');\n\n    // Src, alt\n    image.setAttribute('src', params.imageUrl);\n    image.setAttribute('alt', params.imageAlt || '');\n\n    // Width, height\n    applyNumericalStyle(image, 'width', params.imageWidth);\n    applyNumericalStyle(image, 'height', params.imageHeight);\n\n    // Class\n    image.className = swalClasses.image;\n    applyCustomClass(image, params, 'image');\n  };\n\n  let dragging = false;\n  let mousedownX = 0;\n  let mousedownY = 0;\n  let initialX = 0;\n  let initialY = 0;\n\n  /**\n   * @param {HTMLElement} popup\n   */\n  const addDraggableListeners = popup => {\n    popup.addEventListener('mousedown', down);\n    document.body.addEventListener('mousemove', move);\n    popup.addEventListener('mouseup', up);\n    popup.addEventListener('touchstart', down);\n    document.body.addEventListener('touchmove', move);\n    popup.addEventListener('touchend', up);\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   */\n  const removeDraggableListeners = popup => {\n    popup.removeEventListener('mousedown', down);\n    document.body.removeEventListener('mousemove', move);\n    popup.removeEventListener('mouseup', up);\n    popup.removeEventListener('touchstart', down);\n    document.body.removeEventListener('touchmove', move);\n    popup.removeEventListener('touchend', up);\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   */\n  const down = event => {\n    const popup = getPopup();\n    if (event.target === popup || getIcon().contains(/** @type {HTMLElement} */event.target)) {\n      dragging = true;\n      const clientXY = getClientXY(event);\n      mousedownX = clientXY.clientX;\n      mousedownY = clientXY.clientY;\n      initialX = parseInt(popup.style.insetInlineStart) || 0;\n      initialY = parseInt(popup.style.insetBlockStart) || 0;\n      addClass(popup, 'swal2-dragging');\n    }\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   */\n  const move = event => {\n    const popup = getPopup();\n    if (dragging) {\n      let {\n        clientX,\n        clientY\n      } = getClientXY(event);\n      popup.style.insetInlineStart = `${initialX + (clientX - mousedownX)}px`;\n      popup.style.insetBlockStart = `${initialY + (clientY - mousedownY)}px`;\n    }\n  };\n  const up = () => {\n    const popup = getPopup();\n    dragging = false;\n    removeClass(popup, 'swal2-dragging');\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   * @returns {{ clientX: number, clientY: number }}\n   */\n  const getClientXY = event => {\n    let clientX = 0,\n      clientY = 0;\n    if (event.type.startsWith('mouse')) {\n      clientX = /** @type {MouseEvent} */event.clientX;\n      clientY = /** @type {MouseEvent} */event.clientY;\n    } else if (event.type.startsWith('touch')) {\n      clientX = /** @type {TouchEvent} */event.touches[0].clientX;\n      clientY = /** @type {TouchEvent} */event.touches[0].clientY;\n    }\n    return {\n      clientX,\n      clientY\n    };\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderPopup = (instance, params) => {\n    const container = getContainer();\n    const popup = getPopup();\n    if (!container || !popup) {\n      return;\n    }\n\n    // Width\n    // https://github.com/sweetalert2/sweetalert2/issues/2170\n    if (params.toast) {\n      applyNumericalStyle(container, 'width', params.width);\n      popup.style.width = '100%';\n      const loader = getLoader();\n      if (loader) {\n        popup.insertBefore(loader, getIcon());\n      }\n    } else {\n      applyNumericalStyle(popup, 'width', params.width);\n    }\n\n    // Padding\n    applyNumericalStyle(popup, 'padding', params.padding);\n\n    // Color\n    if (params.color) {\n      popup.style.color = params.color;\n    }\n\n    // Background\n    if (params.background) {\n      popup.style.background = params.background;\n    }\n    hide(getValidationMessage());\n\n    // Classes\n    addClasses$1(popup, params);\n    if (params.draggable && !params.toast) {\n      addClass(popup, swalClasses.draggable);\n      addDraggableListeners(popup);\n    } else {\n      removeClass(popup, swalClasses.draggable);\n      removeDraggableListeners(popup);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} params\n   */\n  const addClasses$1 = (popup, params) => {\n    const showClass = params.showClass || {};\n    // Default Class + showClass when updating Swal.update({})\n    popup.className = `${swalClasses.popup} ${isVisible$1(popup) ? showClass.popup : ''}`;\n    if (params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n      addClass(popup, swalClasses.toast);\n    } else {\n      addClass(popup, swalClasses.modal);\n    }\n\n    // Custom class\n    applyCustomClass(popup, params, 'popup');\n    // TODO: remove in the next major\n    if (typeof params.customClass === 'string') {\n      addClass(popup, params.customClass);\n    }\n\n    // Icon class (#1842)\n    if (params.icon) {\n      addClass(popup, swalClasses[`icon-${params.icon}`]);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderProgressSteps = (instance, params) => {\n    const progressStepsContainer = getProgressSteps();\n    if (!progressStepsContainer) {\n      return;\n    }\n    const {\n      progressSteps,\n      currentProgressStep\n    } = params;\n    if (!progressSteps || progressSteps.length === 0 || currentProgressStep === undefined) {\n      hide(progressStepsContainer);\n      return;\n    }\n    show(progressStepsContainer);\n    progressStepsContainer.textContent = '';\n    if (currentProgressStep >= progressSteps.length) {\n      warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n    }\n    progressSteps.forEach((step, index) => {\n      const stepEl = createStepElement(step);\n      progressStepsContainer.appendChild(stepEl);\n      if (index === currentProgressStep) {\n        addClass(stepEl, swalClasses['active-progress-step']);\n      }\n      if (index !== progressSteps.length - 1) {\n        const lineEl = createLineElement(params);\n        progressStepsContainer.appendChild(lineEl);\n      }\n    });\n  };\n\n  /**\n   * @param {string} step\n   * @returns {HTMLLIElement}\n   */\n  const createStepElement = step => {\n    const stepEl = document.createElement('li');\n    addClass(stepEl, swalClasses['progress-step']);\n    setInnerHtml(stepEl, step);\n    return stepEl;\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLLIElement}\n   */\n  const createLineElement = params => {\n    const lineEl = document.createElement('li');\n    addClass(lineEl, swalClasses['progress-step-line']);\n    if (params.progressStepsDistance) {\n      applyNumericalStyle(lineEl, 'width', params.progressStepsDistance);\n    }\n    return lineEl;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderTitle = (instance, params) => {\n    const title = getTitle();\n    if (!title) {\n      return;\n    }\n    showWhenInnerHtmlPresent(title);\n    toggle(title, params.title || params.titleText, 'block');\n    if (params.title) {\n      parseHtmlToContainer(params.title, title);\n    }\n    if (params.titleText) {\n      title.innerText = params.titleText;\n    }\n\n    // Custom class\n    applyCustomClass(title, params, 'title');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const render = (instance, params) => {\n    renderPopup(instance, params);\n    renderContainer(instance, params);\n    renderProgressSteps(instance, params);\n    renderIcon(instance, params);\n    renderImage(instance, params);\n    renderTitle(instance, params);\n    renderCloseButton(instance, params);\n    renderContent(instance, params);\n    renderActions(instance, params);\n    renderFooter(instance, params);\n    const popup = getPopup();\n    if (typeof params.didRender === 'function' && popup) {\n      params.didRender(popup);\n    }\n    globalState.eventEmitter.emit('didRender', popup);\n  };\n\n  /*\n   * Global function to determine if SweetAlert2 popup is shown\n   */\n  const isVisible = () => {\n    return isVisible$1(getPopup());\n  };\n\n  /*\n   * Global function to click 'Confirm' button\n   */\n  const clickConfirm = () => {\n    var _dom$getConfirmButton;\n    return (_dom$getConfirmButton = getConfirmButton()) === null || _dom$getConfirmButton === void 0 ? void 0 : _dom$getConfirmButton.click();\n  };\n\n  /*\n   * Global function to click 'Deny' button\n   */\n  const clickDeny = () => {\n    var _dom$getDenyButton;\n    return (_dom$getDenyButton = getDenyButton()) === null || _dom$getDenyButton === void 0 ? void 0 : _dom$getDenyButton.click();\n  };\n\n  /*\n   * Global function to click 'Cancel' button\n   */\n  const clickCancel = () => {\n    var _dom$getCancelButton;\n    return (_dom$getCancelButton = getCancelButton()) === null || _dom$getCancelButton === void 0 ? void 0 : _dom$getCancelButton.click();\n  };\n\n  /** @typedef {'cancel' | 'backdrop' | 'close' | 'esc' | 'timer'} DismissReason */\n\n  /** @type {Record<DismissReason, DismissReason>} */\n  const DismissReason = Object.freeze({\n    cancel: 'cancel',\n    backdrop: 'backdrop',\n    close: 'close',\n    esc: 'esc',\n    timer: 'timer'\n  });\n\n  /**\n   * @param {GlobalState} globalState\n   */\n  const removeKeydownHandler = globalState => {\n    if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n      globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = false;\n    }\n  };\n\n  /**\n   * @param {GlobalState} globalState\n   * @param {SweetAlertOptions} innerParams\n   * @param {*} dismissWith\n   */\n  const addKeydownHandler = (globalState, innerParams, dismissWith) => {\n    removeKeydownHandler(globalState);\n    if (!innerParams.toast) {\n      globalState.keydownHandler = e => keydownHandler(innerParams, e, dismissWith);\n      globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();\n      globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n      globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = true;\n    }\n  };\n\n  /**\n   * @param {number} index\n   * @param {number} increment\n   */\n  const setFocus = (index, increment) => {\n    var _dom$getPopup;\n    const focusableElements = getFocusableElements();\n    // search for visible elements and select the next possible match\n    if (focusableElements.length) {\n      index = index + increment;\n\n      // rollover to first item\n      if (index === focusableElements.length) {\n        index = 0;\n\n        // go to last item\n      } else if (index === -1) {\n        index = focusableElements.length - 1;\n      }\n      focusableElements[index].focus();\n      return;\n    }\n    // no visible focusable elements, focus the popup\n    (_dom$getPopup = getPopup()) === null || _dom$getPopup === void 0 || _dom$getPopup.focus();\n  };\n  const arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\n  const arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {KeyboardEvent} event\n   * @param {Function} dismissWith\n   */\n  const keydownHandler = (innerParams, event, dismissWith) => {\n    if (!innerParams) {\n      return; // This instance has already been destroyed\n    }\n\n    // Ignore keydown during IME composition\n    // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n    // https://github.com/sweetalert2/sweetalert2/issues/720\n    // https://github.com/sweetalert2/sweetalert2/issues/2406\n    if (event.isComposing || event.keyCode === 229) {\n      return;\n    }\n    if (innerParams.stopKeydownPropagation) {\n      event.stopPropagation();\n    }\n\n    // ENTER\n    if (event.key === 'Enter') {\n      handleEnter(event, innerParams);\n    }\n\n    // TAB\n    else if (event.key === 'Tab') {\n      handleTab(event);\n    }\n\n    // ARROWS - switch focus between buttons\n    else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(event.key)) {\n      handleArrows(event.key);\n    }\n\n    // ESC\n    else if (event.key === 'Escape') {\n      handleEsc(event, innerParams, dismissWith);\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   * @param {SweetAlertOptions} innerParams\n   */\n  const handleEnter = (event, innerParams) => {\n    // https://github.com/sweetalert2/sweetalert2/issues/2386\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      return;\n    }\n    const input = getInput$1(getPopup(), innerParams.input);\n    if (event.target && input && event.target instanceof HTMLElement && event.target.outerHTML === input.outerHTML) {\n      if (['textarea', 'file'].includes(innerParams.input)) {\n        return; // do not submit\n      }\n      clickConfirm();\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   */\n  const handleTab = event => {\n    const targetElement = event.target;\n    const focusableElements = getFocusableElements();\n    let btnIndex = -1;\n    for (let i = 0; i < focusableElements.length; i++) {\n      if (targetElement === focusableElements[i]) {\n        btnIndex = i;\n        break;\n      }\n    }\n\n    // Cycle to the next button\n    if (!event.shiftKey) {\n      setFocus(btnIndex, 1);\n    }\n\n    // Cycle to the prev button\n    else {\n      setFocus(btnIndex, -1);\n    }\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * @param {string} key\n   */\n  const handleArrows = key => {\n    const actions = getActions();\n    const confirmButton = getConfirmButton();\n    const denyButton = getDenyButton();\n    const cancelButton = getCancelButton();\n    if (!actions || !confirmButton || !denyButton || !cancelButton) {\n      return;\n    }\n    /** @type HTMLElement[] */\n    const buttons = [confirmButton, denyButton, cancelButton];\n    if (document.activeElement instanceof HTMLElement && !buttons.includes(document.activeElement)) {\n      return;\n    }\n    const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n    let buttonToFocus = document.activeElement;\n    if (!buttonToFocus) {\n      return;\n    }\n    for (let i = 0; i < actions.children.length; i++) {\n      buttonToFocus = buttonToFocus[sibling];\n      if (!buttonToFocus) {\n        return;\n      }\n      if (buttonToFocus instanceof HTMLButtonElement && isVisible$1(buttonToFocus)) {\n        break;\n      }\n    }\n    if (buttonToFocus instanceof HTMLButtonElement) {\n      buttonToFocus.focus();\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   * @param {SweetAlertOptions} innerParams\n   * @param {Function} dismissWith\n   */\n  const handleEsc = (event, innerParams, dismissWith) => {\n    if (callIfFunction(innerParams.allowEscapeKey)) {\n      event.preventDefault();\n      dismissWith(DismissReason.esc);\n    }\n  };\n\n  /**\n   * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n\n  var privateMethods = {\n    swalPromiseResolve: new WeakMap(),\n    swalPromiseReject: new WeakMap()\n  };\n\n  // From https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n  // Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n  // elements not within the active modal dialog will not be surfaced if a user opens a screen\n  // readers list of elements (headings, form controls, landmarks, etc.) in the document.\n\n  const setAriaHidden = () => {\n    const container = getContainer();\n    const bodyChildren = Array.from(document.body.children);\n    bodyChildren.forEach(el => {\n      if (el.contains(container)) {\n        return;\n      }\n      if (el.hasAttribute('aria-hidden')) {\n        el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden') || '');\n      }\n      el.setAttribute('aria-hidden', 'true');\n    });\n  };\n  const unsetAriaHidden = () => {\n    const bodyChildren = Array.from(document.body.children);\n    bodyChildren.forEach(el => {\n      if (el.hasAttribute('data-previous-aria-hidden')) {\n        el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden') || '');\n        el.removeAttribute('data-previous-aria-hidden');\n      } else {\n        el.removeAttribute('aria-hidden');\n      }\n    });\n  };\n\n  // @ts-ignore\n  const isSafariOrIOS = typeof window !== 'undefined' && !!window.GestureEvent; // true for Safari desktop + all iOS browsers https://stackoverflow.com/a/70585394\n\n  /**\n   * Fix iOS scrolling\n   * http://stackoverflow.com/q/39626302\n   */\n  const iOSfix = () => {\n    if (isSafariOrIOS && !hasClass(document.body, swalClasses.iosfix)) {\n      const offset = document.body.scrollTop;\n      document.body.style.top = `${offset * -1}px`;\n      addClass(document.body, swalClasses.iosfix);\n      lockBodyScroll();\n    }\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1246\n   */\n  const lockBodyScroll = () => {\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    /** @type {boolean} */\n    let preventTouchMove;\n    /**\n     * @param {TouchEvent} event\n     */\n    container.ontouchstart = event => {\n      preventTouchMove = shouldPreventTouchMove(event);\n    };\n    /**\n     * @param {TouchEvent} event\n     */\n    container.ontouchmove = event => {\n      if (preventTouchMove) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n  };\n\n  /**\n   * @param {TouchEvent} event\n   * @returns {boolean}\n   */\n  const shouldPreventTouchMove = event => {\n    const target = event.target;\n    const container = getContainer();\n    const htmlContainer = getHtmlContainer();\n    if (!container || !htmlContainer) {\n      return false;\n    }\n    if (isStylus(event) || isZoom(event)) {\n      return false;\n    }\n    if (target === container) {\n      return true;\n    }\n    if (!isScrollable(container) && target instanceof HTMLElement && target.tagName !== 'INPUT' &&\n    // #1603\n    target.tagName !== 'TEXTAREA' &&\n    // #2266\n    !(isScrollable(htmlContainer) &&\n    // #1944\n    htmlContainer.contains(target))) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1786\n   *\n   * @param {*} event\n   * @returns {boolean}\n   */\n  const isStylus = event => {\n    return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1891\n   *\n   * @param {TouchEvent} event\n   * @returns {boolean}\n   */\n  const isZoom = event => {\n    return event.touches && event.touches.length > 1;\n  };\n  const undoIOSfix = () => {\n    if (hasClass(document.body, swalClasses.iosfix)) {\n      const offset = parseInt(document.body.style.top, 10);\n      removeClass(document.body, swalClasses.iosfix);\n      document.body.style.top = '';\n      document.body.scrollTop = offset * -1;\n    }\n  };\n\n  /**\n   * Measure scrollbar width for padding body during modal show/hide\n   * https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n   *\n   * @returns {number}\n   */\n  const measureScrollbar = () => {\n    const scrollDiv = document.createElement('div');\n    scrollDiv.className = swalClasses['scrollbar-measure'];\n    document.body.appendChild(scrollDiv);\n    const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollbarWidth;\n  };\n\n  /**\n   * Remember state in cases where opening and handling a modal will fiddle with it.\n   * @type {number | null}\n   */\n  let previousBodyPadding = null;\n\n  /**\n   * @param {string} initialBodyOverflow\n   */\n  const replaceScrollbarWithPadding = initialBodyOverflow => {\n    // for queues, do not do this more than once\n    if (previousBodyPadding !== null) {\n      return;\n    }\n    // if the body has overflow\n    if (document.body.scrollHeight > window.innerHeight || initialBodyOverflow === 'scroll' // https://github.com/sweetalert2/sweetalert2/issues/2663\n    ) {\n      // add padding so the content doesn't shift after removal of scrollbar\n      previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n      document.body.style.paddingRight = `${previousBodyPadding + measureScrollbar()}px`;\n    }\n  };\n  const undoReplaceScrollbarWithPadding = () => {\n    if (previousBodyPadding !== null) {\n      document.body.style.paddingRight = `${previousBodyPadding}px`;\n      previousBodyPadding = null;\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} container\n   * @param {boolean} returnFocus\n   * @param {Function} didClose\n   */\n  function removePopupAndResetState(instance, container, returnFocus, didClose) {\n    if (isToast()) {\n      triggerDidCloseAndDispose(instance, didClose);\n    } else {\n      restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose));\n      removeKeydownHandler(globalState);\n    }\n\n    // workaround for https://github.com/sweetalert2/sweetalert2/issues/2088\n    // for some reason removing the container in Safari will scroll the document to bottom\n    if (isSafariOrIOS) {\n      container.setAttribute('style', 'display:none !important');\n      container.removeAttribute('class');\n      container.innerHTML = '';\n    } else {\n      container.remove();\n    }\n    if (isModal()) {\n      undoReplaceScrollbarWithPadding();\n      undoIOSfix();\n      unsetAriaHidden();\n    }\n    removeBodyClasses();\n  }\n\n  /**\n   * Remove SweetAlert2 classes from body\n   */\n  function removeBodyClasses() {\n    removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n  }\n\n  /**\n   * Instance method to close sweetAlert\n   *\n   * @param {any} resolveValue\n   */\n  function close(resolveValue) {\n    resolveValue = prepareResolveValue(resolveValue);\n    const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n    const didClose = triggerClosePopup(this);\n    if (this.isAwaitingPromise) {\n      // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n      if (!resolveValue.isDismissed) {\n        handleAwaitingPromise(this);\n        swalPromiseResolve(resolveValue);\n      }\n    } else if (didClose) {\n      // Resolve Swal promise\n      swalPromiseResolve(resolveValue);\n    }\n  }\n  const triggerClosePopup = instance => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    const innerParams = privateProps.innerParams.get(instance);\n    if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {\n      return false;\n    }\n    removeClass(popup, innerParams.showClass.popup);\n    addClass(popup, innerParams.hideClass.popup);\n    const backdrop = getContainer();\n    removeClass(backdrop, innerParams.showClass.backdrop);\n    addClass(backdrop, innerParams.hideClass.backdrop);\n    handlePopupAnimation(instance, popup, innerParams);\n    return true;\n  };\n\n  /**\n   * @param {any} error\n   */\n  function rejectPromise(error) {\n    const rejectPromise = privateMethods.swalPromiseReject.get(this);\n    handleAwaitingPromise(this);\n    if (rejectPromise) {\n      // Reject Swal promise\n      rejectPromise(error);\n    }\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleAwaitingPromise = instance => {\n    if (instance.isAwaitingPromise) {\n      delete instance.isAwaitingPromise;\n      // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n      if (!privateProps.innerParams.get(instance)) {\n        instance._destroy();\n      }\n    }\n  };\n\n  /**\n   * @param {any} resolveValue\n   * @returns {SweetAlertResult}\n   */\n  const prepareResolveValue = resolveValue => {\n    // When user calls Swal.close()\n    if (typeof resolveValue === 'undefined') {\n      return {\n        isConfirmed: false,\n        isDenied: false,\n        isDismissed: true\n      };\n    }\n    return Object.assign({\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: false\n    }, resolveValue);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} innerParams\n   */\n  const handlePopupAnimation = (instance, popup, innerParams) => {\n    var _globalState$eventEmi;\n    const container = getContainer();\n    // If animation is supported, animate\n    const animationIsSupported = hasCssAnimation(popup);\n    if (typeof innerParams.willClose === 'function') {\n      innerParams.willClose(popup);\n    }\n    (_globalState$eventEmi = globalState.eventEmitter) === null || _globalState$eventEmi === void 0 || _globalState$eventEmi.emit('willClose', popup);\n    if (animationIsSupported) {\n      animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n    } else {\n      // Otherwise, remove immediately\n      removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} popup\n   * @param {HTMLElement} container\n   * @param {boolean} returnFocus\n   * @param {Function} didClose\n   */\n  const animatePopup = (instance, popup, container, returnFocus, didClose) => {\n    globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n    /**\n     * @param {AnimationEvent | TransitionEvent} e\n     */\n    const swalCloseAnimationFinished = function (e) {\n      if (e.target === popup) {\n        var _globalState$swalClos;\n        (_globalState$swalClos = globalState.swalCloseEventFinishedCallback) === null || _globalState$swalClos === void 0 || _globalState$swalClos.call(globalState);\n        delete globalState.swalCloseEventFinishedCallback;\n        popup.removeEventListener('animationend', swalCloseAnimationFinished);\n        popup.removeEventListener('transitionend', swalCloseAnimationFinished);\n      }\n    };\n    popup.addEventListener('animationend', swalCloseAnimationFinished);\n    popup.addEventListener('transitionend', swalCloseAnimationFinished);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {Function} didClose\n   */\n  const triggerDidCloseAndDispose = (instance, didClose) => {\n    setTimeout(() => {\n      var _globalState$eventEmi2;\n      if (typeof didClose === 'function') {\n        didClose.bind(instance.params)();\n      }\n      (_globalState$eventEmi2 = globalState.eventEmitter) === null || _globalState$eventEmi2 === void 0 || _globalState$eventEmi2.emit('didClose');\n      // instance might have been destroyed already\n      if (instance._destroy) {\n        instance._destroy();\n      }\n    });\n  };\n\n  /**\n   * Shows loader (spinner), this is useful with AJAX requests.\n   * By default the loader be shown instead of the \"Confirm\" button.\n   *\n   * @param {HTMLButtonElement | null} [buttonToReplace]\n   */\n  const showLoading = buttonToReplace => {\n    let popup = getPopup();\n    if (!popup) {\n      new Swal();\n    }\n    popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const loader = getLoader();\n    if (isToast()) {\n      hide(getIcon());\n    } else {\n      replaceButton(popup, buttonToReplace);\n    }\n    show(loader);\n    popup.setAttribute('data-loading', 'true');\n    popup.setAttribute('aria-busy', 'true');\n    popup.focus();\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {HTMLButtonElement | null} [buttonToReplace]\n   */\n  const replaceButton = (popup, buttonToReplace) => {\n    const actions = getActions();\n    const loader = getLoader();\n    if (!actions || !loader) {\n      return;\n    }\n    if (!buttonToReplace && isVisible$1(getConfirmButton())) {\n      buttonToReplace = getConfirmButton();\n    }\n    show(actions);\n    if (buttonToReplace) {\n      hide(buttonToReplace);\n      loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n      actions.insertBefore(loader, buttonToReplace);\n    }\n    addClass([popup, actions], swalClasses.loading);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputOptionsAndValue = (instance, params) => {\n    if (params.input === 'select' || params.input === 'radio') {\n      handleInputOptions(instance, params);\n    } else if (['text', 'email', 'number', 'tel', 'textarea'].some(i => i === params.input) && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n      showLoading(getConfirmButton());\n      handleInputValue(instance, params);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} innerParams\n   * @returns {SweetAlertInputValue}\n   */\n  const getInputValue = (instance, innerParams) => {\n    const input = instance.getInput();\n    if (!input) {\n      return null;\n    }\n    switch (innerParams.input) {\n      case 'checkbox':\n        return getCheckboxValue(input);\n      case 'radio':\n        return getRadioValue(input);\n      case 'file':\n        return getFileValue(input);\n      default:\n        return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {number}\n   */\n  const getCheckboxValue = input => input.checked ? 1 : 0;\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {string | null}\n   */\n  const getRadioValue = input => input.checked ? input.value : null;\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {FileList | File | null}\n   */\n  const getFileValue = input => input.files && input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputOptions = (instance, params) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    /**\n     * @param {Record<string, any>} inputOptions\n     */\n    const processInputOptions = inputOptions => {\n      if (params.input === 'select') {\n        populateSelectOptions(popup, formatInputOptions(inputOptions), params);\n      } else if (params.input === 'radio') {\n        populateRadioOptions(popup, formatInputOptions(inputOptions), params);\n      }\n    };\n    if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n      showLoading(getConfirmButton());\n      asPromise(params.inputOptions).then(inputOptions => {\n        instance.hideLoading();\n        processInputOptions(inputOptions);\n      });\n    } else if (typeof params.inputOptions === 'object') {\n      processInputOptions(params.inputOptions);\n    } else {\n      error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof params.inputOptions}`);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputValue = (instance, params) => {\n    const input = instance.getInput();\n    if (!input) {\n      return;\n    }\n    hide(input);\n    asPromise(params.inputValue).then(inputValue => {\n      input.value = params.input === 'number' ? `${parseFloat(inputValue) || 0}` : `${inputValue}`;\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    }).catch(err => {\n      error(`Error in inputValue promise: ${err}`);\n      input.value = '';\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    });\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {InputOptionFlattened[]} inputOptions\n   * @param {SweetAlertOptions} params\n   */\n  function populateSelectOptions(popup, inputOptions, params) {\n    const select = getDirectChildByClass(popup, swalClasses.select);\n    if (!select) {\n      return;\n    }\n    /**\n     * @param {HTMLElement} parent\n     * @param {string} optionLabel\n     * @param {string} optionValue\n     */\n    const renderOption = (parent, optionLabel, optionValue) => {\n      const option = document.createElement('option');\n      option.value = optionValue;\n      setInnerHtml(option, optionLabel);\n      option.selected = isSelected(optionValue, params.inputValue);\n      parent.appendChild(option);\n    };\n    inputOptions.forEach(inputOption => {\n      const optionValue = inputOption[0];\n      const optionLabel = inputOption[1];\n      // <optgroup> spec:\n      // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n      // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n      // check whether this is a <optgroup>\n      if (Array.isArray(optionLabel)) {\n        // if it is an array, then it is an <optgroup>\n        const optgroup = document.createElement('optgroup');\n        optgroup.label = optionValue;\n        optgroup.disabled = false; // not configurable for now\n        select.appendChild(optgroup);\n        optionLabel.forEach(o => renderOption(optgroup, o[1], o[0]));\n      } else {\n        // case of <option>\n        renderOption(select, optionLabel, optionValue);\n      }\n    });\n    select.focus();\n  }\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {InputOptionFlattened[]} inputOptions\n   * @param {SweetAlertOptions} params\n   */\n  function populateRadioOptions(popup, inputOptions, params) {\n    const radio = getDirectChildByClass(popup, swalClasses.radio);\n    if (!radio) {\n      return;\n    }\n    inputOptions.forEach(inputOption => {\n      const radioValue = inputOption[0];\n      const radioLabel = inputOption[1];\n      const radioInput = document.createElement('input');\n      const radioLabelElement = document.createElement('label');\n      radioInput.type = 'radio';\n      radioInput.name = swalClasses.radio;\n      radioInput.value = radioValue;\n      if (isSelected(radioValue, params.inputValue)) {\n        radioInput.checked = true;\n      }\n      const label = document.createElement('span');\n      setInnerHtml(label, radioLabel);\n      label.className = swalClasses.label;\n      radioLabelElement.appendChild(radioInput);\n      radioLabelElement.appendChild(label);\n      radio.appendChild(radioLabelElement);\n    });\n    const radios = radio.querySelectorAll('input');\n    if (radios.length) {\n      radios[0].focus();\n    }\n  }\n\n  /**\n   * Converts `inputOptions` into an array of `[value, label]`s\n   *\n   * @param {Record<string, any>} inputOptions\n   * @typedef {string[]} InputOptionFlattened\n   * @returns {InputOptionFlattened[]}\n   */\n  const formatInputOptions = inputOptions => {\n    /** @type {InputOptionFlattened[]} */\n    const result = [];\n    if (inputOptions instanceof Map) {\n      inputOptions.forEach((value, key) => {\n        let valueFormatted = value;\n        if (typeof valueFormatted === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n        result.push([key, valueFormatted]);\n      });\n    } else {\n      Object.keys(inputOptions).forEach(key => {\n        let valueFormatted = inputOptions[key];\n        if (typeof valueFormatted === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n        result.push([key, valueFormatted]);\n      });\n    }\n    return result;\n  };\n\n  /**\n   * @param {string} optionValue\n   * @param {SweetAlertInputValue} inputValue\n   * @returns {boolean}\n   */\n  const isSelected = (optionValue, inputValue) => {\n    return !!inputValue && inputValue.toString() === optionValue.toString();\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleConfirmButtonClick = instance => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableButtons();\n    if (innerParams.input) {\n      handleConfirmOrDenyWithInput(instance, 'confirm');\n    } else {\n      confirm(instance, true);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleDenyButtonClick = instance => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableButtons();\n    if (innerParams.returnInputValueOnDeny) {\n      handleConfirmOrDenyWithInput(instance, 'deny');\n    } else {\n      deny(instance, false);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {Function} dismissWith\n   */\n  const handleCancelButtonClick = (instance, dismissWith) => {\n    instance.disableButtons();\n    dismissWith(DismissReason.cancel);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {'confirm' | 'deny'} type\n   */\n  const handleConfirmOrDenyWithInput = (instance, type) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    if (!innerParams.input) {\n      error(`The \"input\" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(type)}`);\n      return;\n    }\n    const input = instance.getInput();\n    const inputValue = getInputValue(instance, innerParams);\n    if (innerParams.inputValidator) {\n      handleInputValidator(instance, inputValue, type);\n    } else if (input && !input.checkValidity()) {\n      instance.enableButtons();\n      instance.showValidationMessage(innerParams.validationMessage || input.validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, inputValue);\n    } else {\n      confirm(instance, inputValue);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertInputValue} inputValue\n   * @param {'confirm' | 'deny'} type\n   */\n  const handleInputValidator = (instance, inputValue, type) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableInput();\n    const validationPromise = Promise.resolve().then(() => asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage)));\n    validationPromise.then(validationMessage => {\n      instance.enableButtons();\n      instance.enableInput();\n      if (validationMessage) {\n        instance.showValidationMessage(validationMessage);\n      } else if (type === 'deny') {\n        deny(instance, inputValue);\n      } else {\n        confirm(instance, inputValue);\n      }\n    });\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const deny = (instance, value) => {\n    const innerParams = privateProps.innerParams.get(instance || undefined);\n    if (innerParams.showLoaderOnDeny) {\n      showLoading(getDenyButton());\n    }\n    if (innerParams.preDeny) {\n      instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preDeny's promise is received\n      const preDenyPromise = Promise.resolve().then(() => asPromise(innerParams.preDeny(value, innerParams.validationMessage)));\n      preDenyPromise.then(preDenyValue => {\n        if (preDenyValue === false) {\n          instance.hideLoading();\n          handleAwaitingPromise(instance);\n        } else {\n          instance.close({\n            isDenied: true,\n            value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n          });\n        }\n      }).catch(error => rejectWith(instance || undefined, error));\n    } else {\n      instance.close({\n        isDenied: true,\n        value\n      });\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const succeedWith = (instance, value) => {\n    instance.close({\n      isConfirmed: true,\n      value\n    });\n  };\n\n  /**\n   *\n   * @param {SweetAlert} instance\n   * @param {string} error\n   */\n  const rejectWith = (instance, error) => {\n    instance.rejectPromise(error);\n  };\n\n  /**\n   *\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const confirm = (instance, value) => {\n    const innerParams = privateProps.innerParams.get(instance || undefined);\n    if (innerParams.showLoaderOnConfirm) {\n      showLoading();\n    }\n    if (innerParams.preConfirm) {\n      instance.resetValidationMessage();\n      instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preConfirm's promise is received\n      const preConfirmPromise = Promise.resolve().then(() => asPromise(innerParams.preConfirm(value, innerParams.validationMessage)));\n      preConfirmPromise.then(preConfirmValue => {\n        if (isVisible$1(getValidationMessage()) || preConfirmValue === false) {\n          instance.hideLoading();\n          handleAwaitingPromise(instance);\n        } else {\n          succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n        }\n      }).catch(error => rejectWith(instance || undefined, error));\n    } else {\n      succeedWith(instance, value);\n    }\n  };\n\n  /**\n   * Hides loader and shows back the button which was hidden by .showLoading()\n   */\n  function hideLoading() {\n    // do nothing if popup is closed\n    const innerParams = privateProps.innerParams.get(this);\n    if (!innerParams) {\n      return;\n    }\n    const domCache = privateProps.domCache.get(this);\n    hide(domCache.loader);\n    if (isToast()) {\n      if (innerParams.icon) {\n        show(getIcon());\n      }\n    } else {\n      showRelatedButton(domCache);\n    }\n    removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n    domCache.popup.removeAttribute('aria-busy');\n    domCache.popup.removeAttribute('data-loading');\n    domCache.confirmButton.disabled = false;\n    domCache.denyButton.disabled = false;\n    domCache.cancelButton.disabled = false;\n  }\n  const showRelatedButton = domCache => {\n    const buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n    if (buttonToReplace.length) {\n      show(buttonToReplace[0], 'inline-block');\n    } else if (allButtonsAreHidden()) {\n      hide(domCache.actions);\n    }\n  };\n\n  /**\n   * Gets the input DOM node, this method works with input parameter.\n   *\n   * @returns {HTMLInputElement | null}\n   */\n  function getInput() {\n    const innerParams = privateProps.innerParams.get(this);\n    const domCache = privateProps.domCache.get(this);\n    if (!domCache) {\n      return null;\n    }\n    return getInput$1(domCache.popup, innerParams.input);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {string[]} buttons\n   * @param {boolean} disabled\n   */\n  function setButtonsDisabled(instance, buttons, disabled) {\n    const domCache = privateProps.domCache.get(instance);\n    buttons.forEach(button => {\n      domCache[button].disabled = disabled;\n    });\n  }\n\n  /**\n   * @param {HTMLInputElement | null} input\n   * @param {boolean} disabled\n   */\n  function setInputDisabled(input, disabled) {\n    const popup = getPopup();\n    if (!popup || !input) {\n      return;\n    }\n    if (input.type === 'radio') {\n      /** @type {NodeListOf<HTMLInputElement>} */\n      const radios = popup.querySelectorAll(`[name=\"${swalClasses.radio}\"]`);\n      for (let i = 0; i < radios.length; i++) {\n        radios[i].disabled = disabled;\n      }\n    } else {\n      input.disabled = disabled;\n    }\n  }\n\n  /**\n   * Enable all the buttons\n   * @this {SweetAlert}\n   */\n  function enableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n  }\n\n  /**\n   * Disable all the buttons\n   * @this {SweetAlert}\n   */\n  function disableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n  }\n\n  /**\n   * Enable the input field\n   * @this {SweetAlert}\n   */\n  function enableInput() {\n    setInputDisabled(this.getInput(), false);\n  }\n\n  /**\n   * Disable the input field\n   * @this {SweetAlert}\n   */\n  function disableInput() {\n    setInputDisabled(this.getInput(), true);\n  }\n\n  /**\n   * Show block with validation message\n   *\n   * @param {string} error\n   * @this {SweetAlert}\n   */\n  function showValidationMessage(error) {\n    const domCache = privateProps.domCache.get(this);\n    const params = privateProps.innerParams.get(this);\n    setInnerHtml(domCache.validationMessage, error);\n    domCache.validationMessage.className = swalClasses['validation-message'];\n    if (params.customClass && params.customClass.validationMessage) {\n      addClass(domCache.validationMessage, params.customClass.validationMessage);\n    }\n    show(domCache.validationMessage);\n    const input = this.getInput();\n    if (input) {\n      input.setAttribute('aria-invalid', 'true');\n      input.setAttribute('aria-describedby', swalClasses['validation-message']);\n      focusInput(input);\n      addClass(input, swalClasses.inputerror);\n    }\n  }\n\n  /**\n   * Hide block with validation message\n   *\n   * @this {SweetAlert}\n   */\n  function resetValidationMessage() {\n    const domCache = privateProps.domCache.get(this);\n    if (domCache.validationMessage) {\n      hide(domCache.validationMessage);\n    }\n    const input = this.getInput();\n    if (input) {\n      input.removeAttribute('aria-invalid');\n      input.removeAttribute('aria-describedby');\n      removeClass(input, swalClasses.inputerror);\n    }\n  }\n\n  const defaultParams = {\n    title: '',\n    titleText: '',\n    text: '',\n    html: '',\n    footer: '',\n    icon: undefined,\n    iconColor: undefined,\n    iconHtml: undefined,\n    template: undefined,\n    toast: false,\n    draggable: false,\n    animation: true,\n    theme: 'light',\n    showClass: {\n      popup: 'swal2-show',\n      backdrop: 'swal2-backdrop-show',\n      icon: 'swal2-icon-show'\n    },\n    hideClass: {\n      popup: 'swal2-hide',\n      backdrop: 'swal2-backdrop-hide',\n      icon: 'swal2-icon-hide'\n    },\n    customClass: {},\n    target: 'body',\n    color: undefined,\n    backdrop: true,\n    heightAuto: true,\n    allowOutsideClick: true,\n    allowEscapeKey: true,\n    allowEnterKey: true,\n    stopKeydownPropagation: true,\n    keydownListenerCapture: false,\n    showConfirmButton: true,\n    showDenyButton: false,\n    showCancelButton: false,\n    preConfirm: undefined,\n    preDeny: undefined,\n    confirmButtonText: 'OK',\n    confirmButtonAriaLabel: '',\n    confirmButtonColor: undefined,\n    denyButtonText: 'No',\n    denyButtonAriaLabel: '',\n    denyButtonColor: undefined,\n    cancelButtonText: 'Cancel',\n    cancelButtonAriaLabel: '',\n    cancelButtonColor: undefined,\n    buttonsStyling: true,\n    reverseButtons: false,\n    focusConfirm: true,\n    focusDeny: false,\n    focusCancel: false,\n    returnFocus: true,\n    showCloseButton: false,\n    closeButtonHtml: '&times;',\n    closeButtonAriaLabel: 'Close this dialog',\n    loaderHtml: '',\n    showLoaderOnConfirm: false,\n    showLoaderOnDeny: false,\n    imageUrl: undefined,\n    imageWidth: undefined,\n    imageHeight: undefined,\n    imageAlt: '',\n    timer: undefined,\n    timerProgressBar: false,\n    width: undefined,\n    padding: undefined,\n    background: undefined,\n    input: undefined,\n    inputPlaceholder: '',\n    inputLabel: '',\n    inputValue: '',\n    inputOptions: {},\n    inputAutoFocus: true,\n    inputAutoTrim: true,\n    inputAttributes: {},\n    inputValidator: undefined,\n    returnInputValueOnDeny: false,\n    validationMessage: undefined,\n    grow: false,\n    position: 'center',\n    progressSteps: [],\n    currentProgressStep: undefined,\n    progressStepsDistance: undefined,\n    willOpen: undefined,\n    didOpen: undefined,\n    didRender: undefined,\n    willClose: undefined,\n    didClose: undefined,\n    didDestroy: undefined,\n    scrollbarPadding: true\n  };\n  const updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'color', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'draggable', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'preConfirm', 'preDeny', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'theme', 'willClose'];\n\n  /** @type {Record<string, string | undefined>} */\n  const deprecatedParams = {\n    allowEnterKey: undefined\n  };\n  const toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'draggable', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n\n  /**\n   * Is valid parameter\n   *\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  const isValidParameter = paramName => {\n    return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n  };\n\n  /**\n   * Is valid parameter for Swal.update() method\n   *\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  const isUpdatableParameter = paramName => {\n    return updatableParams.indexOf(paramName) !== -1;\n  };\n\n  /**\n   * Is deprecated parameter\n   *\n   * @param {string} paramName\n   * @returns {string | undefined}\n   */\n  const isDeprecatedParameter = paramName => {\n    return deprecatedParams[paramName];\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfParamIsValid = param => {\n    if (!isValidParameter(param)) {\n      warn(`Unknown parameter \"${param}\"`);\n    }\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfToastParamIsValid = param => {\n    if (toastIncompatibleParams.includes(param)) {\n      warn(`The parameter \"${param}\" is incompatible with toasts`);\n    }\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfParamIsDeprecated = param => {\n    const isDeprecated = isDeprecatedParameter(param);\n    if (isDeprecated) {\n      warnAboutDeprecation(param, isDeprecated);\n    }\n  };\n\n  /**\n   * Show relevant warnings for given params\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const showWarningsForParams = params => {\n    if (params.backdrop === false && params.allowOutsideClick) {\n      warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n    }\n    if (params.theme && !['light', 'dark', 'auto', 'borderless'].includes(params.theme)) {\n      warn(`Invalid theme \"${params.theme}\". Expected \"light\", \"dark\", \"auto\", or \"borderless\"`);\n    }\n    for (const param in params) {\n      checkIfParamIsValid(param);\n      if (params.toast) {\n        checkIfToastParamIsValid(param);\n      }\n      checkIfParamIsDeprecated(param);\n    }\n  };\n\n  /**\n   * Updates popup parameters.\n   *\n   * @param {SweetAlertOptions} params\n   */\n  function update(params) {\n    const container = getContainer();\n    const popup = getPopup();\n    const innerParams = privateProps.innerParams.get(this);\n    if (!popup || hasClass(popup, innerParams.hideClass.popup)) {\n      warn(`You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.`);\n      return;\n    }\n    const validUpdatableParams = filterValidParams(params);\n    const updatedParams = Object.assign({}, innerParams, validUpdatableParams);\n    showWarningsForParams(updatedParams);\n    container.dataset['swal2Theme'] = updatedParams.theme;\n    render(this, updatedParams);\n    privateProps.innerParams.set(this, updatedParams);\n    Object.defineProperties(this, {\n      params: {\n        value: Object.assign({}, this.params, params),\n        writable: false,\n        enumerable: true\n      }\n    });\n  }\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {SweetAlertOptions}\n   */\n  const filterValidParams = params => {\n    const validUpdatableParams = {};\n    Object.keys(params).forEach(param => {\n      if (isUpdatableParameter(param)) {\n        validUpdatableParams[param] = params[param];\n      } else {\n        warn(`Invalid parameter to update: ${param}`);\n      }\n    });\n    return validUpdatableParams;\n  };\n\n  /**\n   * Dispose the current SweetAlert2 instance\n   */\n  function _destroy() {\n    const domCache = privateProps.domCache.get(this);\n    const innerParams = privateProps.innerParams.get(this);\n    if (!innerParams) {\n      disposeWeakMaps(this); // The WeakMaps might have been partly destroyed, we must recall it to dispose any remaining WeakMaps #2335\n      return; // This instance has already been destroyed\n    }\n\n    // Check if there is another Swal closing\n    if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n      globalState.swalCloseEventFinishedCallback();\n      delete globalState.swalCloseEventFinishedCallback;\n    }\n    if (typeof innerParams.didDestroy === 'function') {\n      innerParams.didDestroy();\n    }\n    globalState.eventEmitter.emit('didDestroy');\n    disposeSwal(this);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const disposeSwal = instance => {\n    disposeWeakMaps(instance);\n    // Unset this.params so GC will dispose it (#1569)\n    delete instance.params;\n    // Unset globalState props so GC will dispose globalState (#1569)\n    delete globalState.keydownHandler;\n    delete globalState.keydownTarget;\n    // Unset currentInstance\n    delete globalState.currentInstance;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const disposeWeakMaps = instance => {\n    // If the current instance is awaiting a promise result, we keep the privateMethods to call them once the promise result is retrieved #2335\n    if (instance.isAwaitingPromise) {\n      unsetWeakMaps(privateProps, instance);\n      instance.isAwaitingPromise = true;\n    } else {\n      unsetWeakMaps(privateMethods, instance);\n      unsetWeakMaps(privateProps, instance);\n      delete instance.isAwaitingPromise;\n      // Unset instance methods\n      delete instance.disableButtons;\n      delete instance.enableButtons;\n      delete instance.getInput;\n      delete instance.disableInput;\n      delete instance.enableInput;\n      delete instance.hideLoading;\n      delete instance.disableLoading;\n      delete instance.showValidationMessage;\n      delete instance.resetValidationMessage;\n      delete instance.close;\n      delete instance.closePopup;\n      delete instance.closeModal;\n      delete instance.closeToast;\n      delete instance.rejectPromise;\n      delete instance.update;\n      delete instance._destroy;\n    }\n  };\n\n  /**\n   * @param {object} obj\n   * @param {SweetAlert} instance\n   */\n  const unsetWeakMaps = (obj, instance) => {\n    for (const i in obj) {\n      obj[i].delete(instance);\n    }\n  };\n\n  var instanceMethods = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    _destroy: _destroy,\n    close: close,\n    closeModal: close,\n    closePopup: close,\n    closeToast: close,\n    disableButtons: disableButtons,\n    disableInput: disableInput,\n    disableLoading: hideLoading,\n    enableButtons: enableButtons,\n    enableInput: enableInput,\n    getInput: getInput,\n    handleAwaitingPromise: handleAwaitingPromise,\n    hideLoading: hideLoading,\n    rejectPromise: rejectPromise,\n    resetValidationMessage: resetValidationMessage,\n    showValidationMessage: showValidationMessage,\n    update: update\n  });\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handlePopupClick = (innerParams, domCache, dismissWith) => {\n    if (innerParams.toast) {\n      handleToastClick(innerParams, domCache, dismissWith);\n    } else {\n      // Ignore click events that had mousedown on the popup but mouseup on the container\n      // This can happen when the user drags a slider\n      handleModalMousedown(domCache);\n\n      // Ignore click events that had mousedown on the container but mouseup on the popup\n      handleContainerMousedown(domCache);\n      handleModalClick(innerParams, domCache, dismissWith);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handleToastClick = (innerParams, domCache, dismissWith) => {\n    // Closing toast by internal click\n    domCache.popup.onclick = () => {\n      if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n        return;\n      }\n      dismissWith(DismissReason.close);\n    };\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @returns {boolean}\n   */\n  const isAnyButtonShown = innerParams => {\n    return !!(innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton);\n  };\n  let ignoreOutsideClick = false;\n\n  /**\n   * @param {DomCache} domCache\n   */\n  const handleModalMousedown = domCache => {\n    domCache.popup.onmousedown = () => {\n      domCache.container.onmouseup = function (e) {\n        domCache.container.onmouseup = () => {};\n        // We only check if the mouseup target is the container because usually it doesn't\n        // have any other direct children aside of the popup\n        if (e.target === domCache.container) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  /**\n   * @param {DomCache} domCache\n   */\n  const handleContainerMousedown = domCache => {\n    domCache.container.onmousedown = e => {\n      // prevent the modal text from being selected on double click on the container (allowOutsideClick: false)\n      if (e.target === domCache.container) {\n        e.preventDefault();\n      }\n      domCache.popup.onmouseup = function (e) {\n        domCache.popup.onmouseup = () => {};\n        // We also need to check if the mouseup target is a child of the popup\n        if (e.target === domCache.popup || e.target instanceof HTMLElement && domCache.popup.contains(e.target)) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handleModalClick = (innerParams, domCache, dismissWith) => {\n    domCache.container.onclick = e => {\n      if (ignoreOutsideClick) {\n        ignoreOutsideClick = false;\n        return;\n      }\n      if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n        dismissWith(DismissReason.backdrop);\n      }\n    };\n  };\n\n  const isJqueryElement = elem => typeof elem === 'object' && elem.jquery;\n  const isElement = elem => elem instanceof Element || isJqueryElement(elem);\n  const argsToParams = args => {\n    const params = {};\n    if (typeof args[0] === 'object' && !isElement(args[0])) {\n      Object.assign(params, args[0]);\n    } else {\n      ['title', 'html', 'icon'].forEach((name, index) => {\n        const arg = args[index];\n        if (typeof arg === 'string' || isElement(arg)) {\n          params[name] = arg;\n        } else if (arg !== undefined) {\n          error(`Unexpected type of ${name}! Expected \"string\" or \"Element\", got ${typeof arg}`);\n        }\n      });\n    }\n    return params;\n  };\n\n  /**\n   * Main method to create a new SweetAlert2 popup\n   *\n   * @param  {...SweetAlertOptions} args\n   * @returns {Promise<SweetAlertResult>}\n   */\n  function fire() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return new this(...args);\n  }\n\n  /**\n   * Returns an extended version of `Swal` containing `params` as defaults.\n   * Useful for reusing Swal configuration.\n   *\n   * For example:\n   *\n   * Before:\n   * const textPromptOptions = { input: 'text', showCancelButton: true }\n   * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n   * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n   *\n   * After:\n   * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n   * const {value: firstName} = await TextPrompt('What is your first name?')\n   * const {value: lastName} = await TextPrompt('What is your last name?')\n   *\n   * @param {SweetAlertOptions} mixinParams\n   * @returns {SweetAlert}\n   */\n  function mixin(mixinParams) {\n    class MixinSwal extends this {\n      _main(params, priorityMixinParams) {\n        return super._main(params, Object.assign({}, mixinParams, priorityMixinParams));\n      }\n    }\n    // @ts-ignore\n    return MixinSwal;\n  }\n\n  /**\n   * If `timer` parameter is set, returns number of milliseconds of timer remained.\n   * Otherwise, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const getTimerLeft = () => {\n    return globalState.timeout && globalState.timeout.getTimerLeft();\n  };\n\n  /**\n   * Stop timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const stopTimer = () => {\n    if (globalState.timeout) {\n      stopTimerProgressBar();\n      return globalState.timeout.stop();\n    }\n  };\n\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const resumeTimer = () => {\n    if (globalState.timeout) {\n      const remaining = globalState.timeout.start();\n      animateTimerProgressBar(remaining);\n      return remaining;\n    }\n  };\n\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const toggleTimer = () => {\n    const timer = globalState.timeout;\n    return timer && (timer.running ? stopTimer() : resumeTimer());\n  };\n\n  /**\n   * Increase timer. Returns number of milliseconds of an updated timer.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @param {number} ms\n   * @returns {number | undefined}\n   */\n  const increaseTimer = ms => {\n    if (globalState.timeout) {\n      const remaining = globalState.timeout.increase(ms);\n      animateTimerProgressBar(remaining, true);\n      return remaining;\n    }\n  };\n\n  /**\n   * Check if timer is running. Returns true if timer is running\n   * or false if timer is paused or stopped.\n   * If `timer` parameter isn't set, returns undefined\n   *\n   * @returns {boolean}\n   */\n  const isTimerRunning = () => {\n    return !!(globalState.timeout && globalState.timeout.isRunning());\n  };\n\n  let bodyClickListenerAdded = false;\n  const clickHandlers = {};\n\n  /**\n   * @param {string} attr\n   */\n  function bindClickHandler() {\n    let attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n    clickHandlers[attr] = this;\n    if (!bodyClickListenerAdded) {\n      document.body.addEventListener('click', bodyClickListener);\n      bodyClickListenerAdded = true;\n    }\n  }\n  const bodyClickListener = event => {\n    for (let el = event.target; el && el !== document; el = el.parentNode) {\n      for (const attr in clickHandlers) {\n        const template = el.getAttribute(attr);\n        if (template) {\n          clickHandlers[attr].fire({\n            template\n          });\n          return;\n        }\n      }\n    }\n  };\n\n  // Source: https://gist.github.com/mudge/5830382?permalink_comment_id=2691957#gistcomment-2691957\n\n  class EventEmitter {\n    constructor() {\n      /** @type {Events} */\n      this.events = {};\n    }\n\n    /**\n     * @param {string} eventName\n     * @returns {EventHandlers}\n     */\n    _getHandlersByEventName(eventName) {\n      if (typeof this.events[eventName] === 'undefined') {\n        // not Set because we need to keep the FIFO order\n        // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1748990334\n        this.events[eventName] = [];\n      }\n      return this.events[eventName];\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    on(eventName, eventHandler) {\n      const currentHandlers = this._getHandlersByEventName(eventName);\n      if (!currentHandlers.includes(eventHandler)) {\n        currentHandlers.push(eventHandler);\n      }\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    once(eventName, eventHandler) {\n      var _this = this;\n      /**\n       * @param {Array} args\n       */\n      const onceFn = function () {\n        _this.removeListener(eventName, onceFn);\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        eventHandler.apply(_this, args);\n      };\n      this.on(eventName, onceFn);\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {Array} args\n     */\n    emit(eventName) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      this._getHandlersByEventName(eventName).forEach(\n      /**\n       * @param {EventHandler} eventHandler\n       */\n      eventHandler => {\n        try {\n          eventHandler.apply(this, args);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    removeListener(eventName, eventHandler) {\n      const currentHandlers = this._getHandlersByEventName(eventName);\n      const index = currentHandlers.indexOf(eventHandler);\n      if (index > -1) {\n        currentHandlers.splice(index, 1);\n      }\n    }\n\n    /**\n     * @param {string} eventName\n     */\n    removeAllListeners(eventName) {\n      if (this.events[eventName] !== undefined) {\n        // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1749239222\n        this.events[eventName].length = 0;\n      }\n    }\n    reset() {\n      this.events = {};\n    }\n  }\n\n  globalState.eventEmitter = new EventEmitter();\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  const on = (eventName, eventHandler) => {\n    globalState.eventEmitter.on(eventName, eventHandler);\n  };\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  const once = (eventName, eventHandler) => {\n    globalState.eventEmitter.once(eventName, eventHandler);\n  };\n\n  /**\n   * @param {string} [eventName]\n   * @param {EventHandler} [eventHandler]\n   */\n  const off = (eventName, eventHandler) => {\n    // Remove all handlers for all events\n    if (!eventName) {\n      globalState.eventEmitter.reset();\n      return;\n    }\n    if (eventHandler) {\n      // Remove a specific handler\n      globalState.eventEmitter.removeListener(eventName, eventHandler);\n    } else {\n      // Remove all handlers for a specific event\n      globalState.eventEmitter.removeAllListeners(eventName);\n    }\n  };\n\n  var staticMethods = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    argsToParams: argsToParams,\n    bindClickHandler: bindClickHandler,\n    clickCancel: clickCancel,\n    clickConfirm: clickConfirm,\n    clickDeny: clickDeny,\n    enableLoading: showLoading,\n    fire: fire,\n    getActions: getActions,\n    getCancelButton: getCancelButton,\n    getCloseButton: getCloseButton,\n    getConfirmButton: getConfirmButton,\n    getContainer: getContainer,\n    getDenyButton: getDenyButton,\n    getFocusableElements: getFocusableElements,\n    getFooter: getFooter,\n    getHtmlContainer: getHtmlContainer,\n    getIcon: getIcon,\n    getIconContent: getIconContent,\n    getImage: getImage,\n    getInputLabel: getInputLabel,\n    getLoader: getLoader,\n    getPopup: getPopup,\n    getProgressSteps: getProgressSteps,\n    getTimerLeft: getTimerLeft,\n    getTimerProgressBar: getTimerProgressBar,\n    getTitle: getTitle,\n    getValidationMessage: getValidationMessage,\n    increaseTimer: increaseTimer,\n    isDeprecatedParameter: isDeprecatedParameter,\n    isLoading: isLoading,\n    isTimerRunning: isTimerRunning,\n    isUpdatableParameter: isUpdatableParameter,\n    isValidParameter: isValidParameter,\n    isVisible: isVisible,\n    mixin: mixin,\n    off: off,\n    on: on,\n    once: once,\n    resumeTimer: resumeTimer,\n    showLoading: showLoading,\n    stopTimer: stopTimer,\n    toggleTimer: toggleTimer\n  });\n\n  class Timer {\n    /**\n     * @param {Function} callback\n     * @param {number} delay\n     */\n    constructor(callback, delay) {\n      this.callback = callback;\n      this.remaining = delay;\n      this.running = false;\n      this.start();\n    }\n\n    /**\n     * @returns {number}\n     */\n    start() {\n      if (!this.running) {\n        this.running = true;\n        this.started = new Date();\n        this.id = setTimeout(this.callback, this.remaining);\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {number}\n     */\n    stop() {\n      if (this.started && this.running) {\n        this.running = false;\n        clearTimeout(this.id);\n        this.remaining -= new Date().getTime() - this.started.getTime();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @param {number} n\n     * @returns {number}\n     */\n    increase(n) {\n      const running = this.running;\n      if (running) {\n        this.stop();\n      }\n      this.remaining += n;\n      if (running) {\n        this.start();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getTimerLeft() {\n      if (this.running) {\n        this.stop();\n        this.start();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    isRunning() {\n      return this.running;\n    }\n  }\n\n  const swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {SweetAlertOptions}\n   */\n  const getTemplateParams = params => {\n    const template = typeof params.template === 'string' ? (/** @type {HTMLTemplateElement} */document.querySelector(params.template)) : params.template;\n    if (!template) {\n      return {};\n    }\n    /** @type {DocumentFragment} */\n    const templateContent = template.content;\n    showWarningsForElements(templateContent);\n    const result = Object.assign(getSwalParams(templateContent), getSwalFunctionParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalParams = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalParams = Array.from(templateContent.querySelectorAll('swal-param'));\n    swalParams.forEach(param => {\n      showWarningsForAttributes(param, ['name', 'value']);\n      const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n      const value = param.getAttribute('value');\n      if (!paramName || !value) {\n        return;\n      }\n      if (typeof defaultParams[paramName] === 'boolean') {\n        result[paramName] = value !== 'false';\n      } else if (typeof defaultParams[paramName] === 'object') {\n        result[paramName] = JSON.parse(value);\n      } else {\n        result[paramName] = value;\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalFunctionParams = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalFunctions = Array.from(templateContent.querySelectorAll('swal-function-param'));\n    swalFunctions.forEach(param => {\n      const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n      const value = param.getAttribute('value');\n      if (!paramName || !value) {\n        return;\n      }\n      result[paramName] = new Function(`return ${value}`)();\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalButtons = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalButtons = Array.from(templateContent.querySelectorAll('swal-button'));\n    swalButtons.forEach(button => {\n      showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n      const type = button.getAttribute('type');\n      if (!type || !['confirm', 'cancel', 'deny'].includes(type)) {\n        return;\n      }\n      result[`${type}ButtonText`] = button.innerHTML;\n      result[`show${capitalizeFirstLetter(type)}Button`] = true;\n      if (button.hasAttribute('color')) {\n        result[`${type}ButtonColor`] = button.getAttribute('color');\n      }\n      if (button.hasAttribute('aria-label')) {\n        result[`${type}ButtonAriaLabel`] = button.getAttribute('aria-label');\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Pick<SweetAlertOptions, 'imageUrl' | 'imageWidth' | 'imageHeight' | 'imageAlt'>}\n   */\n  const getSwalImage = templateContent => {\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const image = templateContent.querySelector('swal-image');\n    if (image) {\n      showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n      if (image.hasAttribute('src')) {\n        result.imageUrl = image.getAttribute('src') || undefined;\n      }\n      if (image.hasAttribute('width')) {\n        result.imageWidth = image.getAttribute('width') || undefined;\n      }\n      if (image.hasAttribute('height')) {\n        result.imageHeight = image.getAttribute('height') || undefined;\n      }\n      if (image.hasAttribute('alt')) {\n        result.imageAlt = image.getAttribute('alt') || undefined;\n      }\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalIcon = templateContent => {\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const icon = templateContent.querySelector('swal-icon');\n    if (icon) {\n      showWarningsForAttributes(icon, ['type', 'color']);\n      if (icon.hasAttribute('type')) {\n        result.icon = icon.getAttribute('type');\n      }\n      if (icon.hasAttribute('color')) {\n        result.iconColor = icon.getAttribute('color');\n      }\n      result.iconHtml = icon.innerHTML;\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalInput = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const input = templateContent.querySelector('swal-input');\n    if (input) {\n      showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n      result.input = input.getAttribute('type') || 'text';\n      if (input.hasAttribute('label')) {\n        result.inputLabel = input.getAttribute('label');\n      }\n      if (input.hasAttribute('placeholder')) {\n        result.inputPlaceholder = input.getAttribute('placeholder');\n      }\n      if (input.hasAttribute('value')) {\n        result.inputValue = input.getAttribute('value');\n      }\n    }\n    /** @type {HTMLElement[]} */\n    const inputOptions = Array.from(templateContent.querySelectorAll('swal-input-option'));\n    if (inputOptions.length) {\n      result.inputOptions = {};\n      inputOptions.forEach(option => {\n        showWarningsForAttributes(option, ['value']);\n        const optionValue = option.getAttribute('value');\n        if (!optionValue) {\n          return;\n        }\n        const optionName = option.innerHTML;\n        result.inputOptions[optionValue] = optionName;\n      });\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @param {string[]} paramNames\n   * @returns {Record<string, any>}\n   */\n  const getSwalStringParams = (templateContent, paramNames) => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    for (const i in paramNames) {\n      const paramName = paramNames[i];\n      /** @type {HTMLElement | null} */\n      const tag = templateContent.querySelector(paramName);\n      if (tag) {\n        showWarningsForAttributes(tag, []);\n        result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n      }\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   */\n  const showWarningsForElements = templateContent => {\n    const allowedElements = swalStringParams.concat(['swal-param', 'swal-function-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n    Array.from(templateContent.children).forEach(el => {\n      const tagName = el.tagName.toLowerCase();\n      if (!allowedElements.includes(tagName)) {\n        warn(`Unrecognized element <${tagName}>`);\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement} el\n   * @param {string[]} allowedAttributes\n   */\n  const showWarningsForAttributes = (el, allowedAttributes) => {\n    Array.from(el.attributes).forEach(attribute => {\n      if (allowedAttributes.indexOf(attribute.name) === -1) {\n        warn([`Unrecognized attribute \"${attribute.name}\" on <${el.tagName.toLowerCase()}>.`, `${allowedAttributes.length ? `Allowed attributes are: ${allowedAttributes.join(', ')}` : 'To set the value, use HTML within the element.'}`]);\n      }\n    });\n  };\n\n  const SHOW_CLASS_TIMEOUT = 10;\n\n  /**\n   * Open popup, add necessary classes and styles, fix scrollbar\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const openPopup = params => {\n    const container = getContainer();\n    const popup = getPopup();\n    if (typeof params.willOpen === 'function') {\n      params.willOpen(popup);\n    }\n    globalState.eventEmitter.emit('willOpen', popup);\n    const bodyStyles = window.getComputedStyle(document.body);\n    const initialBodyOverflow = bodyStyles.overflowY;\n    addClasses(container, popup, params);\n\n    // scrolling is 'hidden' until animation is done, after that 'auto'\n    setTimeout(() => {\n      setScrollingVisibility(container, popup);\n    }, SHOW_CLASS_TIMEOUT);\n    if (isModal()) {\n      fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n      setAriaHidden();\n    }\n    if (!isToast() && !globalState.previousActiveElement) {\n      globalState.previousActiveElement = document.activeElement;\n    }\n    if (typeof params.didOpen === 'function') {\n      setTimeout(() => params.didOpen(popup));\n    }\n    globalState.eventEmitter.emit('didOpen', popup);\n    removeClass(container, swalClasses['no-transition']);\n  };\n\n  /**\n   * @param {AnimationEvent} event\n   */\n  const swalOpenAnimationFinished = event => {\n    const popup = getPopup();\n    if (event.target !== popup) {\n      return;\n    }\n    const container = getContainer();\n    popup.removeEventListener('animationend', swalOpenAnimationFinished);\n    popup.removeEventListener('transitionend', swalOpenAnimationFinished);\n    container.style.overflowY = 'auto';\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {HTMLElement} popup\n   */\n  const setScrollingVisibility = (container, popup) => {\n    if (hasCssAnimation(popup)) {\n      container.style.overflowY = 'hidden';\n      popup.addEventListener('animationend', swalOpenAnimationFinished);\n      popup.addEventListener('transitionend', swalOpenAnimationFinished);\n    } else {\n      container.style.overflowY = 'auto';\n    }\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {boolean} scrollbarPadding\n   * @param {string} initialBodyOverflow\n   */\n  const fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n    iOSfix();\n    if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n      replaceScrollbarWithPadding(initialBodyOverflow);\n    }\n\n    // sweetalert2/issues/1247\n    setTimeout(() => {\n      container.scrollTop = 0;\n    });\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} params\n   */\n  const addClasses = (container, popup, params) => {\n    addClass(container, params.showClass.backdrop);\n    if (params.animation) {\n      // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n      popup.style.setProperty('opacity', '0', 'important');\n      show(popup, 'grid');\n      setTimeout(() => {\n        // Animate popup right after showing it\n        addClass(popup, params.showClass.popup);\n        // and remove the opacity workaround\n        popup.style.removeProperty('opacity');\n      }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n    } else {\n      show(popup, 'grid');\n    }\n    addClass([document.documentElement, document.body], swalClasses.shown);\n    if (params.heightAuto && params.backdrop && !params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['height-auto']);\n    }\n  };\n\n  var defaultInputValidators = {\n    /**\n     * @param {string} string\n     * @param {string} [validationMessage]\n     * @returns {Promise<string | void>}\n     */\n    email: (string, validationMessage) => {\n      return /^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]+$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n    },\n    /**\n     * @param {string} string\n     * @param {string} [validationMessage]\n     * @returns {Promise<string | void>}\n     */\n    url: (string, validationMessage) => {\n      // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n      return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  function setDefaultInputValidators(params) {\n    // Use default `inputValidator` for supported input types if not provided\n    if (params.inputValidator) {\n      return;\n    }\n    if (params.input === 'email') {\n      params.inputValidator = defaultInputValidators['email'];\n    }\n    if (params.input === 'url') {\n      params.inputValidator = defaultInputValidators['url'];\n    }\n  }\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  function validateCustomTargetElement(params) {\n    // Determine if the custom target element is valid\n    if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n      warn('Target parameter is not valid, defaulting to \"body\"');\n      params.target = 'body';\n    }\n  }\n\n  /**\n   * Set type, text and actions on popup\n   *\n   * @param {SweetAlertOptions} params\n   */\n  function setParameters(params) {\n    setDefaultInputValidators(params);\n\n    // showLoaderOnConfirm && preConfirm\n    if (params.showLoaderOnConfirm && !params.preConfirm) {\n      warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n    }\n    validateCustomTargetElement(params);\n\n    // Replace newlines with <br> in title\n    if (typeof params.title === 'string') {\n      params.title = params.title.split('\\n').join('<br />');\n    }\n    init(params);\n  }\n\n  /** @type {SweetAlert} */\n  let currentInstance;\n  var _promise = /*#__PURE__*/new WeakMap();\n  class SweetAlert {\n    /**\n     * @param {...any} args\n     * @this {SweetAlert}\n     */\n    constructor() {\n      /**\n       * @type {Promise<SweetAlertResult>}\n       */\n      _classPrivateFieldInitSpec(this, _promise, void 0);\n      // Prevent run in Node env\n      if (typeof window === 'undefined') {\n        return;\n      }\n      currentInstance = this;\n\n      // @ts-ignore\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const outerParams = Object.freeze(this.constructor.argsToParams(args));\n\n      /** @type {Readonly<SweetAlertOptions>} */\n      this.params = outerParams;\n\n      /** @type {boolean} */\n      this.isAwaitingPromise = false;\n      _classPrivateFieldSet2(_promise, this, this._main(currentInstance.params));\n    }\n    _main(userParams) {\n      let mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      showWarningsForParams(Object.assign({}, mixinParams, userParams));\n      if (globalState.currentInstance) {\n        const swalPromiseResolve = privateMethods.swalPromiseResolve.get(globalState.currentInstance);\n        const {\n          isAwaitingPromise\n        } = globalState.currentInstance;\n        globalState.currentInstance._destroy();\n        if (!isAwaitingPromise) {\n          swalPromiseResolve({\n            isDismissed: true\n          });\n        }\n        if (isModal()) {\n          unsetAriaHidden();\n        }\n      }\n      globalState.currentInstance = currentInstance;\n      const innerParams = prepareParams(userParams, mixinParams);\n      setParameters(innerParams);\n      Object.freeze(innerParams);\n\n      // clear the previous timer\n      if (globalState.timeout) {\n        globalState.timeout.stop();\n        delete globalState.timeout;\n      }\n\n      // clear the restore focus timeout\n      clearTimeout(globalState.restoreFocusTimeout);\n      const domCache = populateDomCache(currentInstance);\n      render(currentInstance, innerParams);\n      privateProps.innerParams.set(currentInstance, innerParams);\n      return swalPromise(currentInstance, domCache, innerParams);\n    }\n\n    // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n    then(onFulfilled) {\n      return _classPrivateFieldGet2(_promise, this).then(onFulfilled);\n    }\n    finally(onFinally) {\n      return _classPrivateFieldGet2(_promise, this).finally(onFinally);\n    }\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   * @returns {Promise}\n   */\n  const swalPromise = (instance, domCache, innerParams) => {\n    return new Promise((resolve, reject) => {\n      // functions to handle all closings/dismissals\n      /**\n       * @param {DismissReason} dismiss\n       */\n      const dismissWith = dismiss => {\n        instance.close({\n          isDismissed: true,\n          dismiss\n        });\n      };\n      privateMethods.swalPromiseResolve.set(instance, resolve);\n      privateMethods.swalPromiseReject.set(instance, reject);\n      domCache.confirmButton.onclick = () => {\n        handleConfirmButtonClick(instance);\n      };\n      domCache.denyButton.onclick = () => {\n        handleDenyButtonClick(instance);\n      };\n      domCache.cancelButton.onclick = () => {\n        handleCancelButtonClick(instance, dismissWith);\n      };\n      domCache.closeButton.onclick = () => {\n        dismissWith(DismissReason.close);\n      };\n      handlePopupClick(innerParams, domCache, dismissWith);\n      addKeydownHandler(globalState, innerParams, dismissWith);\n      handleInputOptionsAndValue(instance, innerParams);\n      openPopup(innerParams);\n      setupTimer(globalState, innerParams, dismissWith);\n      initFocus(domCache, innerParams);\n\n      // Scroll container to top on open (#1247, #1946)\n      setTimeout(() => {\n        domCache.container.scrollTop = 0;\n      });\n    });\n  };\n\n  /**\n   * @param {SweetAlertOptions} userParams\n   * @param {SweetAlertOptions} mixinParams\n   * @returns {SweetAlertOptions}\n   */\n  const prepareParams = (userParams, mixinParams) => {\n    const templateParams = getTemplateParams(userParams);\n    const params = Object.assign({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n    params.showClass = Object.assign({}, defaultParams.showClass, params.showClass);\n    params.hideClass = Object.assign({}, defaultParams.hideClass, params.hideClass);\n    if (params.animation === false) {\n      params.showClass = {\n        backdrop: 'swal2-noanimation'\n      };\n      params.hideClass = {};\n    }\n    return params;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @returns {DomCache}\n   */\n  const populateDomCache = instance => {\n    const domCache = {\n      popup: getPopup(),\n      container: getContainer(),\n      actions: getActions(),\n      confirmButton: getConfirmButton(),\n      denyButton: getDenyButton(),\n      cancelButton: getCancelButton(),\n      loader: getLoader(),\n      closeButton: getCloseButton(),\n      validationMessage: getValidationMessage(),\n      progressSteps: getProgressSteps()\n    };\n    privateProps.domCache.set(instance, domCache);\n    return domCache;\n  };\n\n  /**\n   * @param {GlobalState} globalState\n   * @param {SweetAlertOptions} innerParams\n   * @param {Function} dismissWith\n   */\n  const setupTimer = (globalState, innerParams, dismissWith) => {\n    const timerProgressBar = getTimerProgressBar();\n    hide(timerProgressBar);\n    if (innerParams.timer) {\n      globalState.timeout = new Timer(() => {\n        dismissWith('timer');\n        delete globalState.timeout;\n      }, innerParams.timer);\n      if (innerParams.timerProgressBar) {\n        show(timerProgressBar);\n        applyCustomClass(timerProgressBar, innerParams, 'timerProgressBar');\n        setTimeout(() => {\n          if (globalState.timeout && globalState.timeout.running) {\n            // timer can be already stopped or unset at this point\n            animateTimerProgressBar(innerParams.timer);\n          }\n        });\n      }\n    }\n  };\n\n  /**\n   * Initialize focus in the popup:\n   *\n   * 1. If `toast` is `true`, don't steal focus from the document.\n   * 2. Else if there is an [autofocus] element, focus it.\n   * 3. Else if `focusConfirm` is `true` and confirm button is visible, focus it.\n   * 4. Else if `focusDeny` is `true` and deny button is visible, focus it.\n   * 5. Else if `focusCancel` is `true` and cancel button is visible, focus it.\n   * 6. Else focus the first focusable element in a popup (if any).\n   *\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   */\n  const initFocus = (domCache, innerParams) => {\n    if (innerParams.toast) {\n      return;\n    }\n    // TODO: this is dumb, remove `allowEnterKey` param in the next major version\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      warnAboutDeprecation('allowEnterKey');\n      blurActiveElement();\n      return;\n    }\n    if (focusAutofocus(domCache)) {\n      return;\n    }\n    if (focusButton(domCache, innerParams)) {\n      return;\n    }\n    setFocus(-1, 1);\n  };\n\n  /**\n   * @param {DomCache} domCache\n   * @returns {boolean}\n   */\n  const focusAutofocus = domCache => {\n    const autofocusElements = Array.from(domCache.popup.querySelectorAll('[autofocus]'));\n    for (const autofocusElement of autofocusElements) {\n      if (autofocusElement instanceof HTMLElement && isVisible$1(autofocusElement)) {\n        autofocusElement.focus();\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /**\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   * @returns {boolean}\n   */\n  const focusButton = (domCache, innerParams) => {\n    if (innerParams.focusDeny && isVisible$1(domCache.denyButton)) {\n      domCache.denyButton.focus();\n      return true;\n    }\n    if (innerParams.focusCancel && isVisible$1(domCache.cancelButton)) {\n      domCache.cancelButton.focus();\n      return true;\n    }\n    if (innerParams.focusConfirm && isVisible$1(domCache.confirmButton)) {\n      domCache.confirmButton.focus();\n      return true;\n    }\n    return false;\n  };\n  const blurActiveElement = () => {\n    if (document.activeElement instanceof HTMLElement && typeof document.activeElement.blur === 'function') {\n      document.activeElement.blur();\n    }\n  };\n\n  // Dear russian users visiting russian sites. Let's have fun.\n  if (typeof window !== 'undefined' && /^ru\\b/.test(navigator.language) && location.host.match(/\\.(ru|su|by|xn--p1ai)$/)) {\n    const now = new Date();\n    const initiationDate = localStorage.getItem('swal-initiation');\n    if (!initiationDate) {\n      localStorage.setItem('swal-initiation', `${now}`);\n    } else if ((now.getTime() - Date.parse(initiationDate)) / (1000 * 60 * 60 * 24) > 3) {\n      setTimeout(() => {\n        document.body.style.pointerEvents = 'none';\n        const ukrainianAnthem = document.createElement('audio');\n        ukrainianAnthem.src = 'https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3';\n        ukrainianAnthem.loop = true;\n        document.body.appendChild(ukrainianAnthem);\n        setTimeout(() => {\n          ukrainianAnthem.play().catch(() => {\n            // ignore\n          });\n        }, 2500);\n      }, 500);\n    }\n  }\n\n  // Assign instance methods from src/instanceMethods/*.js to prototype\n  SweetAlert.prototype.disableButtons = disableButtons;\n  SweetAlert.prototype.enableButtons = enableButtons;\n  SweetAlert.prototype.getInput = getInput;\n  SweetAlert.prototype.disableInput = disableInput;\n  SweetAlert.prototype.enableInput = enableInput;\n  SweetAlert.prototype.hideLoading = hideLoading;\n  SweetAlert.prototype.disableLoading = hideLoading;\n  SweetAlert.prototype.showValidationMessage = showValidationMessage;\n  SweetAlert.prototype.resetValidationMessage = resetValidationMessage;\n  SweetAlert.prototype.close = close;\n  SweetAlert.prototype.closePopup = close;\n  SweetAlert.prototype.closeModal = close;\n  SweetAlert.prototype.closeToast = close;\n  SweetAlert.prototype.rejectPromise = rejectPromise;\n  SweetAlert.prototype.update = update;\n  SweetAlert.prototype._destroy = _destroy;\n\n  // Assign static methods from src/staticMethods/*.js to constructor\n  Object.assign(SweetAlert, staticMethods);\n\n  // Proxy to instance methods to constructor, for now, for backwards compatibility\n  Object.keys(instanceMethods).forEach(key => {\n    /**\n     * @param {...any} args\n     * @returns {any | undefined}\n     */\n    SweetAlert[key] = function () {\n      if (currentInstance && currentInstance[key]) {\n        return currentInstance[key](...arguments);\n      }\n      return null;\n    };\n  });\n  SweetAlert.DismissReason = DismissReason;\n  SweetAlert.version = '11.17.2';\n\n  const Swal = SweetAlert;\n  // @ts-ignore\n  Swal.default = Swal;\n\n  return Swal;\n\n}));\nif (typeof this !== 'undefined' && this.Sweetalert2){this.swal = this.sweetAlert = this.Swal = this.SweetAlert = this.Sweetalert2}\n\"undefined\"!=typeof document&&function(e,t){var n=e.createElement(\"style\");if(e.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,\":root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:\\\"top-start     top            top-end\\\" \\\"center-start  center         center-end\\\" \\\"bottom-start  bottom-center  bottom-end\\\";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:\\\"!\\\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}\");","// public/js/core/placeholders.js\nimport state, { pronounMapping } from './state.js';\nimport { Utils } from '../utils/utils.js';\nimport { StringUtils } from '../utils/StringUtils.js';\nimport { TypeHelpers } from '../utils/typeHelpers.js';\n\n//-----------------------------------------------------------------------------\n// Constants and Placeholder Definitions\n//-----------------------------------------------------------------------------\n\n/**\n * Order of categories as they appear in the placeholder accordion\n */\nexport const categoryOrder = [\"Nouns\", \"Verbs\", \"Descriptors\", \"Other\"];\n\n/**\n * Complete collection of all predefined placeholders by category\n */\nexport const allPlaceholders = {\n    \"Nouns\": [\n        { internalType: \"NN\", display: \"Noun\", tooltip: \"Generic noun (table, apple)\", icon: \"fas fa-book\", isPrimary: true },\n        { internalType: \"NNP\", display: \"Proper Noun\", tooltip: \"Specific name (London, Sarah)\", icon: \"fas fa-user\", isPrimary: false },\n        { internalType: \"PRONOUN\", display: \"Pronoun\", tooltip: \"A pronoun\", icon: \"fas fa-user-circle\", isPrimary: true },\n        { internalType: \"NN_Concrete\", display: \"Concrete\", tooltip: \"Tangible object (chair, phone)\", icon: \"fas fa-cube\", isPrimary: false },\n        { internalType: \"NN_Person\", display: \"Person\", tooltip: \"A person (teacher, doctor)\", icon: \"fas fa-user-friends\", isPrimary: true },\n        { internalType: \"NN_Place\", display: \"Place\", tooltip: \"A location (park, school)\", icon: \"fas fa-map-marker-alt\", isPrimary: true },\n        { internalType: \"NN_Abstract\", display: \"Abstract\", tooltip: \"Intangible (happiness, freedom)\", icon: \"fas fa-cloud\", isPrimary: true },\n        { internalType: \"NN_Animal\", display: \"Animal\", tooltip: \"Living creature (dog, elephant)\", icon: \"fas fa-dog\", isPrimary: false },\n        { internalType: \"NN_BodyPart\", display: \"Body Part\", tooltip: \"Part of body (hand, knee)\", icon: \"fas fa-hand-paper\", isPrimary: false },\n        { internalType: \"NN_Clothing\", display: \"Clothing\", tooltip: \"Wearable (shirt, jacket)\", icon: \"fas fa-tshirt\", isPrimary: false },\n        { internalType: \"NN_Drink\", display: \"Drink\", tooltip: \"Beverage (juice, coffee)\", icon: \"fas fa-cocktail\", isPrimary: false },\n        { internalType: \"NN_Emotion\", display: \"Emotion\", tooltip: \"Feeling (joy, anger)\", icon: \"fas fa-heart\", isPrimary: false },\n        { internalType: \"NN_Food\", display: \"Food\", tooltip: \"Edible item (pizza, carrot)\", icon: \"fas fa-utensils\", isPrimary: false },\n        { internalType: \"NN_Vehicle\", display: \"Vehicle\", tooltip: \"Mode of transport (car, bicycle)\", icon: \"fas fa-car\", isPrimary: false },\n        { internalType: \"NN_Onomatopoeia\", display: \"Sound/Onomatopoeia\", tooltip: \"Sound word (bang, buzz)\", icon: \"fas fa-volume-up\", isPrimary: false }\n    ],\n    \"Verbs\": [\n        { internalType: \"VB\", display: \"Verb\", tooltip: \"Action/state (jump, write)\", icon: \"fas fa-pen\", isPrimary: true },\n        { internalType: \"VB_Intransitive\", display: \"Intransitive\", tooltip: \"No object (sleep, arrive)\", icon: \"fas fa-bed\", isPrimary: true },\n        { internalType: \"VB_Transitive\", display: \"Transitive\", tooltip: \"Takes object (kick, carry)\", icon: \"fas fa-hammer\", isPrimary: true },\n        { internalType: \"VB_Action\", display: \"Action\", tooltip: \"Physical action (run, climb)\", icon: \"fas fa-bolt\", isPrimary: false },\n        { internalType: \"VB_Stative\", display: \"State\", tooltip: \"Condition (believe, know)\", icon: \"fas fa-brain\", isPrimary: false },\n        { internalType: \"VB_Communication\", display: \"Communication\", tooltip: \"Speaking (say, shout)\", icon: \"fas fa-comment-dots\", isPrimary: false },\n        { internalType: \"VB_Movement\", display: \"Movement\", tooltip: \"Motion-based (walk, swim)\", icon: \"fas fa-walking\", isPrimary: false },\n        { internalType: \"VB_Onomatopoeia\", display: \"Sound/Onomatopoeia\", tooltip: \"Sound verb (meow, boom)\", icon: \"fas fa-volume-up\", isPrimary: false },\n        { internalType: \"MD\", display: \"Modal\", tooltip: \"Possibility (can, must)\", icon: \"fas fa-key\", isPrimary: false },\n        { internalType: \"VB_Linking\", display: \"Linking\", tooltip: \"Links subject (seem, become)\", icon: \"fas fa-link\", isPrimary: false },\n        { internalType: \"VB_Phrase\", display: \"Phrasal Verb\", tooltip: \"Multi-word verb (give up, look after)\", icon: \"fas fa-random\", isPrimary: false }\n    ],\n    \"Descriptors\": [\n        { internalType: \"JJ\", display: \"Adjective\", tooltip: \"Describes noun (blue, tall)\", icon: \"fas fa-ad\", isPrimary: true },\n        { internalType: \"RB\", display: \"Adverb\", tooltip: \"Modifies verb (quickly, often)\", icon: \"fas fa-feather-alt\", isPrimary: true },\n        { internalType: \"JJR\", display: \"Comparative\", tooltip: \"Comparison (faster, smaller)\", icon: \"fas fa-level-up-alt\", isPrimary: false },\n        { internalType: \"JJS\", display: \"Superlative\", tooltip: \"Highest degree (best, tallest)\", icon: \"fas fa-medal\", isPrimary: false },\n        { internalType: \"JJ_Number\", display: \"Ordered Number\", tooltip: \"A ranked number (1st, seventh)\", icon: \"fas fa-hashtag\", isPrimary: true }\n    ],\n    \"Other\": [\n        { internalType: \"IN\", display: \"Preposition\", tooltip: \"Shows relation (in, under)\", icon: \"fas fa-arrows-alt\", isPrimary: false },\n        { internalType: \"DT\", display: \"Determiner\", tooltip: \"Specifier (a, the)\", icon: \"fas fa-bookmark\", isPrimary: false },\n        { internalType: \"CC\", display: \"Conjunction\", tooltip: \"Joins clauses (and, or)\", icon: \"fas fa-link\", isPrimary: false },\n        { internalType: \"FW\", display: \"Foreign Word\", tooltip: \"Non-English (bonjour, sushi)\", icon: \"fas fa-globe\", isPrimary: false },\n        { internalType: \"Number\", display: \"Number\", tooltip: \"Numerical (five, twenty)\", icon: \"fas fa-hashtag\", isPrimary: true },\n        { internalType: \"Exclamation\", display: \"Exclamation\", tooltip: \"Interjection (wow, oops)\", icon: \"fas fa-bullhorn\", isPrimary: true }\n    ]\n};\n\n/**\n * Available verb tenses for selection\n */\nexport const VERB_TENSES = [\n    { value: 'VB', text: 'Base (run)' },\n    { value: 'VBP', text: 'Present (I walk)' },\n    { value: 'VBZ', text: 'Present 3rd (he leaves)' },\n    { value: 'VBD', text: 'Past (slept)' },\n    { value: 'VBG', text: 'Gerund (crying)' },\n    { value: 'VBN', text: 'Past Participle (eaten)' }\n];\n\n//-----------------------------------------------------------------------------\n// DOM Manipulation Utilities\n//-----------------------------------------------------------------------------\n\n/**\n * Inserts a DOM node at the current caret position\n * @param {Node} node - The DOM node to insert\n * @param {Range} range - Optional range to use instead of current selection\n */\nexport const insertNodeAtCaret = (node, range) => {\n    if (range) {\n        range.deleteContents();\n        range.insertNode(node);\n        const newRange = document.createRange();\n        newRange.setStartAfter(node);\n        newRange.collapse(true);\n        const sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n    } else {\n        const sel = window.getSelection();\n        if (sel.rangeCount) {\n            const r = sel.getRangeAt(0);\n            r.deleteContents();\n            r.insertNode(node);\n            r.setStartAfter(node);\n            r.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(r);\n        }\n    }\n};\n\n/**\n * Ensures the editor has focus and a valid selection range\n */\nexport const ensureEditorFocus = () => {\n    const editor = document.getElementById(\"storyText\");\n    const sel = window.getSelection();\n    if (!sel.rangeCount || !editor.contains(sel.anchorNode)) {\n        editor.focus();\n        const range = document.createRange();\n        range.selectNodeContents(editor);\n        range.collapse(false);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n};\n\n/**\n * Creates and inserts a placeholder span element at the current caret position\n * @param {string} placeholderID - The ID of the placeholder\n * @param {string} displayText - The text to display in the placeholder\n * @param {Range} range - Optional range to use instead of current selection\n */\nexport const insertPlaceholderSpan = (placeholderID, displayText, range) => {\n    const span = document.createElement(\"span\");\n    span.className = \"placeholder\";\n    span.setAttribute(\"data-id\", placeholderID);\n    span.setAttribute(\"title\", placeholderID);\n    span.setAttribute(\"contenteditable\", \"false\");\n    span.textContent = displayText;\n    insertNodeAtCaret(span, range);\n\n    // Append extra space if needed\n    if (!displayText.endsWith(\" \")) {\n        if (span.parentNode) {\n            let nextNode = span.nextSibling;\n            if (nextNode && nextNode.nodeType === Node.TEXT_NODE) {\n                if (!/^\\s/.test(nextNode.textContent)) {\n                    span.parentNode.insertBefore(document.createTextNode(\" \"), nextNode);\n                }\n            } else if (nextNode) {\n                span.parentNode.insertBefore(document.createTextNode(\" \"), nextNode);\n            } else {\n                span.parentNode.appendChild(document.createTextNode(\" \"));\n            }\n        }\n    }\n};\n\n//-----------------------------------------------------------------------------\n// Placeholder Creation and Insertion\n//-----------------------------------------------------------------------------\n\n/**\n * Duplicates an existing placeholder at the current caret position\n * @param {Object} variable - The placeholder variable to duplicate\n */\nexport const duplicatePlaceholder = (variable) => {\n    state.usageTracker[variable.id] = (state.usageTracker[variable.id] || 0) + 1;\n    const newId = variable.id;\n    const editor = document.getElementById(\"storyText\");\n    let rangeToUse = (state.lastRange && editor.contains(state.lastRange.commonAncestorContainer))\n        ? state.lastRange\n        : (() => {\n            ensureEditorFocus();\n            const sel = window.getSelection();\n            return sel.rangeCount ? sel.getRangeAt(0) : null;\n        })();\n    const displayText = variable.displayOverride || variable.officialDisplay;\n    insertPlaceholderSpan(newId, displayText, rangeToUse);\n    state.lastRange = null;\n};\n\n/**\n * Inserts a new placeholder into the editor\n * @param {string} internalType - The internal type of the placeholder\n * @param {string} displayName - The display name of the placeholder\n * @param {boolean} isCustom - Whether this is a custom placeholder\n * @returns {Promise<void>}\n */\nexport const insertPlaceholder = async (internalType, displayName, isCustom) => {\n    const sanitized = StringUtils.sanitizeString(internalType);\n    const editor = document.getElementById(\"storyText\");\n    const spans = editor.querySelectorAll(\".placeholder\");\n    let max = 0;\n    spans.forEach(span => {\n        const id = span.getAttribute(\"data-id\");\n        if (id.startsWith(sanitized)) {\n            const match = id.match(/(\\d+)$/);\n            if (match) {\n                const num = parseInt(match[1], 10);\n                if (num > max) max = num;\n            }\n        }\n    });\n    const newCount = max + 1;\n    state.variableCounts[sanitized] = newCount;\n    const id = sanitized + newCount;\n    let rangeToUse = (state.lastRange && editor.contains(state.lastRange.commonAncestorContainer))\n        ? state.lastRange\n        : (() => {\n            ensureEditorFocus();\n            const sel = window.getSelection();\n            return sel.rangeCount ? sel.getRangeAt(0) : null;\n        })();\n    let selectedText = \"\";\n    if (rangeToUse && !rangeToUse.collapsed) {\n        selectedText = rangeToUse.toString().trim();\n    }\n    let displayText = selectedText || displayName;\n    if (!selectedText) {\n        const { value: temp } = await Swal.fire({\n            title: 'Enter temporary word',\n            input: 'text',\n            inputLabel: 'Temporary fill word for this placeholder',\n            inputValue: displayName,\n            showCancelButton: true\n        });\n        if (temp) displayText = temp;\n    }\n    insertPlaceholderSpan(id, displayText, rangeToUse);\n    if (!state.variables.some(v => v.id === id)) {\n        state.variables.push({\n            id,\n            internalType,\n            officialDisplay: displayName,\n            display: displayName,\n            isCustom: !!isCustom,\n            order: state.insertionCounter++,\n            displayOverride: displayText\n        });\n    }\n    updateVariablesList();\n    state.lastRange = null;\n    if (internalType.startsWith(\"NN\") && selectedText) {\n        Swal.fire({\n            title: 'Apply placeholder to all occurrences?',\n            text: `Replace all instances of \"${selectedText}\" with this placeholder?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, apply',\n            cancelButtonText: 'No'\n        }).then(result => {\n            if (result.isConfirmed) {\n                applyPlaceholderToAllOccurrences(selectedText, id, displayText);\n            }\n        });\n    }\n};\n\n/**\n * Applies a placeholder to all occurrences of a text string in the story\n * @param {string} text - The text to replace\n * @param {string} id - The ID of the placeholder\n * @param {string} displayText - The display text of the placeholder\n */\nexport const applyPlaceholderToAllOccurrences = (text, id, displayText) => {\n    const editor = document.getElementById(\"storyText\");\n    const textNodes = [];\n    const getTextNodes = (node) => {\n        if (node.nodeType === Node.TEXT_NODE) {\n            if (node.textContent.includes(text)) {\n                textNodes.push(node);\n            }\n        } else if (node.childNodes && node.childNodes.length > 0) {\n            node.childNodes.forEach(child => {\n                if (!child.classList || !child.classList.contains('placeholder')) {\n                    getTextNodes(child);\n                }\n            });\n        }\n    };\n\n    getTextNodes(editor);\n    \n    for (let i = textNodes.length - 1; i >= 0; i--) {\n        const node = textNodes[i];\n        const content = node.textContent;\n        const parts = content.split(text);\n        if (parts.length > 1) {\n            const parent = node.parentNode;\n            const fragment = document.createDocumentFragment();\n            \n            for (let j = 0; j < parts.length; j++) {\n                if (parts[j]) {\n                    fragment.appendChild(document.createTextNode(parts[j]));\n                }\n                if (j < parts.length - 1) {\n                    const span = document.createElement(\"span\");\n                    span.className = \"placeholder\";\n                    span.setAttribute(\"data-id\", id);\n                    span.setAttribute(\"title\", id);\n                    span.setAttribute(\"contenteditable\", \"false\");\n                    span.textContent = displayText;\n                    fragment.appendChild(span);\n                    fragment.appendChild(document.createTextNode(\" \"));\n                }\n            }\n            \n            parent.replaceChild(fragment, node);\n        }\n    }\n    updateVariablesFromEditor();\n};\n\n/**\n * Adds a new custom placeholder type to the system with optional type information\n * @param {string} rawText - The raw text to use as the base\n * @param {string} [usage='generic'] - The usage type ('noun', 'verb', or 'generic')\n * @returns {string} The generated internal type\n */\nexport const addCustomPlaceholder = (rawText, usage = 'generic') => {\n    let internal;\n    \n    if (usage === \"noun\") {\n        internal = \"NN_\" + StringUtils.pascalCase(rawText);\n    } else if (usage === \"verb\") {\n        internal = \"VB_\" + StringUtils.pascalCase(rawText);\n    } else {\n        internal = StringUtils.pascalCase(rawText);\n    }\n    \n    if (!state.customPlaceholders.some(p => p.type === internal)) {\n        state.customPlaceholders.push({ type: internal });\n    }\n    \n    return internal;\n};\n\n/**\n * Creates and inserts a custom placeholder into the editor\n * @param {string} rawText - The raw text to use as the base\n */\nexport const insertPlaceholderFromCustom = (rawText) => {\n    const internal = addCustomPlaceholder(rawText);\n    const display = StringUtils.naturalDisplay(internal);\n    insertPlaceholder(internal, display, true);\n};\n\n//-----------------------------------------------------------------------------\n// Placeholder Management and UI\n//-----------------------------------------------------------------------------\n\n/**\n * Updates the variables list display in the UI\n */\nexport const updateVariablesList = () => {\n    const container = document.getElementById('existingPlaceholdersContainer');\n    container.innerHTML = '';\n    state.variables.sort((a, b) =>\n        (state.usageTracker[b.id] || 0) - (state.usageTracker[a.id] || 0) || a.order - b.order\n    );\n    state.variables.forEach(v => {\n        const btn = document.createElement('button');\n        btn.type = 'button';\n        btn.className = 'btn btn-outline-secondary btn-sm m-1 placeholder-item';\n        btn.setAttribute('data-id', v.id);\n        btn.textContent = v.displayOverride || v.officialDisplay;\n        btn.setAttribute('title', v.id);\n        container.appendChild(btn);\n    });\n};\n\n/**\n * Inserts a pronoun placeholder with a specified form\n * @param {string} groupId - The pronoun group ID\n * @param {string} form - The pronoun form (subject, object, etc.)\n * @param {string} tempValue - The temporary display value\n */\nexport const insertPronounPlaceholderSimple = (groupId, form, tempValue) => {\n    const editor = document.getElementById(\"storyText\");\n    ensureEditorFocus();\n    const sel = window.getSelection();\n    const range = (state.lastRange && editor.contains(state.lastRange.commonAncestorContainer))\n        ? state.lastRange\n        : (sel.rangeCount ? sel.getRangeAt(0) : null);\n    const groupNum = groupId.replace('PronounGroup', '');\n    const formAbbrevMap = { subject: 'SUB', object: 'OBJ', possAdj: 'PSA', possPron: 'PSP', reflexive: 'REF' };\n    const abbrev = formAbbrevMap[form] || form.toUpperCase();\n    const placeholderId = `PRP${groupNum}${abbrev}`;\n    if (!state.variables.some(v => v.id === placeholderId)) {\n        const displayType = `Person (${form})`;\n        state.variables.push({\n            id: placeholderId,\n            internalType: `PRONOUN|${groupId}|${form}`,\n            officialDisplay: displayType,\n            display: displayType,\n            isCustom: false,\n            order: state.insertionCounter++,\n            displayOverride: tempValue\n        });\n        updateVariablesList();\n    }\n    insertPlaceholderSpan(placeholderId, tempValue, range);\n    state.lastRange = null;\n};\n\n/**\n * Updates the variables array by scanning the editor for placeholders\n */\nexport const updateVariablesFromEditor = () => {\n    state.variables = [];\n    state.variableCounts = {};\n    state.insertionCounter = 0;\n    const editor = document.getElementById('storyText');\n    const placeholderElements = editor.querySelectorAll('.placeholder');\n    placeholderElements.forEach(el => {\n        const id = el.getAttribute('data-id');\n        const base = id.replace(/\\d+$/, '');\n        const numMatch = id.match(/(\\d+)$/);\n        const num = numMatch ? parseInt(numMatch[1], 10) : 0;\n        if (!state.variableCounts[base] || num > state.variableCounts[base]) {\n            state.variableCounts[base] = num;\n        }\n        if (!state.variables.some(v => v.id === id)) {\n            let variableEntry;\n            const custom = state.customPlaceholders.find(p => p.type === base);\n            if (custom) {\n                variableEntry = {\n                    id,\n                    internalType: custom.type,\n                    officialDisplay: TypeHelpers.naturalizeType(custom.type),\n                    display: TypeHelpers.naturalizeType(custom.type),\n                    isCustom: true,\n                    order: state.insertionCounter++,\n                    displayOverride: el.textContent\n                };\n            } else {\n                const guessed = TypeHelpers.guessTypeFromId(id);\n                const originalDisplay = TypeHelpers.getOriginalDisplayForType(guessed) || guessed;\n                variableEntry = {\n                    id,\n                    internalType: guessed,\n                    officialDisplay: originalDisplay,\n                    display: originalDisplay,\n                    order: state.insertionCounter++,\n                    displayOverride: el.textContent\n                };\n            }\n            state.variables.push(variableEntry);\n        }\n    });\n\n    const currentSearch = $('#placeholderSearch').val() || '';\n    updatePlaceholderAccordion('#placeholderAccordion', '#noResults', currentSearch);\n\n    const currentModalSearch = $('#modalPlaceholderSearch').val() || '';\n    updatePlaceholderAccordion('#modalPlaceholderAccordion', '#modalNoResults', currentModalSearch);\n\n    updateVariablesList();\n};\n\n/**\n * Converts the editor content to text format with placeholders in {id} format\n * @returns {string} The story text with placeholders in {id} format\n */\nexport const generateLegacyText = () => {\n    const editor = document.getElementById(\"storyText\");\n    const traverse = (node) => {\n        let result = \"\";\n        node.childNodes.forEach(child => {\n            if (child.nodeType === Node.TEXT_NODE) {\n                result += child.textContent;\n            } else if (child.nodeType === Node.ELEMENT_NODE) {\n                if (child.tagName.toLowerCase() === \"br\") {\n                    result += \"\\n\";\n                } else if (child.classList.contains(\"placeholder\")) {\n                    result += \"{\" + child.getAttribute(\"data-id\") + \"}\";\n                } else {\n                    result += traverse(child);\n                    const tag = child.tagName.toLowerCase();\n                    if (tag === \"div\" || tag === \"p\") result += \"\\n\";\n                }\n            }\n        });\n        return result;\n    };\n    return traverse(editor);\n};\n\n//-----------------------------------------------------------------------------\n// Placeholder Accordion UI Functions\n//-----------------------------------------------------------------------------\n\nexport const updatePlaceholderAccordion = (accordionSelector, noResultsSelector, searchVal = '') => {\n    if (noResultsSelector === \"#noResults\") {\n        $(\"#searchQuery\").text(searchVal);\n        $(\"#searchQueryBtn\").text(searchVal);\n    } else if (noResultsSelector === \"#modalNoResults\") {\n        $(\"#modalSearchQuery\").text(searchVal);\n        $(\"#modalSearchQueryBtn\").text(searchVal);\n    }\n    $(noResultsSelector).hide();\n    const accordion = $(accordionSelector);\n    accordion.empty();\n    categoryOrder.forEach(categoryName => {\n        const placeholders = allPlaceholders[categoryName] || [];\n        if (placeholders.length > 0) {\n            const categoryCard = createPlaceholderCategoryCard(categoryName, accordionSelector, placeholders, searchVal);\n            accordion.append(categoryCard);\n        }\n    });\n    if (state.customPlaceholders.length > 0) {\n        const customCard = createCustomPlaceholderCategoryCard(accordionSelector, searchVal);\n        accordion.append(customCard);\n    }\n    if (searchVal) {\n        const anyShown = accordion.find('.placeholder-btn:visible').length > 0;\n        $(noResultsSelector).toggle(!anyShown);\n        accordion.find('.card-header, .show-more-toggle').hide();\n    } else {\n        accordion.find('.card-header, .show-more-toggle').show();\n    }\n};\n\nexport const createPlaceholderCategoryCard = (categoryName, accordionSelector, placeholders, searchVal) => {\n    const sanitizedCategoryName = categoryName.replace(/\\s+/g, '');\n    const card = $(`<div class='card'></div>`);\n    card.append(createCardHeader(categoryName, sanitizedCategoryName, accordionSelector));\n    const collapseDiv = $(`\n  <div id='${sanitizedCategoryName}Collapse' class='collapse show' aria-labelledby='${sanitizedCategoryName}Heading' data-parent='${accordionSelector}'>\n    <div class='card-body'><div class='list-group'></div></div>\n  </div>\n`);\n    const primaryItems = placeholders.filter(p => p.isPrimary);\n    const secondaryItems = placeholders.filter(p => !p.isPrimary);\n    primaryItems.forEach(p => appendPlaceholderItem(collapseDiv.find('.list-group'), p, searchVal));\n    if (secondaryItems.length > 0) {\n        const secondaryPlaceholderWrapper = createSecondaryPlaceholderWrapper(secondaryItems, searchVal);\n        collapseDiv.find('.list-group').append(secondaryPlaceholderWrapper);\n        collapseDiv.find('.list-group').append(createShowMoreToggle(sanitizedCategoryName));\n        updateShowMoreToggleVisibility(collapseDiv, searchVal, secondaryPlaceholderWrapper);\n    }\n    card.append(collapseDiv);\n    return card;\n};\n\nexport const createCustomPlaceholderCategoryCard = (accordionSelector, searchVal) => {\n    const card = $(`<div class='card'></div>`);\n    card.append(createCardHeader('Custom Placeholders', 'CustomPlaceholders', accordionSelector));\n    const collapseDiv = $(`\n  <div id='CustomPlaceholdersCollapse' class='collapse show' aria-labelledby='CustomPlaceholdersHeading' data-parent='${accordionSelector}'>\n    <div class='card-body'><div class='list-group'></div></div>\n  </div>\n`);\n    state.customPlaceholders.forEach(p => {\n        const showItem = !searchVal || p.type.toLowerCase().includes(searchVal.toLowerCase());\n        const item = $(`\n    <div class='list-group-item placeholder-btn custom-placeholder'\n      data-internal='${p.type}'\n      data-display='${p.type}'\n      style='display: ${showItem ? 'block' : 'none'};'>\n      <i class='fas fa-star'></i> ${p.type}\n    </div>\n  `);\n        collapseDiv.find('.list-group').append(item);\n    });\n    card.append(collapseDiv);\n    return card;\n};\n\nexport const createCardHeader = (categoryName, sanitizedCategoryName, accordionSelector) => {\n    return $(`\n  <div class='card-header' id='${sanitizedCategoryName}Heading'>\n    <h2 class='mb-0'>\n      <button class='btn btn-link btn-block text-left' type='button'\n        data-toggle='collapse' data-target='#${sanitizedCategoryName}Collapse'\n        aria-expanded='true' aria-controls='${sanitizedCategoryName}Collapse'>\n        ${categoryName}\n      </button>\n    </h2>\n  </div>\n`);\n};\n\nexport const createSecondaryPlaceholderWrapper = (secondaryItems, searchVal) => {\n    const hiddenWrapper = $(`<div class='secondary-placeholder-wrapper'></div>`);\n    secondaryItems.forEach(p => appendPlaceholderItem(hiddenWrapper, p, searchVal, true));\n    return hiddenWrapper;\n};\n\nexport const createShowMoreToggle = (sanitizedCategoryName) => {\n    return $(`\n  <div class='show-more-toggle' data-category='${sanitizedCategoryName}'>\n    Show More\n  </div>\n`);\n};\n\nexport const updateShowMoreToggleVisibility = (collapseDiv, searchVal, secondaryPlaceholderWrapper) => {\n    const toggleLink = collapseDiv.find('.show-more-toggle');\n    if (!searchVal) {\n        secondaryPlaceholderWrapper.find('.secondary-placeholder').hide();\n        toggleLink.text('Show More');\n    } else {\n        let anySecondaryVisible = secondaryPlaceholderWrapper.find('.secondary-placeholder:visible').length > 0;\n        toggleLink.text(anySecondaryVisible ? 'Show Less' : 'Show More');\n    }\n};\n\nexport const appendPlaceholderItem = (listGroup, placeholder, searchVal, isSecondary = false) => {\n    const showItem = !searchVal || placeholder.display.toLowerCase().includes(searchVal.toLowerCase());\n    const item = $(`\n  <div class='list-group-item placeholder-btn${isSecondary ? ' secondary-placeholder' : ''}'\n    data-internal='${placeholder.internalType}'\n    data-display='${placeholder.display}'\n    style='display: ${showItem ? 'block' : 'none'};'>\n    <i class='${placeholder.icon}'></i> ${placeholder.display}\n    <i class='fas fa-info-circle accordion-info-icon' data-tooltip=\"${placeholder.tooltip}\" style=\"font-size:0.8em; margin-left:5px;\"></i>\n  </div>\n`);\n    listGroup.append(item);\n};\n\n//-----------------------------------------------------------------------------\n// Type Selection Modals\n//-----------------------------------------------------------------------------\n\nexport const showPersonTypeSelection = (baseInternal, baseDisplay) => {\n    let html = `<div class='list-group'>\n  <button class='list-group-item list-group-item-action person-type-btn' data-type='common'>\n    Common (e.g., doctor)\n  </button>\n  <button class='list-group-item list-group-item-action person-type-btn' data-type='proper'>\n    Proper (e.g., Donald Trump)\n  </button>\n</div>`;\n    Swal.fire({\n        title: 'Select Person Type',\n        html,\n        showCancelButton: true,\n        showConfirmButton: false,\n        allowOutsideClick: false,\n        didOpen: () => {\n            const container = Swal.getHtmlContainer();\n            $(container).find('.person-type-btn').on('click', function () {\n                const selectedType = $(this).data('type'); // \"common\" or \"proper\"\n                let updatedBaseInternal, updatedBaseDisplay;\n                if (selectedType === \"proper\") {\n                    updatedBaseInternal = \"NNP_Person\";\n                    updatedBaseDisplay = \"Proper \" + baseDisplay;\n                } else {\n                    updatedBaseInternal = \"NN_Person\";\n                    updatedBaseDisplay = \"Common \" + baseDisplay;\n                }\n                // Close the current modal...\n                Swal.close();\n                // ...and use a small timeout to ensure it's fully closed before showing the next modal.\n                setTimeout(() => {\n                    showNounNumberSelection(updatedBaseInternal, updatedBaseDisplay);\n                }, 100);\n            });\n        }\n    });\n};\n\nexport const showNounNumberSelection = (baseInternal, baseDisplay) => {\n    let html = `<div class='list-group'>`;\n    ['Singular', 'Plural'].forEach(f => {\n        html += `<button class='list-group-item list-group-item-action noun-number-btn' data-form='${f}'>${f}</button>`;\n    });\n    html += `</div>`;\n    Swal.fire({\n        title: 'Select Number',\n        html,\n        showCancelButton: true,\n        showConfirmButton: false,\n        didOpen: () => {\n            const container = Swal.getHtmlContainer();\n            $(container).find('.noun-number-btn').on('click', async function () {\n                const selected = $(this).data('form');\n                const finalInternal = TypeHelpers.getNounFinalType(baseInternal, selected);\n                const finalDisplay = `${baseDisplay} (${selected})`;\n                if (state.isEditingPlaceholder && state.currentEditingVariable) {\n                    updateExistingPlaceholder(state.currentEditingVariable, finalInternal, finalDisplay);\n                    state.isEditingPlaceholder = false;\n                    state.currentEditingVariable = null;\n                    Swal.close();\n                } else {\n                    await insertPlaceholder(finalInternal, finalDisplay, false);\n                    Swal.close();\n                }\n            });\n        }\n    });\n};\n\nexport const showVerbTenseSelection = (baseInternal, baseDisplay) => {\n    let html = `<div class='list-group'>`;\n    VERB_TENSES.forEach(t => {\n        html += `<button class='list-group-item list-group-item-action verb-tense-btn' data-tense='${t.value}' data-text='${t.text}'>${t.text}</button>`;\n    });\n    html += `</div>`;\n    Swal.fire({\n        title: 'Select Verb Tense',\n        html,\n        showCancelButton: true,\n        showConfirmButton: false,\n        didOpen: () => {\n            const container = Swal.getHtmlContainer();\n            $(container).find('.verb-tense-btn').on('click', async function () {\n                const selectedTense = $(this).data('tense');\n                const tenseText = $(this).data('text');\n                const finalInternal = TypeHelpers.computeFinalVerbType(baseInternal, selectedTense);\n                const finalDisplay = `${baseDisplay} (${tenseText})`;\n                if (state.isEditingPlaceholder && state.currentEditingVariable) {\n                    updateExistingPlaceholder(state.currentEditingVariable, finalInternal, finalDisplay);\n                    state.isEditingPlaceholder = false;\n                    state.currentEditingVariable = null;\n                    Swal.close();\n                } else {\n                    await insertPlaceholder(finalInternal, finalDisplay, false);\n                    Swal.close();\n                }\n            });\n        }\n    });\n};\n\n// Update existing placeholder\nexport const updateExistingPlaceholder = (variable, newInternalType, newDisplayName) => {\n    const id = variable.id;\n    const editor = document.getElementById(\"storyText\");\n    const spans = editor.querySelectorAll(`.placeholder[data-id=\"${id}\"]`);\n    spans.forEach(span => {\n        span.setAttribute(\"title\", `${id} (${newInternalType})`);\n    });\n    variable.internalType = newInternalType;\n    variable.officialDisplay = newDisplayName;\n    variable.display = newDisplayName;\n    updateVariablesList();\n};\n\n//-----------------------------------------------------------------------------\n// Pronoun Functions\n//-----------------------------------------------------------------------------\n\nexport const pickPronounFormAndGroup = () => {\n    const forms = [\n        { value: 'subject', text: 'Subject (he, she, they)' },\n        { value: 'object', text: 'Object (him, her, them)' },\n        { value: 'possAdj', text: 'Possessive Adj. (his, her, their)' },\n        { value: 'possPron', text: 'Possessive Pron. (his, hers)' },\n        { value: 'reflexive', text: 'Reflexive (himself, herself)' }\n    ];\n    let html = `<div class='list-group mb-2'>`;\n    forms.forEach(f => {\n        html += `<button class='list-group-item list-group-item-action pronoun-form-btn' data-form='${f.value}'>${f.text}</button>`;\n    });\n    html += `</div>`;\n    Swal.fire({\n        title: 'Pick a Pronoun Form',\n        html,\n        showCancelButton: true,\n        showConfirmButton: false,\n        didOpen: () => {\n            const container = Swal.getHtmlContainer();\n            $(container).find('.pronoun-form-btn').on('click', function () {\n                const chosenForm = $(this).data('form');\n                Swal.close();\n                pickPronounGroup(chosenForm);\n            });\n        }\n    });\n};\n\nexport const pickPronounGroup = (form) => {\n    const groupKeys = Object.keys(state.pronounGroups);\n    let html = '';\n    if (groupKeys.length > 0) {\n        html += `<h5>Existing Pronoun Groups</h5><div class='list-group mb-2'>`;\n        groupKeys.forEach(g => {\n            html += `<button class='list-group-item list-group-item-action pronoun-group-btn' data-group='${g}'>${g}</button>`;\n        });\n        html += `</div><hr>`;\n    }\n    html += `<button class='btn btn-sm btn-outline-primary' id='createNewPronounGroupBtn'>Create New Group</button>`;\n    Swal.fire({\n        title: 'Pick a Pronoun Group',\n        html,\n        showCancelButton: true,\n        showConfirmButton: false,\n        didOpen: () => {\n            const container = Swal.getHtmlContainer();\n            $(container).find('.pronoun-group-btn').on('click', function () {\n                const grp = $(this).data('group');\n                Swal.close();\n                if (state.pronounGroups[grp] && state.pronounGroups[grp][form]) {\n                    insertPronounPlaceholderSimple(grp, form, state.pronounGroups[grp][form]);\n                } else {\n                    choosePronounTempValue(form, grp).then(tempValue => {\n                        state.pronounGroups[grp] = pronounMapping[tempValue] || \n                            { subject: tempValue, object: tempValue, possAdj: tempValue, possPron: tempValue, reflexive: tempValue };\n                        insertPronounPlaceholderSimple(grp, form, state.pronounGroups[grp][form]);\n                    });\n                }\n            });\n            $(container).find('#createNewPronounGroupBtn').on('click', function () {\n                state.pronounGroupCount++;\n                const newGroup = `PronounGroup${state.pronounGroupCount}`;\n                state.pronounGroups[newGroup] = {};\n                Swal.close();\n                choosePronounTempValue(form, newGroup).then(tempValue => {\n                    state.pronounGroups[newGroup] = pronounMapping[tempValue] || \n                        { subject: tempValue, object: tempValue, possAdj: tempValue, possPron: tempValue, reflexive: tempValue };\n                    insertPronounPlaceholderSimple(newGroup, form, state.pronounGroups[newGroup][form]);\n                });\n            });\n        }\n    });\n};\n\nexport const choosePronounTempValue = (form, groupId) => {\n    return Swal.fire({\n        title: 'Select Temporary Pronoun',\n        input: 'radio',\n        inputOptions: {\n            'He/Him': 'He/Him',\n            'She/Her': 'She/Her',\n            'They/Them': 'They/Them',\n            'Custom': 'Custom'\n        },\n        inputValidator: (value) => {\n            if (!value) return 'You need to choose an option!';\n        }\n    }).then(result => {\n        if (result.value === 'Custom') {\n            return Swal.fire({\n                title: 'Enter custom temporary pronoun',\n                input: 'text',\n                inputLabel: 'Temporary pronoun',\n                inputValue: form,\n                showCancelButton: true\n            }).then(res => res.value || form);\n        } else {\n            return result.value;\n        }\n    });\n};","// public/js/core/state.js\r\n\r\n// Create state singleton object\r\nconst state = {\r\n  variables: [],\r\n  variableCounts: {},\r\n  insertionCounter: 0,\r\n  storyText: '',\r\n  customPlaceholders: [],\r\n  fillValues: {},\r\n  pronounGroups: {},\r\n  pronounGroupCount: 0,\r\n  lastRange: null,\r\n  usageTracker: {},\r\n  placeholderInsertionInProgress: false,\r\n  storyHasUnsavedChanges: false,\r\n  fillOrder: 'alphabetical',\r\n  currentStoryId: null,\r\n  currentPlaceholderSearch: '',\r\n  currentModalPlaceholderSearch: '',\r\n  currentEditingVariable: null,\r\n  currentPlaceholderElement: null,\r\n  isEditingPlaceholder: false,\r\n};\r\n\r\n// Export the state object as default export\r\nexport default state;\r\n\r\n// Predefined pronoun mappings\r\nexport const pronounMapping = {\r\n  \"He/Him\": { subject: \"he\", object: \"him\", possAdj: \"his\", possPron: \"his\", reflexive: \"himself\" },\r\n  \"She/Her\": { subject: \"she\", object: \"her\", possAdj: \"her\", possPron: \"hers\", reflexive: \"herself\" },\r\n  \"They/Them\": { subject: \"they\", object: \"them\", possAdj: \"their\", possPron: \"theirs\", reflexive: \"themselves\" }\r\n};\r\n\r\n// Function to reset state to initial values\r\nexport function resetState() {\r\n  state.variables = [];\r\n  state.variableCounts = {};\r\n  state.insertionCounter = 0;\r\n  state.storyText = '';\r\n  state.customPlaceholders = [];\r\n  state.fillValues = {};\r\n  state.pronounGroups = {};\r\n  state.pronounGroupCount = 0;\r\n  state.lastRange = null;\r\n  state.usageTracker = {};\r\n  state.placeholderInsertionInProgress = false;\r\n  state.storyHasUnsavedChanges = false;\r\n  state.fillOrder = 'alphabetical';\r\n  state.currentStoryId = null;\r\n  state.currentPlaceholderSearch = '';\r\n  state.currentModalPlaceholderSearch = '';\r\n  state.currentEditingVariable = null;\r\n  state.currentPlaceholderElement = null;\r\n  state.isEditingPlaceholder = false;\r\n}","// public/js/core/storyProcessor.js\r\nimport state from './state.js';\r\nimport { updateVariablesFromEditor, allPlaceholders, VERB_TENSES } from './placeholders.js';\r\n\r\n/**\r\n * Functions for processing and manipulating story text\r\n */\r\n\r\n// Fill in placeholders with user-provided values\r\nexport const fillPlaceholders = (templateText, variables, fillValues, pronounGroups) => {\r\n    console.log(\"========== FILLING PLACEHOLDERS ==========\");\r\n    console.log(\"Input templateText length:\", templateText?.length || 0);\r\n    console.log(\"Available variables:\", variables?.length || 0);\r\n    console.log(\"Fill values:\", fillValues);\r\n    console.log(\"Placeholder text:\", templateText);\r\n    \r\n    if (!templateText) return '';\r\n    \r\n    // Extract all placeholders from the text\r\n    const placeholderRegex = /\\{([^}]+)\\}/g;\r\n    const placeholders = [];\r\n    let match;\r\n    while ((match = placeholderRegex.exec(templateText)) !== null) {\r\n        placeholders.push({\r\n            fullMatch: match[0],\r\n            id: match[1]\r\n        });\r\n    }\r\n    \r\n    console.log(\"Extracted placeholders:\", placeholders.length);\r\n    placeholders.forEach(p => console.log(`- ${p.fullMatch} (ID: ${p.id})`));\r\n    \r\n    let result = templateText;\r\n    \r\n    // First pass: process placeholders with explicit variables\r\n    for (const variable of variables) {\r\n        const placeholder = `{${variable.id}}`;\r\n        if (result.includes(placeholder)) {\r\n            console.log(`Processing ${placeholder}...`);\r\n            \r\n            // Handle pronouns specially\r\n            if (variable.internalType.startsWith('PRONOUN|')) {\r\n                const parts = variable.internalType.split('|');\r\n                const groupId = parts[1];\r\n                const form = parts[2];\r\n                console.log(`  Handling pronoun: groupId=${groupId}, form=${form}`);\r\n                \r\n                if (pronounGroups && pronounGroups[groupId] && pronounGroups[groupId][form]) {\r\n                    const pronounValue = pronounGroups[groupId][form];\r\n                    console.log(`  Found pronoun value: \"${pronounValue}\"`);\r\n                    result = result.replace(new RegExp(placeholder, 'g'), pronounValue);\r\n                } else {\r\n                    console.warn(`  WARNING: No pronoun value found for group ${groupId} form ${form}`);\r\n                    result = result.replace(new RegExp(placeholder, 'g'), variable.displayOverride || variable.display || '[MISSING PRONOUN]');\r\n                }\r\n            } \r\n            // Handle regular variables\r\n            else if (fillValues && fillValues[variable.id]) {\r\n                console.log(`  Replacing with user-provided value: \"${fillValues[variable.id]}\"`);\r\n                result = result.replace(new RegExp(placeholder, 'g'), fillValues[variable.id]);\r\n            } else {\r\n                console.warn(`  WARNING: No fill value for ${variable.id}`);\r\n                result = result.replace(new RegExp(placeholder, 'g'), variable.displayOverride || '[MISSING VALUE]');\r\n            }\r\n        } else {\r\n            console.log(`Placeholder {${variable.id}} not found in text`);\r\n        }\r\n    }\r\n    \r\n    // Second pass: Check for any remaining placeholders not in the variables list\r\n    let remainingMatch;\r\n    const remainingRegex = /\\{([^}]+)\\}/g;\r\n    while ((remainingMatch = remainingRegex.exec(result)) !== null) {\r\n        const missingId = remainingMatch[1];\r\n        console.warn(`WARNING: Found placeholder {${missingId}} that wasn't in the variables list!`);\r\n        \r\n        // Try to directly replace from fillValues as a last resort\r\n        if (fillValues && fillValues[missingId]) {\r\n            console.log(`  Replacing directly from fillValues with: \"${fillValues[missingId]}\"`);\r\n            result = result.replace(new RegExp(`\\\\{${missingId}\\\\}`, 'g'), fillValues[missingId]);\r\n        } else {\r\n            console.error(`  ERROR: No value available for placeholder {${missingId}}`);\r\n        }\r\n    }\r\n    \r\n    console.log(\"Final text after replacements:\", result);\r\n    return result;\r\n};\r\n\r\n// Parse uploaded story text file\r\nexport const parseStoryFile = (content) => {\r\n    const titleMatch = content.match(/^Title:\\s*(.*)$/m);\r\n    const authorMatch = content.match(/^Author:\\s*(.*)$/m);\r\n    const storyStartIndex = content.indexOf('\\n\\n');\r\n    const storyContent = storyStartIndex !== -1 ? content.substring(storyStartIndex + 2) : content;\r\n    \r\n    return {\r\n        title: titleMatch ? titleMatch[1] : '',\r\n        author: authorMatch ? authorMatch[1] : '',\r\n        content: storyContent\r\n    };\r\n};\r\n\r\n// Format story for export/download\r\nexport const formatStoryForExport = (title, author, content) => {\r\n    return `Title: ${title}\\nAuthor: ${author}\\n\\n${content}`;\r\n};\r\n\r\n// Create download filename from title\r\nexport const createFilenameFromTitle = (title) => {\r\n    return title ? title.replace(/[^a-z0-9]/gi, '_').toLowerCase() + '.txt' : 'story.txt';\r\n};\r\n\r\n// Reset story state for a new story\r\nexport const resetStoryState = () => {\r\n    // Clear DOM fields\r\n    $('#storyTitle').val('');\r\n    $('#storyAuthor').val('');\r\n    $('#storyText').html('');\r\n    $('#storyTags').val('');\r\n    \r\n    // Reset state variables\r\n    state.variables = [];\r\n    state.variableCounts = {};\r\n    state.insertionCounter = 0;\r\n    state.customPlaceholders = [];\r\n    state.fillValues = {};\r\n    state.pronounGroups = {};\r\n    state.pronounGroupCount = 0;\r\n    state.storyHasUnsavedChanges = false;\r\n    \r\n    // Show editor view\r\n    $('#editor').removeClass('d-none');\r\n    $('#inputs, #result').addClass('d-none');\r\n    \r\n    // Update UI\r\n    updateVariablesFromEditor();\r\n};\r\n\r\n// Load story data into the editor\r\nexport const loadStoryIntoEditor = (storyData) => {\r\n    $('#storyTitle').val(storyData.title || '');\r\n    $('#storyAuthor').val(storyData.author || '');\r\n    $('#storyText').html(storyData.content || '');\r\n    $('#storyTags').val(storyData.tags ? storyData.tags.join(', ') : '');\r\n    \r\n    // Reset state with the loaded story's data\r\n    state.variables = storyData.variables || [];\r\n    state.variableCounts = storyData.variableCounts || {};\r\n    state.insertionCounter = 0;\r\n    state.customPlaceholders = storyData.customPlaceholders || [];\r\n    state.fillValues = storyData.fillValues || {};\r\n    state.pronounGroups = storyData.pronounGroups || {};\r\n    state.pronounGroupCount = storyData.pronounGroupCount || 0;\r\n    state.storyHasUnsavedChanges = false;\r\n    \r\n    // Update UI based on the loaded story\r\n    updateVariablesFromEditor();\r\n};","// public/js/data/storage.js\r\nimport state from '../core/state.js';\r\nimport { updateVariablesFromEditor } from '../core/placeholders.js';\r\nimport { buildFillForm } from '../ui/forms.js';\r\nimport { Utils, decodeHTMLEntities } from '../utils/utils.js';\r\n\r\n// Define the base URL for all API calls - UPDATED to be dynamic\r\nconst API_BASE_URL = (() => {\r\n    // If we're running on localhost with a specific port, use it with port 3000\r\n    if (window.location.hostname === 'localhost') {\r\n        return 'http://localhost:3000';\r\n    }\r\n    // For all other cases (production), use the same origin with correct port\r\n    return `${window.location.protocol}//${window.location.hostname}:3000`;\r\n})();\r\n\r\nconsole.log(`Using API base URL: ${API_BASE_URL}`);\r\n\r\nexport const Storage = {\r\n    handleAjaxError: (xhr, statusText, errorThrown, customErrorMessage) => {\r\n        let errorMessage = customErrorMessage || 'Failed to perform action';\r\n        if (xhr.status) {\r\n            errorMessage += `. Server responded with status: ${xhr.status} ${xhr.statusText}`;\r\n        } else if (statusText) {\r\n            errorMessage += `. Status text: ${statusText}`;\r\n        } else if (errorThrown) {\r\n            errorMessage += `. Error: ${errorThrown}`;\r\n        }\r\n        Swal.fire('Error', errorMessage, 'error');\r\n        console.error(\"AJAX Error:\", errorMessage, xhr);\r\n    },\r\n    \r\n    addCurrentStoryToSavedStories: () => {\r\n        Swal.fire({\r\n            title: 'Save Story',\r\n            html: `\r\n              <input type=\"text\" id=\"swalTitle\" class=\"swal2-input\" placeholder=\"Story Title\" value=\"${$('#storyTitle').val()}\">\r\n              <input type=\"text\" id=\"swalAuthor\" class=\"swal2-input\" placeholder=\"Author\" value=\"${$('#storyAuthor').val()}\">\r\n              <input type=\"text\" id=\"swalTags\" class=\"swal2-input\" placeholder=\"Tags (comma separated)\" value=\"${$('#storyTags').val()}\">\r\n              <input type=\"password\" id=\"swalPassword\" class=\"swal2-input\" placeholder=\"Password (optional)\">\r\n              <div id=\"preexistingTagsContainer\" style=\"text-align:left; margin-top:10px;\"></div>\r\n            `,\r\n            didOpen: () => {\r\n                // We need to import and call loadPreexistingTags from events.js\r\n                // This requires proper module handling\r\n                const container = $('#preexistingTagsContainer');\r\n                $.ajax({\r\n                    url: `${API_BASE_URL}/api/gettags`,\r\n                    method: 'GET',\r\n                    success: (tags) => {\r\n                        container.empty();\r\n                        if (tags.length > 0) {\r\n                            container.append('<p>Select a tag:</p>');\r\n                            tags.forEach(tag => {\r\n                                const btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\r\n                                btn.text(tag);\r\n                                btn.on('click', () => {\r\n                                    let current = $('#swalTags').val();\r\n                                    let tagsArr = current ? current.split(',').map(t => t.trim()).filter(Boolean) : [];\r\n                                    if (!tagsArr.includes(tag)) {\r\n                                        tagsArr.push(tag);\r\n                                        $('#swalTags').val(tagsArr.join(', '));\r\n                                    }\r\n                                });\r\n                                container.append(btn);\r\n                            });\r\n                        }\r\n                    },\r\n                    error: (err) => {\r\n                        console.error('Failed to load preexisting tags', err);\r\n                    }\r\n                });\r\n            },\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Save',\r\n            preConfirm: () => {\r\n                return {\r\n                    title: document.getElementById('swalTitle').value,\r\n                    author: document.getElementById('swalAuthor').value,\r\n                    tags: document.getElementById('swalTags').value,\r\n                    password: document.getElementById('swalPassword').value\r\n                };\r\n            }\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const data = result.value;\r\n                // Update fields in the editor\r\n                $('#storyTitle').val(data.title);\r\n                $('#storyAuthor').val(data.author);\r\n                $('#storyTags').val(data.tags);\r\n                \r\n                const story = {\r\n                    storyTitle: data.title,\r\n                    storyAuthor: data.author,\r\n                    storyText: $('#storyText').html(),\r\n                    variables: state.variables,\r\n                    pronounGroups: state.pronounGroups,\r\n                    variableCounts: state.variableCounts,   \r\n                    pronounGroupCount: state.pronounGroupCount,\r\n                    customPlaceholders: state.customPlaceholders,\r\n                    tags: data.tags ? data.tags.split(',').map(s => s.trim()) : [],\r\n                    savedAt: new Date().toISOString(),\r\n                    password: data.password && data.password.trim() !== '' ? data.password : null\r\n                };\r\n                \r\n                $.ajax({\r\n                    url: `${API_BASE_URL}/api/savestory`,\r\n                    method: 'POST',\r\n                    contentType: 'application/json',\r\n                    data: JSON.stringify(story),\r\n                    success: () => {\r\n                        Swal.fire({\r\n                            toast: true,\r\n                            position: 'top-end',\r\n                            icon: 'success',\r\n                            title: 'Story saved to site!',\r\n                            showConfirmButton: false,\r\n                            timer: 1500\r\n                        });\r\n                    },\r\n                    error: (xhr, statusText, errorThrown) => {\r\n                        if (xhr.status === 409) {\r\n                            Swal.fire({\r\n                                title: 'Story exists',\r\n                                text: 'A story with this title already exists. Overwrite?',\r\n                                icon: 'warning',\r\n                                showCancelButton: true,\r\n                                confirmButtonText: 'Yes, overwrite',\r\n                                cancelButtonText: 'No'\r\n                            }).then((result) => {\r\n                                if (result.isConfirmed) {\r\n                                    // Create a new story object with the overwrite flag\r\n                                    let storyWithOverwrite = {\r\n                                        storyTitle: $('#storyTitle').val(),\r\n                                        storyAuthor: $('#storyAuthor').val(),\r\n                                        storyText: $('#storyText').html(),\r\n                                        variables: state.variables,\r\n                                        pronounGroups: state.pronounGroups,\r\n                                        variableCounts: state.variableCounts,   \r\n                                        pronounGroupCount: state.pronounGroupCount,\r\n                                        customPlaceholders: state.customPlaceholders,\r\n                                        tags: $('#storyTags').val() ? $('#storyTags').val().split(',').map(s => s.trim()) : [],\r\n                                        savedAt: new Date().toISOString(),\r\n                                        password: null,\r\n                                        overwrite: true  // Add the overwrite flag\r\n                                    };\r\n\r\n                                    $.ajax({\r\n                                        url: `${API_BASE_URL}/api/savestory`,\r\n                                        method: 'POST',\r\n                                        contentType: 'application/json',\r\n                                        data: JSON.stringify(storyWithOverwrite),\r\n                                        success: () => {\r\n                                            Swal.fire({\r\n                                                toast: true,\r\n                                                position: 'top-end',\r\n                                                icon: 'success',\r\n                                                title: 'Story overwritten!',\r\n                                                showConfirmButton: false,\r\n                                                timer: 1500\r\n                                            });\r\n                                        },\r\n                                        error: (xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) => {\r\n                                            Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite story');\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        } else {\r\n                            Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save story');\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    },\r\n    \r\n    addCompletedStoryToSavedStories: () => {\r\n        Swal.fire({\r\n            title: 'Save Completed Story',\r\n            html: `\r\n              <input type=\"text\" id=\"swalTitle\" class=\"swal2-input\" placeholder=\"Story Title\" value=\"${$('#displayTitle').text()}\">\r\n              <input type=\"text\" id=\"swalAuthor\" class=\"swal2-input\" placeholder=\"Author\" value=\"${$('#displayAuthor').text()}\">\r\n              <input type=\"text\" id=\"swalTags\" class=\"swal2-input\" placeholder=\"Tags (comma separated)\" value=\"${$('#displayTags').text()}\">\r\n              <input type=\"password\" id=\"swalPassword\" class=\"swal2-input\" placeholder=\"Password (optional)\">\r\n              <div id=\"preexistingTagsContainer\" style=\"text-align:left; margin-top:10px;\"></div>\r\n            `,\r\n            didOpen: () => {\r\n                // We need to import and call loadPreexistingTags from events.js\r\n                // This requires proper module handling\r\n                const container = $('#preexistingTagsContainer');\r\n                $.ajax({\r\n                    url: `${API_BASE_URL}/api/gettags`,\r\n                    method: 'GET',\r\n                    success: (tags) => {\r\n                        container.empty();\r\n                        if (tags.length > 0) {\r\n                            container.append('<p>Select a tag:</p>');\r\n                            tags.forEach(tag => {\r\n                                const btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\r\n                                btn.text(tag);\r\n                                btn.on('click', () => {\r\n                                    let current = $('#swalTags').val();\r\n                                    let tagsArr = current ? current.split(',').map(t => t.trim()).filter(Boolean) : [];\r\n                                    if (!tagsArr.includes(tag)) {\r\n                                        tagsArr.push(tag);\r\n                                        $('#swalTags').val(tagsArr.join(', '));\r\n                                    }\r\n                                });\r\n                                container.append(btn);\r\n                            });\r\n                        }\r\n                    },\r\n                    error: (err) => {\r\n                        console.error('Failed to load preexisting tags', err);\r\n                    }\r\n                });\r\n            },\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Save',\r\n            preConfirm: () => {\r\n                return {\r\n                    title: document.getElementById('swalTitle').value,\r\n                    author: document.getElementById('swalAuthor').value,\r\n                    tags: document.getElementById('swalTags').value,\r\n                    password: document.getElementById('swalPassword').value\r\n                };\r\n            }\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const data = result.value;\r\n                // Update display in the result section\r\n                $('#displayTitle').text(data.title);\r\n                $('#displayAuthor').text(data.author);\r\n                $('#displayTags').text(data.tags);\r\n                \r\n                const story = {\r\n                    storyTitle: data.title,\r\n                    storyAuthor: data.author,\r\n                    storyText: state.storyText,\r\n                    variables: state.variables,\r\n                    pronounGroups: state.pronounGroups,\r\n                    variableCounts: state.variableCounts,\r\n                    pronounGroupCount: state.pronounGroupCount,\r\n                    customPlaceholders: state.customPlaceholders,\r\n                    tags: data.tags ? data.tags.split(',').map(s => s.trim()) : [],\r\n                    savedAt: new Date().toISOString(),\r\n                    password: data.password && data.password.trim() !== '' ? data.password : null\r\n                };\r\n                \r\n                $.ajax({\r\n                    url: `${API_BASE_URL}/api/savestory`,\r\n                    method: 'POST',\r\n                    contentType: 'application/json',\r\n                    data: JSON.stringify(story),\r\n                    success: () => {\r\n                        Swal.fire({\r\n                            toast: true,\r\n                            position: 'top-end',\r\n                            icon: 'success',\r\n                            title: 'Completed story saved to site!',\r\n                            showConfirmButton: false,\r\n                            timer: 1500\r\n                        });\r\n                    },\r\n                    error: (xhr, statusText, errorThrown) => {\r\n                        if (xhr.status === 409) {\r\n                            Swal.fire({\r\n                                title: 'Story exists',\r\n                                text: 'A story with this title already exists. Overwrite?',\r\n                                icon: 'warning',\r\n                                showCancelButton: true,\r\n                                confirmButtonText: 'Yes, overwrite',\r\n                                cancelButtonText: 'No'\r\n                            }).then((result) => {\r\n                                if (result.isConfirmed) {\r\n                                    story.overwrite = true;\r\n                                    $.ajax({\r\n                                        url: `${API_BASE_URL}/api/savestory`,\r\n                                        method: 'POST',\r\n                                        contentType: 'application/json',\r\n                                        data: JSON.stringify(story),\r\n                                        success: () => {\r\n                                            Swal.fire({\r\n                                                toast: true,\r\n                                                position: 'top-end',\r\n                                                icon: 'success',\r\n                                                title: 'Completed story overwritten!',\r\n                                                showConfirmButton: false,\r\n                                                timer: 1500\r\n                                            });\r\n                                        },\r\n                                        error: (xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) => {\r\n                                            Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite completed story');\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        } else {\r\n                            Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save completed story');\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    },\r\n    \r\n    loadSavedStoriesList: () => {\r\n        const tag = $('#filterTag').val();\r\n        const sort = $('#sortOption').val();\r\n        $.ajax({\r\n            url: `${API_BASE_URL}/api/getstories?tag=${encodeURIComponent(tag || '')}&sort=${encodeURIComponent(sort || 'date_desc')}`,\r\n            method: 'GET',\r\n            success: (stories) => {\r\n                // Store the fetched stories globally for later reference\r\n                window.savedStories = stories;\r\n                const $listContainer = $('#savedStoriesList').empty();\r\n                if (!stories.length) {\r\n                    $listContainer.append('<p>No stories saved yet.</p>');\r\n                    return;\r\n                }\r\n                stories.forEach((story, index) => {\r\n                    const dateObj = new Date(story.savedAt);\r\n                    const dateStr = dateObj.toLocaleDateString() + \" \" + dateObj.toLocaleTimeString();\r\n                    const tags = story.tags && story.tags.length ? story.tags.join(', ') : 'No tags';\r\n                    const ratingDisplay = story.ratingCount ? `Rating: ${story.rating.toFixed(1)} (${story.ratingCount} votes)` : 'No ratings';\r\n                    const lockIndicator = story.locked ? `<i class=\"fas fa-lock\" title=\"Password Protected\"></i> ` : '';\r\n                    const item = $(`\r\n                      <div class=\"list-group-item p-2\">\r\n                        <div class=\"d-flex justify-content-between align-items-center\">\r\n                          <div>\r\n                            <strong>${lockIndicator}${story.storyTitle || 'Untitled'}</strong><br>\r\n                            <small>${story.storyAuthor || 'Unknown'} | ${dateStr}</small><br>\r\n                            <small>${tags} | ${ratingDisplay}</small>\r\n                          </div>\r\n                          <div>\r\n                            <button class=\"btn btn-sm btn-secondary editSavedStoryBtn\" data-index=\"${index}\" aria-label=\"Edit Story\">\r\n                              <i class=\"fas fa-edit\"></i>\r\n                            </button>\r\n                            <button class=\"btn btn-sm btn-success loadSavedStoryBtn\" data-index=\"${index}\" aria-label=\"Play Story\">\r\n                              <i class=\"fas fa-play\"></i>\r\n                            </button>\r\n                            <button class=\"btn btn-sm btn-danger deleteSavedStoryBtn\" data-title=\"${story.storyTitle}\" aria-label=\"Delete Story\">\r\n                              <i class=\"fas fa-trash-alt\"></i>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    `);\r\n                    $listContainer.append(item);\r\n                });\r\n            },\r\n            error: (xhr, statusText, errorThrown) => {\r\n                Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to load saved stories list');\r\n            }\r\n        });\r\n    },\r\n    \r\n    createSavedStoryListItem: (story, index, dateStr) => {\r\n        return $(`\r\n            <div class=\"list-group-item p-2\">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <strong>${story.storyTitle || 'Untitled'}</strong><br>\r\n                  <small>${story.storyAuthor || 'Unknown'} | ${dateStr}</small>\r\n                </div>\r\n                <div>\r\n                  <button class=\"btn btn-sm btn-secondary editSavedStoryBtn\" data-index=\"${index}\" aria-label=\"Edit Story\">\r\n                    <i class=\"fas fa-edit\"></i>\r\n                  </button>\r\n                  <button class=\"btn btn-sm btn-success loadSavedStoryBtn\" data-index=\"${index}\" aria-label=\"Play Story\">\r\n                    <i class=\"fas fa-play\"></i>\r\n                  </button>\r\n                  <button class=\"btn btn-sm btn-danger deleteSavedStoryBtn\" data-title=\"${story.storyTitle}\" aria-label=\"Delete Story\">\r\n                    <i class=\"fas fa-trash-alt\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        `);\r\n    },\r\n    \r\n    loadSavedStory: (index, mode = \"edit\") => {\r\n        const stories = window.savedStories || [];\r\n        const story = stories[index];\r\n        if (!story) {\r\n            Swal.fire('Error', 'Story not found.', 'error');\r\n            return;\r\n        }\r\n        // NEW: If the story is locked, prompt for the password.\r\n        if (story.locked) {\r\n            Swal.fire({\r\n                title: 'Enter Password',\r\n                input: 'password',\r\n                inputPlaceholder: 'Password',\r\n                showCancelButton: true,\r\n                inputAttributes: { autocapitalize: 'off', autocorrect: 'off' }\r\n            }).then(result => {\r\n                if (result.value) {\r\n                    $.ajax({\r\n                        url: `${API_BASE_URL}/api/unlockstory`,\r\n                        method: 'POST',\r\n                        contentType: 'application/json',\r\n                        data: JSON.stringify({ storyId: story._id, password: result.value }),\r\n                        success: (unlockedStory) => {\r\n                            Storage.populateEditorWithStory(unlockedStory, mode);\r\n                            state.currentStoryId = unlockedStory._id || null;\r\n                            $('#displayStoryId').text(state.currentStoryId);\r\n                            Swal.fire({ toast: true, position: 'top-end', icon: 'success', title: 'Story loaded!', showConfirmButton: false, timer: 1500 });\r\n                        },\r\n                        error: (xhr, statusText, errorThrown) => {\r\n                            Storage.handleAjaxError(xhr, statusText, errorThrown, 'Incorrect password or failed to unlock story');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            Storage.populateEditorWithStory(story, mode);\r\n            state.currentStoryId = story._id || null;\r\n            $('#displayStoryId').text(state.currentStoryId);\r\n            Swal.fire({ toast: true, position: 'top-end', icon: 'success', title: 'Story loaded!', showConfirmButton: false, timer: 1500 });\r\n        }\r\n    },\r\n\r\n    populateEditorWithStory: (story, mode) => {\r\n        $('#storyTitle').val(story.storyTitle);\r\n        $('#storyAuthor').val(story.storyAuthor);\r\n        $('#storyText').html(decodeHTMLEntities(story.storyText));\r\n        // NEW: Populate tags input if editing a story.\r\n        if (story.tags && story.tags.length) {\r\n            $('#storyTags').val(story.tags.join(', '));\r\n        }\r\n        // Also store rating info in a display area (if desired)\r\n        if (mode === \"play\" && story.ratingCount) {\r\n            $('#ratingSection').show();\r\n        } else {\r\n            $('#ratingSection').hide();\r\n        }\r\n        state.variables = [];\r\n        state.variableCounts = {};\r\n        state.insertionCounter = 0;\r\n        state.fillValues = story.fillValues || {};\r\n        state.pronounGroups = story.pronounGroups || {};\r\n        state.pronounGroupCount = story.pronounGroupCount || 0;\r\n        state.customPlaceholders = story.customPlaceholders || [];\r\n        updateVariablesFromEditor();\r\n        if (mode === \"edit\") {\r\n            $('#editor').removeClass('d-none');\r\n            $('#inputs, #result').addClass('d-none');\r\n        } else if (mode === \"play\") {\r\n            buildFillForm();\r\n            $('#inputs').removeClass('d-none');\r\n            $('#editor, #result').addClass('d-none');\r\n        }\r\n    },\r\n    \r\n    deleteSavedStory: (title) => {\r\n        $.ajax({\r\n            url: `${API_BASE_URL}/api/deletestory`,\r\n            method: 'DELETE',\r\n            contentType: 'application/json',\r\n            data: JSON.stringify({ storyTitle: title }),\r\n            success: () => {\r\n                Swal.fire({\r\n                    toast: true,\r\n                    position: 'top-end',\r\n                    icon: 'success',\r\n                    title: 'Story deleted!',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                });\r\n                Storage.loadSavedStoriesList();\r\n            },\r\n            error: (xhr, statusText, errorThrown) => {\r\n                Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to delete story');\r\n            }\r\n        });\r\n    }\r\n};","// public/js/handlers/events.js\r\nimport state from '../core/state.js';\r\nimport { Storage } from '../data/storage.js';\r\nimport { Utils } from '../utils/utils.js';\r\nimport { StringUtils } from '../utils/StringUtils.js';\r\nimport { TypeHelpers } from '../utils/typeHelpers.js';\r\nimport { \r\n    updatePlaceholderAccordion, \r\n    updateVariablesFromEditor, \r\n    generateLegacyText,\r\n    addCustomPlaceholder,\r\n    showNounNumberSelection,\r\n    showVerbTenseSelection,\r\n    insertPlaceholderFromCustom,\r\n    pickPronounFormAndGroup,\r\n    updateVariablesList,\r\n    duplicatePlaceholder,\r\n    updateExistingPlaceholder,\r\n    insertPlaceholder,\r\n    showPersonTypeSelection\r\n} from '../core/placeholders.js';\r\nimport { buildFillForm, validateInputForm } from '../ui/forms.js';\r\nimport { \r\n    fillPlaceholders, \r\n    parseStoryFile, \r\n    formatStoryForExport, \r\n    createFilenameFromTitle,\r\n    resetStoryState\r\n} from '../core/storyProcessor.js';\r\nimport * as domUtils from '../utils/domUtils.js';\r\nimport Swal from 'sweetalert2'; // Ensure Swal is imported if used\r\nimport { showToast } from '../ui/notifications.js';\r\n\r\n// Handle placeholder button click\r\nconst handlePlaceholderClick = (internalType, displayName) => {\r\n    if (state.isEditingPlaceholder && state.currentEditingVariable) {\r\n        updateExistingPlaceholder(state.currentEditingVariable, internalType, displayName);\r\n        state.isEditingPlaceholder = false;\r\n        state.currentEditingVariable = null;\r\n        $('#placeholderModal').modal('hide');\r\n    } else {\r\n        if (internalType === \"PRONOUN\") {\r\n            pickPronounFormAndGroup();\r\n            $('#placeholderSearch').val('');\r\n            updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n            return;\r\n        }\r\n        if (internalType.startsWith(\"NN\")) {\r\n            if (internalType === \"NN_Person\") {\r\n                showPersonTypeSelection(internalType, displayName);\r\n                $('#placeholderSearch').val('');\r\n                updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n                return;\r\n            }\r\n            showNounNumberSelection(internalType, displayName);\r\n            $('#placeholderSearch').val('');\r\n            updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n            return;\r\n        }\r\n\r\n        if (internalType.startsWith(\"VB\") || internalType === \"MD\") {\r\n            showVerbTenseSelection(internalType, displayName);\r\n            $('#placeholderSearch').val('');\r\n            updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n            return;\r\n        }\r\n        insertPlaceholder(internalType, displayName, false);\r\n        $('#placeholderSearch').val('');\r\n        updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n    }\r\n};\r\n\r\n// Handle create new story button click\r\nconst handleCreateNewStory = (e) => {\r\n    e.preventDefault();\r\n    if (state.storyHasUnsavedChanges) {\r\n        domUtils.confirmDialog({\r\n            title: 'Unsaved changes',\r\n            text: 'Your story has unsaved changes. Would you like to save it to the site before starting a new one?',\r\n            showDenyButton: true,\r\n            confirmButtonText: 'Save and start new',\r\n            denyButtonText: 'Discard changes'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                Storage.addCurrentStoryToSavedStories();\r\n                setTimeout(resetStoryState, 1000);\r\n            } else if (result.isDenied) {\r\n                domUtils.confirmDialog({\r\n                    title: 'Are you sure?',\r\n                    text: 'This will discard your current unsaved story.',\r\n                    confirmButtonText: 'Yes, start new'\r\n                }).then((res) => {\r\n                    if (res.isConfirmed) resetStoryState();\r\n                });\r\n            }\r\n        });\r\n    } else {\r\n        domUtils.confirmDialog({\r\n            title: 'Are you sure?',\r\n            text: 'This will discard your current story.',\r\n            confirmButtonText: 'Yes, start new'\r\n        }).then((res) => {\r\n            if (res.isConfirmed) resetStoryState();\r\n        });\r\n    }\r\n};\r\n\r\n// Handle generate story button click\r\nconst handleGenerateStory = () => {\r\n    // Use the form validation function from forms.js\r\n    if (!validateInputForm()) {\r\n        return; // Validation failed\r\n    }\r\n    \r\n    // Collect values from the input form\r\n    const inputForm = document.getElementById('inputForm');\r\n    const inputs = inputForm.querySelectorAll('input[type=\"text\"]');\r\n    \r\n    // Reset fillValues\r\n    state.fillValues = {};\r\n    \r\n    // Populate fillValues with the values from the input fields\r\n    inputs.forEach(input => {\r\n        const id = input.getAttribute('data-id');\r\n        if (id && input.value.trim() !== '') {\r\n            state.fillValues[id] = input.value.trim();\r\n            console.log(`Collected input value for ${id}: \"${input.value.trim()}\"`);\r\n        }\r\n    });\r\n    \r\n    // Generate the final story with replacements\r\n    let final = generateLegacyText();\r\n    final = fillPlaceholders(final, state.variables, state.fillValues, state.pronounGroups);\r\n    \r\n    // Update the result display\r\n    $('#finalStory').text(final);\r\n    $('#displayTitle').text($('#storyTitle').val());\r\n    $('#displayAuthor').text($('#storyAuthor').val());\r\n    $('#displayTags').text($('#storyTags').val());\r\n    $('#result').removeClass('d-none');\r\n    $('#inputs').addClass('d-none');\r\n};\r\n\r\n// Handle save story to site button\r\nconst handleSaveStoryToSite = () => {\r\n    Swal.fire({\r\n        title: 'Save Story',\r\n        html: `\r\n          <input type=\"text\" id=\"swalTitle\" class=\"swal2-input\" placeholder=\"Story Title\" value=\"${$('#storyTitle').val()}\">\r\n          <input type=\"text\" id=\"swalAuthor\" class=\"swal2-input\" placeholder=\"Author\" value=\"${$('#storyAuthor').val()}\">\r\n          <input type=\"text\" id=\"swalTags\" class=\"swal2-input\" placeholder=\"Tags (comma separated)\" value=\"${$('#storyTags').val()}\">\r\n          <input type=\"password\" id=\"swalPassword\" class=\"swal2-input\" placeholder=\"Password (optional)\">\r\n          <div id=\"preexistingTagsContainer\" style=\"text-align:left; margin-top:10px;\"></div>\r\n        `,\r\n        didOpen: () => {\r\n          loadPreexistingTags();\r\n        },\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Save',\r\n        preConfirm: () => {\r\n          return {\r\n            title: document.getElementById('swalTitle').value,\r\n            author: document.getElementById('swalAuthor').value,\r\n            tags: document.getElementById('swalTags').value,\r\n            password: document.getElementById('swalPassword').value\r\n          };\r\n        }\r\n    }).then((result) => {\r\n        if (result.isConfirmed) {\r\n            const data = result.value;\r\n            // Update fields in the editor\r\n            $('#storyTitle').val(data.title);\r\n            $('#storyAuthor').val(data.author);\r\n            $('#storyTags').val(data.tags);\r\n            \r\n            let story = {\r\n                storyTitle: data.title,\r\n                storyAuthor: data.author,\r\n                storyText: $('#storyText').html(),\r\n                variables: state.variables,\r\n                pronounGroups: state.pronounGroups,\r\n                variableCounts: state.variableCounts,\r\n                pronounGroupCount: state.pronounGroupCount,\r\n                customPlaceholders: state.customPlaceholders,\r\n                tags: data.tags ? data.tags.split(',').map(s => s.trim()) : [],\r\n                savedAt: new Date().toISOString(),\r\n                password: data.password && data.password.trim() !== '' ? data.password : null\r\n            };\r\n            \r\n            $.ajax({\r\n                url: '/api/savestory',\r\n                method: 'POST',\r\n                contentType: 'application/json',\r\n                data: JSON.stringify(story),\r\n                success: () => {\r\n                    Swal.fire({\r\n                        toast: true,\r\n                        position: 'top-end',\r\n                        icon: 'success',\r\n                        title: 'Story saved to site!',\r\n                        showConfirmButton: false,\r\n                        timer: 1500\r\n                    });\r\n                },\r\n                error: (xhr, statusText, errorThrown) => {\r\n                    if (xhr.status === 409) {\r\n                        Swal.fire({\r\n                            title: 'Story exists',\r\n                            text: 'A story with this title already exists. Overwrite?',\r\n                            icon: 'warning',\r\n                            showCancelButton: true,\r\n                            confirmButtonText: 'Yes, overwrite',\r\n                            cancelButtonText: 'No'\r\n                        }).then((result) => {\r\n                            if (result.isConfirmed) {\r\n                                story.overwrite = true;\r\n                                $.ajax({\r\n                                    url: '/api/savestory',\r\n                                    method: 'POST',\r\n                                    contentType: 'application/json',\r\n                                    data: JSON.stringify(story),\r\n                                    success: () => {\r\n                                        Swal.fire({\r\n                                            toast: true,\r\n                                            position: 'top-end',\r\n                                            icon: 'success',\r\n                                            title: 'Story overwritten!',\r\n                                            showConfirmButton: false,\r\n                                            timer: 1500\r\n                                        });\r\n                                    },\r\n                                    error: (xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) => {\r\n                                        Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite story');\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                    } else {\r\n                        Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save story');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\n// Load preexisting tags for tag selector\r\nconst loadPreexistingTags = () => {\r\n    $.ajax({\r\n        url: '/api/gettags',\r\n        method: 'GET',\r\n        success: (tags) => {\r\n            let container = $('#preexistingTagsContainer');\r\n            container.empty();\r\n            if (tags.length > 0) {\r\n                container.append('<p>Select a tag:</p>');\r\n                tags.forEach(tag => {\r\n                    const btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\r\n                    btn.text(tag);\r\n                    btn.on('click', () => {\r\n                        let current = $('#swalTags').val();\r\n                        let tagsArr = current ? current.split(',').map(t => t.trim()).filter(Boolean) : [];\r\n                        if (!tagsArr.includes(tag)) {\r\n                            tagsArr.push(tag);\r\n                            $('#swalTags').val(tagsArr.join(', '));\r\n                        }\r\n                    });\r\n                    container.append(btn);\r\n                });\r\n            }\r\n        },\r\n        error: (err) => {\r\n            console.error('Failed to load preexisting tags', err);\r\n        }\r\n    });\r\n};\r\n\r\n// Attach all event handlers\r\nexport const initEvents = () => {\r\n    // Placeholder button click handler\r\n    $(document).on('click', '.placeholder-btn', function() {\r\n        const internalType = $(this).data('internal');\r\n        const displayName = $(this).data('display');\r\n        handlePlaceholderClick(internalType, displayName);\r\n    });\r\n    \r\n    // Fill info icon click handler\r\n    $(document).on('click', '.fill-info-icon', (e) => {\r\n        e.stopPropagation();\r\n        const type = $(e.currentTarget).data('type');\r\n        const tooltip = TypeHelpers.getTooltipForType(type);\r\n        domUtils.showToast(tooltip, 'info');\r\n    });\r\n    \r\n    // Add accordion info icon click handler\r\n    $(document).on('click', '.accordion-info-icon', (e) => {\r\n        e.stopPropagation();\r\n        const tooltip = $(e.currentTarget).data('tooltip');\r\n        domUtils.showToast(tooltip, 'info');\r\n    });\r\n    \r\n    // Show more toggle event handler\r\n    $(document).on('click', '.show-more-toggle', function () {\r\n        const parentList = $(this).closest('.list-group');\r\n        const hiddenItems = parentList.find('.secondary-placeholder-wrapper .secondary-placeholder');\r\n        const link = $(this);\r\n        link.text(link.text() === 'Show More' ? 'Show Less' : 'Show More');\r\n        hiddenItems.toggle();\r\n    });\r\n    \r\n    // Add copy to clipboard handler\r\n    $('#copyStory').on('click', () => {\r\n        const finalText = $('#finalStory').text();\r\n        domUtils.copyToClipboard(finalText);\r\n    });\r\n\r\n    // Selection changes\r\n    document.addEventListener('selectionchange', () => {\r\n        const editor = document.getElementById(\"storyText\");\r\n        const sel = window.getSelection();\r\n        if (sel.rangeCount > 0 && editor.contains(sel.anchorNode)) {\r\n            state.lastRange = sel.getRangeAt(0);\r\n        }\r\n    });\r\n\r\n    // Attach search handlers with a reduced debounce delay (50ms)\r\n    $('#placeholderSearch').on('input', Utils.debounce(function () {\r\n        const searchVal = $(this).val();\r\n        updatePlaceholderAccordion('#placeholderAccordion', '#noResults', searchVal);\r\n        $('#addCustomPlaceholderBtn').text('Add \"' + searchVal + '\"');\r\n    }, 50));\r\n\r\n    $('#modalPlaceholderSearch').on('input', Utils.debounce(function () {\r\n        const searchVal = $(this).val();\r\n        updatePlaceholderAccordion('#modalPlaceholderAccordion', '#modalNoResults', searchVal);\r\n        $('#modalAddCustomPlaceholderBtn').text('Add \"' + searchVal + '\"');\r\n    }, 50));\r\n\r\n    // Init accordions\r\n    updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n    updatePlaceholderAccordion('#modalPlaceholderAccordion', '#modalNoResults', state.currentModalPlaceholderSearch);\r\n    \r\n    // Filter tag input handler\r\n    $('#filterTag').on('input', Utils.debounce(() => {\r\n        Storage.loadSavedStoriesList();\r\n    }, 300));\r\n\r\n    // Sort option change handler\r\n    $('#sortOption').on('change', () => {\r\n        Storage.loadSavedStoriesList();\r\n    });\r\n\r\n    // Alphabetical order button\r\n    $('#alphabeticalOrderBtn').on('click', function () {\r\n        state.fillOrder = 'alphabetical';\r\n        $(this).removeClass('btn-outline-secondary').addClass('btn-outline-primary');\r\n        $('#randomOrderBtn').removeClass('btn-outline-primary').addClass('btn-outline-secondary');\r\n        buildFillForm();\r\n    });\r\n\r\n    // Random order button\r\n    $('#randomOrderBtn').on('click', function () {\r\n        state.fillOrder = 'random';\r\n        $(this).removeClass('btn-outline-secondary').addClass('btn-outline-primary');\r\n        $('#alphabeticalOrderBtn').removeClass('btn-outline-primary').addClass('btn-outline-secondary');\r\n        buildFillForm();\r\n    });\r\n\r\n    // Tag autocomplete\r\n    $(\"#filterTag\").autocomplete({\r\n        source: function (request, response) {\r\n            $.ajax({\r\n                url: '/api/gettags',\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                success: (tags) => {\r\n                    const filteredTags = $.ui.autocomplete.filter(tags, request.term);\r\n                    response(filteredTags);\r\n                },\r\n                error: (err) => {\r\n                    console.error('Failed to load tags for autocomplete', err);\r\n                    response([]);\r\n                }\r\n            });\r\n        },\r\n        minLength: 1,\r\n        select: (event, ui) => {\r\n            $(\"#filterTag\").val(ui.item.value);\r\n            $(\"#applyFilters\").click();\r\n            return false;\r\n        }\r\n    });\r\n\r\n    // Apply filters button\r\n    $('#applyFilters').on('click', () => {\r\n        Storage.loadSavedStoriesList();\r\n    });\r\n\r\n    // Share story button\r\n    $('#shareStory').on('click', () => {\r\n        const finalText = $('#finalStory').text();\r\n        const title = $('#displayTitle').text();\r\n        const author = $('#displayAuthor').text();\r\n        const content = formatStoryForExport(title, author, finalText);\r\n        \r\n        domUtils.copyToClipboard(content)\r\n            .then(success => {\r\n                if (success) {\r\n                    domUtils.showToast('Story copied to clipboard!');\r\n                } else {\r\n                    domUtils.showError('Copy Failed', 'Failed to copy story. Please copy manually.');\r\n                }\r\n            });\r\n    });\r\n\r\n    // Story editor input event\r\n    $('#storyText').on('input', () => {\r\n        updateVariablesFromEditor();\r\n        state.storyHasUnsavedChanges = true;\r\n    });\r\n\r\n    // Upload story button\r\n    $('#uploadStoryBtn').on('click', () => { \r\n        $('#uploadStory').click(); \r\n    });\r\n    \r\n    $('#uploadStory').on('change', function () {\r\n        const file = this.files[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            const content = e.target.result;\r\n            const storyData = parseStoryFile(content);\r\n            \r\n            $('#storyTitle').val(storyData.title);\r\n            $('#storyAuthor').val(storyData.author);\r\n            $('#storyText').html(storyData.content);\r\n            \r\n            // Reset state\r\n            state.variables = [];\r\n            state.variableCounts = {};\r\n            state.insertionCounter = 0;\r\n            state.pronounGroupCount = 0;\r\n            state.pronounGroups = {};\r\n            state.fillValues = {};\r\n            state.customPlaceholders = [];\r\n            \r\n            updateVariablesFromEditor();\r\n        };\r\n        reader.readAsText(file);\r\n    });\r\n\r\n    // Start game button\r\n    $('#startGame').on('click', () => {\r\n        const content = $('#storyText').html();\r\n        if (!content.trim()) {\r\n            domUtils.showError('Empty Story', 'Please write a story before continuing.');\r\n            return;\r\n        }\r\n        updateVariablesFromEditor();\r\n        state.storyText = generateLegacyText();\r\n        if (!state.variables.length) {\r\n            domUtils.showError('No Placeholders', 'No placeholders found in the story.');\r\n            return;\r\n        }\r\n        buildFillForm();\r\n        $('#inputs').removeClass('d-none');\r\n        $('#editor').addClass('d-none');\r\n    });\r\n\r\n    // Generate story button\r\n    $('#generateStory').on('click', handleGenerateStory);\r\n\r\n    // Create new story buttons\r\n    $('#createNewStory2, #createNewStory').on('click', handleCreateNewStory);\r\n\r\n    // Story editing flow buttons\r\n    $('#editStoryEntries').on('click', () => {\r\n        buildFillForm();\r\n        $('#result').addClass('d-none');\r\n        $('#inputs').removeClass('d-none');\r\n    });\r\n    \r\n    $('#backToEditor, #backToEditor2').on('click', () => {\r\n        $('#result, #inputs').addClass('d-none');\r\n        $('#editor').removeClass('d-none');\r\n    });\r\n\r\n    // Save story to site button\r\n    $('#saveStoryToSite').on('click', handleSaveStoryToSite);\r\n\r\n    // Download story button\r\n    $('#downloadStory').on('click', () => {\r\n        const finalText = $('#finalStory').text();\r\n        const title = $('#displayTitle').text();\r\n        const author = $('#displayAuthor').text();\r\n        const content = formatStoryForExport(title, author, finalText);\r\n        const fileName = createFilenameFromTitle(title);\r\n        \r\n        domUtils.downloadTextFile(content, fileName);\r\n    });\r\n\r\n    // Save completed story button\r\n    $('#saveCompletedStory').on('click', () => {\r\n        Storage.addCompletedStoryToSavedStories();\r\n    });\r\n\r\n    // Saved stories buttons\r\n    $('#mySavedStoriesBtn').on('click', () => {\r\n        Storage.loadSavedStoriesList();\r\n        $('#savedStoriesModal').modal('show');\r\n    });\r\n    \r\n    $(document).on('click', '.loadSavedStoryBtn', function () {\r\n        const index = $(this).data('index');\r\n        $('#savedStoriesModal').modal('hide');\r\n        Storage.loadSavedStory(index, \"play\");\r\n    });\r\n    \r\n    $(document).on('click', '.editSavedStoryBtn', function () {\r\n        const index = $(this).data('index');\r\n        $('#savedStoriesModal').modal('hide');\r\n        Storage.loadSavedStory(index, \"edit\");\r\n    });\r\n    \r\n    $(document).on('click', '.deleteSavedStoryBtn', function () {\r\n        const title = $(this).data('title');\r\n        domUtils.confirmDialog({\r\n            title: 'Delete Story?',\r\n            text: 'Are you sure you want to delete this saved story?',\r\n            confirmButtonText: 'Yes, delete it!'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) Storage.deleteSavedStory(title);\r\n        });\r\n    });\r\n\r\n    // Rating submission\r\n    $('#submitRating').on('click', () => {\r\n        const rating = parseInt($('#storyRating').val(), 10);\r\n        if (!state.currentStoryId) {\r\n            domUtils.showError('Error', 'Story ID not found.');\r\n            return;\r\n        }\r\n        $.ajax({\r\n            url: '/api/rateStory',\r\n            method: 'POST',\r\n            contentType: 'application/json',\r\n            data: JSON.stringify({ storyId: state.currentStoryId, rating }),\r\n            success: (data) => {\r\n                domUtils.showToast(`Thank you for rating! New average: ${data.rating.toFixed(1)} (${data.ratingCount} votes)`);\r\n            },\r\n            error: (xhr, statusText, errorThrown) => {\r\n                Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to rate story');\r\n            }\r\n        });\r\n    });\r\n\r\n    // Editor key handling for placeholders\r\n    $('#storyText').on('keydown', (e) => {\r\n        const sel = window.getSelection();\r\n        if (sel.rangeCount) {\r\n            let range = sel.getRangeAt(0);\r\n            if (e.key === \"ArrowRight\") {\r\n                let node = sel.anchorNode;\r\n                if (node.nodeType === Node.TEXT_NODE && node.parentNode.classList.contains('placeholder')) {\r\n                    if (sel.anchorOffset >= node.nodeValue.length) {\r\n                        e.preventDefault();\r\n                        let placeholder = node.parentNode;\r\n                        let newRange = document.createRange();\r\n                        newRange.setStartAfter(placeholder);\r\n                        newRange.collapse(true);\r\n                        sel.removeAllRanges();\r\n                        sel.addRange(newRange);\r\n                    }\r\n                }\r\n            }\r\n            if (e.key === \"Backspace\") {\r\n                let node = sel.anchorNode;\r\n                if (node.nodeType === Node.TEXT_NODE && node.parentNode.classList.contains('placeholder') && sel.anchorOffset === 0) {\r\n                    e.preventDefault();\r\n                    let placeholder = node.parentNode;\r\n                    let newRange = document.createRange();\r\n                    newRange.setStartBefore(placeholder);\r\n                    newRange.collapse(true);\r\n                    sel.removeAllRanges();\r\n                    sel.addRange(newRange);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // Add placeholder button\r\n    $('#addPlaceholderBtn').on('click', () => { \r\n        $('#placeholderModal').modal('show'); \r\n    });\r\n\r\n    // Click handler for existing placeholders\r\n    document.getElementById('existingPlaceholdersContainer').addEventListener('click', (e) => {\r\n        const btn = e.target.closest('.placeholder-item');\r\n        if (!btn) return;\r\n        const id = btn.getAttribute('data-id');\r\n        const variable = state.variables.find(v => v.id === id);\r\n        if (variable) duplicatePlaceholder(variable);\r\n    });\r\n\r\n    // Add custom placeholder button\r\n    $('#addCustomPlaceholderBtn').on('click', () => {\r\n        const raw = $('#placeholderSearch').val();\r\n        const usage = $('input[name=\"customPlaceholderType\"]:checked').val() || \"generic\";\r\n        if (usage === \"noun\") {\r\n            addCustomPlaceholder(raw, \"noun\");\r\n            showNounNumberSelection(\"NN_\" + StringUtils.pascalCase(raw), StringUtils.naturalDisplay(raw));\r\n        } else if (usage === \"verb\") {\r\n            addCustomPlaceholder(raw, \"verb\");\r\n            showVerbTenseSelection(\"VB_\" + StringUtils.pascalCase(raw), StringUtils.naturalDisplay(raw));\r\n        } else {\r\n            addCustomPlaceholder(raw);\r\n            insertPlaceholderFromCustom(raw);\r\n        }\r\n        $('#placeholderSearch').val('');\r\n        updatePlaceholderAccordion('#placeholderAccordion', '#noResults', state.currentPlaceholderSearch);\r\n    });\r\n\r\n    // Modal add custom placeholder button\r\n    $('#modalAddCustomPlaceholderBtn').on('click', () => {\r\n        const raw = $('#modalPlaceholderSearch').val();\r\n        const usage = $('input[name=\"modalCustomPlaceholderType\"]:checked').val() || \"generic\";\r\n        if (usage === \"noun\") {\r\n            addCustomPlaceholder(raw, \"noun\");\r\n            showNounNumberSelection(\"NN_\" + StringUtils.pascalCase(raw), StringUtils.naturalDisplay(raw));\r\n        } else if (usage === \"verb\") {\r\n            addCustomPlaceholder(raw, \"verb\");\r\n            showVerbTenseSelection(\"VB_\" + StringUtils.pascalCase(raw), StringUtils.naturalDisplay(raw));\r\n        } else {\r\n            addCustomPlaceholder(raw);\r\n            insertPlaceholderFromCustom(raw);\r\n        }\r\n        updatePlaceholderAccordion('#modalPlaceholderAccordion', '#modalNoResults', state.currentModalPlaceholderSearch);\r\n        $('#placeholderModal').modal('hide');\r\n        $('#modalPlaceholderSearch').val('');\r\n        updatePlaceholderAccordion('#modalPlaceholderAccordion', '#modalNoResults', state.currentModalPlaceholderSearch);\r\n    });\r\n\r\n    // Search modal placeholder input\r\n    $('#modalPlaceholderSearchInput').on('input', function () {\r\n        state.currentModalPlaceholderSearch = $(this).val().trim().toLowerCase();\r\n        updatePlaceholderAccordion('#modalPlaceholderAccordion', '#modalNoResults', state.currentModalPlaceholderSearch);\r\n    });\r\n\r\n    // The remaining initialization code follows\r\n    // ... existing code ...\r\n};","// public/js/ui/forms.js\r\nimport state from '../core/state.js';\r\nimport { TypeHelpers } from '../utils/typeHelpers.js';\r\n\r\n// ====================================================\r\n// BUILD THE FILL-IN-THE-BLANK FORM\r\n// ====================================================\r\nexport const buildFillForm = () => {\r\n    const form = $('#inputForm').empty();\r\n    appendPronounGroupsToForm(form);\r\n    appendNonPronounVariablesToForm(form);\r\n};\r\n\r\nconst appendPronounGroupsToForm = (form) => {\r\n    const groupSet = getPronounGroups();\r\n    const sortedGroups = Array.from(groupSet).sort((a, b) => a.localeCompare(b));\r\n    if (sortedGroups.length > 0) {\r\n        form.append(`<h4>Pronouns</h4>`);\r\n        sortedGroups.forEach(g => {\r\n            const block = createPronounGroupBlock(g);\r\n            form.append(block);\r\n        });\r\n        form.on('change', \"input[type='radio']\", handlePronounChoiceChange);\r\n    }\r\n};\r\n\r\nconst getPronounGroups = () => {\r\n    const groupSet = new Set();\r\n    for (const v of state.variables) {\r\n        if (v.internalType.startsWith('PRONOUN|')) {\r\n            const parts = v.internalType.split('|');\r\n            groupSet.add(parts[1]);\r\n        }\r\n    }\r\n    return groupSet;\r\n};\r\n\r\nconst createPronounGroupBlock = (groupName) => {\r\n    const block = $(`\r\n      <div class='form-group'>\r\n        <label id='${groupName}-label' title=\"Hover to see internal ID\">\r\n          ${groupName} - Person (select pronoun)\r\n          <i class=\"fas fa-info-circle fill-info-icon\" data-type=\"${groupName}\" style=\"font-size:0.8em; margin-left:5px;\"></i>\r\n        </label>\r\n      </div>\r\n    `);\r\n    const radios = `\r\n      <div class='form-check'>\r\n        <input type='radio' class='form-check-input' name='${groupName}-choice' value='HeHim'>\r\n        <label class='form-check-label'>He/Him</label>\r\n      </div>\r\n      <div class='form-check'>\r\n        <input type='radio' class='form-check-input' name='${groupName}-choice' value='SheHer'>\r\n        <label class='form-check-label'>She/Her</label>\r\n      </div>\r\n      <div class='form-check'>\r\n        <input type='radio' class='form-check-input' name='${groupName}-choice' value='TheyThem'>\r\n        <label class='form-check-label'>They/Them</label>\r\n      </div>\r\n      <div class='form-check mb-2'>\r\n        <input type='radio' class='form-check-input' name='${groupName}-choice' value='Custom'>\r\n        <label class='form-check-label'>Custom</label>\r\n      </div>\r\n      <input type='text' class='form-control form-control-sm d-none' id='${groupName}-custom'\r\n        placeholder='comma-separated: subject, object, possAdj, possPron, reflexive'>\r\n    `;\r\n    block.append(radios);\r\n    return block;\r\n};\r\n\r\nconst handlePronounChoiceChange = function () {\r\n    const groupName = $(this).attr('name').replace('-choice', '');\r\n    if ($(this).val() === 'Custom') {\r\n        $(`#${groupName}-custom`).removeClass('d-none');\r\n    } else {\r\n        $(`#${groupName}-custom`).addClass('d-none');\r\n    }\r\n};\r\n\r\nconst appendNonPronounVariablesToForm = (form) => {\r\n    let nonPronounVars = state.variables.filter(v => !v.internalType.startsWith('PRONOUN|'));\r\n    if (state.fillOrder === 'alphabetical') {\r\n        nonPronounVars.sort((a, b) => a.officialDisplay.localeCompare(b.officialDisplay));\r\n    } else if (state.fillOrder === 'random') {\r\n        nonPronounVars.sort(() => Math.random() - 0.5);\r\n    }\r\n    nonPronounVars.forEach(variable => {\r\n        const groupRow = createInputRow(variable);\r\n        form.append(groupRow);\r\n    });\r\n};\r\n\r\nexport const createInputRow = (variable) => {\r\n    const inputRow = document.createElement(\"div\");\r\n    inputRow.className = \"form-group mb-3\";\r\n    \r\n    console.log(`Creating input row for variable: ${variable.id}`, variable);\r\n    \r\n    // Create standardized display label (remove any text within parentheses and trim)\r\n    const displayLabel = variable.officialDisplay.replace(/\\s*\\([^)]*\\)/g, '').trim();\r\n    \r\n    // Create the label element\r\n    const label = document.createElement(\"label\");\r\n    label.htmlFor = variable.id;\r\n    label.textContent = variable.officialDisplay;\r\n    label.className = \"form-label\";\r\n    \r\n    // Create the input element\r\n    const input = document.createElement(\"input\");\r\n    input.type = \"text\";\r\n    input.className = \"form-control\";\r\n    input.id = variable.id;\r\n    input.setAttribute(\"data-id\", variable.id); \r\n    input.setAttribute(\"data-label\", variable.officialDisplay);\r\n    input.setAttribute(\"data-display\", displayLabel);\r\n    input.setAttribute(\"data-type\", variable.internalType.split('|')[0]);\r\n    input.setAttribute(\"placeholder\", displayLabel);\r\n    \r\n    // If we have existing values, use them\r\n    if (state.fillValues && state.fillValues[variable.id]) {\r\n        input.value = state.fillValues[variable.id];\r\n        console.log(`Pre-filling ${variable.id} with existing value: \"${state.fillValues[variable.id]}\"`);\r\n    }\r\n    \r\n    // Add elements to the row\r\n    inputRow.appendChild(label);\r\n    inputRow.appendChild(input);\r\n    \r\n    return inputRow;\r\n};\r\n\r\n// Add the missing validateInputForm function to forms.js\r\n\r\nexport const validateInputForm = (formData) => {\r\n  // If no formData is provided, this is being called from handleGenerateStory\r\n  // to validate the entire form before generating the story\r\n  if (!formData) {\r\n    // Check if we have any filled values that need validation\r\n    // Return valid for basic story generation\r\n    return { valid: true };\r\n  }\r\n  \r\n  // Input validation logic for placeholders/variables\r\n  if (!formData.display || formData.display.trim() === '') {\r\n    return { valid: false, message: 'Display name is required' };\r\n  }\r\n  \r\n  if (!formData.internalType || formData.internalType.trim() === '') {\r\n    return { valid: false, message: 'Internal type is required' };\r\n  }\r\n  \r\n  return { valid: true };\r\n};","    // Start of Selection\r\n    // public/js/ui/menu.js\r\n    import state from '../core/state.js';\r\n    import { duplicatePlaceholder, insertPlaceholder, updateVariablesList, updateVariablesFromEditor } from '../core/placeholders.js';\r\n    \r\n    // Menu element references\r\n    let selectionMenu;\r\n    let placeholderEditMenu;\r\n    \r\n    // Helper function to position menu near an element\r\n    export const positionMenu = (menu, rect) => {\r\n        menu.style.display = 'block';\r\n        const menuWidth = menu.offsetWidth;\r\n        const menuHeight = menu.offsetHeight;\r\n        const offset = 5;\r\n        let desiredTop = (rect.bottom + offset + menuHeight <= window.innerHeight)\r\n            ? window.scrollY + rect.bottom + offset\r\n            : window.scrollY + rect.top - menuHeight - offset;\r\n        let desiredLeft = window.scrollX + rect.left + (rect.width / 2) - (menuWidth / 2);\r\n        desiredLeft = Math.max(window.scrollX + 5, Math.min(desiredLeft, window.scrollX + window.innerWidth - menuWidth - 5));\r\n        menu.style.top = desiredTop + 'px';\r\n        menu.style.left = desiredLeft + 'px';\r\n    };\r\n    \r\n    // Hide a menu\r\n    export const hideMenu = (menu) => { \r\n        menu.style.display = 'none'; \r\n    };\r\n    \r\n    // Hide all menus\r\n    export const hideAllMenus = () => { \r\n        hideMenu(selectionMenu); \r\n        hideMenu(placeholderEditMenu); \r\n    };\r\n    \r\n    // Reset current editing state\r\n    const resetCurrentEditing = () => {\r\n        state.currentEditingVariable = null;\r\n        state.currentPlaceholderElement = null;\r\n    };\r\n    \r\n    // Initialize the context menus\r\n    export const initMenus = () => {\r\n        // Create selection menu for text selections\r\n        selectionMenu = document.createElement('div');\r\n        selectionMenu.id = 'textSelectionMenu';\r\n        Object.assign(selectionMenu.style, {\r\n            position: 'absolute',\r\n            display: 'none',\r\n            zIndex: '1000',\r\n            background: '#fff',\r\n            border: '1px solid #ccc',\r\n            padding: '5px',\r\n            borderRadius: '4px',\r\n            boxShadow: '0px 2px 4px rgba(0,0,0,0.2)'\r\n        });\r\n        selectionMenu.innerHTML = `\r\n        <button id=\"newPlaceholderBtn\" class=\"btn btn-sm btn-primary\">New Placeholder</button>\r\n        <button id=\"reusePlaceholderBtn\" class=\"btn btn-sm btn-secondary\">Reuse Placeholder</button>\r\n      `;\r\n        document.body.appendChild(selectionMenu);\r\n    \r\n        // Create placeholder edit menu for modifying existing placeholders\r\n        placeholderEditMenu = document.createElement('div');\r\n        placeholderEditMenu.id = 'placeholderEditMenu';\r\n        Object.assign(placeholderEditMenu.style, {\r\n            position: 'absolute',\r\n            display: 'none',\r\n            zIndex: '1000',\r\n            background: '#fff',\r\n            border: '1px solid #ccc',\r\n            padding: '5px',\r\n            borderRadius: '4px',\r\n            boxShadow: '0px 2px 4px rgba(0,0,0,0.2)'\r\n        });\r\n        placeholderEditMenu.innerHTML = `\r\n        <button id=\"editPlaceholderBtn\" class=\"btn btn-sm btn-primary\">Change Placeholder</button>\r\n        <button id=\"editOverrideBtn\" class=\"btn btn-sm btn-secondary\">Change Override</button>\r\n        <button id=\"deletePlaceholderBtn\" class=\"btn btn-sm btn-danger\">Delete</button>\r\n      `;\r\n        document.body.appendChild(placeholderEditMenu);\r\n    \r\n        // Attach event listeners\r\n        attachMenuEventListeners();\r\n    };\r\n    \r\n    // Handle text selection to show the selection menu\r\n    export const handleTextSelection = () => {\r\n        setTimeout(() => {\r\n            const sel = window.getSelection();\r\n            if (sel && sel.toString().trim().length > 0) {\r\n                if (sel.anchorNode && sel.anchorNode.parentNode &&\r\n                    !sel.anchorNode.parentNode.classList.contains('placeholder')) {\r\n                    state.lastRange = sel.getRangeAt(0);\r\n                    const rect = state.lastRange.getBoundingClientRect();\r\n                    positionMenu(selectionMenu, rect);\r\n                }\r\n            } else {\r\n                hideMenu(selectionMenu);\r\n            }\r\n        }, 0);\r\n    };\r\n    \r\n    // Show the placeholder edit menu when a placeholder is clicked\r\n    export const handlePlaceholderClick = (e) => {\r\n        if (e.target.classList.contains('placeholder')) {\r\n            // Stop propagation so that other handlers (e.g. selection menu) do not interfere\r\n            e.stopPropagation();\r\n            // Find the corresponding variable using the data-id attribute\r\n            state.currentEditingVariable = state.variables.find(v => v.id === e.target.getAttribute('data-id'));\r\n            state.currentPlaceholderElement = e.target;\r\n            // Position the placeholder edit menu near the clicked element\r\n            positionMenu(placeholderEditMenu, e.target.getBoundingClientRect());\r\n        }\r\n    };\r\n    \r\n    // Handle delete button click in placeholder edit menu\r\n    export const handleDeletePlaceholder = () => {\r\n        hideMenu(placeholderEditMenu);\r\n        if (state.currentPlaceholderElement) {\r\n            state.currentPlaceholderElement.remove();\r\n        }\r\n        // Update the variables in the editor after deletion\r\n        if (typeof updateVariablesFromEditor === 'function') {\r\n            updateVariablesFromEditor();\r\n        }\r\n        resetCurrentEditing();\r\n    };\r\n    \r\n    // Handle edit placeholder button click\r\n    export const handleEditPlaceholder = () => {\r\n        hideMenu(placeholderEditMenu);\r\n        state.isEditingPlaceholder = true;\r\n        // Open the modal so the user can select a new placeholder type\r\n        $('#placeholderModal').modal('show');\r\n        resetCurrentEditing();\r\n    };\r\n    \r\n    // Handle edit override button click\r\n    export const handleEditOverride = async () => {\r\n        hideMenu(placeholderEditMenu);\r\n        const { value: newOverride } = await Swal.fire({\r\n            title: 'Change Override',\r\n            input: 'text',\r\n            inputLabel: 'Enter new override text',\r\n            inputValue: state.currentPlaceholderElement ? state.currentPlaceholderElement.textContent : ''\r\n        });\r\n        if (newOverride !== undefined) {\r\n            if (state.currentPlaceholderElement) {\r\n                state.currentPlaceholderElement.textContent = newOverride;\r\n            }\r\n            if (state.currentEditingVariable) {\r\n                state.currentEditingVariable.displayOverride = newOverride;\r\n            }\r\n            if (typeof updateVariablesList === 'function') {\r\n                updateVariablesList();\r\n            }\r\n        }\r\n        resetCurrentEditing();\r\n    };\r\n    \r\n    // Handle \"New Placeholder\" button click\r\n    export const handleNewPlaceholder = () => {\r\n        hideMenu(selectionMenu);\r\n        $('#placeholderModal').modal('show');\r\n    };\r\n    \r\n    // Handle \"Reuse Placeholder\" button click\r\n    export const handleReusePlaceholder = () => {\r\n        hideMenu(selectionMenu);\r\n        if (state.variables.length === 0) {\r\n            Swal.fire('No existing placeholders', 'There are no placeholders to reuse yet.', 'info');\r\n            return;\r\n        }\r\n        const sortedVariables = [...state.variables].sort((a, b) =>\r\n            (state.usageTracker[b.id] || 0) - (state.usageTracker[a.id] || 0) || a.order - b.order\r\n        );\r\n        let html = `<div id=\"reusePlaceholderContainer\" style=\"display: flex; flex-wrap: wrap;\">`;\r\n        sortedVariables.forEach(v => {\r\n            const displayText = v.displayOverride || v.officialDisplay;\r\n            html += `<button type=\"button\" \r\n                       class=\"btn btn-outline-secondary btn-sm m-1 reuse-placeholder-btn\" \r\n                       data-id=\"${v.id}\" \r\n                       title=\"${v.id}\">\r\n                 ${displayText}\r\n               </button>`;\r\n        });\r\n        html += `</div>`;\r\n        Swal.fire({\r\n            title: 'Select a placeholder to reuse',\r\n            html,\r\n            showCancelButton: true,\r\n            showConfirmButton: false,\r\n            didOpen: () => {\r\n                const container = Swal.getHtmlContainer();\r\n                const btns = container.querySelectorAll('.reuse-placeholder-btn');\r\n                btns.forEach(button => {\r\n                    button.addEventListener('click', () => {\r\n                        const id = button.getAttribute('data-id');\r\n                        const variable = state.variables.find(v => v.id === id);\r\n                        if (variable) duplicatePlaceholder(variable);\r\n                        Swal.close();\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n    \r\n    // Attach event listeners to the menu elements\r\n    const attachMenuEventListeners = () => {\r\n        // Click outside menus to close them\r\n        document.addEventListener('click', (e) => {\r\n            if (!selectionMenu.contains(e.target) && !placeholderEditMenu.contains(e.target)) {\r\n                hideAllMenus();\r\n            }\r\n        });\r\n    \r\n        // Text selection events\r\n        document.getElementById('storyText').addEventListener('mouseup', handleTextSelection);\r\n    \r\n        // Placeholder click events\r\n        document.getElementById('storyText').addEventListener('click', handlePlaceholderClick);\r\n    \r\n        // Menu button event handlers\r\n        document.getElementById('newPlaceholderBtn').addEventListener('click', handleNewPlaceholder);\r\n        document.getElementById('reusePlaceholderBtn').addEventListener('click', handleReusePlaceholder);\r\n        document.getElementById('editPlaceholderBtn').addEventListener('click', handleEditPlaceholder);\r\n        document.getElementById('editOverrideBtn').addEventListener('click', handleEditOverride);\r\n        document.getElementById('deletePlaceholderBtn').addEventListener('click', handleDeletePlaceholder);\r\n    };\r\n    \r\n    // Export menu elements for external access if needed\r\n    export const getSelectionMenu = () => selectionMenu;\r\n    export const getPlaceholderEditMenu = () => placeholderEditMenu;\r\n    \r\n    // Export the initialization of menus to be called from main.js\r\n    export const initMenuSystem = () => {\r\n        // Create menus if they don't exist yet\r\n        if (!selectionMenu || !placeholderEditMenu) {\r\n          initMenus();\r\n        }\r\n    };","/**\r\n * Utility functions for showing notifications to the user\r\n */\r\n\r\n/**\r\n * Shows a toast notification to the user\r\n * @param {string} message - The message to display\r\n * @param {string} type - The type of notification (success, error, warning, info)\r\n * @param {number} duration - How long to show the notification in ms\r\n */\r\nexport const showToast = (message, type = 'success', duration = 3000) => {\r\n    if (typeof Swal !== 'undefined') {\r\n        // If SweetAlert2 is available\r\n        Swal.fire({\r\n            toast: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: duration,\r\n            timerProgressBar: true,\r\n            icon: type,\r\n            title: message\r\n        });\r\n    } else {\r\n        // Fallback to alert if SweetAlert is not available\r\n        console.log(`${type.toUpperCase()}: ${message}`);\r\n        if (type === 'error') {\r\n            alert(message);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Shows an error notification with a title and message\r\n * @param {string} title - The error title\r\n * @param {string} message - The error message\r\n */\r\nexport const showError = (title, message) => {\r\n    if (typeof Swal !== 'undefined') {\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: title,\r\n            text: message\r\n        });\r\n    } else {\r\n        console.error(`${title}: ${message}`);\r\n        alert(`${title}: ${message}`);\r\n    }\r\n}; ","/**\r\n * A dedicated module for string manipulation utilities\r\n */\r\nexport const StringUtils = {\r\n  /**\r\n   * Converts a string to title case (first letter of each word capitalized)\r\n   */\r\n  toTitleCase: (str) =>\r\n    str.replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()),\r\n  \r\n  /**\r\n   * Capitalizes the first letter of a string\r\n   */\r\n  capitalize: (str) => str.charAt(0).toUpperCase() + str.slice(1).toLowerCase(),\r\n  \r\n  /**\r\n   * Converts a string to PascalCase\r\n   */\r\n  pascalCase: (str) => str.toLowerCase().split(/\\s+/).map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join(''),\r\n  \r\n  /**\r\n   * Converts camelCase or PascalCase to a natural display format with spaces\r\n   */\r\n  naturalDisplay: (str) => str.replace(/([a-z])([A-Z])/g, '$1 $2'),\r\n  \r\n  /**\r\n   * Removes all characters except alphanumerics and underscores\r\n   */\r\n  sanitizeString: (str) => str.replace(/[^a-zA-Z0-9_]/g, ''),\r\n  \r\n  /**\r\n   * Extracts a subtype from a string by removing prefix and trailing numbers\r\n   */\r\n  extractSubtype: (type, prefixLength) => {\r\n    let sub = type.substring(prefixLength);\r\n    if (sub.startsWith(\"_\")) sub = sub.substring(1);\r\n    return sub.replace(/\\d+$/, '');\r\n  }\r\n};\r\n\r\n/**\r\n * Decodes HTML entities in a string\r\n */\r\nexport const decodeHTMLEntities = (text) => {\r\n  const textarea = document.createElement(\"textarea\");\r\n  textarea.innerHTML = text;\r\n  return textarea.value;\r\n}; ","// public/js/utils/domUtils.js\r\n\r\n/**\r\n * DOM utility functions for working with the story editor and UI\r\n */\r\n\r\n// Import the notification functions instead of duplicating them\r\nimport { showToast, showError } from '../ui/notifications.js';\r\n\r\n// Re-export them to maintain compatibility\r\nexport { showToast, showError };\r\n\r\n// Show a confirmation dialog using SweetAlert\r\nexport const confirmDialog = (options) => {\r\n  const defaultOptions = {\r\n    title: 'Are you sure?',\r\n    text: 'This action cannot be undone.',\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonText: 'Yes',\r\n    cancelButtonText: 'No'\r\n  };\r\n  \r\n  const finalOptions = { ...defaultOptions, ...options };\r\n  return Swal.fire(finalOptions);\r\n};\r\n\r\n// Toggle element visibility\r\nexport const toggleVisibility = (selector, isVisible) => {\r\n  const element = typeof selector === 'string' ? document.querySelector(selector) : selector;\r\n  if (element) {\r\n    element.style.display = isVisible ? '' : 'none';\r\n  }\r\n};\r\n\r\n// Toggle class on element\r\nexport const toggleClass = (selector, className, shouldAdd) => {\r\n  const element = typeof selector === 'string' ? document.querySelector(selector) : selector;\r\n  if (element) {\r\n    if (shouldAdd) {\r\n      element.classList.add(className);\r\n    } else {\r\n      element.classList.remove(className);\r\n    }\r\n  }\r\n};\r\n\r\n// Show/hide multiple elements by class\r\nexport const showView = (viewName) => {\r\n  // Hide all view containers\r\n  document.querySelectorAll('.view-container').forEach(el => {\r\n    el.classList.add('d-none');\r\n  });\r\n  \r\n  // Show the requested view\r\n  document.getElementById(viewName).classList.remove('d-none');\r\n};\r\n\r\n// Create element with attributes and content\r\nexport const createElement = (tag, attributes = {}, children = []) => {\r\n  const element = document.createElement(tag);\r\n  \r\n  // Set attributes\r\n  for (const [key, value] of Object.entries(attributes)) {\r\n    if (key === 'className') {\r\n      element.className = value;\r\n    } else if (key === 'style' && typeof value === 'object') {\r\n      Object.assign(element.style, value);\r\n    } else if (key.startsWith('on') && typeof value === 'function') {\r\n      const eventName = key.substring(2).toLowerCase();\r\n      element.addEventListener(eventName, value);\r\n    } else if (key === 'html') {\r\n      element.innerHTML = value;\r\n    } else if (key === 'text') {\r\n      element.textContent = value;\r\n    } else {\r\n      element.setAttribute(key, value);\r\n    }\r\n  }\r\n  \r\n  // Append children\r\n  children.forEach(child => {\r\n    if (typeof child === 'string') {\r\n      element.appendChild(document.createTextNode(child));\r\n    } else if (child instanceof Node) {\r\n      element.appendChild(child);\r\n    }\r\n  });\r\n  \r\n  return element;\r\n};\r\n\r\n// Get DOM element value safely (with default)\r\nexport const getElementValue = (selector, defaultValue = '') => {\r\n  const element = document.querySelector(selector);\r\n  if (!element) return defaultValue;\r\n  \r\n  if (element.type === 'checkbox') {\r\n    return element.checked;\r\n  } else if (element.type === 'radio') {\r\n    const checkedEl = document.querySelector(`${selector}:checked`);\r\n    return checkedEl ? checkedEl.value : defaultValue;\r\n  } else {\r\n    return element.value || defaultValue;\r\n  }\r\n};\r\n\r\n// Set DOM element value safely\r\nexport const setElementValue = (selector, value) => {\r\n  const element = document.querySelector(selector);\r\n  if (!element) return;\r\n  \r\n  if (element.type === 'checkbox') {\r\n    element.checked = !!value;\r\n  } else if (element.type === 'radio') {\r\n    const radio = document.querySelector(`${selector}[value=\"${value}\"]`);\r\n    if (radio) radio.checked = true;\r\n  } else {\r\n    element.value = value;\r\n  }\r\n};\r\n\r\n// Get form data as object\r\nexport const getFormData = (formSelector) => {\r\n  const form = document.querySelector(formSelector);\r\n  if (!form) return {};\r\n  \r\n  const formData = new FormData(form);\r\n  const data = {};\r\n  \r\n  for (const [key, value] of formData.entries()) {\r\n    data[key] = value;\r\n  }\r\n  \r\n  return data;\r\n};\r\n\r\n// Clear form fields\r\nexport const clearForm = (formSelector) => {\r\n  const form = document.querySelector(formSelector);\r\n  if (!form) return;\r\n  \r\n  form.reset();\r\n  \r\n  // Also clear any custom fields that might not be cleared by reset\r\n  form.querySelectorAll('input:not([type=\"submit\"]):not([type=\"button\"]):not([type=\"reset\"]), textarea, select').forEach(el => {\r\n    if (el.type === 'checkbox' || el.type === 'radio') {\r\n      el.checked = false;\r\n    } else {\r\n      el.value = '';\r\n    }\r\n  });\r\n};\r\n\r\n// Fallback method for copying text to clipboard\r\nconst fallbackCopyTextToClipboard = (text) => {\r\n  const textarea = document.createElement('textarea');\r\n  textarea.value = text;\r\n  textarea.style.position = 'fixed';\r\n  textarea.style.top = '-9999px';\r\n  document.body.appendChild(textarea);\r\n  textarea.focus();\r\n  textarea.select();\r\n  \r\n  try {\r\n    const successful = document.execCommand('copy');\r\n    document.body.removeChild(textarea);\r\n    return successful;\r\n  } catch (err) {\r\n    document.body.removeChild(textarea);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Copy text to clipboard with notification\r\nexport const copyToClipboard = async (text, showNotification = true) => {\r\n  let success = false;\r\n  \r\n  if (navigator.clipboard && navigator.clipboard.writeText) {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      success = true;\r\n    } catch (err) {\r\n      console.error('Error copying text: ', err);\r\n      success = fallbackCopyTextToClipboard(text);\r\n    }\r\n  } else {\r\n    success = fallbackCopyTextToClipboard(text);\r\n  }\r\n  \r\n  if (success && showNotification) {\r\n    showToast('Copied to clipboard!');\r\n  }\r\n  \r\n  return success;\r\n};\r\n\r\n// Download text as file\r\nexport const downloadTextFile = (content, filename) => {\r\n  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n  return true;\r\n};\r\n","// public/js/utils/typeHelpers.js\r\nimport state from '../core/state.js';\r\nimport { pronounMapping } from '../core/state.js';\r\nimport { allPlaceholders } from '../core/placeholders.js';\r\nimport { Utils } from './utils.js';\r\nimport { StringUtils } from './StringUtils.js';\r\n\r\nexport const TypeHelpers = {\r\n    // Helper functions for naturalizeType\r\n    _extractSubtype: (type, prefixLength) => {\r\n        return StringUtils.extractSubtype(type, prefixLength);\r\n    },\r\n    \r\n    _formatNounType: (sub, nounType, isPlural, isProper) => {\r\n        if (sub.toLowerCase() === \"person\") {\r\n            return `Person (${isProper ? 'proper' : 'common'}, ${isPlural ? 'plural' : 'singular'})`;\r\n        }\r\n        const displayText = StringUtils.toTitleCase(StringUtils.naturalDisplay(sub || (isProper ? \"Proper Noun\" : \"Common Noun\")));\r\n        return `${displayText} (${isPlural ? 'Plural' : 'Singular'})`;\r\n    },\r\n    \r\n    naturalizeType: (type) => {\r\n        // Handle noun patterns (NNP/NNPS/NN/NNS)\r\n        if (type.startsWith(\"NNP\") || type.startsWith(\"NN\")) {\r\n            const isProper = type.startsWith(\"NNP\");\r\n            const isPlural = type.startsWith(\"NNS\") || type.startsWith(\"NNPS\");\r\n            const prefixLength = isProper ? (isPlural ? 4 : 3) : (isPlural ? 3 : 2);\r\n            const sub = TypeHelpers._extractSubtype(type, prefixLength);\r\n            return TypeHelpers._formatNounType(sub, type, isPlural, isProper);\r\n        }\r\n        \r\n        if (type === \"Onomatopoeia\") return \"Onomatopoeia\";\r\n        \r\n        // Handle modal verbs\r\n        if (type.startsWith(\"MD_\")) {\r\n            let tense = type.substring(3);\r\n            let tenseNatural = \"\";\r\n            switch (tense) {\r\n                case \"VB\": tenseNatural = \"Base (run)\"; break;\r\n                case \"VBP\": tenseNatural = \"Present (I walk)\"; break;\r\n                case \"VBZ\": tenseNatural = \"3rd Person (he leaves)\"; break;\r\n                case \"VBD\": tenseNatural = \"Past (slept)\"; break;\r\n                case \"VBG\": tenseNatural = \"Gerund (crying)\"; break;\r\n                case \"VBN\": tenseNatural = \"Past Participle (eaten)\"; break;\r\n                default: tenseNatural = tense;\r\n            }\r\n            return \"Modal Verb (\" + tenseNatural + \")\";\r\n        }\r\n        \r\n        // Handle verb tenses\r\n        const verbTenseMap = {\r\n            \"VBZ\": \"3rd Person (he leaves)\",\r\n            \"VBD\": \"Past Tense (slept)\",\r\n            \"VBG\": \"Gerund (crying)\",\r\n            \"VBN\": \"Past Participle (eaten)\",\r\n            \"VBP\": \"Present (I walk)\"\r\n        };\r\n        \r\n        for (let tense in verbTenseMap) {\r\n            if (type.startsWith(tense)) {\r\n                let remainder = type.substring(tense.length);\r\n                let category = remainder.startsWith(\"_\") ? remainder.substring(1) : \"\";\r\n                return category\r\n                    ? StringUtils.toTitleCase(category) + \" Verb (\" + verbTenseMap[tense] + \")\"\r\n                    : \"Verb (\" + verbTenseMap[tense] + \")\";\r\n            }\r\n        }\r\n        \r\n        // Handle base verb form\r\n        if (type.startsWith(\"VB\")) {\r\n            let rest = type.substring(2).replace(/^_+/, \"\");\r\n            return rest ? StringUtils.toTitleCase(rest) + \" Verb (Base Form)\" : \"Verb (Base Form)\";\r\n        }\r\n        \r\n        // Handle adjectives and other types\r\n        if (type.startsWith(\"JJ_\")) {\r\n            return StringUtils.toTitleCase(StringUtils.naturalDisplay(type.substring(3)));\r\n        }\r\n        \r\n        if (type.startsWith(\"JJS_\")) {\r\n            let sub = type.substring(4);\r\n            if (sub.toLowerCase() === \"ordinal\") {\r\n                return \"Ordinal Number\";\r\n            }\r\n            return StringUtils.toTitleCase(StringUtils.naturalDisplay(sub)) + \" Superlative Adjective\";\r\n        }\r\n        \r\n        // Handle standard part-of-speech abbreviations\r\n        const posMap = {\r\n            \"JJ\": \"Adjective\",\r\n            \"JJR\": \"Comparative Adjective\",\r\n            \"JJS\": \"Superlative Adjective\",\r\n            \"RB\": \"Adverb\",\r\n            \"RBR\": \"Comparative Adverb\",\r\n            \"RBS\": \"Superlative Adverb\",\r\n            \"WRB\": \"WH-adverb\",\r\n            \"CC\": \"Coordinating Conjunction\",\r\n            \"PDT\": \"Pre-determiner\",\r\n            \"WDT\": \"WH-determiner\",\r\n            \"FW\": \"Foreign Word\",\r\n            \"Number\": \"Number\",\r\n            \"Exclamation\": \"Exclamation\"\r\n        };\r\n        \r\n        return posMap[type] || type;\r\n    },\r\n    getTooltipForType: (type) => {\r\n        const normalizedType = type.trim().toLowerCase();\r\n        for (let category in allPlaceholders) {\r\n            for (let p of allPlaceholders[category]) {\r\n                if (p.internalType.trim().toLowerCase() === normalizedType) {\r\n                    return p.tooltip;\r\n                }\r\n            }\r\n        }\r\n        const verbTensePrefixes = [\"VBZ\", \"VBD\", \"VBG\", \"VBN\", \"VBP\"];\r\n        for (let prefix of verbTensePrefixes) {\r\n            if (normalizedType.startsWith(prefix.toLowerCase() + \"_\")) {\r\n                const baseType = \"vb_\" + normalizedType.substring(prefix.length + 1);\r\n                for (let category in allPlaceholders) {\r\n                    for (let p of allPlaceholders[category]) {\r\n                        if (p.internalType.trim().toLowerCase() === baseType) {\r\n                            return p.tooltip;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return \"No additional info available.\";\r\n    },\r\n    getOriginalDisplayForType: (type) => {\r\n        for (let category in allPlaceholders) {\r\n            for (let p of allPlaceholders[category]) {\r\n                if (p.internalType === type) {\r\n                    return p.display;\r\n                }\r\n            }\r\n        }\r\n        return type.startsWith(\"NN\") ? TypeHelpers.naturalizeType(type) : type;\r\n    },\r\n    guessTypeFromId: (id) => {\r\n        let base = id.replace(/\\d+$/, '');\r\n        const custom = state.customPlaceholders.find(p => p.type === base);\r\n        if (custom) return custom.type;\r\n        const pronounFixedRe = /^PRP(\\d+)(SUB|OBJ|PSA|PSP|REF)$/;\r\n        if (pronounFixedRe.test(id)) {\r\n            const match = id.match(pronounFixedRe);\r\n            const groupNum = match[1];\r\n            const abbrev = match[2];\r\n            const formMapReverse = { SUB: \"subject\", OBJ: \"object\", PSA: \"possAdj\", PSP: \"possPron\", REF: \"reflexive\" };\r\n            return `PRONOUN|PronounGroup${groupNum}|${formMapReverse[abbrev]}`;\r\n        }\r\n        const pronounRe = /^([A-Za-z0-9]+)_(subject|object|possAdj|possPron|reflexive)$/;\r\n        if (pronounRe.test(base)) {\r\n            const m = base.match(pronounRe);\r\n            return `PRONOUN|${m[1]}|${m[2]}`;\r\n        }\r\n        return TypeHelpers.naturalizeType(base);\r\n    },\r\n    getNounFinalType: (baseInternal, number) => {\r\n        let baseTag = \"\", extra = \"\";\r\n        if (baseInternal.indexOf(\"_\") !== -1) {\r\n            const parts = baseInternal.split(\"_\");\r\n            baseTag = parts[0];\r\n            extra = parts.slice(1).join(\"_\");\r\n        } else {\r\n            baseTag = baseInternal;\r\n        }\r\n        let finalTag = baseTag === \"NN\" ? (number === \"Singular\" ? \"NN\" : \"NNS\")\r\n            : baseTag === \"NNP\" ? (number === \"Singular\" ? \"NNP\" : \"NNPS\")\r\n                : (number === \"Singular\" ? baseTag : baseTag + \"S\");\r\n        return extra ? finalTag + \"_\" + extra : finalTag;\r\n    },\r\n    computeFinalVerbType: (baseInternal, tenseTag) => {\r\n        if (baseInternal === \"MD\") return \"MD_\" + tenseTag;\r\n        const parts = baseInternal.split(\"_\");\r\n        const baseCategory = parts.slice(1).join(\"_\");\r\n        return baseCategory ? tenseTag + \"_\" + baseCategory : tenseTag;\r\n    }\r\n};","// public/js/utils/utils.js\r\nimport { StringUtils, decodeHTMLEntities } from './StringUtils.js';\r\n\r\nexport { StringUtils, decodeHTMLEntities };\r\n\r\nexport const Utils = {\r\n  debounce: (func, delay) => {\r\n    let timeout;\r\n    return function(...args) {\r\n      const context = this;\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => func.apply(context, args), delay);\r\n    };\r\n  },\r\n  // Re-export string utilities for backward compatibility\r\n  ...StringUtils\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// public/js/main.js\r\n\r\nimport state, { resetState, pronounMapping } from './core/state.js';\r\nimport { Utils, decodeHTMLEntities } from './utils/utils.js';\r\nimport { TypeHelpers } from './utils/typeHelpers.js';\r\nimport { Storage } from './data/storage.js';\r\nimport { \r\n    categoryOrder, \r\n    allPlaceholders,\r\n    insertPlaceholder,\r\n    updateVariablesList,\r\n    updateVariablesFromEditor,\r\n    generateLegacyText,\r\n    showNounNumberSelection,\r\n    showVerbTenseSelection,\r\n    showPersonTypeSelection,\r\n    updatePlaceholderAccordion,\r\n    pickPronounFormAndGroup,\r\n    insertPronounPlaceholderSimple,\r\n    choosePronounTempValue,\r\n    updateExistingPlaceholder,\r\n    addCustomPlaceholder,\r\n    insertPlaceholderFromCustom\r\n} from './core/placeholders.js';\r\nimport { buildFillForm } from './ui/forms.js';\r\nimport { \r\n    positionMenu, \r\n    hideMenu, \r\n    hideAllMenus,\r\n    initMenus,\r\n    handleTextSelection,\r\n    handlePlaceholderClick\r\n} from './ui/menu.js';\r\nimport { initEvents } from './handlers/events.js';\r\nimport { \r\n    fillPlaceholders,\r\n    resetStoryState,\r\n    formatStoryForExport,\r\n    createFilenameFromTitle\r\n} from './core/storyProcessor.js';\r\nimport * as domUtils from './utils/domUtils.js';\r\n\r\n(function () {\r\n    \"use strict\";\r\n\r\n    // Make Utils and decodeHTMLEntities available on window for legacy code\r\n    window.Utils = Utils;\r\n    window.decodeHTMLEntities = decodeHTMLEntities;\r\n\r\n    // ====================================================\r\n    // EVENT HANDLERS & DOCUMENT READY\r\n    // ====================================================\r\n    $(document).ready(() => {\r\n        // Initialize the application\r\n        initMenus();\r\n        initEvents();\r\n    });\r\n})();"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","state","pronounMapping","Utils","StringUtils","TypeHelpers","categoryOrder","allPlaceholders","internalType","display","tooltip","icon","isPrimary","VERB_TENSES","text","insertNodeAtCaret","node","range","deleteContents","insertNode","newRange","document","createRange","setStartAfter","collapse","sel","window","getSelection","removeAllRanges","addRange","rangeCount","getRangeAt","ensureEditorFocus","editor","getElementById","contains","anchorNode","focus","selectNodeContents","insertPlaceholderSpan","placeholderID","displayText","span","createElement","className","setAttribute","textContent","endsWith","parentNode","nextNode","nextSibling","nodeType","Node","TEXT_NODE","test","insertBefore","createTextNode","appendChild","duplicatePlaceholder","variable","usageTracker","id","newId","rangeToUse","lastRange","commonAncestorContainer","displayOverride","officialDisplay","insertPlaceholder","_ref","_callee","isCustom","sanitized","spans","max","newCount","selectedText","_yield$Swal$fire","temp","_callee$","_context","sanitizeString","querySelectorAll","getAttribute","startsWith","match","num","parseInt","variableCounts","collapsed","toString","trim","Swal","fire","title","input","inputLabel","inputValue","showCancelButton","variables","some","order","insertionCounter","updateVariablesList","concat","confirmButtonText","cancelButtonText","result","isConfirmed","applyPlaceholderToAllOccurrences","_x","_x2","_x3","textNodes","getTextNodes","includes","childNodes","child","classList","content","parts","split","parent","fragment","createDocumentFragment","j","replaceChild","updateVariablesFromEditor","addCustomPlaceholder","rawText","usage","undefined","internal","pascalCase","customPlaceholders","insertPlaceholderFromCustom","naturalDisplay","container","innerHTML","sort","b","btn","insertPronounPlaceholderSimple","groupId","form","tempValue","groupNum","replace","formAbbrevMap","subject","object","possAdj","possPron","reflexive","abbrev","toUpperCase","placeholderId","displayType","placeholderElements","el","base","numMatch","variableEntry","custom","find","naturalizeType","guessed","guessTypeFromId","originalDisplay","getOriginalDisplayForType","currentSearch","$","val","updatePlaceholderAccordion","currentModalSearch","generateLegacyText","traverse","ELEMENT_NODE","tagName","toLowerCase","tag","accordionSelector","noResultsSelector","searchVal","hide","accordion","empty","categoryName","placeholders","categoryCard","createPlaceholderCategoryCard","append","customCard","createCustomPlaceholderCategoryCard","anyShown","toggle","show","sanitizedCategoryName","card","createCardHeader","collapseDiv","primaryItems","filter","secondaryItems","appendPlaceholderItem","secondaryPlaceholderWrapper","createSecondaryPlaceholderWrapper","createShowMoreToggle","updateShowMoreToggleVisibility","showItem","item","hiddenWrapper","toggleLink","anySecondaryVisible","listGroup","placeholder","isSecondary","showPersonTypeSelection","baseInternal","baseDisplay","html","showConfirmButton","allowOutsideClick","didOpen","getHtmlContainer","on","selectedType","data","updatedBaseInternal","updatedBaseDisplay","close","setTimeout","showNounNumberSelection","_callee2","selected","finalInternal","finalDisplay","_callee2$","_context2","getNounFinalType","isEditingPlaceholder","currentEditingVariable","updateExistingPlaceholder","showVerbTenseSelection","_callee3","selectedTense","tenseText","_callee3$","_context3","computeFinalVerbType","newInternalType","newDisplayName","pickPronounFormAndGroup","forms","chosenForm","pickPronounGroup","groupKeys","pronounGroups","grp","choosePronounTempValue","pronounGroupCount","newGroup","inputOptions","inputValidator","res","storyText","fillValues","placeholderInsertionInProgress","storyHasUnsavedChanges","fillOrder","currentStoryId","currentPlaceholderSearch","currentModalPlaceholderSearch","currentPlaceholderElement","resetState","fillPlaceholders","templateText","console","log","placeholderRegex","exec","fullMatch","_iterator","_createForOfIteratorHelper","_step","pronounValue","RegExp","warn","err","remainingMatch","remainingRegex","missingId","error","parseStoryFile","titleMatch","authorMatch","storyStartIndex","indexOf","storyContent","substring","author","formatStoryForExport","createFilenameFromTitle","resetStoryState","removeClass","addClass","loadStoryIntoEditor","storyData","tags","join","buildFillForm","decodeHTMLEntities","API_BASE_URL","location","hostname","protocol","Storage","handleAjaxError","xhr","statusText","errorThrown","customErrorMessage","errorMessage","status","addCurrentStoryToSavedStories","ajax","url","success","current","tagsArr","map","Boolean","preConfirm","password","story","storyTitle","storyAuthor","savedAt","Date","toISOString","contentType","JSON","stringify","toast","position","timer","storyWithOverwrite","overwrite","xhrOverwrite","statusTextOverwrite","errorThrownOverwrite","addCompletedStoryToSavedStories","loadSavedStoriesList","encodeURIComponent","stories","savedStories","$listContainer","index","dateObj","dateStr","toLocaleDateString","toLocaleTimeString","ratingDisplay","ratingCount","rating","toFixed","lockIndicator","locked","createSavedStoryListItem","loadSavedStory","mode","inputPlaceholder","inputAttributes","autocapitalize","autocorrect","storyId","_id","unlockedStory","populateEditorWithStory","deleteSavedStory","validateInputForm","domUtils","showToast","handlePlaceholderClick","modal","handleCreateNewStory","preventDefault","confirmDialog","showDenyButton","denyButtonText","isDenied","handleGenerateStory","inputForm","inputs","final","handleSaveStoryToSite","loadPreexistingTags","initEvents","stopPropagation","currentTarget","getTooltipForType","parentList","closest","hiddenItems","link","finalText","copyToClipboard","addEventListener","debounce","autocomplete","source","request","response","dataType","filteredTags","ui","term","minLength","select","event","click","showError","file","files","reader","FileReader","onload","target","readAsText","fileName","downloadTextFile","key","anchorOffset","nodeValue","setStartBefore","raw","appendPronounGroupsToForm","appendNonPronounVariablesToForm","groupSet","getPronounGroups","sortedGroups","Array","from","localeCompare","block","createPronounGroupBlock","handlePronounChoiceChange","Set","add","groupName","radios","attr","nonPronounVars","Math","random","groupRow","createInputRow","inputRow","displayLabel","label","htmlFor","formData","valid","message","selectionMenu","placeholderEditMenu","positionMenu","menu","rect","style","menuWidth","offsetWidth","menuHeight","offsetHeight","offset","desiredTop","bottom","innerHeight","scrollY","top","desiredLeft","scrollX","left","width","min","innerWidth","hideMenu","hideAllMenus","resetCurrentEditing","initMenus","assign","zIndex","background","border","padding","borderRadius","boxShadow","body","attachMenuEventListeners","handleTextSelection","getBoundingClientRect","handleDeletePlaceholder","remove","handleEditPlaceholder","handleEditOverride","newOverride","handleNewPlaceholder","handleReusePlaceholder","sortedVariables","_toConsumableArray","btns","button","getSelectionMenu","getPlaceholderEditMenu","initMenuSystem","duration","timerProgressBar","alert","toTitleCase","str","txt","substr","capitalize","word","extractSubtype","prefixLength","sub","textarea","isArray","_unsupportedIterableToArray","_n","F","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arrayLikeToArray","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_toPrimitive","toPrimitive","String","Number","options","defaultOptions","finalOptions","toggleVisibility","selector","isVisible","element","querySelector","toggleClass","shouldAdd","showView","viewName","attributes","children","_i","_Object$entries","entries","_Object$entries$_i","eventName","getElementValue","defaultValue","checked","checkedEl","setElementValue","radio","getFormData","formSelector","FormData","_step$value","clearForm","fallbackCopyTextToClipboard","successful","execCommand","removeChild","showNotification","_args","navigator","clipboard","writeText","t0","filename","blob","Blob","URL","createObjectURL","href","download","revokeObjectURL","_extractSubtype","_formatNounType","nounType","isPlural","isProper","tense","tenseNatural","verbTenseMap","remainder","category","rest","posMap","normalizedType","verbTensePrefixes","_verbTensePrefixes","prefix","baseType","_iterator2","_step2","_iterator3","_step3","pronounFixedRe","formMapReverse","SUB","OBJ","PSA","PSP","REF","pronounRe","m","number","baseTag","extra","finalTag","tenseTag","baseCategory","func","delay","timeout","_len","args","_key","context","clearTimeout","ready"],"sourceRoot":""}