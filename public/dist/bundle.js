/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/sweetalert2/dist/sweetalert2.all.js":
/*!**********************************************************!*\
  !*** ./node_modules/sweetalert2/dist/sweetalert2.all.js ***!
  \**********************************************************/
/***/ (function(module) {

eval("/*!\n* sweetalert2 v11.17.2\n* Released under the MIT License.\n*/\n(function (global, factory) {\n   true ? module.exports = factory() :\n  0;\n})(this, (function () { 'use strict';\n\n  function _assertClassBrand(e, t, n) {\n    if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n    throw new TypeError(\"Private element is not present on this object\");\n  }\n  function _checkPrivateRedeclaration(e, t) {\n    if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n  function _classPrivateFieldGet2(s, a) {\n    return s.get(_assertClassBrand(s, a));\n  }\n  function _classPrivateFieldInitSpec(e, t, a) {\n    _checkPrivateRedeclaration(e, t), t.set(e, a);\n  }\n  function _classPrivateFieldSet2(s, a, r) {\n    return s.set(_assertClassBrand(s, a), r), r;\n  }\n\n  const RESTORE_FOCUS_TIMEOUT = 100;\n\n  /** @type {GlobalState} */\n  const globalState = {};\n  const focusPreviousActiveElement = () => {\n    if (globalState.previousActiveElement instanceof HTMLElement) {\n      globalState.previousActiveElement.focus();\n      globalState.previousActiveElement = null;\n    } else if (document.body) {\n      document.body.focus();\n    }\n  };\n\n  /**\n   * Restore previous active (focused) element\n   *\n   * @param {boolean} returnFocus\n   * @returns {Promise<void>}\n   */\n  const restoreActiveElement = returnFocus => {\n    return new Promise(resolve => {\n      if (!returnFocus) {\n        return resolve();\n      }\n      const x = window.scrollX;\n      const y = window.scrollY;\n      globalState.restoreFocusTimeout = setTimeout(() => {\n        focusPreviousActiveElement();\n        resolve();\n      }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n      window.scrollTo(x, y);\n    });\n  };\n\n  const swalPrefix = 'swal2-';\n\n  /**\n   * @typedef {Record<SwalClass, string>} SwalClasses\n   */\n\n  /**\n   * @typedef {'success' | 'warning' | 'info' | 'question' | 'error'} SwalIcon\n   * @typedef {Record<SwalIcon, string>} SwalIcons\n   */\n\n  /** @type {SwalClass[]} */\n  const classNames = ['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'default-outline', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error', 'draggable', 'dragging'];\n  const swalClasses = classNames.reduce((acc, className) => {\n    acc[className] = swalPrefix + className;\n    return acc;\n  }, /** @type {SwalClasses} */{});\n\n  /** @type {SwalIcon[]} */\n  const icons = ['success', 'warning', 'info', 'question', 'error'];\n  const iconTypes = icons.reduce((acc, icon) => {\n    acc[icon] = swalPrefix + icon;\n    return acc;\n  }, /** @type {SwalIcons} */{});\n\n  const consolePrefix = 'SweetAlert2:';\n\n  /**\n   * Capitalize the first letter of a string\n   *\n   * @param {string} str\n   * @returns {string}\n   */\n  const capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n  /**\n   * Standardize console warnings\n   *\n   * @param {string | string[]} message\n   */\n  const warn = message => {\n    console.warn(`${consolePrefix} ${typeof message === 'object' ? message.join(' ') : message}`);\n  };\n\n  /**\n   * Standardize console errors\n   *\n   * @param {string} message\n   */\n  const error = message => {\n    console.error(`${consolePrefix} ${message}`);\n  };\n\n  /**\n   * Private global state for `warnOnce`\n   *\n   * @type {string[]}\n   * @private\n   */\n  const previousWarnOnceMessages = [];\n\n  /**\n   * Show a console warning, but only if it hasn't already been shown\n   *\n   * @param {string} message\n   */\n  const warnOnce = message => {\n    if (!previousWarnOnceMessages.includes(message)) {\n      previousWarnOnceMessages.push(message);\n      warn(message);\n    }\n  };\n\n  /**\n   * Show a one-time console warning about deprecated params/methods\n   *\n   * @param {string} deprecatedParam\n   * @param {string?} useInstead\n   */\n  const warnAboutDeprecation = function (deprecatedParam) {\n    let useInstead = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    warnOnce(`\"${deprecatedParam}\" is deprecated and will be removed in the next major release.${useInstead ? ` Use \"${useInstead}\" instead.` : ''}`);\n  };\n\n  /**\n   * If `arg` is a function, call it (with no arguments or context) and return the result.\n   * Otherwise, just pass the value through\n   *\n   * @param {Function | any} arg\n   * @returns {any}\n   */\n  const callIfFunction = arg => typeof arg === 'function' ? arg() : arg;\n\n  /**\n   * @param {any} arg\n   * @returns {boolean}\n   */\n  const hasToPromiseFn = arg => arg && typeof arg.toPromise === 'function';\n\n  /**\n   * @param {any} arg\n   * @returns {Promise<any>}\n   */\n  const asPromise = arg => hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n\n  /**\n   * @param {any} arg\n   * @returns {boolean}\n   */\n  const isPromise = arg => arg && Promise.resolve(arg) === arg;\n\n  /**\n   * Gets the popup container which contains the backdrop and the popup itself.\n   *\n   * @returns {HTMLElement | null}\n   */\n  const getContainer = () => document.body.querySelector(`.${swalClasses.container}`);\n\n  /**\n   * @param {string} selectorString\n   * @returns {HTMLElement | null}\n   */\n  const elementBySelector = selectorString => {\n    const container = getContainer();\n    return container ? container.querySelector(selectorString) : null;\n  };\n\n  /**\n   * @param {string} className\n   * @returns {HTMLElement | null}\n   */\n  const elementByClass = className => {\n    return elementBySelector(`.${className}`);\n  };\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getPopup = () => elementByClass(swalClasses.popup);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getIcon = () => elementByClass(swalClasses.icon);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getIconContent = () => elementByClass(swalClasses['icon-content']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getTitle = () => elementByClass(swalClasses.title);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getHtmlContainer = () => elementByClass(swalClasses['html-container']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getImage = () => elementByClass(swalClasses.image);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getProgressSteps = () => elementByClass(swalClasses['progress-steps']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getValidationMessage = () => elementByClass(swalClasses['validation-message']);\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getConfirmButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`));\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getCancelButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`));\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getDenyButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`));\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getInputLabel = () => elementByClass(swalClasses['input-label']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getLoader = () => elementBySelector(`.${swalClasses.loader}`);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getActions = () => elementByClass(swalClasses.actions);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getFooter = () => elementByClass(swalClasses.footer);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getCloseButton = () => elementByClass(swalClasses.close);\n\n  // https://github.com/jkup/focusable/blob/master/index.js\n  const focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`;\n  /**\n   * @returns {HTMLElement[]}\n   */\n  const getFocusableElements = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return [];\n    }\n    /** @type {NodeListOf<HTMLElement>} */\n    const focusableElementsWithTabindex = popup.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])');\n    const focusableElementsWithTabindexSorted = Array.from(focusableElementsWithTabindex)\n    // sort according to tabindex\n    .sort((a, b) => {\n      const tabindexA = parseInt(a.getAttribute('tabindex') || '0');\n      const tabindexB = parseInt(b.getAttribute('tabindex') || '0');\n      if (tabindexA > tabindexB) {\n        return 1;\n      } else if (tabindexA < tabindexB) {\n        return -1;\n      }\n      return 0;\n    });\n\n    /** @type {NodeListOf<HTMLElement>} */\n    const otherFocusableElements = popup.querySelectorAll(focusable);\n    const otherFocusableElementsFiltered = Array.from(otherFocusableElements).filter(el => el.getAttribute('tabindex') !== '-1');\n    return [...new Set(focusableElementsWithTabindexSorted.concat(otherFocusableElementsFiltered))].filter(el => isVisible$1(el));\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isModal = () => {\n    return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isToast = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    return hasClass(popup, swalClasses.toast);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isLoading = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    return popup.hasAttribute('data-loading');\n  };\n\n  /**\n   * Securely set innerHTML of an element\n   * https://github.com/sweetalert2/sweetalert2/issues/1926\n   *\n   * @param {HTMLElement} elem\n   * @param {string} html\n   */\n  const setInnerHtml = (elem, html) => {\n    elem.textContent = '';\n    if (html) {\n      const parser = new DOMParser();\n      const parsed = parser.parseFromString(html, `text/html`);\n      const head = parsed.querySelector('head');\n      if (head) {\n        Array.from(head.childNodes).forEach(child => {\n          elem.appendChild(child);\n        });\n      }\n      const body = parsed.querySelector('body');\n      if (body) {\n        Array.from(body.childNodes).forEach(child => {\n          if (child instanceof HTMLVideoElement || child instanceof HTMLAudioElement) {\n            elem.appendChild(child.cloneNode(true)); // https://github.com/sweetalert2/sweetalert2/issues/2507\n          } else {\n            elem.appendChild(child);\n          }\n        });\n      }\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {string} className\n   * @returns {boolean}\n   */\n  const hasClass = (elem, className) => {\n    if (!className) {\n      return false;\n    }\n    const classList = className.split(/\\s+/);\n    for (let i = 0; i < classList.length; i++) {\n      if (!elem.classList.contains(classList[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {SweetAlertOptions} params\n   */\n  const removeCustomClasses = (elem, params) => {\n    Array.from(elem.classList).forEach(className => {\n      if (!Object.values(swalClasses).includes(className) && !Object.values(iconTypes).includes(className) && !Object.values(params.showClass || {}).includes(className)) {\n        elem.classList.remove(className);\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {SweetAlertOptions} params\n   * @param {string} className\n   */\n  const applyCustomClass = (elem, params, className) => {\n    removeCustomClasses(elem, params);\n    if (!params.customClass) {\n      return;\n    }\n    const customClass = params.customClass[(/** @type {keyof SweetAlertCustomClass} */className)];\n    if (!customClass) {\n      return;\n    }\n    if (typeof customClass !== 'string' && !customClass.forEach) {\n      warn(`Invalid type of customClass.${className}! Expected string or iterable object, got \"${typeof customClass}\"`);\n      return;\n    }\n    addClass(elem, customClass);\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {import('./renderers/renderInput').InputClass | SweetAlertInput} inputClass\n   * @returns {HTMLInputElement | null}\n   */\n  const getInput$1 = (popup, inputClass) => {\n    if (!inputClass) {\n      return null;\n    }\n    switch (inputClass) {\n      case 'select':\n      case 'textarea':\n      case 'file':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses[inputClass]}`);\n      case 'checkbox':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);\n      case 'radio':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`) || popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);\n      case 'range':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);\n      default:\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`);\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} input\n   */\n  const focusInput = input => {\n    input.focus();\n\n    // place cursor at end of text in text input\n    if (input.type !== 'file') {\n      // http://stackoverflow.com/a/2345915\n      const val = input.value;\n      input.value = '';\n      input.value = val;\n    }\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   * @param {boolean} condition\n   */\n  const toggleClass = (target, classList, condition) => {\n    if (!target || !classList) {\n      return;\n    }\n    if (typeof classList === 'string') {\n      classList = classList.split(/\\s+/).filter(Boolean);\n    }\n    classList.forEach(className => {\n      if (Array.isArray(target)) {\n        target.forEach(elem => {\n          if (condition) {\n            elem.classList.add(className);\n          } else {\n            elem.classList.remove(className);\n          }\n        });\n      } else {\n        if (condition) {\n          target.classList.add(className);\n        } else {\n          target.classList.remove(className);\n        }\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   */\n  const addClass = (target, classList) => {\n    toggleClass(target, classList, true);\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   */\n  const removeClass = (target, classList) => {\n    toggleClass(target, classList, false);\n  };\n\n  /**\n   * Get direct child of an element by class name\n   *\n   * @param {HTMLElement} elem\n   * @param {string} className\n   * @returns {HTMLElement | undefined}\n   */\n  const getDirectChildByClass = (elem, className) => {\n    const children = Array.from(elem.children);\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child instanceof HTMLElement && hasClass(child, className)) {\n        return child;\n      }\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {string} property\n   * @param {*} value\n   */\n  const applyNumericalStyle = (elem, property, value) => {\n    if (value === `${parseInt(value)}`) {\n      value = parseInt(value);\n    }\n    if (value || parseInt(value) === 0) {\n      elem.style.setProperty(property, typeof value === 'number' ? `${value}px` : value);\n    } else {\n      elem.style.removeProperty(property);\n    }\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   * @param {string} display\n   */\n  const show = function (elem) {\n    let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n    if (!elem) {\n      return;\n    }\n    elem.style.display = display;\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   */\n  const hide = elem => {\n    if (!elem) {\n      return;\n    }\n    elem.style.display = 'none';\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   * @param {string} display\n   */\n  const showWhenInnerHtmlPresent = function (elem) {\n    let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'block';\n    if (!elem) {\n      return;\n    }\n    new MutationObserver(() => {\n      toggle(elem, elem.innerHTML, display);\n    }).observe(elem, {\n      childList: true,\n      subtree: true\n    });\n  };\n\n  /**\n   * @param {HTMLElement} parent\n   * @param {string} selector\n   * @param {string} property\n   * @param {string} value\n   */\n  const setStyle = (parent, selector, property, value) => {\n    /** @type {HTMLElement | null} */\n    const el = parent.querySelector(selector);\n    if (el) {\n      el.style.setProperty(property, value);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {any} condition\n   * @param {string} display\n   */\n  const toggle = function (elem, condition) {\n    let display = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'flex';\n    if (condition) {\n      show(elem, display);\n    } else {\n      hide(elem);\n    }\n  };\n\n  /**\n   * borrowed from jquery $(elem).is(':visible') implementation\n   *\n   * @param {HTMLElement | null} elem\n   * @returns {boolean}\n   */\n  const isVisible$1 = elem => !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n\n  /**\n   * @returns {boolean}\n   */\n  const allButtonsAreHidden = () => !isVisible$1(getConfirmButton()) && !isVisible$1(getDenyButton()) && !isVisible$1(getCancelButton());\n\n  /**\n   * @param {HTMLElement} elem\n   * @returns {boolean}\n   */\n  const isScrollable = elem => !!(elem.scrollHeight > elem.clientHeight);\n\n  /**\n   * borrowed from https://stackoverflow.com/a/46352119\n   *\n   * @param {HTMLElement} elem\n   * @returns {boolean}\n   */\n  const hasCssAnimation = elem => {\n    const style = window.getComputedStyle(elem);\n    const animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n    const transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n    return animDuration > 0 || transDuration > 0;\n  };\n\n  /**\n   * @param {number} timer\n   * @param {boolean} reset\n   */\n  const animateTimerProgressBar = function (timer) {\n    let reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    const timerProgressBar = getTimerProgressBar();\n    if (!timerProgressBar) {\n      return;\n    }\n    if (isVisible$1(timerProgressBar)) {\n      if (reset) {\n        timerProgressBar.style.transition = 'none';\n        timerProgressBar.style.width = '100%';\n      }\n      setTimeout(() => {\n        timerProgressBar.style.transition = `width ${timer / 1000}s linear`;\n        timerProgressBar.style.width = '0%';\n      }, 10);\n    }\n  };\n  const stopTimerProgressBar = () => {\n    const timerProgressBar = getTimerProgressBar();\n    if (!timerProgressBar) {\n      return;\n    }\n    const timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    timerProgressBar.style.removeProperty('transition');\n    timerProgressBar.style.width = '100%';\n    const timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    const timerProgressBarPercent = timerProgressBarWidth / timerProgressBarFullWidth * 100;\n    timerProgressBar.style.width = `${timerProgressBarPercent}%`;\n  };\n\n  /**\n   * Detect Node env\n   *\n   * @returns {boolean}\n   */\n  const isNodeEnv = () => typeof window === 'undefined' || typeof document === 'undefined';\n\n  const sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" id=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\" id=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" id=\"${swalClasses.checkbox}\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\" id=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\n  /**\n   * @returns {boolean}\n   */\n  const resetOldContainer = () => {\n    const oldContainer = getContainer();\n    if (!oldContainer) {\n      return false;\n    }\n    oldContainer.remove();\n    removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n    return true;\n  };\n  const resetValidationMessage$1 = () => {\n    globalState.currentInstance.resetValidationMessage();\n  };\n  const addInputChangeListeners = () => {\n    const popup = getPopup();\n    const input = getDirectChildByClass(popup, swalClasses.input);\n    const file = getDirectChildByClass(popup, swalClasses.file);\n    /** @type {HTMLInputElement} */\n    const range = popup.querySelector(`.${swalClasses.range} input`);\n    /** @type {HTMLOutputElement} */\n    const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n    const select = getDirectChildByClass(popup, swalClasses.select);\n    /** @type {HTMLInputElement} */\n    const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n    const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n    input.oninput = resetValidationMessage$1;\n    file.onchange = resetValidationMessage$1;\n    select.onchange = resetValidationMessage$1;\n    checkbox.onchange = resetValidationMessage$1;\n    textarea.oninput = resetValidationMessage$1;\n    range.oninput = () => {\n      resetValidationMessage$1();\n      rangeOutput.value = range.value;\n    };\n    range.onchange = () => {\n      resetValidationMessage$1();\n      rangeOutput.value = range.value;\n    };\n  };\n\n  /**\n   * @param {string | HTMLElement} target\n   * @returns {HTMLElement}\n   */\n  const getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const setupAccessibility = params => {\n    const popup = getPopup();\n    popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n    popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n    if (!params.toast) {\n      popup.setAttribute('aria-modal', 'true');\n    }\n  };\n\n  /**\n   * @param {HTMLElement} targetElement\n   */\n  const setupRTL = targetElement => {\n    if (window.getComputedStyle(targetElement).direction === 'rtl') {\n      addClass(getContainer(), swalClasses.rtl);\n    }\n  };\n\n  /**\n   * Add modal + backdrop + no-war message for Russians to DOM\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const init = params => {\n    // Clean up the old popup container if it exists\n    const oldContainerExisted = resetOldContainer();\n    if (isNodeEnv()) {\n      error('SweetAlert2 requires document to initialize');\n      return;\n    }\n    const container = document.createElement('div');\n    container.className = swalClasses.container;\n    if (oldContainerExisted) {\n      addClass(container, swalClasses['no-transition']);\n    }\n    setInnerHtml(container, sweetHTML);\n    container.dataset['swal2Theme'] = params.theme;\n    const targetElement = getTarget(params.target);\n    targetElement.appendChild(container);\n    setupAccessibility(params);\n    setupRTL(targetElement);\n    addInputChangeListeners();\n  };\n\n  /**\n   * @param {HTMLElement | object | string} param\n   * @param {HTMLElement} target\n   */\n  const parseHtmlToContainer = (param, target) => {\n    // DOM element\n    if (param instanceof HTMLElement) {\n      target.appendChild(param);\n    }\n\n    // Object\n    else if (typeof param === 'object') {\n      handleObject(param, target);\n    }\n\n    // Plain string\n    else if (param) {\n      setInnerHtml(target, param);\n    }\n  };\n\n  /**\n   * @param {any} param\n   * @param {HTMLElement} target\n   */\n  const handleObject = (param, target) => {\n    // JQuery element(s)\n    if (param.jquery) {\n      handleJqueryElem(target, param);\n    }\n\n    // For other objects use their string representation\n    else {\n      setInnerHtml(target, param.toString());\n    }\n  };\n\n  /**\n   * @param {HTMLElement} target\n   * @param {any} elem\n   */\n  const handleJqueryElem = (target, elem) => {\n    target.textContent = '';\n    if (0 in elem) {\n      for (let i = 0; i in elem; i++) {\n        target.appendChild(elem[i].cloneNode(true));\n      }\n    } else {\n      target.appendChild(elem.cloneNode(true));\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderActions = (instance, params) => {\n    const actions = getActions();\n    const loader = getLoader();\n    if (!actions || !loader) {\n      return;\n    }\n\n    // Actions (buttons) wrapper\n    if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n      hide(actions);\n    } else {\n      show(actions);\n    }\n\n    // Custom class\n    applyCustomClass(actions, params, 'actions');\n\n    // Render all the buttons\n    renderButtons(actions, loader, params);\n\n    // Loader\n    setInnerHtml(loader, params.loaderHtml || '');\n    applyCustomClass(loader, params, 'loader');\n  };\n\n  /**\n   * @param {HTMLElement} actions\n   * @param {HTMLElement} loader\n   * @param {SweetAlertOptions} params\n   */\n  function renderButtons(actions, loader, params) {\n    const confirmButton = getConfirmButton();\n    const denyButton = getDenyButton();\n    const cancelButton = getCancelButton();\n    if (!confirmButton || !denyButton || !cancelButton) {\n      return;\n    }\n\n    // Render buttons\n    renderButton(confirmButton, 'confirm', params);\n    renderButton(denyButton, 'deny', params);\n    renderButton(cancelButton, 'cancel', params);\n    handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n    if (params.reverseButtons) {\n      if (params.toast) {\n        actions.insertBefore(cancelButton, confirmButton);\n        actions.insertBefore(denyButton, confirmButton);\n      } else {\n        actions.insertBefore(cancelButton, loader);\n        actions.insertBefore(denyButton, loader);\n        actions.insertBefore(confirmButton, loader);\n      }\n    }\n  }\n\n  /**\n   * @param {HTMLElement} confirmButton\n   * @param {HTMLElement} denyButton\n   * @param {HTMLElement} cancelButton\n   * @param {SweetAlertOptions} params\n   */\n  function handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n    if (!params.buttonsStyling) {\n      removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n      return;\n    }\n    addClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n\n    // Buttons background colors\n    if (params.confirmButtonColor) {\n      confirmButton.style.backgroundColor = params.confirmButtonColor;\n      addClass(confirmButton, swalClasses['default-outline']);\n    }\n    if (params.denyButtonColor) {\n      denyButton.style.backgroundColor = params.denyButtonColor;\n      addClass(denyButton, swalClasses['default-outline']);\n    }\n    if (params.cancelButtonColor) {\n      cancelButton.style.backgroundColor = params.cancelButtonColor;\n      addClass(cancelButton, swalClasses['default-outline']);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} button\n   * @param {'confirm' | 'deny' | 'cancel'} buttonType\n   * @param {SweetAlertOptions} params\n   */\n  function renderButton(button, buttonType, params) {\n    const buttonName = /** @type {'Confirm' | 'Deny' | 'Cancel'} */capitalizeFirstLetter(buttonType);\n    toggle(button, params[`show${buttonName}Button`], 'inline-block');\n    setInnerHtml(button, params[`${buttonType}ButtonText`] || ''); // Set caption text\n    button.setAttribute('aria-label', params[`${buttonType}ButtonAriaLabel`] || ''); // ARIA label\n\n    // Add buttons custom classes\n    button.className = swalClasses[buttonType];\n    applyCustomClass(button, params, `${buttonType}Button`);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderCloseButton = (instance, params) => {\n    const closeButton = getCloseButton();\n    if (!closeButton) {\n      return;\n    }\n    setInnerHtml(closeButton, params.closeButtonHtml || '');\n\n    // Custom class\n    applyCustomClass(closeButton, params, 'closeButton');\n    toggle(closeButton, params.showCloseButton);\n    closeButton.setAttribute('aria-label', params.closeButtonAriaLabel || '');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderContainer = (instance, params) => {\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    handleBackdropParam(container, params.backdrop);\n    handlePositionParam(container, params.position);\n    handleGrowParam(container, params.grow);\n\n    // Custom class\n    applyCustomClass(container, params, 'container');\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['backdrop']} backdrop\n   */\n  function handleBackdropParam(container, backdrop) {\n    if (typeof backdrop === 'string') {\n      container.style.background = backdrop;\n    } else if (!backdrop) {\n      addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['position']} position\n   */\n  function handlePositionParam(container, position) {\n    if (!position) {\n      return;\n    }\n    if (position in swalClasses) {\n      addClass(container, swalClasses[position]);\n    } else {\n      warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n      addClass(container, swalClasses.center);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['grow']} grow\n   */\n  function handleGrowParam(container, grow) {\n    if (!grow) {\n      return;\n    }\n    addClass(container, swalClasses[`grow-${grow}`]);\n  }\n\n  /**\n   * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n\n  var privateProps = {\n    innerParams: new WeakMap(),\n    domCache: new WeakMap()\n  };\n\n  /// <reference path=\"../../../../sweetalert2.d.ts\"/>\n\n\n  /** @type {InputClass[]} */\n  const inputClasses = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderInput = (instance, params) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const innerParams = privateProps.innerParams.get(instance);\n    const rerender = !innerParams || params.input !== innerParams.input;\n    inputClasses.forEach(inputClass => {\n      const inputContainer = getDirectChildByClass(popup, swalClasses[inputClass]);\n      if (!inputContainer) {\n        return;\n      }\n\n      // set attributes\n      setAttributes(inputClass, params.inputAttributes);\n\n      // set class\n      inputContainer.className = swalClasses[inputClass];\n      if (rerender) {\n        hide(inputContainer);\n      }\n    });\n    if (params.input) {\n      if (rerender) {\n        showInput(params);\n      }\n      // set custom class\n      setCustomClass(params);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const showInput = params => {\n    if (!params.input) {\n      return;\n    }\n    if (!renderInputType[params.input]) {\n      error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(' | ')}, got \"${params.input}\"`);\n      return;\n    }\n    const inputContainer = getInputContainer(params.input);\n    if (!inputContainer) {\n      return;\n    }\n    const input = renderInputType[params.input](inputContainer, params);\n    show(inputContainer);\n\n    // input autofocus\n    if (params.inputAutoFocus) {\n      setTimeout(() => {\n        focusInput(input);\n      });\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   */\n  const removeAttributes = input => {\n    for (let i = 0; i < input.attributes.length; i++) {\n      const attrName = input.attributes[i].name;\n      if (!['id', 'type', 'value', 'style'].includes(attrName)) {\n        input.removeAttribute(attrName);\n      }\n    }\n  };\n\n  /**\n   * @param {InputClass} inputClass\n   * @param {SweetAlertOptions['inputAttributes']} inputAttributes\n   */\n  const setAttributes = (inputClass, inputAttributes) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const input = getInput$1(popup, inputClass);\n    if (!input) {\n      return;\n    }\n    removeAttributes(input);\n    for (const attr in inputAttributes) {\n      input.setAttribute(attr, inputAttributes[attr]);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const setCustomClass = params => {\n    if (!params.input) {\n      return;\n    }\n    const inputContainer = getInputContainer(params.input);\n    if (inputContainer) {\n      applyCustomClass(inputContainer, params, 'input');\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLTextAreaElement} input\n   * @param {SweetAlertOptions} params\n   */\n  const setInputPlaceholder = (input, params) => {\n    if (!input.placeholder && params.inputPlaceholder) {\n      input.placeholder = params.inputPlaceholder;\n    }\n  };\n\n  /**\n   * @param {Input} input\n   * @param {Input} prependTo\n   * @param {SweetAlertOptions} params\n   */\n  const setInputLabel = (input, prependTo, params) => {\n    if (params.inputLabel) {\n      const label = document.createElement('label');\n      const labelClass = swalClasses['input-label'];\n      label.setAttribute('for', input.id);\n      label.className = labelClass;\n      if (typeof params.customClass === 'object') {\n        addClass(label, params.customClass.inputLabel);\n      }\n      label.innerText = params.inputLabel;\n      prependTo.insertAdjacentElement('beforebegin', label);\n    }\n  };\n\n  /**\n   * @param {SweetAlertInput} inputType\n   * @returns {HTMLElement | undefined}\n   */\n  const getInputContainer = inputType => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    return getDirectChildByClass(popup, swalClasses[(/** @type {SwalClass} */inputType)] || swalClasses.input);\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLOutputElement | HTMLTextAreaElement} input\n   * @param {SweetAlertOptions['inputValue']} inputValue\n   */\n  const checkAndSetInputValue = (input, inputValue) => {\n    if (['string', 'number'].includes(typeof inputValue)) {\n      input.value = `${inputValue}`;\n    } else if (!isPromise(inputValue)) {\n      warn(`Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"${typeof inputValue}\"`);\n    }\n  };\n\n  /** @type {Record<SweetAlertInput, (input: Input | HTMLElement, params: SweetAlertOptions) => Input>} */\n  const renderInputType = {};\n\n  /**\n   * @param {HTMLInputElement} input\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = renderInputType.search = renderInputType.date = renderInputType['datetime-local'] = renderInputType.time = renderInputType.week = renderInputType.month = /** @type {(input: Input | HTMLElement, params: SweetAlertOptions) => Input} */\n  (input, params) => {\n    checkAndSetInputValue(input, params.inputValue);\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    input.type = params.input;\n    return input;\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.file = (input, params) => {\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    return input;\n  };\n\n  /**\n   * @param {HTMLInputElement} range\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.range = (range, params) => {\n    const rangeInput = range.querySelector('input');\n    const rangeOutput = range.querySelector('output');\n    checkAndSetInputValue(rangeInput, params.inputValue);\n    rangeInput.type = params.input;\n    checkAndSetInputValue(rangeOutput, params.inputValue);\n    setInputLabel(rangeInput, range, params);\n    return range;\n  };\n\n  /**\n   * @param {HTMLSelectElement} select\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLSelectElement}\n   */\n  renderInputType.select = (select, params) => {\n    select.textContent = '';\n    if (params.inputPlaceholder) {\n      const placeholder = document.createElement('option');\n      setInnerHtml(placeholder, params.inputPlaceholder);\n      placeholder.value = '';\n      placeholder.disabled = true;\n      placeholder.selected = true;\n      select.appendChild(placeholder);\n    }\n    setInputLabel(select, select, params);\n    return select;\n  };\n\n  /**\n   * @param {HTMLInputElement} radio\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.radio = radio => {\n    radio.textContent = '';\n    return radio;\n  };\n\n  /**\n   * @param {HTMLLabelElement} checkboxContainer\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.checkbox = (checkboxContainer, params) => {\n    const checkbox = getInput$1(getPopup(), 'checkbox');\n    checkbox.value = '1';\n    checkbox.checked = Boolean(params.inputValue);\n    const label = checkboxContainer.querySelector('span');\n    setInnerHtml(label, params.inputPlaceholder || params.inputLabel);\n    return checkbox;\n  };\n\n  /**\n   * @param {HTMLTextAreaElement} textarea\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLTextAreaElement}\n   */\n  renderInputType.textarea = (textarea, params) => {\n    checkAndSetInputValue(textarea, params.inputValue);\n    setInputPlaceholder(textarea, params);\n    setInputLabel(textarea, textarea, params);\n\n    /**\n     * @param {HTMLElement} el\n     * @returns {number}\n     */\n    const getMargin = el => parseInt(window.getComputedStyle(el).marginLeft) + parseInt(window.getComputedStyle(el).marginRight);\n\n    // https://github.com/sweetalert2/sweetalert2/issues/2291\n    setTimeout(() => {\n      // https://github.com/sweetalert2/sweetalert2/issues/1699\n      if ('MutationObserver' in window) {\n        const initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);\n        const textareaResizeHandler = () => {\n          // check if texarea is still in document (i.e. popup wasn't closed in the meantime)\n          if (!document.body.contains(textarea)) {\n            return;\n          }\n          const textareaWidth = textarea.offsetWidth + getMargin(textarea);\n          if (textareaWidth > initialPopupWidth) {\n            getPopup().style.width = `${textareaWidth}px`;\n          } else {\n            applyNumericalStyle(getPopup(), 'width', params.width);\n          }\n        };\n        new MutationObserver(textareaResizeHandler).observe(textarea, {\n          attributes: true,\n          attributeFilter: ['style']\n        });\n      }\n    });\n    return textarea;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderContent = (instance, params) => {\n    const htmlContainer = getHtmlContainer();\n    if (!htmlContainer) {\n      return;\n    }\n    showWhenInnerHtmlPresent(htmlContainer);\n    applyCustomClass(htmlContainer, params, 'htmlContainer');\n\n    // Content as HTML\n    if (params.html) {\n      parseHtmlToContainer(params.html, htmlContainer);\n      show(htmlContainer, 'block');\n    }\n\n    // Content as plain text\n    else if (params.text) {\n      htmlContainer.textContent = params.text;\n      show(htmlContainer, 'block');\n    }\n\n    // No content\n    else {\n      hide(htmlContainer);\n    }\n    renderInput(instance, params);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderFooter = (instance, params) => {\n    const footer = getFooter();\n    if (!footer) {\n      return;\n    }\n    showWhenInnerHtmlPresent(footer);\n    toggle(footer, params.footer, 'block');\n    if (params.footer) {\n      parseHtmlToContainer(params.footer, footer);\n    }\n\n    // Custom class\n    applyCustomClass(footer, params, 'footer');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderIcon = (instance, params) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    const icon = getIcon();\n    if (!icon) {\n      return;\n    }\n\n    // if the given icon already rendered, apply the styling without re-rendering the icon\n    if (innerParams && params.icon === innerParams.icon) {\n      // Custom or default content\n      setContent(icon, params);\n      applyStyles(icon, params);\n      return;\n    }\n    if (!params.icon && !params.iconHtml) {\n      hide(icon);\n      return;\n    }\n    if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n      error(`Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"${params.icon}\"`);\n      hide(icon);\n      return;\n    }\n    show(icon);\n\n    // Custom or default content\n    setContent(icon, params);\n    applyStyles(icon, params);\n\n    // Animate icon\n    addClass(icon, params.showClass && params.showClass.icon);\n\n    // Re-adjust the success icon on system theme change\n    const colorSchemeQueryList = window.matchMedia('(prefers-color-scheme: dark)');\n    colorSchemeQueryList.addEventListener('change', adjustSuccessIconBackgroundColor);\n  };\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const applyStyles = (icon, params) => {\n    for (const [iconType, iconClassName] of Object.entries(iconTypes)) {\n      if (params.icon !== iconType) {\n        removeClass(icon, iconClassName);\n      }\n    }\n    addClass(icon, params.icon && iconTypes[params.icon]);\n\n    // Icon color\n    setColor(icon, params);\n\n    // Success icon background color\n    adjustSuccessIconBackgroundColor();\n\n    // Custom class\n    applyCustomClass(icon, params, 'icon');\n  };\n\n  // Adjust success icon background color to match the popup background color\n  const adjustSuccessIconBackgroundColor = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n    /** @type {NodeListOf<HTMLElement>} */\n    const successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n    for (let i = 0; i < successIconParts.length; i++) {\n      successIconParts[i].style.backgroundColor = popupBackgroundColor;\n    }\n  };\n  const successIconHtml = `\n  <div class=\"swal2-success-circular-line-left\"></div>\n  <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n  <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n  <div class=\"swal2-success-circular-line-right\"></div>\n`;\n  const errorIconHtml = `\n  <span class=\"swal2-x-mark\">\n    <span class=\"swal2-x-mark-line-left\"></span>\n    <span class=\"swal2-x-mark-line-right\"></span>\n  </span>\n`;\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const setContent = (icon, params) => {\n    if (!params.icon && !params.iconHtml) {\n      return;\n    }\n    let oldContent = icon.innerHTML;\n    let newContent = '';\n    if (params.iconHtml) {\n      newContent = iconContent(params.iconHtml);\n    } else if (params.icon === 'success') {\n      newContent = successIconHtml;\n      oldContent = oldContent.replace(/ style=\".*?\"/g, ''); // undo adjustSuccessIconBackgroundColor()\n    } else if (params.icon === 'error') {\n      newContent = errorIconHtml;\n    } else if (params.icon) {\n      const defaultIconHtml = {\n        question: '?',\n        warning: '!',\n        info: 'i'\n      };\n      newContent = iconContent(defaultIconHtml[params.icon]);\n    }\n    if (oldContent.trim() !== newContent.trim()) {\n      setInnerHtml(icon, newContent);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const setColor = (icon, params) => {\n    if (!params.iconColor) {\n      return;\n    }\n    icon.style.color = params.iconColor;\n    icon.style.borderColor = params.iconColor;\n    for (const sel of ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']) {\n      setStyle(icon, sel, 'background-color', params.iconColor);\n    }\n    setStyle(icon, '.swal2-success-ring', 'border-color', params.iconColor);\n  };\n\n  /**\n   * @param {string} content\n   * @returns {string}\n   */\n  const iconContent = content => `<div class=\"${swalClasses['icon-content']}\">${content}</div>`;\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderImage = (instance, params) => {\n    const image = getImage();\n    if (!image) {\n      return;\n    }\n    if (!params.imageUrl) {\n      hide(image);\n      return;\n    }\n    show(image, '');\n\n    // Src, alt\n    image.setAttribute('src', params.imageUrl);\n    image.setAttribute('alt', params.imageAlt || '');\n\n    // Width, height\n    applyNumericalStyle(image, 'width', params.imageWidth);\n    applyNumericalStyle(image, 'height', params.imageHeight);\n\n    // Class\n    image.className = swalClasses.image;\n    applyCustomClass(image, params, 'image');\n  };\n\n  let dragging = false;\n  let mousedownX = 0;\n  let mousedownY = 0;\n  let initialX = 0;\n  let initialY = 0;\n\n  /**\n   * @param {HTMLElement} popup\n   */\n  const addDraggableListeners = popup => {\n    popup.addEventListener('mousedown', down);\n    document.body.addEventListener('mousemove', move);\n    popup.addEventListener('mouseup', up);\n    popup.addEventListener('touchstart', down);\n    document.body.addEventListener('touchmove', move);\n    popup.addEventListener('touchend', up);\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   */\n  const removeDraggableListeners = popup => {\n    popup.removeEventListener('mousedown', down);\n    document.body.removeEventListener('mousemove', move);\n    popup.removeEventListener('mouseup', up);\n    popup.removeEventListener('touchstart', down);\n    document.body.removeEventListener('touchmove', move);\n    popup.removeEventListener('touchend', up);\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   */\n  const down = event => {\n    const popup = getPopup();\n    if (event.target === popup || getIcon().contains(/** @type {HTMLElement} */event.target)) {\n      dragging = true;\n      const clientXY = getClientXY(event);\n      mousedownX = clientXY.clientX;\n      mousedownY = clientXY.clientY;\n      initialX = parseInt(popup.style.insetInlineStart) || 0;\n      initialY = parseInt(popup.style.insetBlockStart) || 0;\n      addClass(popup, 'swal2-dragging');\n    }\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   */\n  const move = event => {\n    const popup = getPopup();\n    if (dragging) {\n      let {\n        clientX,\n        clientY\n      } = getClientXY(event);\n      popup.style.insetInlineStart = `${initialX + (clientX - mousedownX)}px`;\n      popup.style.insetBlockStart = `${initialY + (clientY - mousedownY)}px`;\n    }\n  };\n  const up = () => {\n    const popup = getPopup();\n    dragging = false;\n    removeClass(popup, 'swal2-dragging');\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   * @returns {{ clientX: number, clientY: number }}\n   */\n  const getClientXY = event => {\n    let clientX = 0,\n      clientY = 0;\n    if (event.type.startsWith('mouse')) {\n      clientX = /** @type {MouseEvent} */event.clientX;\n      clientY = /** @type {MouseEvent} */event.clientY;\n    } else if (event.type.startsWith('touch')) {\n      clientX = /** @type {TouchEvent} */event.touches[0].clientX;\n      clientY = /** @type {TouchEvent} */event.touches[0].clientY;\n    }\n    return {\n      clientX,\n      clientY\n    };\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderPopup = (instance, params) => {\n    const container = getContainer();\n    const popup = getPopup();\n    if (!container || !popup) {\n      return;\n    }\n\n    // Width\n    // https://github.com/sweetalert2/sweetalert2/issues/2170\n    if (params.toast) {\n      applyNumericalStyle(container, 'width', params.width);\n      popup.style.width = '100%';\n      const loader = getLoader();\n      if (loader) {\n        popup.insertBefore(loader, getIcon());\n      }\n    } else {\n      applyNumericalStyle(popup, 'width', params.width);\n    }\n\n    // Padding\n    applyNumericalStyle(popup, 'padding', params.padding);\n\n    // Color\n    if (params.color) {\n      popup.style.color = params.color;\n    }\n\n    // Background\n    if (params.background) {\n      popup.style.background = params.background;\n    }\n    hide(getValidationMessage());\n\n    // Classes\n    addClasses$1(popup, params);\n    if (params.draggable && !params.toast) {\n      addClass(popup, swalClasses.draggable);\n      addDraggableListeners(popup);\n    } else {\n      removeClass(popup, swalClasses.draggable);\n      removeDraggableListeners(popup);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} params\n   */\n  const addClasses$1 = (popup, params) => {\n    const showClass = params.showClass || {};\n    // Default Class + showClass when updating Swal.update({})\n    popup.className = `${swalClasses.popup} ${isVisible$1(popup) ? showClass.popup : ''}`;\n    if (params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n      addClass(popup, swalClasses.toast);\n    } else {\n      addClass(popup, swalClasses.modal);\n    }\n\n    // Custom class\n    applyCustomClass(popup, params, 'popup');\n    // TODO: remove in the next major\n    if (typeof params.customClass === 'string') {\n      addClass(popup, params.customClass);\n    }\n\n    // Icon class (#1842)\n    if (params.icon) {\n      addClass(popup, swalClasses[`icon-${params.icon}`]);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderProgressSteps = (instance, params) => {\n    const progressStepsContainer = getProgressSteps();\n    if (!progressStepsContainer) {\n      return;\n    }\n    const {\n      progressSteps,\n      currentProgressStep\n    } = params;\n    if (!progressSteps || progressSteps.length === 0 || currentProgressStep === undefined) {\n      hide(progressStepsContainer);\n      return;\n    }\n    show(progressStepsContainer);\n    progressStepsContainer.textContent = '';\n    if (currentProgressStep >= progressSteps.length) {\n      warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n    }\n    progressSteps.forEach((step, index) => {\n      const stepEl = createStepElement(step);\n      progressStepsContainer.appendChild(stepEl);\n      if (index === currentProgressStep) {\n        addClass(stepEl, swalClasses['active-progress-step']);\n      }\n      if (index !== progressSteps.length - 1) {\n        const lineEl = createLineElement(params);\n        progressStepsContainer.appendChild(lineEl);\n      }\n    });\n  };\n\n  /**\n   * @param {string} step\n   * @returns {HTMLLIElement}\n   */\n  const createStepElement = step => {\n    const stepEl = document.createElement('li');\n    addClass(stepEl, swalClasses['progress-step']);\n    setInnerHtml(stepEl, step);\n    return stepEl;\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLLIElement}\n   */\n  const createLineElement = params => {\n    const lineEl = document.createElement('li');\n    addClass(lineEl, swalClasses['progress-step-line']);\n    if (params.progressStepsDistance) {\n      applyNumericalStyle(lineEl, 'width', params.progressStepsDistance);\n    }\n    return lineEl;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderTitle = (instance, params) => {\n    const title = getTitle();\n    if (!title) {\n      return;\n    }\n    showWhenInnerHtmlPresent(title);\n    toggle(title, params.title || params.titleText, 'block');\n    if (params.title) {\n      parseHtmlToContainer(params.title, title);\n    }\n    if (params.titleText) {\n      title.innerText = params.titleText;\n    }\n\n    // Custom class\n    applyCustomClass(title, params, 'title');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const render = (instance, params) => {\n    renderPopup(instance, params);\n    renderContainer(instance, params);\n    renderProgressSteps(instance, params);\n    renderIcon(instance, params);\n    renderImage(instance, params);\n    renderTitle(instance, params);\n    renderCloseButton(instance, params);\n    renderContent(instance, params);\n    renderActions(instance, params);\n    renderFooter(instance, params);\n    const popup = getPopup();\n    if (typeof params.didRender === 'function' && popup) {\n      params.didRender(popup);\n    }\n    globalState.eventEmitter.emit('didRender', popup);\n  };\n\n  /*\n   * Global function to determine if SweetAlert2 popup is shown\n   */\n  const isVisible = () => {\n    return isVisible$1(getPopup());\n  };\n\n  /*\n   * Global function to click 'Confirm' button\n   */\n  const clickConfirm = () => {\n    var _dom$getConfirmButton;\n    return (_dom$getConfirmButton = getConfirmButton()) === null || _dom$getConfirmButton === void 0 ? void 0 : _dom$getConfirmButton.click();\n  };\n\n  /*\n   * Global function to click 'Deny' button\n   */\n  const clickDeny = () => {\n    var _dom$getDenyButton;\n    return (_dom$getDenyButton = getDenyButton()) === null || _dom$getDenyButton === void 0 ? void 0 : _dom$getDenyButton.click();\n  };\n\n  /*\n   * Global function to click 'Cancel' button\n   */\n  const clickCancel = () => {\n    var _dom$getCancelButton;\n    return (_dom$getCancelButton = getCancelButton()) === null || _dom$getCancelButton === void 0 ? void 0 : _dom$getCancelButton.click();\n  };\n\n  /** @typedef {'cancel' | 'backdrop' | 'close' | 'esc' | 'timer'} DismissReason */\n\n  /** @type {Record<DismissReason, DismissReason>} */\n  const DismissReason = Object.freeze({\n    cancel: 'cancel',\n    backdrop: 'backdrop',\n    close: 'close',\n    esc: 'esc',\n    timer: 'timer'\n  });\n\n  /**\n   * @param {GlobalState} globalState\n   */\n  const removeKeydownHandler = globalState => {\n    if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n      globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = false;\n    }\n  };\n\n  /**\n   * @param {GlobalState} globalState\n   * @param {SweetAlertOptions} innerParams\n   * @param {*} dismissWith\n   */\n  const addKeydownHandler = (globalState, innerParams, dismissWith) => {\n    removeKeydownHandler(globalState);\n    if (!innerParams.toast) {\n      globalState.keydownHandler = e => keydownHandler(innerParams, e, dismissWith);\n      globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();\n      globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n      globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = true;\n    }\n  };\n\n  /**\n   * @param {number} index\n   * @param {number} increment\n   */\n  const setFocus = (index, increment) => {\n    var _dom$getPopup;\n    const focusableElements = getFocusableElements();\n    // search for visible elements and select the next possible match\n    if (focusableElements.length) {\n      index = index + increment;\n\n      // rollover to first item\n      if (index === focusableElements.length) {\n        index = 0;\n\n        // go to last item\n      } else if (index === -1) {\n        index = focusableElements.length - 1;\n      }\n      focusableElements[index].focus();\n      return;\n    }\n    // no visible focusable elements, focus the popup\n    (_dom$getPopup = getPopup()) === null || _dom$getPopup === void 0 || _dom$getPopup.focus();\n  };\n  const arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\n  const arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {KeyboardEvent} event\n   * @param {Function} dismissWith\n   */\n  const keydownHandler = (innerParams, event, dismissWith) => {\n    if (!innerParams) {\n      return; // This instance has already been destroyed\n    }\n\n    // Ignore keydown during IME composition\n    // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n    // https://github.com/sweetalert2/sweetalert2/issues/720\n    // https://github.com/sweetalert2/sweetalert2/issues/2406\n    if (event.isComposing || event.keyCode === 229) {\n      return;\n    }\n    if (innerParams.stopKeydownPropagation) {\n      event.stopPropagation();\n    }\n\n    // ENTER\n    if (event.key === 'Enter') {\n      handleEnter(event, innerParams);\n    }\n\n    // TAB\n    else if (event.key === 'Tab') {\n      handleTab(event);\n    }\n\n    // ARROWS - switch focus between buttons\n    else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(event.key)) {\n      handleArrows(event.key);\n    }\n\n    // ESC\n    else if (event.key === 'Escape') {\n      handleEsc(event, innerParams, dismissWith);\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   * @param {SweetAlertOptions} innerParams\n   */\n  const handleEnter = (event, innerParams) => {\n    // https://github.com/sweetalert2/sweetalert2/issues/2386\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      return;\n    }\n    const input = getInput$1(getPopup(), innerParams.input);\n    if (event.target && input && event.target instanceof HTMLElement && event.target.outerHTML === input.outerHTML) {\n      if (['textarea', 'file'].includes(innerParams.input)) {\n        return; // do not submit\n      }\n      clickConfirm();\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   */\n  const handleTab = event => {\n    const targetElement = event.target;\n    const focusableElements = getFocusableElements();\n    let btnIndex = -1;\n    for (let i = 0; i < focusableElements.length; i++) {\n      if (targetElement === focusableElements[i]) {\n        btnIndex = i;\n        break;\n      }\n    }\n\n    // Cycle to the next button\n    if (!event.shiftKey) {\n      setFocus(btnIndex, 1);\n    }\n\n    // Cycle to the prev button\n    else {\n      setFocus(btnIndex, -1);\n    }\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * @param {string} key\n   */\n  const handleArrows = key => {\n    const actions = getActions();\n    const confirmButton = getConfirmButton();\n    const denyButton = getDenyButton();\n    const cancelButton = getCancelButton();\n    if (!actions || !confirmButton || !denyButton || !cancelButton) {\n      return;\n    }\n    /** @type HTMLElement[] */\n    const buttons = [confirmButton, denyButton, cancelButton];\n    if (document.activeElement instanceof HTMLElement && !buttons.includes(document.activeElement)) {\n      return;\n    }\n    const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n    let buttonToFocus = document.activeElement;\n    if (!buttonToFocus) {\n      return;\n    }\n    for (let i = 0; i < actions.children.length; i++) {\n      buttonToFocus = buttonToFocus[sibling];\n      if (!buttonToFocus) {\n        return;\n      }\n      if (buttonToFocus instanceof HTMLButtonElement && isVisible$1(buttonToFocus)) {\n        break;\n      }\n    }\n    if (buttonToFocus instanceof HTMLButtonElement) {\n      buttonToFocus.focus();\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   * @param {SweetAlertOptions} innerParams\n   * @param {Function} dismissWith\n   */\n  const handleEsc = (event, innerParams, dismissWith) => {\n    if (callIfFunction(innerParams.allowEscapeKey)) {\n      event.preventDefault();\n      dismissWith(DismissReason.esc);\n    }\n  };\n\n  /**\n   * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n\n  var privateMethods = {\n    swalPromiseResolve: new WeakMap(),\n    swalPromiseReject: new WeakMap()\n  };\n\n  // From https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n  // Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n  // elements not within the active modal dialog will not be surfaced if a user opens a screen\n  // reader’s list of elements (headings, form controls, landmarks, etc.) in the document.\n\n  const setAriaHidden = () => {\n    const container = getContainer();\n    const bodyChildren = Array.from(document.body.children);\n    bodyChildren.forEach(el => {\n      if (el.contains(container)) {\n        return;\n      }\n      if (el.hasAttribute('aria-hidden')) {\n        el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden') || '');\n      }\n      el.setAttribute('aria-hidden', 'true');\n    });\n  };\n  const unsetAriaHidden = () => {\n    const bodyChildren = Array.from(document.body.children);\n    bodyChildren.forEach(el => {\n      if (el.hasAttribute('data-previous-aria-hidden')) {\n        el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden') || '');\n        el.removeAttribute('data-previous-aria-hidden');\n      } else {\n        el.removeAttribute('aria-hidden');\n      }\n    });\n  };\n\n  // @ts-ignore\n  const isSafariOrIOS = typeof window !== 'undefined' && !!window.GestureEvent; // true for Safari desktop + all iOS browsers https://stackoverflow.com/a/70585394\n\n  /**\n   * Fix iOS scrolling\n   * http://stackoverflow.com/q/39626302\n   */\n  const iOSfix = () => {\n    if (isSafariOrIOS && !hasClass(document.body, swalClasses.iosfix)) {\n      const offset = document.body.scrollTop;\n      document.body.style.top = `${offset * -1}px`;\n      addClass(document.body, swalClasses.iosfix);\n      lockBodyScroll();\n    }\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1246\n   */\n  const lockBodyScroll = () => {\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    /** @type {boolean} */\n    let preventTouchMove;\n    /**\n     * @param {TouchEvent} event\n     */\n    container.ontouchstart = event => {\n      preventTouchMove = shouldPreventTouchMove(event);\n    };\n    /**\n     * @param {TouchEvent} event\n     */\n    container.ontouchmove = event => {\n      if (preventTouchMove) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n  };\n\n  /**\n   * @param {TouchEvent} event\n   * @returns {boolean}\n   */\n  const shouldPreventTouchMove = event => {\n    const target = event.target;\n    const container = getContainer();\n    const htmlContainer = getHtmlContainer();\n    if (!container || !htmlContainer) {\n      return false;\n    }\n    if (isStylus(event) || isZoom(event)) {\n      return false;\n    }\n    if (target === container) {\n      return true;\n    }\n    if (!isScrollable(container) && target instanceof HTMLElement && target.tagName !== 'INPUT' &&\n    // #1603\n    target.tagName !== 'TEXTAREA' &&\n    // #2266\n    !(isScrollable(htmlContainer) &&\n    // #1944\n    htmlContainer.contains(target))) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1786\n   *\n   * @param {*} event\n   * @returns {boolean}\n   */\n  const isStylus = event => {\n    return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1891\n   *\n   * @param {TouchEvent} event\n   * @returns {boolean}\n   */\n  const isZoom = event => {\n    return event.touches && event.touches.length > 1;\n  };\n  const undoIOSfix = () => {\n    if (hasClass(document.body, swalClasses.iosfix)) {\n      const offset = parseInt(document.body.style.top, 10);\n      removeClass(document.body, swalClasses.iosfix);\n      document.body.style.top = '';\n      document.body.scrollTop = offset * -1;\n    }\n  };\n\n  /**\n   * Measure scrollbar width for padding body during modal show/hide\n   * https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n   *\n   * @returns {number}\n   */\n  const measureScrollbar = () => {\n    const scrollDiv = document.createElement('div');\n    scrollDiv.className = swalClasses['scrollbar-measure'];\n    document.body.appendChild(scrollDiv);\n    const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollbarWidth;\n  };\n\n  /**\n   * Remember state in cases where opening and handling a modal will fiddle with it.\n   * @type {number | null}\n   */\n  let previousBodyPadding = null;\n\n  /**\n   * @param {string} initialBodyOverflow\n   */\n  const replaceScrollbarWithPadding = initialBodyOverflow => {\n    // for queues, do not do this more than once\n    if (previousBodyPadding !== null) {\n      return;\n    }\n    // if the body has overflow\n    if (document.body.scrollHeight > window.innerHeight || initialBodyOverflow === 'scroll' // https://github.com/sweetalert2/sweetalert2/issues/2663\n    ) {\n      // add padding so the content doesn't shift after removal of scrollbar\n      previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n      document.body.style.paddingRight = `${previousBodyPadding + measureScrollbar()}px`;\n    }\n  };\n  const undoReplaceScrollbarWithPadding = () => {\n    if (previousBodyPadding !== null) {\n      document.body.style.paddingRight = `${previousBodyPadding}px`;\n      previousBodyPadding = null;\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} container\n   * @param {boolean} returnFocus\n   * @param {Function} didClose\n   */\n  function removePopupAndResetState(instance, container, returnFocus, didClose) {\n    if (isToast()) {\n      triggerDidCloseAndDispose(instance, didClose);\n    } else {\n      restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose));\n      removeKeydownHandler(globalState);\n    }\n\n    // workaround for https://github.com/sweetalert2/sweetalert2/issues/2088\n    // for some reason removing the container in Safari will scroll the document to bottom\n    if (isSafariOrIOS) {\n      container.setAttribute('style', 'display:none !important');\n      container.removeAttribute('class');\n      container.innerHTML = '';\n    } else {\n      container.remove();\n    }\n    if (isModal()) {\n      undoReplaceScrollbarWithPadding();\n      undoIOSfix();\n      unsetAriaHidden();\n    }\n    removeBodyClasses();\n  }\n\n  /**\n   * Remove SweetAlert2 classes from body\n   */\n  function removeBodyClasses() {\n    removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n  }\n\n  /**\n   * Instance method to close sweetAlert\n   *\n   * @param {any} resolveValue\n   */\n  function close(resolveValue) {\n    resolveValue = prepareResolveValue(resolveValue);\n    const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n    const didClose = triggerClosePopup(this);\n    if (this.isAwaitingPromise) {\n      // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n      if (!resolveValue.isDismissed) {\n        handleAwaitingPromise(this);\n        swalPromiseResolve(resolveValue);\n      }\n    } else if (didClose) {\n      // Resolve Swal promise\n      swalPromiseResolve(resolveValue);\n    }\n  }\n  const triggerClosePopup = instance => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    const innerParams = privateProps.innerParams.get(instance);\n    if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {\n      return false;\n    }\n    removeClass(popup, innerParams.showClass.popup);\n    addClass(popup, innerParams.hideClass.popup);\n    const backdrop = getContainer();\n    removeClass(backdrop, innerParams.showClass.backdrop);\n    addClass(backdrop, innerParams.hideClass.backdrop);\n    handlePopupAnimation(instance, popup, innerParams);\n    return true;\n  };\n\n  /**\n   * @param {any} error\n   */\n  function rejectPromise(error) {\n    const rejectPromise = privateMethods.swalPromiseReject.get(this);\n    handleAwaitingPromise(this);\n    if (rejectPromise) {\n      // Reject Swal promise\n      rejectPromise(error);\n    }\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleAwaitingPromise = instance => {\n    if (instance.isAwaitingPromise) {\n      delete instance.isAwaitingPromise;\n      // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n      if (!privateProps.innerParams.get(instance)) {\n        instance._destroy();\n      }\n    }\n  };\n\n  /**\n   * @param {any} resolveValue\n   * @returns {SweetAlertResult}\n   */\n  const prepareResolveValue = resolveValue => {\n    // When user calls Swal.close()\n    if (typeof resolveValue === 'undefined') {\n      return {\n        isConfirmed: false,\n        isDenied: false,\n        isDismissed: true\n      };\n    }\n    return Object.assign({\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: false\n    }, resolveValue);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} innerParams\n   */\n  const handlePopupAnimation = (instance, popup, innerParams) => {\n    var _globalState$eventEmi;\n    const container = getContainer();\n    // If animation is supported, animate\n    const animationIsSupported = hasCssAnimation(popup);\n    if (typeof innerParams.willClose === 'function') {\n      innerParams.willClose(popup);\n    }\n    (_globalState$eventEmi = globalState.eventEmitter) === null || _globalState$eventEmi === void 0 || _globalState$eventEmi.emit('willClose', popup);\n    if (animationIsSupported) {\n      animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n    } else {\n      // Otherwise, remove immediately\n      removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} popup\n   * @param {HTMLElement} container\n   * @param {boolean} returnFocus\n   * @param {Function} didClose\n   */\n  const animatePopup = (instance, popup, container, returnFocus, didClose) => {\n    globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n    /**\n     * @param {AnimationEvent | TransitionEvent} e\n     */\n    const swalCloseAnimationFinished = function (e) {\n      if (e.target === popup) {\n        var _globalState$swalClos;\n        (_globalState$swalClos = globalState.swalCloseEventFinishedCallback) === null || _globalState$swalClos === void 0 || _globalState$swalClos.call(globalState);\n        delete globalState.swalCloseEventFinishedCallback;\n        popup.removeEventListener('animationend', swalCloseAnimationFinished);\n        popup.removeEventListener('transitionend', swalCloseAnimationFinished);\n      }\n    };\n    popup.addEventListener('animationend', swalCloseAnimationFinished);\n    popup.addEventListener('transitionend', swalCloseAnimationFinished);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {Function} didClose\n   */\n  const triggerDidCloseAndDispose = (instance, didClose) => {\n    setTimeout(() => {\n      var _globalState$eventEmi2;\n      if (typeof didClose === 'function') {\n        didClose.bind(instance.params)();\n      }\n      (_globalState$eventEmi2 = globalState.eventEmitter) === null || _globalState$eventEmi2 === void 0 || _globalState$eventEmi2.emit('didClose');\n      // instance might have been destroyed already\n      if (instance._destroy) {\n        instance._destroy();\n      }\n    });\n  };\n\n  /**\n   * Shows loader (spinner), this is useful with AJAX requests.\n   * By default the loader be shown instead of the \"Confirm\" button.\n   *\n   * @param {HTMLButtonElement | null} [buttonToReplace]\n   */\n  const showLoading = buttonToReplace => {\n    let popup = getPopup();\n    if (!popup) {\n      new Swal();\n    }\n    popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const loader = getLoader();\n    if (isToast()) {\n      hide(getIcon());\n    } else {\n      replaceButton(popup, buttonToReplace);\n    }\n    show(loader);\n    popup.setAttribute('data-loading', 'true');\n    popup.setAttribute('aria-busy', 'true');\n    popup.focus();\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {HTMLButtonElement | null} [buttonToReplace]\n   */\n  const replaceButton = (popup, buttonToReplace) => {\n    const actions = getActions();\n    const loader = getLoader();\n    if (!actions || !loader) {\n      return;\n    }\n    if (!buttonToReplace && isVisible$1(getConfirmButton())) {\n      buttonToReplace = getConfirmButton();\n    }\n    show(actions);\n    if (buttonToReplace) {\n      hide(buttonToReplace);\n      loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n      actions.insertBefore(loader, buttonToReplace);\n    }\n    addClass([popup, actions], swalClasses.loading);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputOptionsAndValue = (instance, params) => {\n    if (params.input === 'select' || params.input === 'radio') {\n      handleInputOptions(instance, params);\n    } else if (['text', 'email', 'number', 'tel', 'textarea'].some(i => i === params.input) && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n      showLoading(getConfirmButton());\n      handleInputValue(instance, params);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} innerParams\n   * @returns {SweetAlertInputValue}\n   */\n  const getInputValue = (instance, innerParams) => {\n    const input = instance.getInput();\n    if (!input) {\n      return null;\n    }\n    switch (innerParams.input) {\n      case 'checkbox':\n        return getCheckboxValue(input);\n      case 'radio':\n        return getRadioValue(input);\n      case 'file':\n        return getFileValue(input);\n      default:\n        return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {number}\n   */\n  const getCheckboxValue = input => input.checked ? 1 : 0;\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {string | null}\n   */\n  const getRadioValue = input => input.checked ? input.value : null;\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {FileList | File | null}\n   */\n  const getFileValue = input => input.files && input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputOptions = (instance, params) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    /**\n     * @param {Record<string, any>} inputOptions\n     */\n    const processInputOptions = inputOptions => {\n      if (params.input === 'select') {\n        populateSelectOptions(popup, formatInputOptions(inputOptions), params);\n      } else if (params.input === 'radio') {\n        populateRadioOptions(popup, formatInputOptions(inputOptions), params);\n      }\n    };\n    if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n      showLoading(getConfirmButton());\n      asPromise(params.inputOptions).then(inputOptions => {\n        instance.hideLoading();\n        processInputOptions(inputOptions);\n      });\n    } else if (typeof params.inputOptions === 'object') {\n      processInputOptions(params.inputOptions);\n    } else {\n      error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof params.inputOptions}`);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputValue = (instance, params) => {\n    const input = instance.getInput();\n    if (!input) {\n      return;\n    }\n    hide(input);\n    asPromise(params.inputValue).then(inputValue => {\n      input.value = params.input === 'number' ? `${parseFloat(inputValue) || 0}` : `${inputValue}`;\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    }).catch(err => {\n      error(`Error in inputValue promise: ${err}`);\n      input.value = '';\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    });\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {InputOptionFlattened[]} inputOptions\n   * @param {SweetAlertOptions} params\n   */\n  function populateSelectOptions(popup, inputOptions, params) {\n    const select = getDirectChildByClass(popup, swalClasses.select);\n    if (!select) {\n      return;\n    }\n    /**\n     * @param {HTMLElement} parent\n     * @param {string} optionLabel\n     * @param {string} optionValue\n     */\n    const renderOption = (parent, optionLabel, optionValue) => {\n      const option = document.createElement('option');\n      option.value = optionValue;\n      setInnerHtml(option, optionLabel);\n      option.selected = isSelected(optionValue, params.inputValue);\n      parent.appendChild(option);\n    };\n    inputOptions.forEach(inputOption => {\n      const optionValue = inputOption[0];\n      const optionLabel = inputOption[1];\n      // <optgroup> spec:\n      // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n      // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n      // check whether this is a <optgroup>\n      if (Array.isArray(optionLabel)) {\n        // if it is an array, then it is an <optgroup>\n        const optgroup = document.createElement('optgroup');\n        optgroup.label = optionValue;\n        optgroup.disabled = false; // not configurable for now\n        select.appendChild(optgroup);\n        optionLabel.forEach(o => renderOption(optgroup, o[1], o[0]));\n      } else {\n        // case of <option>\n        renderOption(select, optionLabel, optionValue);\n      }\n    });\n    select.focus();\n  }\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {InputOptionFlattened[]} inputOptions\n   * @param {SweetAlertOptions} params\n   */\n  function populateRadioOptions(popup, inputOptions, params) {\n    const radio = getDirectChildByClass(popup, swalClasses.radio);\n    if (!radio) {\n      return;\n    }\n    inputOptions.forEach(inputOption => {\n      const radioValue = inputOption[0];\n      const radioLabel = inputOption[1];\n      const radioInput = document.createElement('input');\n      const radioLabelElement = document.createElement('label');\n      radioInput.type = 'radio';\n      radioInput.name = swalClasses.radio;\n      radioInput.value = radioValue;\n      if (isSelected(radioValue, params.inputValue)) {\n        radioInput.checked = true;\n      }\n      const label = document.createElement('span');\n      setInnerHtml(label, radioLabel);\n      label.className = swalClasses.label;\n      radioLabelElement.appendChild(radioInput);\n      radioLabelElement.appendChild(label);\n      radio.appendChild(radioLabelElement);\n    });\n    const radios = radio.querySelectorAll('input');\n    if (radios.length) {\n      radios[0].focus();\n    }\n  }\n\n  /**\n   * Converts `inputOptions` into an array of `[value, label]`s\n   *\n   * @param {Record<string, any>} inputOptions\n   * @typedef {string[]} InputOptionFlattened\n   * @returns {InputOptionFlattened[]}\n   */\n  const formatInputOptions = inputOptions => {\n    /** @type {InputOptionFlattened[]} */\n    const result = [];\n    if (inputOptions instanceof Map) {\n      inputOptions.forEach((value, key) => {\n        let valueFormatted = value;\n        if (typeof valueFormatted === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n        result.push([key, valueFormatted]);\n      });\n    } else {\n      Object.keys(inputOptions).forEach(key => {\n        let valueFormatted = inputOptions[key];\n        if (typeof valueFormatted === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n        result.push([key, valueFormatted]);\n      });\n    }\n    return result;\n  };\n\n  /**\n   * @param {string} optionValue\n   * @param {SweetAlertInputValue} inputValue\n   * @returns {boolean}\n   */\n  const isSelected = (optionValue, inputValue) => {\n    return !!inputValue && inputValue.toString() === optionValue.toString();\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleConfirmButtonClick = instance => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableButtons();\n    if (innerParams.input) {\n      handleConfirmOrDenyWithInput(instance, 'confirm');\n    } else {\n      confirm(instance, true);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleDenyButtonClick = instance => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableButtons();\n    if (innerParams.returnInputValueOnDeny) {\n      handleConfirmOrDenyWithInput(instance, 'deny');\n    } else {\n      deny(instance, false);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {Function} dismissWith\n   */\n  const handleCancelButtonClick = (instance, dismissWith) => {\n    instance.disableButtons();\n    dismissWith(DismissReason.cancel);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {'confirm' | 'deny'} type\n   */\n  const handleConfirmOrDenyWithInput = (instance, type) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    if (!innerParams.input) {\n      error(`The \"input\" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(type)}`);\n      return;\n    }\n    const input = instance.getInput();\n    const inputValue = getInputValue(instance, innerParams);\n    if (innerParams.inputValidator) {\n      handleInputValidator(instance, inputValue, type);\n    } else if (input && !input.checkValidity()) {\n      instance.enableButtons();\n      instance.showValidationMessage(innerParams.validationMessage || input.validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, inputValue);\n    } else {\n      confirm(instance, inputValue);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertInputValue} inputValue\n   * @param {'confirm' | 'deny'} type\n   */\n  const handleInputValidator = (instance, inputValue, type) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableInput();\n    const validationPromise = Promise.resolve().then(() => asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage)));\n    validationPromise.then(validationMessage => {\n      instance.enableButtons();\n      instance.enableInput();\n      if (validationMessage) {\n        instance.showValidationMessage(validationMessage);\n      } else if (type === 'deny') {\n        deny(instance, inputValue);\n      } else {\n        confirm(instance, inputValue);\n      }\n    });\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const deny = (instance, value) => {\n    const innerParams = privateProps.innerParams.get(instance || undefined);\n    if (innerParams.showLoaderOnDeny) {\n      showLoading(getDenyButton());\n    }\n    if (innerParams.preDeny) {\n      instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preDeny's promise is received\n      const preDenyPromise = Promise.resolve().then(() => asPromise(innerParams.preDeny(value, innerParams.validationMessage)));\n      preDenyPromise.then(preDenyValue => {\n        if (preDenyValue === false) {\n          instance.hideLoading();\n          handleAwaitingPromise(instance);\n        } else {\n          instance.close({\n            isDenied: true,\n            value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n          });\n        }\n      }).catch(error => rejectWith(instance || undefined, error));\n    } else {\n      instance.close({\n        isDenied: true,\n        value\n      });\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const succeedWith = (instance, value) => {\n    instance.close({\n      isConfirmed: true,\n      value\n    });\n  };\n\n  /**\n   *\n   * @param {SweetAlert} instance\n   * @param {string} error\n   */\n  const rejectWith = (instance, error) => {\n    instance.rejectPromise(error);\n  };\n\n  /**\n   *\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const confirm = (instance, value) => {\n    const innerParams = privateProps.innerParams.get(instance || undefined);\n    if (innerParams.showLoaderOnConfirm) {\n      showLoading();\n    }\n    if (innerParams.preConfirm) {\n      instance.resetValidationMessage();\n      instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preConfirm's promise is received\n      const preConfirmPromise = Promise.resolve().then(() => asPromise(innerParams.preConfirm(value, innerParams.validationMessage)));\n      preConfirmPromise.then(preConfirmValue => {\n        if (isVisible$1(getValidationMessage()) || preConfirmValue === false) {\n          instance.hideLoading();\n          handleAwaitingPromise(instance);\n        } else {\n          succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n        }\n      }).catch(error => rejectWith(instance || undefined, error));\n    } else {\n      succeedWith(instance, value);\n    }\n  };\n\n  /**\n   * Hides loader and shows back the button which was hidden by .showLoading()\n   */\n  function hideLoading() {\n    // do nothing if popup is closed\n    const innerParams = privateProps.innerParams.get(this);\n    if (!innerParams) {\n      return;\n    }\n    const domCache = privateProps.domCache.get(this);\n    hide(domCache.loader);\n    if (isToast()) {\n      if (innerParams.icon) {\n        show(getIcon());\n      }\n    } else {\n      showRelatedButton(domCache);\n    }\n    removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n    domCache.popup.removeAttribute('aria-busy');\n    domCache.popup.removeAttribute('data-loading');\n    domCache.confirmButton.disabled = false;\n    domCache.denyButton.disabled = false;\n    domCache.cancelButton.disabled = false;\n  }\n  const showRelatedButton = domCache => {\n    const buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n    if (buttonToReplace.length) {\n      show(buttonToReplace[0], 'inline-block');\n    } else if (allButtonsAreHidden()) {\n      hide(domCache.actions);\n    }\n  };\n\n  /**\n   * Gets the input DOM node, this method works with input parameter.\n   *\n   * @returns {HTMLInputElement | null}\n   */\n  function getInput() {\n    const innerParams = privateProps.innerParams.get(this);\n    const domCache = privateProps.domCache.get(this);\n    if (!domCache) {\n      return null;\n    }\n    return getInput$1(domCache.popup, innerParams.input);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {string[]} buttons\n   * @param {boolean} disabled\n   */\n  function setButtonsDisabled(instance, buttons, disabled) {\n    const domCache = privateProps.domCache.get(instance);\n    buttons.forEach(button => {\n      domCache[button].disabled = disabled;\n    });\n  }\n\n  /**\n   * @param {HTMLInputElement | null} input\n   * @param {boolean} disabled\n   */\n  function setInputDisabled(input, disabled) {\n    const popup = getPopup();\n    if (!popup || !input) {\n      return;\n    }\n    if (input.type === 'radio') {\n      /** @type {NodeListOf<HTMLInputElement>} */\n      const radios = popup.querySelectorAll(`[name=\"${swalClasses.radio}\"]`);\n      for (let i = 0; i < radios.length; i++) {\n        radios[i].disabled = disabled;\n      }\n    } else {\n      input.disabled = disabled;\n    }\n  }\n\n  /**\n   * Enable all the buttons\n   * @this {SweetAlert}\n   */\n  function enableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n  }\n\n  /**\n   * Disable all the buttons\n   * @this {SweetAlert}\n   */\n  function disableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n  }\n\n  /**\n   * Enable the input field\n   * @this {SweetAlert}\n   */\n  function enableInput() {\n    setInputDisabled(this.getInput(), false);\n  }\n\n  /**\n   * Disable the input field\n   * @this {SweetAlert}\n   */\n  function disableInput() {\n    setInputDisabled(this.getInput(), true);\n  }\n\n  /**\n   * Show block with validation message\n   *\n   * @param {string} error\n   * @this {SweetAlert}\n   */\n  function showValidationMessage(error) {\n    const domCache = privateProps.domCache.get(this);\n    const params = privateProps.innerParams.get(this);\n    setInnerHtml(domCache.validationMessage, error);\n    domCache.validationMessage.className = swalClasses['validation-message'];\n    if (params.customClass && params.customClass.validationMessage) {\n      addClass(domCache.validationMessage, params.customClass.validationMessage);\n    }\n    show(domCache.validationMessage);\n    const input = this.getInput();\n    if (input) {\n      input.setAttribute('aria-invalid', 'true');\n      input.setAttribute('aria-describedby', swalClasses['validation-message']);\n      focusInput(input);\n      addClass(input, swalClasses.inputerror);\n    }\n  }\n\n  /**\n   * Hide block with validation message\n   *\n   * @this {SweetAlert}\n   */\n  function resetValidationMessage() {\n    const domCache = privateProps.domCache.get(this);\n    if (domCache.validationMessage) {\n      hide(domCache.validationMessage);\n    }\n    const input = this.getInput();\n    if (input) {\n      input.removeAttribute('aria-invalid');\n      input.removeAttribute('aria-describedby');\n      removeClass(input, swalClasses.inputerror);\n    }\n  }\n\n  const defaultParams = {\n    title: '',\n    titleText: '',\n    text: '',\n    html: '',\n    footer: '',\n    icon: undefined,\n    iconColor: undefined,\n    iconHtml: undefined,\n    template: undefined,\n    toast: false,\n    draggable: false,\n    animation: true,\n    theme: 'light',\n    showClass: {\n      popup: 'swal2-show',\n      backdrop: 'swal2-backdrop-show',\n      icon: 'swal2-icon-show'\n    },\n    hideClass: {\n      popup: 'swal2-hide',\n      backdrop: 'swal2-backdrop-hide',\n      icon: 'swal2-icon-hide'\n    },\n    customClass: {},\n    target: 'body',\n    color: undefined,\n    backdrop: true,\n    heightAuto: true,\n    allowOutsideClick: true,\n    allowEscapeKey: true,\n    allowEnterKey: true,\n    stopKeydownPropagation: true,\n    keydownListenerCapture: false,\n    showConfirmButton: true,\n    showDenyButton: false,\n    showCancelButton: false,\n    preConfirm: undefined,\n    preDeny: undefined,\n    confirmButtonText: 'OK',\n    confirmButtonAriaLabel: '',\n    confirmButtonColor: undefined,\n    denyButtonText: 'No',\n    denyButtonAriaLabel: '',\n    denyButtonColor: undefined,\n    cancelButtonText: 'Cancel',\n    cancelButtonAriaLabel: '',\n    cancelButtonColor: undefined,\n    buttonsStyling: true,\n    reverseButtons: false,\n    focusConfirm: true,\n    focusDeny: false,\n    focusCancel: false,\n    returnFocus: true,\n    showCloseButton: false,\n    closeButtonHtml: '&times;',\n    closeButtonAriaLabel: 'Close this dialog',\n    loaderHtml: '',\n    showLoaderOnConfirm: false,\n    showLoaderOnDeny: false,\n    imageUrl: undefined,\n    imageWidth: undefined,\n    imageHeight: undefined,\n    imageAlt: '',\n    timer: undefined,\n    timerProgressBar: false,\n    width: undefined,\n    padding: undefined,\n    background: undefined,\n    input: undefined,\n    inputPlaceholder: '',\n    inputLabel: '',\n    inputValue: '',\n    inputOptions: {},\n    inputAutoFocus: true,\n    inputAutoTrim: true,\n    inputAttributes: {},\n    inputValidator: undefined,\n    returnInputValueOnDeny: false,\n    validationMessage: undefined,\n    grow: false,\n    position: 'center',\n    progressSteps: [],\n    currentProgressStep: undefined,\n    progressStepsDistance: undefined,\n    willOpen: undefined,\n    didOpen: undefined,\n    didRender: undefined,\n    willClose: undefined,\n    didClose: undefined,\n    didDestroy: undefined,\n    scrollbarPadding: true\n  };\n  const updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'color', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'draggable', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'preConfirm', 'preDeny', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'theme', 'willClose'];\n\n  /** @type {Record<string, string | undefined>} */\n  const deprecatedParams = {\n    allowEnterKey: undefined\n  };\n  const toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'draggable', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n\n  /**\n   * Is valid parameter\n   *\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  const isValidParameter = paramName => {\n    return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n  };\n\n  /**\n   * Is valid parameter for Swal.update() method\n   *\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  const isUpdatableParameter = paramName => {\n    return updatableParams.indexOf(paramName) !== -1;\n  };\n\n  /**\n   * Is deprecated parameter\n   *\n   * @param {string} paramName\n   * @returns {string | undefined}\n   */\n  const isDeprecatedParameter = paramName => {\n    return deprecatedParams[paramName];\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfParamIsValid = param => {\n    if (!isValidParameter(param)) {\n      warn(`Unknown parameter \"${param}\"`);\n    }\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfToastParamIsValid = param => {\n    if (toastIncompatibleParams.includes(param)) {\n      warn(`The parameter \"${param}\" is incompatible with toasts`);\n    }\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfParamIsDeprecated = param => {\n    const isDeprecated = isDeprecatedParameter(param);\n    if (isDeprecated) {\n      warnAboutDeprecation(param, isDeprecated);\n    }\n  };\n\n  /**\n   * Show relevant warnings for given params\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const showWarningsForParams = params => {\n    if (params.backdrop === false && params.allowOutsideClick) {\n      warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n    }\n    if (params.theme && !['light', 'dark', 'auto', 'borderless'].includes(params.theme)) {\n      warn(`Invalid theme \"${params.theme}\". Expected \"light\", \"dark\", \"auto\", or \"borderless\"`);\n    }\n    for (const param in params) {\n      checkIfParamIsValid(param);\n      if (params.toast) {\n        checkIfToastParamIsValid(param);\n      }\n      checkIfParamIsDeprecated(param);\n    }\n  };\n\n  /**\n   * Updates popup parameters.\n   *\n   * @param {SweetAlertOptions} params\n   */\n  function update(params) {\n    const container = getContainer();\n    const popup = getPopup();\n    const innerParams = privateProps.innerParams.get(this);\n    if (!popup || hasClass(popup, innerParams.hideClass.popup)) {\n      warn(`You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.`);\n      return;\n    }\n    const validUpdatableParams = filterValidParams(params);\n    const updatedParams = Object.assign({}, innerParams, validUpdatableParams);\n    showWarningsForParams(updatedParams);\n    container.dataset['swal2Theme'] = updatedParams.theme;\n    render(this, updatedParams);\n    privateProps.innerParams.set(this, updatedParams);\n    Object.defineProperties(this, {\n      params: {\n        value: Object.assign({}, this.params, params),\n        writable: false,\n        enumerable: true\n      }\n    });\n  }\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {SweetAlertOptions}\n   */\n  const filterValidParams = params => {\n    const validUpdatableParams = {};\n    Object.keys(params).forEach(param => {\n      if (isUpdatableParameter(param)) {\n        validUpdatableParams[param] = params[param];\n      } else {\n        warn(`Invalid parameter to update: ${param}`);\n      }\n    });\n    return validUpdatableParams;\n  };\n\n  /**\n   * Dispose the current SweetAlert2 instance\n   */\n  function _destroy() {\n    const domCache = privateProps.domCache.get(this);\n    const innerParams = privateProps.innerParams.get(this);\n    if (!innerParams) {\n      disposeWeakMaps(this); // The WeakMaps might have been partly destroyed, we must recall it to dispose any remaining WeakMaps #2335\n      return; // This instance has already been destroyed\n    }\n\n    // Check if there is another Swal closing\n    if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n      globalState.swalCloseEventFinishedCallback();\n      delete globalState.swalCloseEventFinishedCallback;\n    }\n    if (typeof innerParams.didDestroy === 'function') {\n      innerParams.didDestroy();\n    }\n    globalState.eventEmitter.emit('didDestroy');\n    disposeSwal(this);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const disposeSwal = instance => {\n    disposeWeakMaps(instance);\n    // Unset this.params so GC will dispose it (#1569)\n    delete instance.params;\n    // Unset globalState props so GC will dispose globalState (#1569)\n    delete globalState.keydownHandler;\n    delete globalState.keydownTarget;\n    // Unset currentInstance\n    delete globalState.currentInstance;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const disposeWeakMaps = instance => {\n    // If the current instance is awaiting a promise result, we keep the privateMethods to call them once the promise result is retrieved #2335\n    if (instance.isAwaitingPromise) {\n      unsetWeakMaps(privateProps, instance);\n      instance.isAwaitingPromise = true;\n    } else {\n      unsetWeakMaps(privateMethods, instance);\n      unsetWeakMaps(privateProps, instance);\n      delete instance.isAwaitingPromise;\n      // Unset instance methods\n      delete instance.disableButtons;\n      delete instance.enableButtons;\n      delete instance.getInput;\n      delete instance.disableInput;\n      delete instance.enableInput;\n      delete instance.hideLoading;\n      delete instance.disableLoading;\n      delete instance.showValidationMessage;\n      delete instance.resetValidationMessage;\n      delete instance.close;\n      delete instance.closePopup;\n      delete instance.closeModal;\n      delete instance.closeToast;\n      delete instance.rejectPromise;\n      delete instance.update;\n      delete instance._destroy;\n    }\n  };\n\n  /**\n   * @param {object} obj\n   * @param {SweetAlert} instance\n   */\n  const unsetWeakMaps = (obj, instance) => {\n    for (const i in obj) {\n      obj[i].delete(instance);\n    }\n  };\n\n  var instanceMethods = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    _destroy: _destroy,\n    close: close,\n    closeModal: close,\n    closePopup: close,\n    closeToast: close,\n    disableButtons: disableButtons,\n    disableInput: disableInput,\n    disableLoading: hideLoading,\n    enableButtons: enableButtons,\n    enableInput: enableInput,\n    getInput: getInput,\n    handleAwaitingPromise: handleAwaitingPromise,\n    hideLoading: hideLoading,\n    rejectPromise: rejectPromise,\n    resetValidationMessage: resetValidationMessage,\n    showValidationMessage: showValidationMessage,\n    update: update\n  });\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handlePopupClick = (innerParams, domCache, dismissWith) => {\n    if (innerParams.toast) {\n      handleToastClick(innerParams, domCache, dismissWith);\n    } else {\n      // Ignore click events that had mousedown on the popup but mouseup on the container\n      // This can happen when the user drags a slider\n      handleModalMousedown(domCache);\n\n      // Ignore click events that had mousedown on the container but mouseup on the popup\n      handleContainerMousedown(domCache);\n      handleModalClick(innerParams, domCache, dismissWith);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handleToastClick = (innerParams, domCache, dismissWith) => {\n    // Closing toast by internal click\n    domCache.popup.onclick = () => {\n      if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n        return;\n      }\n      dismissWith(DismissReason.close);\n    };\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @returns {boolean}\n   */\n  const isAnyButtonShown = innerParams => {\n    return !!(innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton);\n  };\n  let ignoreOutsideClick = false;\n\n  /**\n   * @param {DomCache} domCache\n   */\n  const handleModalMousedown = domCache => {\n    domCache.popup.onmousedown = () => {\n      domCache.container.onmouseup = function (e) {\n        domCache.container.onmouseup = () => {};\n        // We only check if the mouseup target is the container because usually it doesn't\n        // have any other direct children aside of the popup\n        if (e.target === domCache.container) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  /**\n   * @param {DomCache} domCache\n   */\n  const handleContainerMousedown = domCache => {\n    domCache.container.onmousedown = e => {\n      // prevent the modal text from being selected on double click on the container (allowOutsideClick: false)\n      if (e.target === domCache.container) {\n        e.preventDefault();\n      }\n      domCache.popup.onmouseup = function (e) {\n        domCache.popup.onmouseup = () => {};\n        // We also need to check if the mouseup target is a child of the popup\n        if (e.target === domCache.popup || e.target instanceof HTMLElement && domCache.popup.contains(e.target)) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handleModalClick = (innerParams, domCache, dismissWith) => {\n    domCache.container.onclick = e => {\n      if (ignoreOutsideClick) {\n        ignoreOutsideClick = false;\n        return;\n      }\n      if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n        dismissWith(DismissReason.backdrop);\n      }\n    };\n  };\n\n  const isJqueryElement = elem => typeof elem === 'object' && elem.jquery;\n  const isElement = elem => elem instanceof Element || isJqueryElement(elem);\n  const argsToParams = args => {\n    const params = {};\n    if (typeof args[0] === 'object' && !isElement(args[0])) {\n      Object.assign(params, args[0]);\n    } else {\n      ['title', 'html', 'icon'].forEach((name, index) => {\n        const arg = args[index];\n        if (typeof arg === 'string' || isElement(arg)) {\n          params[name] = arg;\n        } else if (arg !== undefined) {\n          error(`Unexpected type of ${name}! Expected \"string\" or \"Element\", got ${typeof arg}`);\n        }\n      });\n    }\n    return params;\n  };\n\n  /**\n   * Main method to create a new SweetAlert2 popup\n   *\n   * @param  {...SweetAlertOptions} args\n   * @returns {Promise<SweetAlertResult>}\n   */\n  function fire() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return new this(...args);\n  }\n\n  /**\n   * Returns an extended version of `Swal` containing `params` as defaults.\n   * Useful for reusing Swal configuration.\n   *\n   * For example:\n   *\n   * Before:\n   * const textPromptOptions = { input: 'text', showCancelButton: true }\n   * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n   * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n   *\n   * After:\n   * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n   * const {value: firstName} = await TextPrompt('What is your first name?')\n   * const {value: lastName} = await TextPrompt('What is your last name?')\n   *\n   * @param {SweetAlertOptions} mixinParams\n   * @returns {SweetAlert}\n   */\n  function mixin(mixinParams) {\n    class MixinSwal extends this {\n      _main(params, priorityMixinParams) {\n        return super._main(params, Object.assign({}, mixinParams, priorityMixinParams));\n      }\n    }\n    // @ts-ignore\n    return MixinSwal;\n  }\n\n  /**\n   * If `timer` parameter is set, returns number of milliseconds of timer remained.\n   * Otherwise, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const getTimerLeft = () => {\n    return globalState.timeout && globalState.timeout.getTimerLeft();\n  };\n\n  /**\n   * Stop timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const stopTimer = () => {\n    if (globalState.timeout) {\n      stopTimerProgressBar();\n      return globalState.timeout.stop();\n    }\n  };\n\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const resumeTimer = () => {\n    if (globalState.timeout) {\n      const remaining = globalState.timeout.start();\n      animateTimerProgressBar(remaining);\n      return remaining;\n    }\n  };\n\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const toggleTimer = () => {\n    const timer = globalState.timeout;\n    return timer && (timer.running ? stopTimer() : resumeTimer());\n  };\n\n  /**\n   * Increase timer. Returns number of milliseconds of an updated timer.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @param {number} ms\n   * @returns {number | undefined}\n   */\n  const increaseTimer = ms => {\n    if (globalState.timeout) {\n      const remaining = globalState.timeout.increase(ms);\n      animateTimerProgressBar(remaining, true);\n      return remaining;\n    }\n  };\n\n  /**\n   * Check if timer is running. Returns true if timer is running\n   * or false if timer is paused or stopped.\n   * If `timer` parameter isn't set, returns undefined\n   *\n   * @returns {boolean}\n   */\n  const isTimerRunning = () => {\n    return !!(globalState.timeout && globalState.timeout.isRunning());\n  };\n\n  let bodyClickListenerAdded = false;\n  const clickHandlers = {};\n\n  /**\n   * @param {string} attr\n   */\n  function bindClickHandler() {\n    let attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n    clickHandlers[attr] = this;\n    if (!bodyClickListenerAdded) {\n      document.body.addEventListener('click', bodyClickListener);\n      bodyClickListenerAdded = true;\n    }\n  }\n  const bodyClickListener = event => {\n    for (let el = event.target; el && el !== document; el = el.parentNode) {\n      for (const attr in clickHandlers) {\n        const template = el.getAttribute(attr);\n        if (template) {\n          clickHandlers[attr].fire({\n            template\n          });\n          return;\n        }\n      }\n    }\n  };\n\n  // Source: https://gist.github.com/mudge/5830382?permalink_comment_id=2691957#gistcomment-2691957\n\n  class EventEmitter {\n    constructor() {\n      /** @type {Events} */\n      this.events = {};\n    }\n\n    /**\n     * @param {string} eventName\n     * @returns {EventHandlers}\n     */\n    _getHandlersByEventName(eventName) {\n      if (typeof this.events[eventName] === 'undefined') {\n        // not Set because we need to keep the FIFO order\n        // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1748990334\n        this.events[eventName] = [];\n      }\n      return this.events[eventName];\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    on(eventName, eventHandler) {\n      const currentHandlers = this._getHandlersByEventName(eventName);\n      if (!currentHandlers.includes(eventHandler)) {\n        currentHandlers.push(eventHandler);\n      }\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    once(eventName, eventHandler) {\n      var _this = this;\n      /**\n       * @param {Array} args\n       */\n      const onceFn = function () {\n        _this.removeListener(eventName, onceFn);\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        eventHandler.apply(_this, args);\n      };\n      this.on(eventName, onceFn);\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {Array} args\n     */\n    emit(eventName) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      this._getHandlersByEventName(eventName).forEach(\n      /**\n       * @param {EventHandler} eventHandler\n       */\n      eventHandler => {\n        try {\n          eventHandler.apply(this, args);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    removeListener(eventName, eventHandler) {\n      const currentHandlers = this._getHandlersByEventName(eventName);\n      const index = currentHandlers.indexOf(eventHandler);\n      if (index > -1) {\n        currentHandlers.splice(index, 1);\n      }\n    }\n\n    /**\n     * @param {string} eventName\n     */\n    removeAllListeners(eventName) {\n      if (this.events[eventName] !== undefined) {\n        // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1749239222\n        this.events[eventName].length = 0;\n      }\n    }\n    reset() {\n      this.events = {};\n    }\n  }\n\n  globalState.eventEmitter = new EventEmitter();\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  const on = (eventName, eventHandler) => {\n    globalState.eventEmitter.on(eventName, eventHandler);\n  };\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  const once = (eventName, eventHandler) => {\n    globalState.eventEmitter.once(eventName, eventHandler);\n  };\n\n  /**\n   * @param {string} [eventName]\n   * @param {EventHandler} [eventHandler]\n   */\n  const off = (eventName, eventHandler) => {\n    // Remove all handlers for all events\n    if (!eventName) {\n      globalState.eventEmitter.reset();\n      return;\n    }\n    if (eventHandler) {\n      // Remove a specific handler\n      globalState.eventEmitter.removeListener(eventName, eventHandler);\n    } else {\n      // Remove all handlers for a specific event\n      globalState.eventEmitter.removeAllListeners(eventName);\n    }\n  };\n\n  var staticMethods = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    argsToParams: argsToParams,\n    bindClickHandler: bindClickHandler,\n    clickCancel: clickCancel,\n    clickConfirm: clickConfirm,\n    clickDeny: clickDeny,\n    enableLoading: showLoading,\n    fire: fire,\n    getActions: getActions,\n    getCancelButton: getCancelButton,\n    getCloseButton: getCloseButton,\n    getConfirmButton: getConfirmButton,\n    getContainer: getContainer,\n    getDenyButton: getDenyButton,\n    getFocusableElements: getFocusableElements,\n    getFooter: getFooter,\n    getHtmlContainer: getHtmlContainer,\n    getIcon: getIcon,\n    getIconContent: getIconContent,\n    getImage: getImage,\n    getInputLabel: getInputLabel,\n    getLoader: getLoader,\n    getPopup: getPopup,\n    getProgressSteps: getProgressSteps,\n    getTimerLeft: getTimerLeft,\n    getTimerProgressBar: getTimerProgressBar,\n    getTitle: getTitle,\n    getValidationMessage: getValidationMessage,\n    increaseTimer: increaseTimer,\n    isDeprecatedParameter: isDeprecatedParameter,\n    isLoading: isLoading,\n    isTimerRunning: isTimerRunning,\n    isUpdatableParameter: isUpdatableParameter,\n    isValidParameter: isValidParameter,\n    isVisible: isVisible,\n    mixin: mixin,\n    off: off,\n    on: on,\n    once: once,\n    resumeTimer: resumeTimer,\n    showLoading: showLoading,\n    stopTimer: stopTimer,\n    toggleTimer: toggleTimer\n  });\n\n  class Timer {\n    /**\n     * @param {Function} callback\n     * @param {number} delay\n     */\n    constructor(callback, delay) {\n      this.callback = callback;\n      this.remaining = delay;\n      this.running = false;\n      this.start();\n    }\n\n    /**\n     * @returns {number}\n     */\n    start() {\n      if (!this.running) {\n        this.running = true;\n        this.started = new Date();\n        this.id = setTimeout(this.callback, this.remaining);\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {number}\n     */\n    stop() {\n      if (this.started && this.running) {\n        this.running = false;\n        clearTimeout(this.id);\n        this.remaining -= new Date().getTime() - this.started.getTime();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @param {number} n\n     * @returns {number}\n     */\n    increase(n) {\n      const running = this.running;\n      if (running) {\n        this.stop();\n      }\n      this.remaining += n;\n      if (running) {\n        this.start();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getTimerLeft() {\n      if (this.running) {\n        this.stop();\n        this.start();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    isRunning() {\n      return this.running;\n    }\n  }\n\n  const swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {SweetAlertOptions}\n   */\n  const getTemplateParams = params => {\n    const template = typeof params.template === 'string' ? (/** @type {HTMLTemplateElement} */document.querySelector(params.template)) : params.template;\n    if (!template) {\n      return {};\n    }\n    /** @type {DocumentFragment} */\n    const templateContent = template.content;\n    showWarningsForElements(templateContent);\n    const result = Object.assign(getSwalParams(templateContent), getSwalFunctionParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalParams = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalParams = Array.from(templateContent.querySelectorAll('swal-param'));\n    swalParams.forEach(param => {\n      showWarningsForAttributes(param, ['name', 'value']);\n      const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n      const value = param.getAttribute('value');\n      if (!paramName || !value) {\n        return;\n      }\n      if (typeof defaultParams[paramName] === 'boolean') {\n        result[paramName] = value !== 'false';\n      } else if (typeof defaultParams[paramName] === 'object') {\n        result[paramName] = JSON.parse(value);\n      } else {\n        result[paramName] = value;\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalFunctionParams = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalFunctions = Array.from(templateContent.querySelectorAll('swal-function-param'));\n    swalFunctions.forEach(param => {\n      const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n      const value = param.getAttribute('value');\n      if (!paramName || !value) {\n        return;\n      }\n      result[paramName] = new Function(`return ${value}`)();\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalButtons = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalButtons = Array.from(templateContent.querySelectorAll('swal-button'));\n    swalButtons.forEach(button => {\n      showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n      const type = button.getAttribute('type');\n      if (!type || !['confirm', 'cancel', 'deny'].includes(type)) {\n        return;\n      }\n      result[`${type}ButtonText`] = button.innerHTML;\n      result[`show${capitalizeFirstLetter(type)}Button`] = true;\n      if (button.hasAttribute('color')) {\n        result[`${type}ButtonColor`] = button.getAttribute('color');\n      }\n      if (button.hasAttribute('aria-label')) {\n        result[`${type}ButtonAriaLabel`] = button.getAttribute('aria-label');\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Pick<SweetAlertOptions, 'imageUrl' | 'imageWidth' | 'imageHeight' | 'imageAlt'>}\n   */\n  const getSwalImage = templateContent => {\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const image = templateContent.querySelector('swal-image');\n    if (image) {\n      showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n      if (image.hasAttribute('src')) {\n        result.imageUrl = image.getAttribute('src') || undefined;\n      }\n      if (image.hasAttribute('width')) {\n        result.imageWidth = image.getAttribute('width') || undefined;\n      }\n      if (image.hasAttribute('height')) {\n        result.imageHeight = image.getAttribute('height') || undefined;\n      }\n      if (image.hasAttribute('alt')) {\n        result.imageAlt = image.getAttribute('alt') || undefined;\n      }\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalIcon = templateContent => {\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const icon = templateContent.querySelector('swal-icon');\n    if (icon) {\n      showWarningsForAttributes(icon, ['type', 'color']);\n      if (icon.hasAttribute('type')) {\n        result.icon = icon.getAttribute('type');\n      }\n      if (icon.hasAttribute('color')) {\n        result.iconColor = icon.getAttribute('color');\n      }\n      result.iconHtml = icon.innerHTML;\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalInput = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const input = templateContent.querySelector('swal-input');\n    if (input) {\n      showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n      result.input = input.getAttribute('type') || 'text';\n      if (input.hasAttribute('label')) {\n        result.inputLabel = input.getAttribute('label');\n      }\n      if (input.hasAttribute('placeholder')) {\n        result.inputPlaceholder = input.getAttribute('placeholder');\n      }\n      if (input.hasAttribute('value')) {\n        result.inputValue = input.getAttribute('value');\n      }\n    }\n    /** @type {HTMLElement[]} */\n    const inputOptions = Array.from(templateContent.querySelectorAll('swal-input-option'));\n    if (inputOptions.length) {\n      result.inputOptions = {};\n      inputOptions.forEach(option => {\n        showWarningsForAttributes(option, ['value']);\n        const optionValue = option.getAttribute('value');\n        if (!optionValue) {\n          return;\n        }\n        const optionName = option.innerHTML;\n        result.inputOptions[optionValue] = optionName;\n      });\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @param {string[]} paramNames\n   * @returns {Record<string, any>}\n   */\n  const getSwalStringParams = (templateContent, paramNames) => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    for (const i in paramNames) {\n      const paramName = paramNames[i];\n      /** @type {HTMLElement | null} */\n      const tag = templateContent.querySelector(paramName);\n      if (tag) {\n        showWarningsForAttributes(tag, []);\n        result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n      }\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   */\n  const showWarningsForElements = templateContent => {\n    const allowedElements = swalStringParams.concat(['swal-param', 'swal-function-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n    Array.from(templateContent.children).forEach(el => {\n      const tagName = el.tagName.toLowerCase();\n      if (!allowedElements.includes(tagName)) {\n        warn(`Unrecognized element <${tagName}>`);\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement} el\n   * @param {string[]} allowedAttributes\n   */\n  const showWarningsForAttributes = (el, allowedAttributes) => {\n    Array.from(el.attributes).forEach(attribute => {\n      if (allowedAttributes.indexOf(attribute.name) === -1) {\n        warn([`Unrecognized attribute \"${attribute.name}\" on <${el.tagName.toLowerCase()}>.`, `${allowedAttributes.length ? `Allowed attributes are: ${allowedAttributes.join(', ')}` : 'To set the value, use HTML within the element.'}`]);\n      }\n    });\n  };\n\n  const SHOW_CLASS_TIMEOUT = 10;\n\n  /**\n   * Open popup, add necessary classes and styles, fix scrollbar\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const openPopup = params => {\n    const container = getContainer();\n    const popup = getPopup();\n    if (typeof params.willOpen === 'function') {\n      params.willOpen(popup);\n    }\n    globalState.eventEmitter.emit('willOpen', popup);\n    const bodyStyles = window.getComputedStyle(document.body);\n    const initialBodyOverflow = bodyStyles.overflowY;\n    addClasses(container, popup, params);\n\n    // scrolling is 'hidden' until animation is done, after that 'auto'\n    setTimeout(() => {\n      setScrollingVisibility(container, popup);\n    }, SHOW_CLASS_TIMEOUT);\n    if (isModal()) {\n      fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n      setAriaHidden();\n    }\n    if (!isToast() && !globalState.previousActiveElement) {\n      globalState.previousActiveElement = document.activeElement;\n    }\n    if (typeof params.didOpen === 'function') {\n      setTimeout(() => params.didOpen(popup));\n    }\n    globalState.eventEmitter.emit('didOpen', popup);\n    removeClass(container, swalClasses['no-transition']);\n  };\n\n  /**\n   * @param {AnimationEvent} event\n   */\n  const swalOpenAnimationFinished = event => {\n    const popup = getPopup();\n    if (event.target !== popup) {\n      return;\n    }\n    const container = getContainer();\n    popup.removeEventListener('animationend', swalOpenAnimationFinished);\n    popup.removeEventListener('transitionend', swalOpenAnimationFinished);\n    container.style.overflowY = 'auto';\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {HTMLElement} popup\n   */\n  const setScrollingVisibility = (container, popup) => {\n    if (hasCssAnimation(popup)) {\n      container.style.overflowY = 'hidden';\n      popup.addEventListener('animationend', swalOpenAnimationFinished);\n      popup.addEventListener('transitionend', swalOpenAnimationFinished);\n    } else {\n      container.style.overflowY = 'auto';\n    }\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {boolean} scrollbarPadding\n   * @param {string} initialBodyOverflow\n   */\n  const fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n    iOSfix();\n    if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n      replaceScrollbarWithPadding(initialBodyOverflow);\n    }\n\n    // sweetalert2/issues/1247\n    setTimeout(() => {\n      container.scrollTop = 0;\n    });\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} params\n   */\n  const addClasses = (container, popup, params) => {\n    addClass(container, params.showClass.backdrop);\n    if (params.animation) {\n      // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n      popup.style.setProperty('opacity', '0', 'important');\n      show(popup, 'grid');\n      setTimeout(() => {\n        // Animate popup right after showing it\n        addClass(popup, params.showClass.popup);\n        // and remove the opacity workaround\n        popup.style.removeProperty('opacity');\n      }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n    } else {\n      show(popup, 'grid');\n    }\n    addClass([document.documentElement, document.body], swalClasses.shown);\n    if (params.heightAuto && params.backdrop && !params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['height-auto']);\n    }\n  };\n\n  var defaultInputValidators = {\n    /**\n     * @param {string} string\n     * @param {string} [validationMessage]\n     * @returns {Promise<string | void>}\n     */\n    email: (string, validationMessage) => {\n      return /^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]+$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n    },\n    /**\n     * @param {string} string\n     * @param {string} [validationMessage]\n     * @returns {Promise<string | void>}\n     */\n    url: (string, validationMessage) => {\n      // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n      return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  function setDefaultInputValidators(params) {\n    // Use default `inputValidator` for supported input types if not provided\n    if (params.inputValidator) {\n      return;\n    }\n    if (params.input === 'email') {\n      params.inputValidator = defaultInputValidators['email'];\n    }\n    if (params.input === 'url') {\n      params.inputValidator = defaultInputValidators['url'];\n    }\n  }\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  function validateCustomTargetElement(params) {\n    // Determine if the custom target element is valid\n    if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n      warn('Target parameter is not valid, defaulting to \"body\"');\n      params.target = 'body';\n    }\n  }\n\n  /**\n   * Set type, text and actions on popup\n   *\n   * @param {SweetAlertOptions} params\n   */\n  function setParameters(params) {\n    setDefaultInputValidators(params);\n\n    // showLoaderOnConfirm && preConfirm\n    if (params.showLoaderOnConfirm && !params.preConfirm) {\n      warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n    }\n    validateCustomTargetElement(params);\n\n    // Replace newlines with <br> in title\n    if (typeof params.title === 'string') {\n      params.title = params.title.split('\\n').join('<br />');\n    }\n    init(params);\n  }\n\n  /** @type {SweetAlert} */\n  let currentInstance;\n  var _promise = /*#__PURE__*/new WeakMap();\n  class SweetAlert {\n    /**\n     * @param {...any} args\n     * @this {SweetAlert}\n     */\n    constructor() {\n      /**\n       * @type {Promise<SweetAlertResult>}\n       */\n      _classPrivateFieldInitSpec(this, _promise, void 0);\n      // Prevent run in Node env\n      if (typeof window === 'undefined') {\n        return;\n      }\n      currentInstance = this;\n\n      // @ts-ignore\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const outerParams = Object.freeze(this.constructor.argsToParams(args));\n\n      /** @type {Readonly<SweetAlertOptions>} */\n      this.params = outerParams;\n\n      /** @type {boolean} */\n      this.isAwaitingPromise = false;\n      _classPrivateFieldSet2(_promise, this, this._main(currentInstance.params));\n    }\n    _main(userParams) {\n      let mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      showWarningsForParams(Object.assign({}, mixinParams, userParams));\n      if (globalState.currentInstance) {\n        const swalPromiseResolve = privateMethods.swalPromiseResolve.get(globalState.currentInstance);\n        const {\n          isAwaitingPromise\n        } = globalState.currentInstance;\n        globalState.currentInstance._destroy();\n        if (!isAwaitingPromise) {\n          swalPromiseResolve({\n            isDismissed: true\n          });\n        }\n        if (isModal()) {\n          unsetAriaHidden();\n        }\n      }\n      globalState.currentInstance = currentInstance;\n      const innerParams = prepareParams(userParams, mixinParams);\n      setParameters(innerParams);\n      Object.freeze(innerParams);\n\n      // clear the previous timer\n      if (globalState.timeout) {\n        globalState.timeout.stop();\n        delete globalState.timeout;\n      }\n\n      // clear the restore focus timeout\n      clearTimeout(globalState.restoreFocusTimeout);\n      const domCache = populateDomCache(currentInstance);\n      render(currentInstance, innerParams);\n      privateProps.innerParams.set(currentInstance, innerParams);\n      return swalPromise(currentInstance, domCache, innerParams);\n    }\n\n    // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n    then(onFulfilled) {\n      return _classPrivateFieldGet2(_promise, this).then(onFulfilled);\n    }\n    finally(onFinally) {\n      return _classPrivateFieldGet2(_promise, this).finally(onFinally);\n    }\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   * @returns {Promise}\n   */\n  const swalPromise = (instance, domCache, innerParams) => {\n    return new Promise((resolve, reject) => {\n      // functions to handle all closings/dismissals\n      /**\n       * @param {DismissReason} dismiss\n       */\n      const dismissWith = dismiss => {\n        instance.close({\n          isDismissed: true,\n          dismiss\n        });\n      };\n      privateMethods.swalPromiseResolve.set(instance, resolve);\n      privateMethods.swalPromiseReject.set(instance, reject);\n      domCache.confirmButton.onclick = () => {\n        handleConfirmButtonClick(instance);\n      };\n      domCache.denyButton.onclick = () => {\n        handleDenyButtonClick(instance);\n      };\n      domCache.cancelButton.onclick = () => {\n        handleCancelButtonClick(instance, dismissWith);\n      };\n      domCache.closeButton.onclick = () => {\n        dismissWith(DismissReason.close);\n      };\n      handlePopupClick(innerParams, domCache, dismissWith);\n      addKeydownHandler(globalState, innerParams, dismissWith);\n      handleInputOptionsAndValue(instance, innerParams);\n      openPopup(innerParams);\n      setupTimer(globalState, innerParams, dismissWith);\n      initFocus(domCache, innerParams);\n\n      // Scroll container to top on open (#1247, #1946)\n      setTimeout(() => {\n        domCache.container.scrollTop = 0;\n      });\n    });\n  };\n\n  /**\n   * @param {SweetAlertOptions} userParams\n   * @param {SweetAlertOptions} mixinParams\n   * @returns {SweetAlertOptions}\n   */\n  const prepareParams = (userParams, mixinParams) => {\n    const templateParams = getTemplateParams(userParams);\n    const params = Object.assign({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n    params.showClass = Object.assign({}, defaultParams.showClass, params.showClass);\n    params.hideClass = Object.assign({}, defaultParams.hideClass, params.hideClass);\n    if (params.animation === false) {\n      params.showClass = {\n        backdrop: 'swal2-noanimation'\n      };\n      params.hideClass = {};\n    }\n    return params;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @returns {DomCache}\n   */\n  const populateDomCache = instance => {\n    const domCache = {\n      popup: getPopup(),\n      container: getContainer(),\n      actions: getActions(),\n      confirmButton: getConfirmButton(),\n      denyButton: getDenyButton(),\n      cancelButton: getCancelButton(),\n      loader: getLoader(),\n      closeButton: getCloseButton(),\n      validationMessage: getValidationMessage(),\n      progressSteps: getProgressSteps()\n    };\n    privateProps.domCache.set(instance, domCache);\n    return domCache;\n  };\n\n  /**\n   * @param {GlobalState} globalState\n   * @param {SweetAlertOptions} innerParams\n   * @param {Function} dismissWith\n   */\n  const setupTimer = (globalState, innerParams, dismissWith) => {\n    const timerProgressBar = getTimerProgressBar();\n    hide(timerProgressBar);\n    if (innerParams.timer) {\n      globalState.timeout = new Timer(() => {\n        dismissWith('timer');\n        delete globalState.timeout;\n      }, innerParams.timer);\n      if (innerParams.timerProgressBar) {\n        show(timerProgressBar);\n        applyCustomClass(timerProgressBar, innerParams, 'timerProgressBar');\n        setTimeout(() => {\n          if (globalState.timeout && globalState.timeout.running) {\n            // timer can be already stopped or unset at this point\n            animateTimerProgressBar(innerParams.timer);\n          }\n        });\n      }\n    }\n  };\n\n  /**\n   * Initialize focus in the popup:\n   *\n   * 1. If `toast` is `true`, don't steal focus from the document.\n   * 2. Else if there is an [autofocus] element, focus it.\n   * 3. Else if `focusConfirm` is `true` and confirm button is visible, focus it.\n   * 4. Else if `focusDeny` is `true` and deny button is visible, focus it.\n   * 5. Else if `focusCancel` is `true` and cancel button is visible, focus it.\n   * 6. Else focus the first focusable element in a popup (if any).\n   *\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   */\n  const initFocus = (domCache, innerParams) => {\n    if (innerParams.toast) {\n      return;\n    }\n    // TODO: this is dumb, remove `allowEnterKey` param in the next major version\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      warnAboutDeprecation('allowEnterKey');\n      blurActiveElement();\n      return;\n    }\n    if (focusAutofocus(domCache)) {\n      return;\n    }\n    if (focusButton(domCache, innerParams)) {\n      return;\n    }\n    setFocus(-1, 1);\n  };\n\n  /**\n   * @param {DomCache} domCache\n   * @returns {boolean}\n   */\n  const focusAutofocus = domCache => {\n    const autofocusElements = Array.from(domCache.popup.querySelectorAll('[autofocus]'));\n    for (const autofocusElement of autofocusElements) {\n      if (autofocusElement instanceof HTMLElement && isVisible$1(autofocusElement)) {\n        autofocusElement.focus();\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /**\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   * @returns {boolean}\n   */\n  const focusButton = (domCache, innerParams) => {\n    if (innerParams.focusDeny && isVisible$1(domCache.denyButton)) {\n      domCache.denyButton.focus();\n      return true;\n    }\n    if (innerParams.focusCancel && isVisible$1(domCache.cancelButton)) {\n      domCache.cancelButton.focus();\n      return true;\n    }\n    if (innerParams.focusConfirm && isVisible$1(domCache.confirmButton)) {\n      domCache.confirmButton.focus();\n      return true;\n    }\n    return false;\n  };\n  const blurActiveElement = () => {\n    if (document.activeElement instanceof HTMLElement && typeof document.activeElement.blur === 'function') {\n      document.activeElement.blur();\n    }\n  };\n\n  // Dear russian users visiting russian sites. Let's have fun.\n  if (typeof window !== 'undefined' && /^ru\\b/.test(navigator.language) && location.host.match(/\\.(ru|su|by|xn--p1ai)$/)) {\n    const now = new Date();\n    const initiationDate = localStorage.getItem('swal-initiation');\n    if (!initiationDate) {\n      localStorage.setItem('swal-initiation', `${now}`);\n    } else if ((now.getTime() - Date.parse(initiationDate)) / (1000 * 60 * 60 * 24) > 3) {\n      setTimeout(() => {\n        document.body.style.pointerEvents = 'none';\n        const ukrainianAnthem = document.createElement('audio');\n        ukrainianAnthem.src = 'https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3';\n        ukrainianAnthem.loop = true;\n        document.body.appendChild(ukrainianAnthem);\n        setTimeout(() => {\n          ukrainianAnthem.play().catch(() => {\n            // ignore\n          });\n        }, 2500);\n      }, 500);\n    }\n  }\n\n  // Assign instance methods from src/instanceMethods/*.js to prototype\n  SweetAlert.prototype.disableButtons = disableButtons;\n  SweetAlert.prototype.enableButtons = enableButtons;\n  SweetAlert.prototype.getInput = getInput;\n  SweetAlert.prototype.disableInput = disableInput;\n  SweetAlert.prototype.enableInput = enableInput;\n  SweetAlert.prototype.hideLoading = hideLoading;\n  SweetAlert.prototype.disableLoading = hideLoading;\n  SweetAlert.prototype.showValidationMessage = showValidationMessage;\n  SweetAlert.prototype.resetValidationMessage = resetValidationMessage;\n  SweetAlert.prototype.close = close;\n  SweetAlert.prototype.closePopup = close;\n  SweetAlert.prototype.closeModal = close;\n  SweetAlert.prototype.closeToast = close;\n  SweetAlert.prototype.rejectPromise = rejectPromise;\n  SweetAlert.prototype.update = update;\n  SweetAlert.prototype._destroy = _destroy;\n\n  // Assign static methods from src/staticMethods/*.js to constructor\n  Object.assign(SweetAlert, staticMethods);\n\n  // Proxy to instance methods to constructor, for now, for backwards compatibility\n  Object.keys(instanceMethods).forEach(key => {\n    /**\n     * @param {...any} args\n     * @returns {any | undefined}\n     */\n    SweetAlert[key] = function () {\n      if (currentInstance && currentInstance[key]) {\n        return currentInstance[key](...arguments);\n      }\n      return null;\n    };\n  });\n  SweetAlert.DismissReason = DismissReason;\n  SweetAlert.version = '11.17.2';\n\n  const Swal = SweetAlert;\n  // @ts-ignore\n  Swal.default = Swal;\n\n  return Swal;\n\n}));\nif (typeof this !== 'undefined' && this.Sweetalert2){this.swal = this.sweetAlert = this.Swal = this.SweetAlert = this.Sweetalert2}\n\"undefined\"!=typeof document&&function(e,t){var n=e.createElement(\"style\");if(e.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,\":root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:\\\"top-start     top            top-end\\\" \\\"center-start  center         center-end\\\" \\\"bottom-start  bottom-center  bottom-end\\\";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:\\\"!\\\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3dlZXRhbGVydDIvZGlzdC9zd2VldGFsZXJ0Mi5hbGwuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsS0FBNEQ7QUFDOUQsRUFBRSxDQUMwRztBQUM1RyxDQUFDLHVCQUF1Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsYUFBYSxhQUFhO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sMEJBQTBCOztBQUVqQztBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDOztBQUVBO0FBQ0EsZUFBZSx1REFBdUQ7QUFDdEUsZUFBZSwwQkFBMEI7QUFDekM7O0FBRUEsYUFBYSxhQUFhO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxhQUFhLGFBQWEsSUFBSTs7QUFFakMsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxhQUFhLFdBQVcsSUFBSTs7QUFFL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUJBQW1CO0FBQ2hDO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZSxFQUFFLDBEQUEwRDtBQUMvRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLHFCQUFxQixlQUFlLEVBQUUsUUFBUTtBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FB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QTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsS0FBSztBQUNsQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLGFBQWEsWUFBWTtBQUN6QixhQUFhLGFBQWE7QUFDMUIsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsYUFBYTtBQUMxQixhQUFhLGFBQWE7QUFDMUIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0NBQWtDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FB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LHlCQUF5QixVQUFVLEtBQUsscUJBQXFCLFdBQVcsNEJBQTRCLEdBQUcsNkNBQTZDLElBQUksdUNBQXVDLElBQUksNkNBQTZDLEtBQUssdUNBQXVDLDRCQUE0QixLQUFLLHdCQUF3QixXQUFXLGdEQUFnRCxHQUFHLFlBQVksYUFBYSxRQUFRLElBQUksV0FBVyxZQUFZLFFBQVEsSUFBSSxXQUFXLGFBQWEsY0FBYyxJQUFJLGFBQWEsV0FBVyxXQUFXLEtBQUssWUFBWSxhQUFhLGFBQWEsaURBQWlELEdBQUcsWUFBWSxjQUFjLFFBQVEsSUFBSSxXQUFXLGNBQWMsUUFBUSxJQUFJLFlBQVksUUFBUSxjQUFjLEtBQUssWUFBWSxjQUFjLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9ub2RlX21vZHVsZXMvc3dlZXRhbGVydDIvZGlzdC9zd2VldGFsZXJ0Mi5hbGwuanM/M2QyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiogc3dlZXRhbGVydDIgdjExLjE3LjJcbiogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLlN3ZWV0YWxlcnQyID0gZmFjdG9yeSgpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfYXNzZXJ0Q2xhc3NCcmFuZChlLCB0LCBuKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSA/IGUgPT09IHQgOiBlLmhhcyh0KSkgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdCA6IG47XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgZWxlbWVudCBpcyBub3QgcHJlc2VudCBvbiB0aGlzIG9iamVjdFwiKTtcbiAgfVxuICBmdW5jdGlvbiBfY2hlY2tQcml2YXRlUmVkZWNsYXJhdGlvbihlLCB0KSB7XG4gICAgaWYgKHQuaGFzKGUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGluaXRpYWxpemUgdGhlIHNhbWUgcHJpdmF0ZSBlbGVtZW50cyB0d2ljZSBvbiBhbiBvYmplY3RcIik7XG4gIH1cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0MihzLCBhKSB7XG4gICAgcmV0dXJuIHMuZ2V0KF9hc3NlcnRDbGFzc0JyYW5kKHMsIGEpKTtcbiAgfVxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyhlLCB0LCBhKSB7XG4gICAgX2NoZWNrUHJpdmF0ZVJlZGVjbGFyYXRpb24oZSwgdCksIHQuc2V0KGUsIGEpO1xuICB9XG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZFNldDIocywgYSwgcikge1xuICAgIHJldHVybiBzLnNldChfYXNzZXJ0Q2xhc3NCcmFuZChzLCBhKSwgciksIHI7XG4gIH1cblxuICBjb25zdCBSRVNUT1JFX0ZPQ1VTX1RJTUVPVVQgPSAxMDA7XG5cbiAgLyoqIEB0eXBlIHtHbG9iYWxTdGF0ZX0gKi9cbiAgY29uc3QgZ2xvYmFsU3RhdGUgPSB7fTtcbiAgY29uc3QgZm9jdXNQcmV2aW91c0FjdGl2ZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgaWYgKGdsb2JhbFN0YXRlLnByZXZpb3VzQWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBnbG9iYWxTdGF0ZS5wcmV2aW91c0FjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIGdsb2JhbFN0YXRlLnByZXZpb3VzQWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0b3JlIHByZXZpb3VzIGFjdGl2ZSAoZm9jdXNlZCkgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldHVybkZvY3VzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgY29uc3QgcmVzdG9yZUFjdGl2ZUVsZW1lbnQgPSByZXR1cm5Gb2N1cyA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgaWYgKCFyZXR1cm5Gb2N1cykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgeCA9IHdpbmRvdy5zY3JvbGxYO1xuICAgICAgY29uc3QgeSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgZ2xvYmFsU3RhdGUucmVzdG9yZUZvY3VzVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmb2N1c1ByZXZpb3VzQWN0aXZlRWxlbWVudCgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCBSRVNUT1JFX0ZPQ1VTX1RJTUVPVVQpOyAvLyBpc3N1ZXMvOTAwXG5cbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzd2FsUHJlZml4ID0gJ3N3YWwyLSc7XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtSZWNvcmQ8U3dhbENsYXNzLCBzdHJpbmc+fSBTd2FsQ2xhc3Nlc1xuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYgeydzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdpbmZvJyB8ICdxdWVzdGlvbicgfCAnZXJyb3InfSBTd2FsSWNvblxuICAgKiBAdHlwZWRlZiB7UmVjb3JkPFN3YWxJY29uLCBzdHJpbmc+fSBTd2FsSWNvbnNcbiAgICovXG5cbiAgLyoqIEB0eXBlIHtTd2FsQ2xhc3NbXX0gKi9cbiAgY29uc3QgY2xhc3NOYW1lcyA9IFsnY29udGFpbmVyJywgJ3Nob3duJywgJ2hlaWdodC1hdXRvJywgJ2lvc2ZpeCcsICdwb3B1cCcsICdtb2RhbCcsICduby1iYWNrZHJvcCcsICduby10cmFuc2l0aW9uJywgJ3RvYXN0JywgJ3RvYXN0LXNob3duJywgJ3Nob3cnLCAnaGlkZScsICdjbG9zZScsICd0aXRsZScsICdodG1sLWNvbnRhaW5lcicsICdhY3Rpb25zJywgJ2NvbmZpcm0nLCAnZGVueScsICdjYW5jZWwnLCAnZGVmYXVsdC1vdXRsaW5lJywgJ2Zvb3RlcicsICdpY29uJywgJ2ljb24tY29udGVudCcsICdpbWFnZScsICdpbnB1dCcsICdmaWxlJywgJ3JhbmdlJywgJ3NlbGVjdCcsICdyYWRpbycsICdjaGVja2JveCcsICdsYWJlbCcsICd0ZXh0YXJlYScsICdpbnB1dGVycm9yJywgJ2lucHV0LWxhYmVsJywgJ3ZhbGlkYXRpb24tbWVzc2FnZScsICdwcm9ncmVzcy1zdGVwcycsICdhY3RpdmUtcHJvZ3Jlc3Mtc3RlcCcsICdwcm9ncmVzcy1zdGVwJywgJ3Byb2dyZXNzLXN0ZXAtbGluZScsICdsb2FkZXInLCAnbG9hZGluZycsICdzdHlsZWQnLCAndG9wJywgJ3RvcC1zdGFydCcsICd0b3AtZW5kJywgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdjZW50ZXInLCAnY2VudGVyLXN0YXJ0JywgJ2NlbnRlci1lbmQnLCAnY2VudGVyLWxlZnQnLCAnY2VudGVyLXJpZ2h0JywgJ2JvdHRvbScsICdib3R0b20tc3RhcnQnLCAnYm90dG9tLWVuZCcsICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnLCAnZ3Jvdy1yb3cnLCAnZ3Jvdy1jb2x1bW4nLCAnZ3Jvdy1mdWxsc2NyZWVuJywgJ3J0bCcsICd0aW1lci1wcm9ncmVzcy1iYXInLCAndGltZXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcicsICdzY3JvbGxiYXItbWVhc3VyZScsICdpY29uLXN1Y2Nlc3MnLCAnaWNvbi13YXJuaW5nJywgJ2ljb24taW5mbycsICdpY29uLXF1ZXN0aW9uJywgJ2ljb24tZXJyb3InLCAnZHJhZ2dhYmxlJywgJ2RyYWdnaW5nJ107XG4gIGNvbnN0IHN3YWxDbGFzc2VzID0gY2xhc3NOYW1lcy5yZWR1Y2UoKGFjYywgY2xhc3NOYW1lKSA9PiB7XG4gICAgYWNjW2NsYXNzTmFtZV0gPSBzd2FsUHJlZml4ICsgY2xhc3NOYW1lO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIC8qKiBAdHlwZSB7U3dhbENsYXNzZXN9ICove30pO1xuXG4gIC8qKiBAdHlwZSB7U3dhbEljb25bXX0gKi9cbiAgY29uc3QgaWNvbnMgPSBbJ3N1Y2Nlc3MnLCAnd2FybmluZycsICdpbmZvJywgJ3F1ZXN0aW9uJywgJ2Vycm9yJ107XG4gIGNvbnN0IGljb25UeXBlcyA9IGljb25zLnJlZHVjZSgoYWNjLCBpY29uKSA9PiB7XG4gICAgYWNjW2ljb25dID0gc3dhbFByZWZpeCArIGljb247XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgLyoqIEB0eXBlIHtTd2FsSWNvbnN9ICove30pO1xuXG4gIGNvbnN0IGNvbnNvbGVQcmVmaXggPSAnU3dlZXRBbGVydDI6JztcblxuICAvKipcbiAgICogQ2FwaXRhbGl6ZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGEgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGNvbnN0IGNhcGl0YWxpemVGaXJzdExldHRlciA9IHN0ciA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG5cbiAgLyoqXG4gICAqIFN0YW5kYXJkaXplIGNvbnNvbGUgd2FybmluZ3NcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gbWVzc2FnZVxuICAgKi9cbiAgY29uc3Qgd2FybiA9IG1lc3NhZ2UgPT4ge1xuICAgIGNvbnNvbGUud2FybihgJHtjb25zb2xlUHJlZml4fSAke3R5cGVvZiBtZXNzYWdlID09PSAnb2JqZWN0JyA/IG1lc3NhZ2Uuam9pbignICcpIDogbWVzc2FnZX1gKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhbmRhcmRpemUgY29uc29sZSBlcnJvcnNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAgICovXG4gIGNvbnN0IGVycm9yID0gbWVzc2FnZSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihgJHtjb25zb2xlUHJlZml4fSAke21lc3NhZ2V9YCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByaXZhdGUgZ2xvYmFsIHN0YXRlIGZvciBgd2Fybk9uY2VgXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0IHByZXZpb3VzV2Fybk9uY2VNZXNzYWdlcyA9IFtdO1xuXG4gIC8qKlxuICAgKiBTaG93IGEgY29uc29sZSB3YXJuaW5nLCBidXQgb25seSBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIHNob3duXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAqL1xuICBjb25zdCB3YXJuT25jZSA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmICghcHJldmlvdXNXYXJuT25jZU1lc3NhZ2VzLmluY2x1ZGVzKG1lc3NhZ2UpKSB7XG4gICAgICBwcmV2aW91c1dhcm5PbmNlTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgIHdhcm4obWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTaG93IGEgb25lLXRpbWUgY29uc29sZSB3YXJuaW5nIGFib3V0IGRlcHJlY2F0ZWQgcGFyYW1zL21ldGhvZHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRlcHJlY2F0ZWRQYXJhbVxuICAgKiBAcGFyYW0ge3N0cmluZz99IHVzZUluc3RlYWRcbiAgICovXG4gIGNvbnN0IHdhcm5BYm91dERlcHJlY2F0aW9uID0gZnVuY3Rpb24gKGRlcHJlY2F0ZWRQYXJhbSkge1xuICAgIGxldCB1c2VJbnN0ZWFkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuICAgIHdhcm5PbmNlKGBcIiR7ZGVwcmVjYXRlZFBhcmFtfVwiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiR7dXNlSW5zdGVhZCA/IGAgVXNlIFwiJHt1c2VJbnN0ZWFkfVwiIGluc3RlYWQuYCA6ICcnfWApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJZiBgYXJnYCBpcyBhIGZ1bmN0aW9uLCBjYWxsIGl0ICh3aXRoIG5vIGFyZ3VtZW50cyBvciBjb250ZXh0KSBhbmQgcmV0dXJuIHRoZSByZXN1bHQuXG4gICAqIE90aGVyd2lzZSwganVzdCBwYXNzIHRoZSB2YWx1ZSB0aHJvdWdoXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24gfCBhbnl9IGFyZ1xuICAgKiBAcmV0dXJucyB7YW55fVxuICAgKi9cbiAgY29uc3QgY2FsbElmRnVuY3Rpb24gPSBhcmcgPT4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJyA/IGFyZygpIDogYXJnO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gYXJnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaGFzVG9Qcm9taXNlRm4gPSBhcmcgPT4gYXJnICYmIHR5cGVvZiBhcmcudG9Qcm9taXNlID09PSAnZnVuY3Rpb24nO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gYXJnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBjb25zdCBhc1Byb21pc2UgPSBhcmcgPT4gaGFzVG9Qcm9taXNlRm4oYXJnKSA/IGFyZy50b1Byb21pc2UoKSA6IFByb21pc2UucmVzb2x2ZShhcmcpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gYXJnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNQcm9taXNlID0gYXJnID0+IGFyZyAmJiBQcm9taXNlLnJlc29sdmUoYXJnKSA9PT0gYXJnO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwb3B1cCBjb250YWluZXIgd2hpY2ggY29udGFpbnMgdGhlIGJhY2tkcm9wIGFuZCB0aGUgcG9wdXAgaXRzZWxmLlxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0Q29udGFpbmVyID0gKCkgPT4gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5jb250YWluZXJ9YCk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclN0cmluZ1xuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZWxlbWVudEJ5U2VsZWN0b3IgPSBzZWxlY3RvclN0cmluZyA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgcmV0dXJuIGNvbnRhaW5lciA/IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yU3RyaW5nKSA6IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIGNvbnN0IGVsZW1lbnRCeUNsYXNzID0gY2xhc3NOYW1lID0+IHtcbiAgICByZXR1cm4gZWxlbWVudEJ5U2VsZWN0b3IoYC4ke2NsYXNzTmFtZX1gKTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIGNvbnN0IGdldFBvcHVwID0gKCkgPT4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMucG9wdXApO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0SWNvbiA9ICgpID0+IGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzLmljb24pO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0SWNvbkNvbnRlbnQgPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlc1snaWNvbi1jb250ZW50J10pO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0VGl0bGUgPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy50aXRsZSk7XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9XG4gICAqL1xuICBjb25zdCBnZXRIdG1sQ29udGFpbmVyID0gKCkgPT4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXNbJ2h0bWwtY29udGFpbmVyJ10pO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0SW1hZ2UgPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5pbWFnZSk7XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9XG4gICAqL1xuICBjb25zdCBnZXRQcm9ncmVzc1N0ZXBzID0gKCkgPT4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXNbJ3Byb2dyZXNzLXN0ZXBzJ10pO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0VmFsaWRhdGlvbk1lc3NhZ2UgPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlc1sndmFsaWRhdGlvbi1tZXNzYWdlJ10pO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0Q29uZmlybUJ1dHRvbiA9ICgpID0+ICgvKiogQHR5cGUge0hUTUxCdXR0b25FbGVtZW50fSAqL2VsZW1lbnRCeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5hY3Rpb25zfSAuJHtzd2FsQ2xhc3Nlcy5jb25maXJtfWApKTtcblxuICAvKipcbiAgICogQHJldHVybnMge0hUTUxCdXR0b25FbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIGNvbnN0IGdldENhbmNlbEJ1dHRvbiA9ICgpID0+ICgvKiogQHR5cGUge0hUTUxCdXR0b25FbGVtZW50fSAqL2VsZW1lbnRCeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5hY3Rpb25zfSAuJHtzd2FsQ2xhc3Nlcy5jYW5jZWx9YCkpO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0RGVueUJ1dHRvbiA9ICgpID0+ICgvKiogQHR5cGUge0hUTUxCdXR0b25FbGVtZW50fSAqL2VsZW1lbnRCeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5hY3Rpb25zfSAuJHtzd2FsQ2xhc3Nlcy5kZW55fWApKTtcblxuICAvKipcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIGNvbnN0IGdldElucHV0TGFiZWwgPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlc1snaW5wdXQtbGFiZWwnXSk7XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9XG4gICAqL1xuICBjb25zdCBnZXRMb2FkZXIgPSAoKSA9PiBlbGVtZW50QnlTZWxlY3RvcihgLiR7c3dhbENsYXNzZXMubG9hZGVyfWApO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0QWN0aW9ucyA9ICgpID0+IGVsZW1lbnRCeUNsYXNzKHN3YWxDbGFzc2VzLmFjdGlvbnMpO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0Rm9vdGVyID0gKCkgPT4gZWxlbWVudEJ5Q2xhc3Moc3dhbENsYXNzZXMuZm9vdGVyKTtcblxuICAvKipcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIGNvbnN0IGdldFRpbWVyUHJvZ3Jlc3NCYXIgPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlc1sndGltZXItcHJvZ3Jlc3MtYmFyJ10pO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0Q2xvc2VCdXR0b24gPSAoKSA9PiBlbGVtZW50QnlDbGFzcyhzd2FsQ2xhc3Nlcy5jbG9zZSk7XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2prdXAvZm9jdXNhYmxlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gIGNvbnN0IGZvY3VzYWJsZSA9IGBcbiAgYVtocmVmXSxcbiAgYXJlYVtocmVmXSxcbiAgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLFxuICBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLFxuICB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksXG4gIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksXG4gIGlmcmFtZSxcbiAgb2JqZWN0LFxuICBlbWJlZCxcbiAgW3RhYmluZGV4PVwiMFwiXSxcbiAgW2NvbnRlbnRlZGl0YWJsZV0sXG4gIGF1ZGlvW2NvbnRyb2xzXSxcbiAgdmlkZW9bY29udHJvbHNdLFxuICBzdW1tYXJ5XG5gO1xuICAvKipcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvKiogQHR5cGUge05vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+fSAqL1xuICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzV2l0aFRhYmluZGV4ID0gcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pOm5vdChbdGFiaW5kZXg9XCIwXCJdKScpO1xuICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzV2l0aFRhYmluZGV4U29ydGVkID0gQXJyYXkuZnJvbShmb2N1c2FibGVFbGVtZW50c1dpdGhUYWJpbmRleClcbiAgICAvLyBzb3J0IGFjY29yZGluZyB0byB0YWJpbmRleFxuICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB0YWJpbmRleEEgPSBwYXJzZUludChhLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSB8fCAnMCcpO1xuICAgICAgY29uc3QgdGFiaW5kZXhCID0gcGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykgfHwgJzAnKTtcbiAgICAgIGlmICh0YWJpbmRleEEgPiB0YWJpbmRleEIpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IGVsc2UgaWYgKHRhYmluZGV4QSA8IHRhYmluZGV4Qikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIC8qKiBAdHlwZSB7Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD59ICovXG4gICAgY29uc3Qgb3RoZXJGb2N1c2FibGVFbGVtZW50cyA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlKTtcbiAgICBjb25zdCBvdGhlckZvY3VzYWJsZUVsZW1lbnRzRmlsdGVyZWQgPSBBcnJheS5mcm9tKG90aGVyRm9jdXNhYmxlRWxlbWVudHMpLmZpbHRlcihlbCA9PiBlbC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykgIT09ICctMScpO1xuICAgIHJldHVybiBbLi4ubmV3IFNldChmb2N1c2FibGVFbGVtZW50c1dpdGhUYWJpbmRleFNvcnRlZC5jb25jYXQob3RoZXJGb2N1c2FibGVFbGVtZW50c0ZpbHRlcmVkKSldLmZpbHRlcihlbCA9PiBpc1Zpc2libGUkMShlbCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGlzTW9kYWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGhhc0NsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzLnNob3duKSAmJiAhaGFzQ2xhc3MoZG9jdW1lbnQuYm9keSwgc3dhbENsYXNzZXNbJ3RvYXN0LXNob3duJ10pICYmICFoYXNDbGFzcyhkb2N1bWVudC5ib2R5LCBzd2FsQ2xhc3Nlc1snbm8tYmFja2Ryb3AnXSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNUb2FzdCA9ICgpID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzQ2xhc3MocG9wdXAsIHN3YWxDbGFzc2VzLnRvYXN0KTtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjb25zdCBpc0xvYWRpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBnZXRQb3B1cCgpO1xuICAgIGlmICghcG9wdXApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHBvcHVwLmhhc0F0dHJpYnV0ZSgnZGF0YS1sb2FkaW5nJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlY3VyZWx5IHNldCBpbm5lckhUTUwgb2YgYW4gZWxlbWVudFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvaXNzdWVzLzE5MjZcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuICAgKi9cbiAgY29uc3Qgc2V0SW5uZXJIdG1sID0gKGVsZW0sIGh0bWwpID0+IHtcbiAgICBlbGVtLnRleHRDb250ZW50ID0gJyc7XG4gICAgaWYgKGh0bWwpIHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbCwgYHRleHQvaHRtbGApO1xuICAgICAgY29uc3QgaGVhZCA9IHBhcnNlZC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgICBpZiAoaGVhZCkge1xuICAgICAgICBBcnJheS5mcm9tKGhlYWQuY2hpbGROb2RlcykuZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgYm9keSA9IHBhcnNlZC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgICBpZiAoYm9keSkge1xuICAgICAgICBBcnJheS5mcm9tKGJvZHkuY2hpbGROb2RlcykuZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCB8fCBjaGlsZCBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoY2hpbGQuY2xvbmVOb2RlKHRydWUpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL2lzc3Vlcy8yNTA3XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjb25zdCBoYXNDbGFzcyA9IChlbGVtLCBjbGFzc05hbWUpID0+IHtcbiAgICBpZiAoIWNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc0xpc3QgPSBjbGFzc05hbWUuc3BsaXQoL1xccysvKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc0xpc3RbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1cbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCByZW1vdmVDdXN0b21DbGFzc2VzID0gKGVsZW0sIHBhcmFtcykgPT4ge1xuICAgIEFycmF5LmZyb20oZWxlbS5jbGFzc0xpc3QpLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgIGlmICghT2JqZWN0LnZhbHVlcyhzd2FsQ2xhc3NlcykuaW5jbHVkZXMoY2xhc3NOYW1lKSAmJiAhT2JqZWN0LnZhbHVlcyhpY29uVHlwZXMpLmluY2x1ZGVzKGNsYXNzTmFtZSkgJiYgIU9iamVjdC52YWx1ZXMocGFyYW1zLnNob3dDbGFzcyB8fCB7fSkuaW5jbHVkZXMoY2xhc3NOYW1lKSkge1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgKi9cbiAgY29uc3QgYXBwbHlDdXN0b21DbGFzcyA9IChlbGVtLCBwYXJhbXMsIGNsYXNzTmFtZSkgPT4ge1xuICAgIHJlbW92ZUN1c3RvbUNsYXNzZXMoZWxlbSwgcGFyYW1zKTtcbiAgICBpZiAoIXBhcmFtcy5jdXN0b21DbGFzcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21DbGFzcyA9IHBhcmFtcy5jdXN0b21DbGFzc1soLyoqIEB0eXBlIHtrZXlvZiBTd2VldEFsZXJ0Q3VzdG9tQ2xhc3N9ICovY2xhc3NOYW1lKV07XG4gICAgaWYgKCFjdXN0b21DbGFzcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGN1c3RvbUNsYXNzICE9PSAnc3RyaW5nJyAmJiAhY3VzdG9tQ2xhc3MuZm9yRWFjaCkge1xuICAgICAgd2FybihgSW52YWxpZCB0eXBlIG9mIGN1c3RvbUNsYXNzLiR7Y2xhc3NOYW1lfSEgRXhwZWN0ZWQgc3RyaW5nIG9yIGl0ZXJhYmxlIG9iamVjdCwgZ290IFwiJHt0eXBlb2YgY3VzdG9tQ2xhc3N9XCJgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRkQ2xhc3MoZWxlbSwgY3VzdG9tQ2xhc3MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3B1cFxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi9yZW5kZXJlcnMvcmVuZGVySW5wdXQnKS5JbnB1dENsYXNzIHwgU3dlZXRBbGVydElucHV0fSBpbnB1dENsYXNzXG4gICAqIEByZXR1cm5zIHtIVE1MSW5wdXRFbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIGNvbnN0IGdldElucHV0JDEgPSAocG9wdXAsIGlucHV0Q2xhc3MpID0+IHtcbiAgICBpZiAoIWlucHV0Q2xhc3MpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2l0Y2ggKGlucHV0Q2xhc3MpIHtcbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgcmV0dXJuIHBvcHVwLnF1ZXJ5U2VsZWN0b3IoYC4ke3N3YWxDbGFzc2VzLnBvcHVwfSA+IC4ke3N3YWxDbGFzc2VzW2lucHV0Q2xhc3NdfWApO1xuICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICByZXR1cm4gcG9wdXAucXVlcnlTZWxlY3RvcihgLiR7c3dhbENsYXNzZXMucG9wdXB9ID4gLiR7c3dhbENsYXNzZXMuY2hlY2tib3h9IGlucHV0YCk7XG4gICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgIHJldHVybiBwb3B1cC5xdWVyeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5wb3B1cH0gPiAuJHtzd2FsQ2xhc3Nlcy5yYWRpb30gaW5wdXQ6Y2hlY2tlZGApIHx8IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoYC4ke3N3YWxDbGFzc2VzLnBvcHVwfSA+IC4ke3N3YWxDbGFzc2VzLnJhZGlvfSBpbnB1dDpmaXJzdC1jaGlsZGApO1xuICAgICAgY2FzZSAncmFuZ2UnOlxuICAgICAgICByZXR1cm4gcG9wdXAucXVlcnlTZWxlY3RvcihgLiR7c3dhbENsYXNzZXMucG9wdXB9ID4gLiR7c3dhbENsYXNzZXMucmFuZ2V9IGlucHV0YCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gcG9wdXAucXVlcnlTZWxlY3RvcihgLiR7c3dhbENsYXNzZXMucG9wdXB9ID4gLiR7c3dhbENsYXNzZXMuaW5wdXR9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnR9IGlucHV0XG4gICAqL1xuICBjb25zdCBmb2N1c0lucHV0ID0gaW5wdXQgPT4ge1xuICAgIGlucHV0LmZvY3VzKCk7XG5cbiAgICAvLyBwbGFjZSBjdXJzb3IgYXQgZW5kIG9mIHRleHQgaW4gdGV4dCBpbnB1dFxuICAgIGlmIChpbnB1dC50eXBlICE9PSAnZmlsZScpIHtcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIzNDU5MTVcbiAgICAgIGNvbnN0IHZhbCA9IGlucHV0LnZhbHVlO1xuICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlucHV0LnZhbHVlID0gdmFsO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IEhUTUxFbGVtZW50W10gfCBudWxsfSB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IHJlYWRvbmx5IHN0cmluZ1tdIHwgdW5kZWZpbmVkfSBjbGFzc0xpc3RcbiAgICogQHBhcmFtIHtib29sZWFufSBjb25kaXRpb25cbiAgICovXG4gIGNvbnN0IHRvZ2dsZUNsYXNzID0gKHRhcmdldCwgY2xhc3NMaXN0LCBjb25kaXRpb24pID0+IHtcbiAgICBpZiAoIXRhcmdldCB8fCAhY2xhc3NMaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2xhc3NMaXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgY2xhc3NMaXN0ID0gY2xhc3NMaXN0LnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pO1xuICAgIH1cbiAgICBjbGFzc0xpc3QuZm9yRWFjaChjbGFzc05hbWUgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IEhUTUxFbGVtZW50W10gfCBudWxsfSB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IHJlYWRvbmx5IHN0cmluZ1tdIHwgdW5kZWZpbmVkfSBjbGFzc0xpc3RcbiAgICovXG4gIGNvbnN0IGFkZENsYXNzID0gKHRhcmdldCwgY2xhc3NMaXN0KSA9PiB7XG4gICAgdG9nZ2xlQ2xhc3ModGFyZ2V0LCBjbGFzc0xpc3QsIHRydWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgSFRNTEVsZW1lbnRbXSB8IG51bGx9IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgcmVhZG9ubHkgc3RyaW5nW10gfCB1bmRlZmluZWR9IGNsYXNzTGlzdFxuICAgKi9cbiAgY29uc3QgcmVtb3ZlQ2xhc3MgPSAodGFyZ2V0LCBjbGFzc0xpc3QpID0+IHtcbiAgICB0b2dnbGVDbGFzcyh0YXJnZXQsIGNsYXNzTGlzdCwgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgZGlyZWN0IGNoaWxkIG9mIGFuIGVsZW1lbnQgYnkgY2xhc3MgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgY29uc3QgZ2V0RGlyZWN0Q2hpbGRCeUNsYXNzID0gKGVsZW0sIGNsYXNzTmFtZSkgPT4ge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShlbGVtLmNoaWxkcmVuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgaGFzQ2xhc3MoY2hpbGQsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKi9cbiAgY29uc3QgYXBwbHlOdW1lcmljYWxTdHlsZSA9IChlbGVtLCBwcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IGAke3BhcnNlSW50KHZhbHVlKX1gKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIHx8IHBhcnNlSW50KHZhbHVlKSA9PT0gMCkge1xuICAgICAgZWxlbS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IGAke3ZhbHVlfXB4YCA6IHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgbnVsbH0gZWxlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlzcGxheVxuICAgKi9cbiAgY29uc3Qgc2hvdyA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgbGV0IGRpc3BsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdmbGV4JztcbiAgICBpZiAoIWVsZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IG51bGx9IGVsZW1cbiAgICovXG4gIGNvbnN0IGhpZGUgPSBlbGVtID0+IHtcbiAgICBpZiAoIWVsZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgbnVsbH0gZWxlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlzcGxheVxuICAgKi9cbiAgY29uc3Qgc2hvd1doZW5Jbm5lckh0bWxQcmVzZW50ID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICBsZXQgZGlzcGxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2Jsb2NrJztcbiAgICBpZiAoIWVsZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgdG9nZ2xlKGVsZW0sIGVsZW0uaW5uZXJIVE1MLCBkaXNwbGF5KTtcbiAgICB9KS5vYnNlcnZlKGVsZW0sIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBjb25zdCBzZXRTdHlsZSA9IChwYXJlbnQsIHNlbGVjdG9yLCBwcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50IHwgbnVsbH0gKi9cbiAgICBjb25zdCBlbCA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gICAqIEBwYXJhbSB7YW55fSBjb25kaXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpc3BsYXlcbiAgICovXG4gIGNvbnN0IHRvZ2dsZSA9IGZ1bmN0aW9uIChlbGVtLCBjb25kaXRpb24pIHtcbiAgICBsZXQgZGlzcGxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2ZsZXgnO1xuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIHNob3coZWxlbSwgZGlzcGxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGUoZWxlbSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBib3Jyb3dlZCBmcm9tIGpxdWVyeSAkKGVsZW0pLmlzKCc6dmlzaWJsZScpIGltcGxlbWVudGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBudWxsfSBlbGVtXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNWaXNpYmxlJDEgPSBlbGVtID0+ICEhKGVsZW0gJiYgKGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCkpO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGFsbEJ1dHRvbnNBcmVIaWRkZW4gPSAoKSA9PiAhaXNWaXNpYmxlJDEoZ2V0Q29uZmlybUJ1dHRvbigpKSAmJiAhaXNWaXNpYmxlJDEoZ2V0RGVueUJ1dHRvbigpKSAmJiAhaXNWaXNpYmxlJDEoZ2V0Q2FuY2VsQnV0dG9uKCkpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNTY3JvbGxhYmxlID0gZWxlbSA9PiAhIShlbGVtLnNjcm9sbEhlaWdodCA+IGVsZW0uY2xpZW50SGVpZ2h0KTtcblxuICAvKipcbiAgICogYm9ycm93ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDYzNTIxMTlcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGhhc0Nzc0FuaW1hdGlvbiA9IGVsZW0gPT4ge1xuICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSk7XG4gICAgY29uc3QgYW5pbUR1cmF0aW9uID0gcGFyc2VGbG9hdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdhbmltYXRpb24tZHVyYXRpb24nKSB8fCAnMCcpO1xuICAgIGNvbnN0IHRyYW5zRHVyYXRpb24gPSBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zaXRpb24tZHVyYXRpb24nKSB8fCAnMCcpO1xuICAgIHJldHVybiBhbmltRHVyYXRpb24gPiAwIHx8IHRyYW5zRHVyYXRpb24gPiAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXJcbiAgICogQHBhcmFtIHtib29sZWFufSByZXNldFxuICAgKi9cbiAgY29uc3QgYW5pbWF0ZVRpbWVyUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiAodGltZXIpIHtcbiAgICBsZXQgcmVzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIGNvbnN0IHRpbWVyUHJvZ3Jlc3NCYXIgPSBnZXRUaW1lclByb2dyZXNzQmFyKCk7XG4gICAgaWYgKCF0aW1lclByb2dyZXNzQmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1Zpc2libGUkMSh0aW1lclByb2dyZXNzQmFyKSkge1xuICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXIuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgdGltZXJQcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSBgd2lkdGggJHt0aW1lciAvIDEwMDB9cyBsaW5lYXJgO1xuICAgICAgICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gJzAlJztcbiAgICAgIH0sIDEwKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHN0b3BUaW1lclByb2dyZXNzQmFyID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVyUHJvZ3Jlc3NCYXIgPSBnZXRUaW1lclByb2dyZXNzQmFyKCk7XG4gICAgaWYgKCF0aW1lclByb2dyZXNzQmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpbWVyUHJvZ3Jlc3NCYXJXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRpbWVyUHJvZ3Jlc3NCYXIpLndpZHRoKTtcbiAgICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uJyk7XG4gICAgdGltZXJQcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBjb25zdCB0aW1lclByb2dyZXNzQmFyRnVsbFdpZHRoID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGltZXJQcm9ncmVzc0Jhcikud2lkdGgpO1xuICAgIGNvbnN0IHRpbWVyUHJvZ3Jlc3NCYXJQZXJjZW50ID0gdGltZXJQcm9ncmVzc0JhcldpZHRoIC8gdGltZXJQcm9ncmVzc0JhckZ1bGxXaWR0aCAqIDEwMDtcbiAgICB0aW1lclByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7dGltZXJQcm9ncmVzc0JhclBlcmNlbnR9JWA7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVjdCBOb2RlIGVudlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGlzTm9kZUVudiA9ICgpID0+IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCc7XG5cbiAgY29uc3Qgc3dlZXRIVE1MID0gYFxuIDxkaXYgYXJpYS1sYWJlbGxlZGJ5PVwiJHtzd2FsQ2xhc3Nlcy50aXRsZX1cIiBhcmlhLWRlc2NyaWJlZGJ5PVwiJHtzd2FsQ2xhc3Nlc1snaHRtbC1jb250YWluZXInXX1cIiBjbGFzcz1cIiR7c3dhbENsYXNzZXMucG9wdXB9XCIgdGFiaW5kZXg9XCItMVwiPlxuICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke3N3YWxDbGFzc2VzLmNsb3NlfVwiPjwvYnV0dG9uPlxuICAgPHVsIGNsYXNzPVwiJHtzd2FsQ2xhc3Nlc1sncHJvZ3Jlc3Mtc3RlcHMnXX1cIj48L3VsPlxuICAgPGRpdiBjbGFzcz1cIiR7c3dhbENsYXNzZXMuaWNvbn1cIj48L2Rpdj5cbiAgIDxpbWcgY2xhc3M9XCIke3N3YWxDbGFzc2VzLmltYWdlfVwiIC8+XG4gICA8aDIgY2xhc3M9XCIke3N3YWxDbGFzc2VzLnRpdGxlfVwiIGlkPVwiJHtzd2FsQ2xhc3Nlcy50aXRsZX1cIj48L2gyPlxuICAgPGRpdiBjbGFzcz1cIiR7c3dhbENsYXNzZXNbJ2h0bWwtY29udGFpbmVyJ119XCIgaWQ9XCIke3N3YWxDbGFzc2VzWydodG1sLWNvbnRhaW5lciddfVwiPjwvZGl2PlxuICAgPGlucHV0IGNsYXNzPVwiJHtzd2FsQ2xhc3Nlcy5pbnB1dH1cIiBpZD1cIiR7c3dhbENsYXNzZXMuaW5wdXR9XCIgLz5cbiAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzPVwiJHtzd2FsQ2xhc3Nlcy5maWxlfVwiIC8+XG4gICA8ZGl2IGNsYXNzPVwiJHtzd2FsQ2xhc3Nlcy5yYW5nZX1cIj5cbiAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIC8+XG4gICAgIDxvdXRwdXQ+PC9vdXRwdXQ+XG4gICA8L2Rpdj5cbiAgIDxzZWxlY3QgY2xhc3M9XCIke3N3YWxDbGFzc2VzLnNlbGVjdH1cIiBpZD1cIiR7c3dhbENsYXNzZXMuc2VsZWN0fVwiPjwvc2VsZWN0PlxuICAgPGRpdiBjbGFzcz1cIiR7c3dhbENsYXNzZXMucmFkaW99XCI+PC9kaXY+XG4gICA8bGFiZWwgY2xhc3M9XCIke3N3YWxDbGFzc2VzLmNoZWNrYm94fVwiPlxuICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke3N3YWxDbGFzc2VzLmNoZWNrYm94fVwiIC8+XG4gICAgIDxzcGFuIGNsYXNzPVwiJHtzd2FsQ2xhc3Nlcy5sYWJlbH1cIj48L3NwYW4+XG4gICA8L2xhYmVsPlxuICAgPHRleHRhcmVhIGNsYXNzPVwiJHtzd2FsQ2xhc3Nlcy50ZXh0YXJlYX1cIiBpZD1cIiR7c3dhbENsYXNzZXMudGV4dGFyZWF9XCI+PC90ZXh0YXJlYT5cbiAgIDxkaXYgY2xhc3M9XCIke3N3YWxDbGFzc2VzWyd2YWxpZGF0aW9uLW1lc3NhZ2UnXX1cIiBpZD1cIiR7c3dhbENsYXNzZXNbJ3ZhbGlkYXRpb24tbWVzc2FnZSddfVwiPjwvZGl2PlxuICAgPGRpdiBjbGFzcz1cIiR7c3dhbENsYXNzZXMuYWN0aW9uc31cIj5cbiAgICAgPGRpdiBjbGFzcz1cIiR7c3dhbENsYXNzZXMubG9hZGVyfVwiPjwvZGl2PlxuICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiR7c3dhbENsYXNzZXMuY29uZmlybX1cIj48L2J1dHRvbj5cbiAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke3N3YWxDbGFzc2VzLmRlbnl9XCI+PC9idXR0b24+XG4gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtzd2FsQ2xhc3Nlcy5jYW5jZWx9XCI+PC9idXR0b24+XG4gICA8L2Rpdj5cbiAgIDxkaXYgY2xhc3M9XCIke3N3YWxDbGFzc2VzLmZvb3Rlcn1cIj48L2Rpdj5cbiAgIDxkaXYgY2xhc3M9XCIke3N3YWxDbGFzc2VzWyd0aW1lci1wcm9ncmVzcy1iYXItY29udGFpbmVyJ119XCI+XG4gICAgIDxkaXYgY2xhc3M9XCIke3N3YWxDbGFzc2VzWyd0aW1lci1wcm9ncmVzcy1iYXInXX1cIj48L2Rpdj5cbiAgIDwvZGl2PlxuIDwvZGl2PlxuYC5yZXBsYWNlKC8oXnxcXG4pXFxzKi9nLCAnJyk7XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgcmVzZXRPbGRDb250YWluZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qgb2xkQ29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgaWYgKCFvbGRDb250YWluZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2xkQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgIHJlbW92ZUNsYXNzKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLCBbc3dhbENsYXNzZXNbJ25vLWJhY2tkcm9wJ10sIHN3YWxDbGFzc2VzWyd0b2FzdC1zaG93biddLCBzd2FsQ2xhc3Nlc1snaGFzLWNvbHVtbiddXSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGNvbnN0IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UkMSA9ICgpID0+IHtcbiAgICBnbG9iYWxTdGF0ZS5jdXJyZW50SW5zdGFuY2UucmVzZXRWYWxpZGF0aW9uTWVzc2FnZSgpO1xuICB9O1xuICBjb25zdCBhZGRJbnB1dENoYW5nZUxpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgY29uc3QgaW5wdXQgPSBnZXREaXJlY3RDaGlsZEJ5Q2xhc3MocG9wdXAsIHN3YWxDbGFzc2VzLmlucHV0KTtcbiAgICBjb25zdCBmaWxlID0gZ2V0RGlyZWN0Q2hpbGRCeUNsYXNzKHBvcHVwLCBzd2FsQ2xhc3Nlcy5maWxlKTtcbiAgICAvKiogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnR9ICovXG4gICAgY29uc3QgcmFuZ2UgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5yYW5nZX0gaW5wdXRgKTtcbiAgICAvKiogQHR5cGUge0hUTUxPdXRwdXRFbGVtZW50fSAqL1xuICAgIGNvbnN0IHJhbmdlT3V0cHV0ID0gcG9wdXAucXVlcnlTZWxlY3RvcihgLiR7c3dhbENsYXNzZXMucmFuZ2V9IG91dHB1dGApO1xuICAgIGNvbnN0IHNlbGVjdCA9IGdldERpcmVjdENoaWxkQnlDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXMuc2VsZWN0KTtcbiAgICAvKiogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnR9ICovXG4gICAgY29uc3QgY2hlY2tib3ggPSBwb3B1cC5xdWVyeVNlbGVjdG9yKGAuJHtzd2FsQ2xhc3Nlcy5jaGVja2JveH0gaW5wdXRgKTtcbiAgICBjb25zdCB0ZXh0YXJlYSA9IGdldERpcmVjdENoaWxkQnlDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXMudGV4dGFyZWEpO1xuICAgIGlucHV0Lm9uaW5wdXQgPSByZXNldFZhbGlkYXRpb25NZXNzYWdlJDE7XG4gICAgZmlsZS5vbmNoYW5nZSA9IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UkMTtcbiAgICBzZWxlY3Qub25jaGFuZ2UgPSByZXNldFZhbGlkYXRpb25NZXNzYWdlJDE7XG4gICAgY2hlY2tib3gub25jaGFuZ2UgPSByZXNldFZhbGlkYXRpb25NZXNzYWdlJDE7XG4gICAgdGV4dGFyZWEub25pbnB1dCA9IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UkMTtcbiAgICByYW5nZS5vbmlucHV0ID0gKCkgPT4ge1xuICAgICAgcmVzZXRWYWxpZGF0aW9uTWVzc2FnZSQxKCk7XG4gICAgICByYW5nZU91dHB1dC52YWx1ZSA9IHJhbmdlLnZhbHVlO1xuICAgIH07XG4gICAgcmFuZ2Uub25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICByZXNldFZhbGlkYXRpb25NZXNzYWdlJDEoKTtcbiAgICAgIHJhbmdlT3V0cHV0LnZhbHVlID0gcmFuZ2UudmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBIVE1MRWxlbWVudH0gdGFyZ2V0XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNvbnN0IGdldFRhcmdldCA9IHRhcmdldCA9PiB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KSA6IHRhcmdldDtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBzZXR1cEFjY2Vzc2liaWxpdHkgPSBwYXJhbXMgPT4ge1xuICAgIGNvbnN0IHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgICBwb3B1cC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCBwYXJhbXMudG9hc3QgPyAnYWxlcnQnIDogJ2RpYWxvZycpO1xuICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgcGFyYW1zLnRvYXN0ID8gJ3BvbGl0ZScgOiAnYXNzZXJ0aXZlJyk7XG4gICAgaWYgKCFwYXJhbXMudG9hc3QpIHtcbiAgICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsICd0cnVlJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRFbGVtZW50XG4gICAqL1xuICBjb25zdCBzZXR1cFJUTCA9IHRhcmdldEVsZW1lbnQgPT4ge1xuICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KS5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICBhZGRDbGFzcyhnZXRDb250YWluZXIoKSwgc3dhbENsYXNzZXMucnRsKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBtb2RhbCArIGJhY2tkcm9wICsgbm8td2FyIG1lc3NhZ2UgZm9yIFJ1c3NpYW5zIHRvIERPTVxuICAgKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IGluaXQgPSBwYXJhbXMgPT4ge1xuICAgIC8vIENsZWFuIHVwIHRoZSBvbGQgcG9wdXAgY29udGFpbmVyIGlmIGl0IGV4aXN0c1xuICAgIGNvbnN0IG9sZENvbnRhaW5lckV4aXN0ZWQgPSByZXNldE9sZENvbnRhaW5lcigpO1xuICAgIGlmIChpc05vZGVFbnYoKSkge1xuICAgICAgZXJyb3IoJ1N3ZWV0QWxlcnQyIHJlcXVpcmVzIGRvY3VtZW50IHRvIGluaXRpYWxpemUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzLmNvbnRhaW5lcjtcbiAgICBpZiAob2xkQ29udGFpbmVyRXhpc3RlZCkge1xuICAgICAgYWRkQ2xhc3MoY29udGFpbmVyLCBzd2FsQ2xhc3Nlc1snbm8tdHJhbnNpdGlvbiddKTtcbiAgICB9XG4gICAgc2V0SW5uZXJIdG1sKGNvbnRhaW5lciwgc3dlZXRIVE1MKTtcbiAgICBjb250YWluZXIuZGF0YXNldFsnc3dhbDJUaGVtZSddID0gcGFyYW1zLnRoZW1lO1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBnZXRUYXJnZXQocGFyYW1zLnRhcmdldCk7XG4gICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIHNldHVwQWNjZXNzaWJpbGl0eShwYXJhbXMpO1xuICAgIHNldHVwUlRMKHRhcmdldEVsZW1lbnQpO1xuICAgIGFkZElucHV0Q2hhbmdlTGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBvYmplY3QgfCBzdHJpbmd9IHBhcmFtXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICAgKi9cbiAgY29uc3QgcGFyc2VIdG1sVG9Db250YWluZXIgPSAocGFyYW0sIHRhcmdldCkgPT4ge1xuICAgIC8vIERPTSBlbGVtZW50XG4gICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChwYXJhbSk7XG4gICAgfVxuXG4gICAgLy8gT2JqZWN0XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnb2JqZWN0Jykge1xuICAgICAgaGFuZGxlT2JqZWN0KHBhcmFtLCB0YXJnZXQpO1xuICAgIH1cblxuICAgIC8vIFBsYWluIHN0cmluZ1xuICAgIGVsc2UgaWYgKHBhcmFtKSB7XG4gICAgICBzZXRJbm5lckh0bWwodGFyZ2V0LCBwYXJhbSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gcGFyYW1cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG4gICAqL1xuICBjb25zdCBoYW5kbGVPYmplY3QgPSAocGFyYW0sIHRhcmdldCkgPT4ge1xuICAgIC8vIEpRdWVyeSBlbGVtZW50KHMpXG4gICAgaWYgKHBhcmFtLmpxdWVyeSkge1xuICAgICAgaGFuZGxlSnF1ZXJ5RWxlbSh0YXJnZXQsIHBhcmFtKTtcbiAgICB9XG5cbiAgICAvLyBGb3Igb3RoZXIgb2JqZWN0cyB1c2UgdGhlaXIgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgZWxzZSB7XG4gICAgICBzZXRJbm5lckh0bWwodGFyZ2V0LCBwYXJhbS50b1N0cmluZygpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICAgKiBAcGFyYW0ge2FueX0gZWxlbVxuICAgKi9cbiAgY29uc3QgaGFuZGxlSnF1ZXJ5RWxlbSA9ICh0YXJnZXQsIGVsZW0pID0+IHtcbiAgICB0YXJnZXQudGV4dENvbnRlbnQgPSAnJztcbiAgICBpZiAoMCBpbiBlbGVtKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSBpbiBlbGVtOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW1baV0uY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW0uY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCByZW5kZXJBY3Rpb25zID0gKGluc3RhbmNlLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICAgIGNvbnN0IGxvYWRlciA9IGdldExvYWRlcigpO1xuICAgIGlmICghYWN0aW9ucyB8fCAhbG9hZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWN0aW9ucyAoYnV0dG9ucykgd3JhcHBlclxuICAgIGlmICghcGFyYW1zLnNob3dDb25maXJtQnV0dG9uICYmICFwYXJhbXMuc2hvd0RlbnlCdXR0b24gJiYgIXBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgICBoaWRlKGFjdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93KGFjdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIEN1c3RvbSBjbGFzc1xuICAgIGFwcGx5Q3VzdG9tQ2xhc3MoYWN0aW9ucywgcGFyYW1zLCAnYWN0aW9ucycpO1xuXG4gICAgLy8gUmVuZGVyIGFsbCB0aGUgYnV0dG9uc1xuICAgIHJlbmRlckJ1dHRvbnMoYWN0aW9ucywgbG9hZGVyLCBwYXJhbXMpO1xuXG4gICAgLy8gTG9hZGVyXG4gICAgc2V0SW5uZXJIdG1sKGxvYWRlciwgcGFyYW1zLmxvYWRlckh0bWwgfHwgJycpO1xuICAgIGFwcGx5Q3VzdG9tQ2xhc3MobG9hZGVyLCBwYXJhbXMsICdsb2FkZXInKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gYWN0aW9uc1xuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBsb2FkZXJcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBmdW5jdGlvbiByZW5kZXJCdXR0b25zKGFjdGlvbnMsIGxvYWRlciwgcGFyYW1zKSB7XG4gICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGdldENvbmZpcm1CdXR0b24oKTtcbiAgICBjb25zdCBkZW55QnV0dG9uID0gZ2V0RGVueUJ1dHRvbigpO1xuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGdldENhbmNlbEJ1dHRvbigpO1xuICAgIGlmICghY29uZmlybUJ1dHRvbiB8fCAhZGVueUJ1dHRvbiB8fCAhY2FuY2VsQnV0dG9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGJ1dHRvbnNcbiAgICByZW5kZXJCdXR0b24oY29uZmlybUJ1dHRvbiwgJ2NvbmZpcm0nLCBwYXJhbXMpO1xuICAgIHJlbmRlckJ1dHRvbihkZW55QnV0dG9uLCAnZGVueScsIHBhcmFtcyk7XG4gICAgcmVuZGVyQnV0dG9uKGNhbmNlbEJ1dHRvbiwgJ2NhbmNlbCcsIHBhcmFtcyk7XG4gICAgaGFuZGxlQnV0dG9uc1N0eWxpbmcoY29uZmlybUJ1dHRvbiwgZGVueUJ1dHRvbiwgY2FuY2VsQnV0dG9uLCBwYXJhbXMpO1xuICAgIGlmIChwYXJhbXMucmV2ZXJzZUJ1dHRvbnMpIHtcbiAgICAgIGlmIChwYXJhbXMudG9hc3QpIHtcbiAgICAgICAgYWN0aW9ucy5pbnNlcnRCZWZvcmUoY2FuY2VsQnV0dG9uLCBjb25maXJtQnV0dG9uKTtcbiAgICAgICAgYWN0aW9ucy5pbnNlcnRCZWZvcmUoZGVueUJ1dHRvbiwgY29uZmlybUJ1dHRvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpb25zLmluc2VydEJlZm9yZShjYW5jZWxCdXR0b24sIGxvYWRlcik7XG4gICAgICAgIGFjdGlvbnMuaW5zZXJ0QmVmb3JlKGRlbnlCdXR0b24sIGxvYWRlcik7XG4gICAgICAgIGFjdGlvbnMuaW5zZXJ0QmVmb3JlKGNvbmZpcm1CdXR0b24sIGxvYWRlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbmZpcm1CdXR0b25cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZGVueUJ1dHRvblxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYW5jZWxCdXR0b25cbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVCdXR0b25zU3R5bGluZyhjb25maXJtQnV0dG9uLCBkZW55QnV0dG9uLCBjYW5jZWxCdXR0b24sIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zLmJ1dHRvbnNTdHlsaW5nKSB7XG4gICAgICByZW1vdmVDbGFzcyhbY29uZmlybUJ1dHRvbiwgZGVueUJ1dHRvbiwgY2FuY2VsQnV0dG9uXSwgc3dhbENsYXNzZXMuc3R5bGVkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRkQ2xhc3MoW2NvbmZpcm1CdXR0b24sIGRlbnlCdXR0b24sIGNhbmNlbEJ1dHRvbl0sIHN3YWxDbGFzc2VzLnN0eWxlZCk7XG5cbiAgICAvLyBCdXR0b25zIGJhY2tncm91bmQgY29sb3JzXG4gICAgaWYgKHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IpIHtcbiAgICAgIGNvbmZpcm1CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcjtcbiAgICAgIGFkZENsYXNzKGNvbmZpcm1CdXR0b24sIHN3YWxDbGFzc2VzWydkZWZhdWx0LW91dGxpbmUnXSk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuZGVueUJ1dHRvbkNvbG9yKSB7XG4gICAgICBkZW55QnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHBhcmFtcy5kZW55QnV0dG9uQ29sb3I7XG4gICAgICBhZGRDbGFzcyhkZW55QnV0dG9uLCBzd2FsQ2xhc3Nlc1snZGVmYXVsdC1vdXRsaW5lJ10pO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yKSB7XG4gICAgICBjYW5jZWxCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yO1xuICAgICAgYWRkQ2xhc3MoY2FuY2VsQnV0dG9uLCBzd2FsQ2xhc3Nlc1snZGVmYXVsdC1vdXRsaW5lJ10pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBidXR0b25cbiAgICogQHBhcmFtIHsnY29uZmlybScgfCAnZGVueScgfCAnY2FuY2VsJ30gYnV0dG9uVHlwZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGZ1bmN0aW9uIHJlbmRlckJ1dHRvbihidXR0b24sIGJ1dHRvblR5cGUsIHBhcmFtcykge1xuICAgIGNvbnN0IGJ1dHRvbk5hbWUgPSAvKiogQHR5cGUgeydDb25maXJtJyB8ICdEZW55JyB8ICdDYW5jZWwnfSAqL2NhcGl0YWxpemVGaXJzdExldHRlcihidXR0b25UeXBlKTtcbiAgICB0b2dnbGUoYnV0dG9uLCBwYXJhbXNbYHNob3cke2J1dHRvbk5hbWV9QnV0dG9uYF0sICdpbmxpbmUtYmxvY2snKTtcbiAgICBzZXRJbm5lckh0bWwoYnV0dG9uLCBwYXJhbXNbYCR7YnV0dG9uVHlwZX1CdXR0b25UZXh0YF0gfHwgJycpOyAvLyBTZXQgY2FwdGlvbiB0ZXh0XG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHBhcmFtc1tgJHtidXR0b25UeXBlfUJ1dHRvbkFyaWFMYWJlbGBdIHx8ICcnKTsgLy8gQVJJQSBsYWJlbFxuXG4gICAgLy8gQWRkIGJ1dHRvbnMgY3VzdG9tIGNsYXNzZXNcbiAgICBidXR0b24uY2xhc3NOYW1lID0gc3dhbENsYXNzZXNbYnV0dG9uVHlwZV07XG4gICAgYXBwbHlDdXN0b21DbGFzcyhidXR0b24sIHBhcmFtcywgYCR7YnV0dG9uVHlwZX1CdXR0b25gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3QgcmVuZGVyQ2xvc2VCdXR0b24gPSAoaW5zdGFuY2UsIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZ2V0Q2xvc2VCdXR0b24oKTtcbiAgICBpZiAoIWNsb3NlQnV0dG9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldElubmVySHRtbChjbG9zZUJ1dHRvbiwgcGFyYW1zLmNsb3NlQnV0dG9uSHRtbCB8fCAnJyk7XG5cbiAgICAvLyBDdXN0b20gY2xhc3NcbiAgICBhcHBseUN1c3RvbUNsYXNzKGNsb3NlQnV0dG9uLCBwYXJhbXMsICdjbG9zZUJ1dHRvbicpO1xuICAgIHRvZ2dsZShjbG9zZUJ1dHRvbiwgcGFyYW1zLnNob3dDbG9zZUJ1dHRvbik7XG4gICAgY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgcGFyYW1zLmNsb3NlQnV0dG9uQXJpYUxhYmVsIHx8ICcnKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFuZGxlQmFja2Ryb3BQYXJhbShjb250YWluZXIsIHBhcmFtcy5iYWNrZHJvcCk7XG4gICAgaGFuZGxlUG9zaXRpb25QYXJhbShjb250YWluZXIsIHBhcmFtcy5wb3NpdGlvbik7XG4gICAgaGFuZGxlR3Jvd1BhcmFtKGNvbnRhaW5lciwgcGFyYW1zLmdyb3cpO1xuXG4gICAgLy8gQ3VzdG9tIGNsYXNzXG4gICAgYXBwbHlDdXN0b21DbGFzcyhjb250YWluZXIsIHBhcmFtcywgJ2NvbnRhaW5lcicpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXJcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc1snYmFja2Ryb3AnXX0gYmFja2Ryb3BcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUJhY2tkcm9wUGFyYW0oY29udGFpbmVyLCBiYWNrZHJvcCkge1xuICAgIGlmICh0eXBlb2YgYmFja2Ryb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZCA9IGJhY2tkcm9wO1xuICAgIH0gZWxzZSBpZiAoIWJhY2tkcm9wKSB7XG4gICAgICBhZGRDbGFzcyhbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSwgc3dhbENsYXNzZXNbJ25vLWJhY2tkcm9wJ10pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXJcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc1sncG9zaXRpb24nXX0gcG9zaXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVBvc2l0aW9uUGFyYW0oY29udGFpbmVyLCBwb3NpdGlvbikge1xuICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uIGluIHN3YWxDbGFzc2VzKSB7XG4gICAgICBhZGRDbGFzcyhjb250YWluZXIsIHN3YWxDbGFzc2VzW3Bvc2l0aW9uXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oJ1RoZSBcInBvc2l0aW9uXCIgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZCwgZGVmYXVsdGluZyB0byBcImNlbnRlclwiJyk7XG4gICAgICBhZGRDbGFzcyhjb250YWluZXIsIHN3YWxDbGFzc2VzLmNlbnRlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lclxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zWydncm93J119IGdyb3dcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUdyb3dQYXJhbShjb250YWluZXIsIGdyb3cpIHtcbiAgICBpZiAoIWdyb3cpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRkQ2xhc3MoY29udGFpbmVyLCBzd2FsQ2xhc3Nlc1tgZ3Jvdy0ke2dyb3d9YF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbW9kdWxlIGNvbnRhaW5zIGBXZWFrTWFwYHMgZm9yIGVhY2ggZWZmZWN0aXZlbHktXCJwcml2YXRlICBwcm9wZXJ0eVwiIHRoYXQgYSBgU3dhbGAgaGFzLlxuICAgKiBGb3IgZXhhbXBsZSwgdG8gc2V0IHRoZSBwcml2YXRlIHByb3BlcnR5IFwiZm9vXCIgb2YgYHRoaXNgIHRvIFwiYmFyXCIsIHlvdSBjYW4gYHByaXZhdGVQcm9wcy5mb28uc2V0KHRoaXMsICdiYXInKWBcbiAgICogVGhpcyBpcyB0aGUgYXBwcm9hY2ggdGhhdCBCYWJlbCB3aWxsIHByb2JhYmx5IHRha2UgdG8gaW1wbGVtZW50IHByaXZhdGUgbWV0aG9kcy9maWVsZHNcbiAgICogICBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcml2YXRlLW1ldGhvZHNcbiAgICogICBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvcHVsbC83NTU1XG4gICAqIE9uY2Ugd2UgaGF2ZSB0aGUgY2hhbmdlcyBmcm9tIHRoYXQgUFIgaW4gQmFiZWwsIGFuZCBvdXIgY29yZSBjbGFzcyBmaXRzIHJlYXNvbmFibGUgaW4gKm9uZSBtb2R1bGUqXG4gICAqICAgdGhlbiB3ZSBjYW4gdXNlIHRoYXQgbGFuZ3VhZ2UgZmVhdHVyZS5cbiAgICovXG5cbiAgdmFyIHByaXZhdGVQcm9wcyA9IHtcbiAgICBpbm5lclBhcmFtczogbmV3IFdlYWtNYXAoKSxcbiAgICBkb21DYWNoZTogbmV3IFdlYWtNYXAoKVxuICB9O1xuXG4gIC8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9zd2VldGFsZXJ0Mi5kLnRzXCIvPlxuXG5cbiAgLyoqIEB0eXBlIHtJbnB1dENsYXNzW119ICovXG4gIGNvbnN0IGlucHV0Q2xhc3NlcyA9IFsnaW5wdXQnLCAnZmlsZScsICdyYW5nZScsICdzZWxlY3QnLCAncmFkaW8nLCAnY2hlY2tib3gnLCAndGV4dGFyZWEnXTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IHJlbmRlcklucHV0ID0gKGluc3RhbmNlLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UpO1xuICAgIGNvbnN0IHJlcmVuZGVyID0gIWlubmVyUGFyYW1zIHx8IHBhcmFtcy5pbnB1dCAhPT0gaW5uZXJQYXJhbXMuaW5wdXQ7XG4gICAgaW5wdXRDbGFzc2VzLmZvckVhY2goaW5wdXRDbGFzcyA9PiB7XG4gICAgICBjb25zdCBpbnB1dENvbnRhaW5lciA9IGdldERpcmVjdENoaWxkQnlDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXNbaW5wdXRDbGFzc10pO1xuICAgICAgaWYgKCFpbnB1dENvbnRhaW5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBhdHRyaWJ1dGVzXG4gICAgICBzZXRBdHRyaWJ1dGVzKGlucHV0Q2xhc3MsIHBhcmFtcy5pbnB1dEF0dHJpYnV0ZXMpO1xuXG4gICAgICAvLyBzZXQgY2xhc3NcbiAgICAgIGlucHV0Q29udGFpbmVyLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzW2lucHV0Q2xhc3NdO1xuICAgICAgaWYgKHJlcmVuZGVyKSB7XG4gICAgICAgIGhpZGUoaW5wdXRDb250YWluZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMuaW5wdXQpIHtcbiAgICAgIGlmIChyZXJlbmRlcikge1xuICAgICAgICBzaG93SW5wdXQocGFyYW1zKTtcbiAgICAgIH1cbiAgICAgIC8vIHNldCBjdXN0b20gY2xhc3NcbiAgICAgIHNldEN1c3RvbUNsYXNzKHBhcmFtcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IHNob3dJbnB1dCA9IHBhcmFtcyA9PiB7XG4gICAgaWYgKCFwYXJhbXMuaW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFyZW5kZXJJbnB1dFR5cGVbcGFyYW1zLmlucHV0XSkge1xuICAgICAgZXJyb3IoYFVuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dCEgRXhwZWN0ZWQgJHtPYmplY3Qua2V5cyhyZW5kZXJJbnB1dFR5cGUpLmpvaW4oJyB8ICcpfSwgZ290IFwiJHtwYXJhbXMuaW5wdXR9XCJgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRDb250YWluZXIgPSBnZXRJbnB1dENvbnRhaW5lcihwYXJhbXMuaW5wdXQpO1xuICAgIGlmICghaW5wdXRDb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSByZW5kZXJJbnB1dFR5cGVbcGFyYW1zLmlucHV0XShpbnB1dENvbnRhaW5lciwgcGFyYW1zKTtcbiAgICBzaG93KGlucHV0Q29udGFpbmVyKTtcblxuICAgIC8vIGlucHV0IGF1dG9mb2N1c1xuICAgIGlmIChwYXJhbXMuaW5wdXRBdXRvRm9jdXMpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmb2N1c0lucHV0KGlucHV0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dFxuICAgKi9cbiAgY29uc3QgcmVtb3ZlQXR0cmlidXRlcyA9IGlucHV0ID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGF0dHJOYW1lID0gaW5wdXQuYXR0cmlidXRlc1tpXS5uYW1lO1xuICAgICAgaWYgKCFbJ2lkJywgJ3R5cGUnLCAndmFsdWUnLCAnc3R5bGUnXS5pbmNsdWRlcyhhdHRyTmFtZSkpIHtcbiAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SW5wdXRDbGFzc30gaW5wdXRDbGFzc1xuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zWydpbnB1dEF0dHJpYnV0ZXMnXX0gaW5wdXRBdHRyaWJ1dGVzXG4gICAqL1xuICBjb25zdCBzZXRBdHRyaWJ1dGVzID0gKGlucHV0Q2xhc3MsIGlucHV0QXR0cmlidXRlcykgPT4ge1xuICAgIGNvbnN0IHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgICBpZiAoIXBvcHVwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlucHV0ID0gZ2V0SW5wdXQkMShwb3B1cCwgaW5wdXRDbGFzcyk7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW1vdmVBdHRyaWJ1dGVzKGlucHV0KTtcbiAgICBmb3IgKGNvbnN0IGF0dHIgaW4gaW5wdXRBdHRyaWJ1dGVzKSB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoYXR0ciwgaW5wdXRBdHRyaWJ1dGVzW2F0dHJdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3Qgc2V0Q3VzdG9tQ2xhc3MgPSBwYXJhbXMgPT4ge1xuICAgIGlmICghcGFyYW1zLmlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlucHV0Q29udGFpbmVyID0gZ2V0SW5wdXRDb250YWluZXIocGFyYW1zLmlucHV0KTtcbiAgICBpZiAoaW5wdXRDb250YWluZXIpIHtcbiAgICAgIGFwcGx5Q3VzdG9tQ2xhc3MoaW5wdXRDb250YWluZXIsIHBhcmFtcywgJ2lucHV0Jyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50fSBpbnB1dFxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IHNldElucHV0UGxhY2Vob2xkZXIgPSAoaW5wdXQsIHBhcmFtcykgPT4ge1xuICAgIGlmICghaW5wdXQucGxhY2Vob2xkZXIgJiYgcGFyYW1zLmlucHV0UGxhY2Vob2xkZXIpIHtcbiAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gcGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0lucHV0fSBpbnB1dFxuICAgKiBAcGFyYW0ge0lucHV0fSBwcmVwZW5kVG9cbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBzZXRJbnB1dExhYmVsID0gKGlucHV0LCBwcmVwZW5kVG8sIHBhcmFtcykgPT4ge1xuICAgIGlmIChwYXJhbXMuaW5wdXRMYWJlbCkge1xuICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgY29uc3QgbGFiZWxDbGFzcyA9IHN3YWxDbGFzc2VzWydpbnB1dC1sYWJlbCddO1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBpbnB1dC5pZCk7XG4gICAgICBsYWJlbC5jbGFzc05hbWUgPSBsYWJlbENsYXNzO1xuICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuY3VzdG9tQ2xhc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGFkZENsYXNzKGxhYmVsLCBwYXJhbXMuY3VzdG9tQ2xhc3MuaW5wdXRMYWJlbCk7XG4gICAgICB9XG4gICAgICBsYWJlbC5pbm5lclRleHQgPSBwYXJhbXMuaW5wdXRMYWJlbDtcbiAgICAgIHByZXBlbmRUby5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgbGFiZWwpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0SW5wdXR9IGlucHV0VHlwZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCB1bmRlZmluZWR9XG4gICAqL1xuICBjb25zdCBnZXRJbnB1dENvbnRhaW5lciA9IGlucHV0VHlwZSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBnZXRQb3B1cCgpO1xuICAgIGlmICghcG9wdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGdldERpcmVjdENoaWxkQnlDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXNbKC8qKiBAdHlwZSB7U3dhbENsYXNzfSAqL2lucHV0VHlwZSldIHx8IHN3YWxDbGFzc2VzLmlucHV0KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50IHwgSFRNTE91dHB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50fSBpbnB1dFxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFZhbHVlJ119IGlucHV0VmFsdWVcbiAgICovXG4gIGNvbnN0IGNoZWNrQW5kU2V0SW5wdXRWYWx1ZSA9IChpbnB1dCwgaW5wdXRWYWx1ZSkgPT4ge1xuICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmNsdWRlcyh0eXBlb2YgaW5wdXRWYWx1ZSkpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gYCR7aW5wdXRWYWx1ZX1gO1xuICAgIH0gZWxzZSBpZiAoIWlzUHJvbWlzZShpbnB1dFZhbHVlKSkge1xuICAgICAgd2FybihgVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0VmFsdWUhIEV4cGVjdGVkIFwic3RyaW5nXCIsIFwibnVtYmVyXCIgb3IgXCJQcm9taXNlXCIsIGdvdCBcIiR7dHlwZW9mIGlucHV0VmFsdWV9XCJgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEB0eXBlIHtSZWNvcmQ8U3dlZXRBbGVydElucHV0LCAoaW5wdXQ6IElucHV0IHwgSFRNTEVsZW1lbnQsIHBhcmFtczogU3dlZXRBbGVydE9wdGlvbnMpID0+IElucHV0Pn0gKi9cbiAgY29uc3QgcmVuZGVySW5wdXRUeXBlID0ge307XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtIVE1MSW5wdXRFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVySW5wdXRUeXBlLnRleHQgPSByZW5kZXJJbnB1dFR5cGUuZW1haWwgPSByZW5kZXJJbnB1dFR5cGUucGFzc3dvcmQgPSByZW5kZXJJbnB1dFR5cGUubnVtYmVyID0gcmVuZGVySW5wdXRUeXBlLnRlbCA9IHJlbmRlcklucHV0VHlwZS51cmwgPSByZW5kZXJJbnB1dFR5cGUuc2VhcmNoID0gcmVuZGVySW5wdXRUeXBlLmRhdGUgPSByZW5kZXJJbnB1dFR5cGVbJ2RhdGV0aW1lLWxvY2FsJ10gPSByZW5kZXJJbnB1dFR5cGUudGltZSA9IHJlbmRlcklucHV0VHlwZS53ZWVrID0gcmVuZGVySW5wdXRUeXBlLm1vbnRoID0gLyoqIEB0eXBlIHsoaW5wdXQ6IElucHV0IHwgSFRNTEVsZW1lbnQsIHBhcmFtczogU3dlZXRBbGVydE9wdGlvbnMpID0+IElucHV0fSAqL1xuICAoaW5wdXQsIHBhcmFtcykgPT4ge1xuICAgIGNoZWNrQW5kU2V0SW5wdXRWYWx1ZShpbnB1dCwgcGFyYW1zLmlucHV0VmFsdWUpO1xuICAgIHNldElucHV0TGFiZWwoaW5wdXQsIGlucHV0LCBwYXJhbXMpO1xuICAgIHNldElucHV0UGxhY2Vob2xkZXIoaW5wdXQsIHBhcmFtcyk7XG4gICAgaW5wdXQudHlwZSA9IHBhcmFtcy5pbnB1dDtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtIVE1MSW5wdXRFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVySW5wdXRUeXBlLmZpbGUgPSAoaW5wdXQsIHBhcmFtcykgPT4ge1xuICAgIHNldElucHV0TGFiZWwoaW5wdXQsIGlucHV0LCBwYXJhbXMpO1xuICAgIHNldElucHV0UGxhY2Vob2xkZXIoaW5wdXQsIHBhcmFtcyk7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IHJhbmdlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7SFRNTElucHV0RWxlbWVudH1cbiAgICovXG4gIHJlbmRlcklucHV0VHlwZS5yYW5nZSA9IChyYW5nZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgcmFuZ2VJbnB1dCA9IHJhbmdlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgY29uc3QgcmFuZ2VPdXRwdXQgPSByYW5nZS5xdWVyeVNlbGVjdG9yKCdvdXRwdXQnKTtcbiAgICBjaGVja0FuZFNldElucHV0VmFsdWUocmFuZ2VJbnB1dCwgcGFyYW1zLmlucHV0VmFsdWUpO1xuICAgIHJhbmdlSW5wdXQudHlwZSA9IHBhcmFtcy5pbnB1dDtcbiAgICBjaGVja0FuZFNldElucHV0VmFsdWUocmFuZ2VPdXRwdXQsIHBhcmFtcy5pbnB1dFZhbHVlKTtcbiAgICBzZXRJbnB1dExhYmVsKHJhbmdlSW5wdXQsIHJhbmdlLCBwYXJhbXMpO1xuICAgIHJldHVybiByYW5nZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MU2VsZWN0RWxlbWVudH0gc2VsZWN0XG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7SFRNTFNlbGVjdEVsZW1lbnR9XG4gICAqL1xuICByZW5kZXJJbnB1dFR5cGUuc2VsZWN0ID0gKHNlbGVjdCwgcGFyYW1zKSA9PiB7XG4gICAgc2VsZWN0LnRleHRDb250ZW50ID0gJyc7XG4gICAgaWYgKHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyKSB7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgc2V0SW5uZXJIdG1sKHBsYWNlaG9sZGVyLCBwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcik7XG4gICAgICBwbGFjZWhvbGRlci52YWx1ZSA9ICcnO1xuICAgICAgcGxhY2Vob2xkZXIuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgcGxhY2Vob2xkZXIuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyKTtcbiAgICB9XG4gICAgc2V0SW5wdXRMYWJlbChzZWxlY3QsIHNlbGVjdCwgcGFyYW1zKTtcbiAgICByZXR1cm4gc2VsZWN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IHJhZGlvXG4gICAqIEByZXR1cm5zIHtIVE1MSW5wdXRFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVySW5wdXRUeXBlLnJhZGlvID0gcmFkaW8gPT4ge1xuICAgIHJhZGlvLnRleHRDb250ZW50ID0gJyc7XG4gICAgcmV0dXJuIHJhZGlvO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxMYWJlbEVsZW1lbnR9IGNoZWNrYm94Q29udGFpbmVyXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7SFRNTElucHV0RWxlbWVudH1cbiAgICovXG4gIHJlbmRlcklucHV0VHlwZS5jaGVja2JveCA9IChjaGVja2JveENvbnRhaW5lciwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgY2hlY2tib3ggPSBnZXRJbnB1dCQxKGdldFBvcHVwKCksICdjaGVja2JveCcpO1xuICAgIGNoZWNrYm94LnZhbHVlID0gJzEnO1xuICAgIGNoZWNrYm94LmNoZWNrZWQgPSBCb29sZWFuKHBhcmFtcy5pbnB1dFZhbHVlKTtcbiAgICBjb25zdCBsYWJlbCA9IGNoZWNrYm94Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcbiAgICBzZXRJbm5lckh0bWwobGFiZWwsIHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyIHx8IHBhcmFtcy5pbnB1dExhYmVsKTtcbiAgICByZXR1cm4gY2hlY2tib3g7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTFRleHRBcmVhRWxlbWVudH0gdGV4dGFyZWFcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtIVE1MVGV4dEFyZWFFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVySW5wdXRUeXBlLnRleHRhcmVhID0gKHRleHRhcmVhLCBwYXJhbXMpID0+IHtcbiAgICBjaGVja0FuZFNldElucHV0VmFsdWUodGV4dGFyZWEsIHBhcmFtcy5pbnB1dFZhbHVlKTtcbiAgICBzZXRJbnB1dFBsYWNlaG9sZGVyKHRleHRhcmVhLCBwYXJhbXMpO1xuICAgIHNldElucHV0TGFiZWwodGV4dGFyZWEsIHRleHRhcmVhLCBwYXJhbXMpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGNvbnN0IGdldE1hcmdpbiA9IGVsID0+IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5tYXJnaW5SaWdodCk7XG5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvaXNzdWVzLzIyOTFcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9pc3N1ZXMvMTY5OVxuICAgICAgaWYgKCdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFBvcHVwV2lkdGggPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShnZXRQb3B1cCgpKS53aWR0aCk7XG4gICAgICAgIGNvbnN0IHRleHRhcmVhUmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB0ZXhhcmVhIGlzIHN0aWxsIGluIGRvY3VtZW50IChpLmUuIHBvcHVwIHdhc24ndCBjbG9zZWQgaW4gdGhlIG1lYW50aW1lKVxuICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyh0ZXh0YXJlYSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdGV4dGFyZWFXaWR0aCA9IHRleHRhcmVhLm9mZnNldFdpZHRoICsgZ2V0TWFyZ2luKHRleHRhcmVhKTtcbiAgICAgICAgICBpZiAodGV4dGFyZWFXaWR0aCA+IGluaXRpYWxQb3B1cFdpZHRoKSB7XG4gICAgICAgICAgICBnZXRQb3B1cCgpLnN0eWxlLndpZHRoID0gYCR7dGV4dGFyZWFXaWR0aH1weGA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcGx5TnVtZXJpY2FsU3R5bGUoZ2V0UG9wdXAoKSwgJ3dpZHRoJywgcGFyYW1zLndpZHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKHRleHRhcmVhUmVzaXplSGFuZGxlcikub2JzZXJ2ZSh0ZXh0YXJlYSwge1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ3N0eWxlJ11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRleHRhcmVhO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3QgcmVuZGVyQ29udGVudCA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgaHRtbENvbnRhaW5lciA9IGdldEh0bWxDb250YWluZXIoKTtcbiAgICBpZiAoIWh0bWxDb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2hvd1doZW5Jbm5lckh0bWxQcmVzZW50KGh0bWxDb250YWluZXIpO1xuICAgIGFwcGx5Q3VzdG9tQ2xhc3MoaHRtbENvbnRhaW5lciwgcGFyYW1zLCAnaHRtbENvbnRhaW5lcicpO1xuXG4gICAgLy8gQ29udGVudCBhcyBIVE1MXG4gICAgaWYgKHBhcmFtcy5odG1sKSB7XG4gICAgICBwYXJzZUh0bWxUb0NvbnRhaW5lcihwYXJhbXMuaHRtbCwgaHRtbENvbnRhaW5lcik7XG4gICAgICBzaG93KGh0bWxDb250YWluZXIsICdibG9jaycpO1xuICAgIH1cblxuICAgIC8vIENvbnRlbnQgYXMgcGxhaW4gdGV4dFxuICAgIGVsc2UgaWYgKHBhcmFtcy50ZXh0KSB7XG4gICAgICBodG1sQ29udGFpbmVyLnRleHRDb250ZW50ID0gcGFyYW1zLnRleHQ7XG4gICAgICBzaG93KGh0bWxDb250YWluZXIsICdibG9jaycpO1xuICAgIH1cblxuICAgIC8vIE5vIGNvbnRlbnRcbiAgICBlbHNlIHtcbiAgICAgIGhpZGUoaHRtbENvbnRhaW5lcik7XG4gICAgfVxuICAgIHJlbmRlcklucHV0KGluc3RhbmNlLCBwYXJhbXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3QgcmVuZGVyRm9vdGVyID0gKGluc3RhbmNlLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBmb290ZXIgPSBnZXRGb290ZXIoKTtcbiAgICBpZiAoIWZvb3Rlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaG93V2hlbklubmVySHRtbFByZXNlbnQoZm9vdGVyKTtcbiAgICB0b2dnbGUoZm9vdGVyLCBwYXJhbXMuZm9vdGVyLCAnYmxvY2snKTtcbiAgICBpZiAocGFyYW1zLmZvb3Rlcikge1xuICAgICAgcGFyc2VIdG1sVG9Db250YWluZXIocGFyYW1zLmZvb3RlciwgZm9vdGVyKTtcbiAgICB9XG5cbiAgICAvLyBDdXN0b20gY2xhc3NcbiAgICBhcHBseUN1c3RvbUNsYXNzKGZvb3RlciwgcGFyYW1zLCAnZm9vdGVyJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCByZW5kZXJJY29uID0gKGluc3RhbmNlLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UpO1xuICAgIGNvbnN0IGljb24gPSBnZXRJY29uKCk7XG4gICAgaWYgKCFpY29uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGdpdmVuIGljb24gYWxyZWFkeSByZW5kZXJlZCwgYXBwbHkgdGhlIHN0eWxpbmcgd2l0aG91dCByZS1yZW5kZXJpbmcgdGhlIGljb25cbiAgICBpZiAoaW5uZXJQYXJhbXMgJiYgcGFyYW1zLmljb24gPT09IGlubmVyUGFyYW1zLmljb24pIHtcbiAgICAgIC8vIEN1c3RvbSBvciBkZWZhdWx0IGNvbnRlbnRcbiAgICAgIHNldENvbnRlbnQoaWNvbiwgcGFyYW1zKTtcbiAgICAgIGFwcGx5U3R5bGVzKGljb24sIHBhcmFtcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcGFyYW1zLmljb24gJiYgIXBhcmFtcy5pY29uSHRtbCkge1xuICAgICAgaGlkZShpY29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5pY29uICYmIE9iamVjdC5rZXlzKGljb25UeXBlcykuaW5kZXhPZihwYXJhbXMuaWNvbikgPT09IC0xKSB7XG4gICAgICBlcnJvcihgVW5rbm93biBpY29uISBFeHBlY3RlZCBcInN1Y2Nlc3NcIiwgXCJlcnJvclwiLCBcIndhcm5pbmdcIiwgXCJpbmZvXCIgb3IgXCJxdWVzdGlvblwiLCBnb3QgXCIke3BhcmFtcy5pY29ufVwiYCk7XG4gICAgICBoaWRlKGljb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaG93KGljb24pO1xuXG4gICAgLy8gQ3VzdG9tIG9yIGRlZmF1bHQgY29udGVudFxuICAgIHNldENvbnRlbnQoaWNvbiwgcGFyYW1zKTtcbiAgICBhcHBseVN0eWxlcyhpY29uLCBwYXJhbXMpO1xuXG4gICAgLy8gQW5pbWF0ZSBpY29uXG4gICAgYWRkQ2xhc3MoaWNvbiwgcGFyYW1zLnNob3dDbGFzcyAmJiBwYXJhbXMuc2hvd0NsYXNzLmljb24pO1xuXG4gICAgLy8gUmUtYWRqdXN0IHRoZSBzdWNjZXNzIGljb24gb24gc3lzdGVtIHRoZW1lIGNoYW5nZVxuICAgIGNvbnN0IGNvbG9yU2NoZW1lUXVlcnlMaXN0ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTtcbiAgICBjb2xvclNjaGVtZVF1ZXJ5TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBhZGp1c3RTdWNjZXNzSWNvbkJhY2tncm91bmRDb2xvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGljb25cbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBhcHBseVN0eWxlcyA9IChpY29uLCBwYXJhbXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IFtpY29uVHlwZSwgaWNvbkNsYXNzTmFtZV0gb2YgT2JqZWN0LmVudHJpZXMoaWNvblR5cGVzKSkge1xuICAgICAgaWYgKHBhcmFtcy5pY29uICE9PSBpY29uVHlwZSkge1xuICAgICAgICByZW1vdmVDbGFzcyhpY29uLCBpY29uQ2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYWRkQ2xhc3MoaWNvbiwgcGFyYW1zLmljb24gJiYgaWNvblR5cGVzW3BhcmFtcy5pY29uXSk7XG5cbiAgICAvLyBJY29uIGNvbG9yXG4gICAgc2V0Q29sb3IoaWNvbiwgcGFyYW1zKTtcblxuICAgIC8vIFN1Y2Nlc3MgaWNvbiBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgYWRqdXN0U3VjY2Vzc0ljb25CYWNrZ3JvdW5kQ29sb3IoKTtcblxuICAgIC8vIEN1c3RvbSBjbGFzc1xuICAgIGFwcGx5Q3VzdG9tQ2xhc3MoaWNvbiwgcGFyYW1zLCAnaWNvbicpO1xuICB9O1xuXG4gIC8vIEFkanVzdCBzdWNjZXNzIGljb24gYmFja2dyb3VuZCBjb2xvciB0byBtYXRjaCB0aGUgcG9wdXAgYmFja2dyb3VuZCBjb2xvclxuICBjb25zdCBhZGp1c3RTdWNjZXNzSWNvbkJhY2tncm91bmRDb2xvciA9ICgpID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwb3B1cEJhY2tncm91bmRDb2xvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBvcHVwKS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgLyoqIEB0eXBlIHtOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pn0gKi9cbiAgICBjb25zdCBzdWNjZXNzSWNvblBhcnRzID0gcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVdLCAuc3dhbDItc3VjY2Vzcy1maXgnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Y2Nlc3NJY29uUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHN1Y2Nlc3NJY29uUGFydHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcG9wdXBCYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICB9O1xuICBjb25zdCBzdWNjZXNzSWNvbkh0bWwgPSBgXG4gIDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtbGVmdFwiPjwvZGl2PlxuICA8c3BhbiBjbGFzcz1cInN3YWwyLXN1Y2Nlc3MtbGluZS10aXBcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwic3dhbDItc3VjY2Vzcy1saW5lLWxvbmdcIj48L3NwYW4+XG4gIDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLXJpbmdcIj48L2Rpdj4gPGRpdiBjbGFzcz1cInN3YWwyLXN1Y2Nlc3MtZml4XCI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtcmlnaHRcIj48L2Rpdj5cbmA7XG4gIGNvbnN0IGVycm9ySWNvbkh0bWwgPSBgXG4gIDxzcGFuIGNsYXNzPVwic3dhbDIteC1tYXJrXCI+XG4gICAgPHNwYW4gY2xhc3M9XCJzd2FsMi14LW1hcmstbGluZS1sZWZ0XCI+PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPVwic3dhbDIteC1tYXJrLWxpbmUtcmlnaHRcIj48L3NwYW4+XG4gIDwvc3Bhbj5cbmA7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGljb25cbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBzZXRDb250ZW50ID0gKGljb24sIHBhcmFtcykgPT4ge1xuICAgIGlmICghcGFyYW1zLmljb24gJiYgIXBhcmFtcy5pY29uSHRtbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgb2xkQ29udGVudCA9IGljb24uaW5uZXJIVE1MO1xuICAgIGxldCBuZXdDb250ZW50ID0gJyc7XG4gICAgaWYgKHBhcmFtcy5pY29uSHRtbCkge1xuICAgICAgbmV3Q29udGVudCA9IGljb25Db250ZW50KHBhcmFtcy5pY29uSHRtbCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuaWNvbiA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICBuZXdDb250ZW50ID0gc3VjY2Vzc0ljb25IdG1sO1xuICAgICAgb2xkQ29udGVudCA9IG9sZENvbnRlbnQucmVwbGFjZSgvIHN0eWxlPVwiLio/XCIvZywgJycpOyAvLyB1bmRvIGFkanVzdFN1Y2Nlc3NJY29uQmFja2dyb3VuZENvbG9yKClcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5pY29uID09PSAnZXJyb3InKSB7XG4gICAgICBuZXdDb250ZW50ID0gZXJyb3JJY29uSHRtbDtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5pY29uKSB7XG4gICAgICBjb25zdCBkZWZhdWx0SWNvbkh0bWwgPSB7XG4gICAgICAgIHF1ZXN0aW9uOiAnPycsXG4gICAgICAgIHdhcm5pbmc6ICchJyxcbiAgICAgICAgaW5mbzogJ2knXG4gICAgICB9O1xuICAgICAgbmV3Q29udGVudCA9IGljb25Db250ZW50KGRlZmF1bHRJY29uSHRtbFtwYXJhbXMuaWNvbl0pO1xuICAgIH1cbiAgICBpZiAob2xkQ29udGVudC50cmltKCkgIT09IG5ld0NvbnRlbnQudHJpbSgpKSB7XG4gICAgICBzZXRJbm5lckh0bWwoaWNvbiwgbmV3Q29udGVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBpY29uXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3Qgc2V0Q29sb3IgPSAoaWNvbiwgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFwYXJhbXMuaWNvbkNvbG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGljb24uc3R5bGUuY29sb3IgPSBwYXJhbXMuaWNvbkNvbG9yO1xuICAgIGljb24uc3R5bGUuYm9yZGVyQ29sb3IgPSBwYXJhbXMuaWNvbkNvbG9yO1xuICAgIGZvciAoY29uc3Qgc2VsIG9mIFsnLnN3YWwyLXN1Y2Nlc3MtbGluZS10aXAnLCAnLnN3YWwyLXN1Y2Nlc3MtbGluZS1sb25nJywgJy5zd2FsMi14LW1hcmstbGluZS1sZWZ0JywgJy5zd2FsMi14LW1hcmstbGluZS1yaWdodCddKSB7XG4gICAgICBzZXRTdHlsZShpY29uLCBzZWwsICdiYWNrZ3JvdW5kLWNvbG9yJywgcGFyYW1zLmljb25Db2xvcik7XG4gICAgfVxuICAgIHNldFN0eWxlKGljb24sICcuc3dhbDItc3VjY2Vzcy1yaW5nJywgJ2JvcmRlci1jb2xvcicsIHBhcmFtcy5pY29uQ29sb3IpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgY29uc3QgaWNvbkNvbnRlbnQgPSBjb250ZW50ID0+IGA8ZGl2IGNsYXNzPVwiJHtzd2FsQ2xhc3Nlc1snaWNvbi1jb250ZW50J119XCI+JHtjb250ZW50fTwvZGl2PmA7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCByZW5kZXJJbWFnZSA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgaW1hZ2UgPSBnZXRJbWFnZSgpO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwYXJhbXMuaW1hZ2VVcmwpIHtcbiAgICAgIGhpZGUoaW1hZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaG93KGltYWdlLCAnJyk7XG5cbiAgICAvLyBTcmMsIGFsdFxuICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgcGFyYW1zLmltYWdlVXJsKTtcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHBhcmFtcy5pbWFnZUFsdCB8fCAnJyk7XG5cbiAgICAvLyBXaWR0aCwgaGVpZ2h0XG4gICAgYXBwbHlOdW1lcmljYWxTdHlsZShpbWFnZSwgJ3dpZHRoJywgcGFyYW1zLmltYWdlV2lkdGgpO1xuICAgIGFwcGx5TnVtZXJpY2FsU3R5bGUoaW1hZ2UsICdoZWlnaHQnLCBwYXJhbXMuaW1hZ2VIZWlnaHQpO1xuXG4gICAgLy8gQ2xhc3NcbiAgICBpbWFnZS5jbGFzc05hbWUgPSBzd2FsQ2xhc3Nlcy5pbWFnZTtcbiAgICBhcHBseUN1c3RvbUNsYXNzKGltYWdlLCBwYXJhbXMsICdpbWFnZScpO1xuICB9O1xuXG4gIGxldCBkcmFnZ2luZyA9IGZhbHNlO1xuICBsZXQgbW91c2Vkb3duWCA9IDA7XG4gIGxldCBtb3VzZWRvd25ZID0gMDtcbiAgbGV0IGluaXRpYWxYID0gMDtcbiAgbGV0IGluaXRpYWxZID0gMDtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wdXBcbiAgICovXG4gIGNvbnN0IGFkZERyYWdnYWJsZUxpc3RlbmVycyA9IHBvcHVwID0+IHtcbiAgICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBkb3duKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdmUpO1xuICAgIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB1cCk7XG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGRvd24pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgbW92ZSk7XG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1cCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHVwXG4gICAqL1xuICBjb25zdCByZW1vdmVEcmFnZ2FibGVMaXN0ZW5lcnMgPSBwb3B1cCA9PiB7XG4gICAgcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZG93bik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3ZlKTtcbiAgICBwb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdXApO1xuICAgIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBkb3duKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG1vdmUpO1xuICAgIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdXApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnQgfCBUb3VjaEV2ZW50fSBldmVudFxuICAgKi9cbiAgY29uc3QgZG93biA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gcG9wdXAgfHwgZ2V0SWNvbigpLmNvbnRhaW5zKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovZXZlbnQudGFyZ2V0KSkge1xuICAgICAgZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgY29uc3QgY2xpZW50WFkgPSBnZXRDbGllbnRYWShldmVudCk7XG4gICAgICBtb3VzZWRvd25YID0gY2xpZW50WFkuY2xpZW50WDtcbiAgICAgIG1vdXNlZG93blkgPSBjbGllbnRYWS5jbGllbnRZO1xuICAgICAgaW5pdGlhbFggPSBwYXJzZUludChwb3B1cC5zdHlsZS5pbnNldElubGluZVN0YXJ0KSB8fCAwO1xuICAgICAgaW5pdGlhbFkgPSBwYXJzZUludChwb3B1cC5zdHlsZS5pbnNldEJsb2NrU3RhcnQpIHx8IDA7XG4gICAgICBhZGRDbGFzcyhwb3B1cCwgJ3N3YWwyLWRyYWdnaW5nJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnQgfCBUb3VjaEV2ZW50fSBldmVudFxuICAgKi9cbiAgY29uc3QgbW92ZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKGRyYWdnaW5nKSB7XG4gICAgICBsZXQge1xuICAgICAgICBjbGllbnRYLFxuICAgICAgICBjbGllbnRZXG4gICAgICB9ID0gZ2V0Q2xpZW50WFkoZXZlbnQpO1xuICAgICAgcG9wdXAuc3R5bGUuaW5zZXRJbmxpbmVTdGFydCA9IGAke2luaXRpYWxYICsgKGNsaWVudFggLSBtb3VzZWRvd25YKX1weGA7XG4gICAgICBwb3B1cC5zdHlsZS5pbnNldEJsb2NrU3RhcnQgPSBgJHtpbml0aWFsWSArIChjbGllbnRZIC0gbW91c2Vkb3duWSl9cHhgO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXAgPSAoKSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBnZXRQb3B1cCgpO1xuICAgIGRyYWdnaW5nID0gZmFsc2U7XG4gICAgcmVtb3ZlQ2xhc3MocG9wdXAsICdzd2FsMi1kcmFnZ2luZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnQgfCBUb3VjaEV2ZW50fSBldmVudFxuICAgKiBAcmV0dXJucyB7eyBjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciB9fVxuICAgKi9cbiAgY29uc3QgZ2V0Q2xpZW50WFkgPSBldmVudCA9PiB7XG4gICAgbGV0IGNsaWVudFggPSAwLFxuICAgICAgY2xpZW50WSA9IDA7XG4gICAgaWYgKGV2ZW50LnR5cGUuc3RhcnRzV2l0aCgnbW91c2UnKSkge1xuICAgICAgY2xpZW50WCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi9ldmVudC5jbGllbnRYO1xuICAgICAgY2xpZW50WSA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi9ldmVudC5jbGllbnRZO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKCd0b3VjaCcpKSB7XG4gICAgICBjbGllbnRYID0gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqL2V2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGNsaWVudFkgPSAvKiogQHR5cGUge1RvdWNoRXZlbnR9ICovZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50WCxcbiAgICAgIGNsaWVudFlcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3QgcmVuZGVyUG9wdXAgPSAoaW5zdGFuY2UsIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuICAgIGNvbnN0IHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgICBpZiAoIWNvbnRhaW5lciB8fCAhcG9wdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXaWR0aFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9pc3N1ZXMvMjE3MFxuICAgIGlmIChwYXJhbXMudG9hc3QpIHtcbiAgICAgIGFwcGx5TnVtZXJpY2FsU3R5bGUoY29udGFpbmVyLCAnd2lkdGgnLCBwYXJhbXMud2lkdGgpO1xuICAgICAgcG9wdXAuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICBjb25zdCBsb2FkZXIgPSBnZXRMb2FkZXIoKTtcbiAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgcG9wdXAuaW5zZXJ0QmVmb3JlKGxvYWRlciwgZ2V0SWNvbigpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXBwbHlOdW1lcmljYWxTdHlsZShwb3B1cCwgJ3dpZHRoJywgcGFyYW1zLndpZHRoKTtcbiAgICB9XG5cbiAgICAvLyBQYWRkaW5nXG4gICAgYXBwbHlOdW1lcmljYWxTdHlsZShwb3B1cCwgJ3BhZGRpbmcnLCBwYXJhbXMucGFkZGluZyk7XG5cbiAgICAvLyBDb2xvclxuICAgIGlmIChwYXJhbXMuY29sb3IpIHtcbiAgICAgIHBvcHVwLnN0eWxlLmNvbG9yID0gcGFyYW1zLmNvbG9yO1xuICAgIH1cblxuICAgIC8vIEJhY2tncm91bmRcbiAgICBpZiAocGFyYW1zLmJhY2tncm91bmQpIHtcbiAgICAgIHBvcHVwLnN0eWxlLmJhY2tncm91bmQgPSBwYXJhbXMuYmFja2dyb3VuZDtcbiAgICB9XG4gICAgaGlkZShnZXRWYWxpZGF0aW9uTWVzc2FnZSgpKTtcblxuICAgIC8vIENsYXNzZXNcbiAgICBhZGRDbGFzc2VzJDEocG9wdXAsIHBhcmFtcyk7XG4gICAgaWYgKHBhcmFtcy5kcmFnZ2FibGUgJiYgIXBhcmFtcy50b2FzdCkge1xuICAgICAgYWRkQ2xhc3MocG9wdXAsIHN3YWxDbGFzc2VzLmRyYWdnYWJsZSk7XG4gICAgICBhZGREcmFnZ2FibGVMaXN0ZW5lcnMocG9wdXApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXMuZHJhZ2dhYmxlKTtcbiAgICAgIHJlbW92ZURyYWdnYWJsZUxpc3RlbmVycyhwb3B1cCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3B1cFxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IGFkZENsYXNzZXMkMSA9IChwb3B1cCwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3Qgc2hvd0NsYXNzID0gcGFyYW1zLnNob3dDbGFzcyB8fCB7fTtcbiAgICAvLyBEZWZhdWx0IENsYXNzICsgc2hvd0NsYXNzIHdoZW4gdXBkYXRpbmcgU3dhbC51cGRhdGUoe30pXG4gICAgcG9wdXAuY2xhc3NOYW1lID0gYCR7c3dhbENsYXNzZXMucG9wdXB9ICR7aXNWaXNpYmxlJDEocG9wdXApID8gc2hvd0NsYXNzLnBvcHVwIDogJyd9YDtcbiAgICBpZiAocGFyYW1zLnRvYXN0KSB7XG4gICAgICBhZGRDbGFzcyhbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSwgc3dhbENsYXNzZXNbJ3RvYXN0LXNob3duJ10pO1xuICAgICAgYWRkQ2xhc3MocG9wdXAsIHN3YWxDbGFzc2VzLnRvYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkQ2xhc3MocG9wdXAsIHN3YWxDbGFzc2VzLm1vZGFsKTtcbiAgICB9XG5cbiAgICAvLyBDdXN0b20gY2xhc3NcbiAgICBhcHBseUN1c3RvbUNsYXNzKHBvcHVwLCBwYXJhbXMsICdwb3B1cCcpO1xuICAgIC8vIFRPRE86IHJlbW92ZSBpbiB0aGUgbmV4dCBtYWpvclxuICAgIGlmICh0eXBlb2YgcGFyYW1zLmN1c3RvbUNsYXNzID09PSAnc3RyaW5nJykge1xuICAgICAgYWRkQ2xhc3MocG9wdXAsIHBhcmFtcy5jdXN0b21DbGFzcyk7XG4gICAgfVxuXG4gICAgLy8gSWNvbiBjbGFzcyAoIzE4NDIpXG4gICAgaWYgKHBhcmFtcy5pY29uKSB7XG4gICAgICBhZGRDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXNbYGljb24tJHtwYXJhbXMuaWNvbn1gXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgY29uc3QgcmVuZGVyUHJvZ3Jlc3NTdGVwcyA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgcHJvZ3Jlc3NTdGVwc0NvbnRhaW5lciA9IGdldFByb2dyZXNzU3RlcHMoKTtcbiAgICBpZiAoIXByb2dyZXNzU3RlcHNDb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgcHJvZ3Jlc3NTdGVwcyxcbiAgICAgIGN1cnJlbnRQcm9ncmVzc1N0ZXBcbiAgICB9ID0gcGFyYW1zO1xuICAgIGlmICghcHJvZ3Jlc3NTdGVwcyB8fCBwcm9ncmVzc1N0ZXBzLmxlbmd0aCA9PT0gMCB8fCBjdXJyZW50UHJvZ3Jlc3NTdGVwID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhpZGUocHJvZ3Jlc3NTdGVwc0NvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNob3cocHJvZ3Jlc3NTdGVwc0NvbnRhaW5lcik7XG4gICAgcHJvZ3Jlc3NTdGVwc0NvbnRhaW5lci50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmIChjdXJyZW50UHJvZ3Jlc3NTdGVwID49IHByb2dyZXNzU3RlcHMubGVuZ3RoKSB7XG4gICAgICB3YXJuKCdJbnZhbGlkIGN1cnJlbnRQcm9ncmVzc1N0ZXAgcGFyYW1ldGVyLCBpdCBzaG91bGQgYmUgbGVzcyB0aGFuIHByb2dyZXNzU3RlcHMubGVuZ3RoICcgKyAnKGN1cnJlbnRQcm9ncmVzc1N0ZXAgbGlrZSBKUyBhcnJheXMgc3RhcnRzIGZyb20gMCknKTtcbiAgICB9XG4gICAgcHJvZ3Jlc3NTdGVwcy5mb3JFYWNoKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgc3RlcEVsID0gY3JlYXRlU3RlcEVsZW1lbnQoc3RlcCk7XG4gICAgICBwcm9ncmVzc1N0ZXBzQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0ZXBFbCk7XG4gICAgICBpZiAoaW5kZXggPT09IGN1cnJlbnRQcm9ncmVzc1N0ZXApIHtcbiAgICAgICAgYWRkQ2xhc3Moc3RlcEVsLCBzd2FsQ2xhc3Nlc1snYWN0aXZlLXByb2dyZXNzLXN0ZXAnXSk7XG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggIT09IHByb2dyZXNzU3RlcHMubGVuZ3RoIC0gMSkge1xuICAgICAgICBjb25zdCBsaW5lRWwgPSBjcmVhdGVMaW5lRWxlbWVudChwYXJhbXMpO1xuICAgICAgICBwcm9ncmVzc1N0ZXBzQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmVFbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdGVwXG4gICAqIEByZXR1cm5zIHtIVE1MTElFbGVtZW50fVxuICAgKi9cbiAgY29uc3QgY3JlYXRlU3RlcEVsZW1lbnQgPSBzdGVwID0+IHtcbiAgICBjb25zdCBzdGVwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGFkZENsYXNzKHN0ZXBFbCwgc3dhbENsYXNzZXNbJ3Byb2dyZXNzLXN0ZXAnXSk7XG4gICAgc2V0SW5uZXJIdG1sKHN0ZXBFbCwgc3RlcCk7XG4gICAgcmV0dXJuIHN0ZXBFbDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtIVE1MTElFbGVtZW50fVxuICAgKi9cbiAgY29uc3QgY3JlYXRlTGluZUVsZW1lbnQgPSBwYXJhbXMgPT4ge1xuICAgIGNvbnN0IGxpbmVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgYWRkQ2xhc3MobGluZUVsLCBzd2FsQ2xhc3Nlc1sncHJvZ3Jlc3Mtc3RlcC1saW5lJ10pO1xuICAgIGlmIChwYXJhbXMucHJvZ3Jlc3NTdGVwc0Rpc3RhbmNlKSB7XG4gICAgICBhcHBseU51bWVyaWNhbFN0eWxlKGxpbmVFbCwgJ3dpZHRoJywgcGFyYW1zLnByb2dyZXNzU3RlcHNEaXN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lRWw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCByZW5kZXJUaXRsZSA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBnZXRUaXRsZSgpO1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2hvd1doZW5Jbm5lckh0bWxQcmVzZW50KHRpdGxlKTtcbiAgICB0b2dnbGUodGl0bGUsIHBhcmFtcy50aXRsZSB8fCBwYXJhbXMudGl0bGVUZXh0LCAnYmxvY2snKTtcbiAgICBpZiAocGFyYW1zLnRpdGxlKSB7XG4gICAgICBwYXJzZUh0bWxUb0NvbnRhaW5lcihwYXJhbXMudGl0bGUsIHRpdGxlKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy50aXRsZVRleHQpIHtcbiAgICAgIHRpdGxlLmlubmVyVGV4dCA9IHBhcmFtcy50aXRsZVRleHQ7XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGNsYXNzXG4gICAgYXBwbHlDdXN0b21DbGFzcyh0aXRsZSwgcGFyYW1zLCAndGl0bGUnKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IHJlbmRlciA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgcmVuZGVyUG9wdXAoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgcmVuZGVyQ29udGFpbmVyKGluc3RhbmNlLCBwYXJhbXMpO1xuICAgIHJlbmRlclByb2dyZXNzU3RlcHMoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgcmVuZGVySWNvbihpbnN0YW5jZSwgcGFyYW1zKTtcbiAgICByZW5kZXJJbWFnZShpbnN0YW5jZSwgcGFyYW1zKTtcbiAgICByZW5kZXJUaXRsZShpbnN0YW5jZSwgcGFyYW1zKTtcbiAgICByZW5kZXJDbG9zZUJ1dHRvbihpbnN0YW5jZSwgcGFyYW1zKTtcbiAgICByZW5kZXJDb250ZW50KGluc3RhbmNlLCBwYXJhbXMpO1xuICAgIHJlbmRlckFjdGlvbnMoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgcmVuZGVyRm9vdGVyKGluc3RhbmNlLCBwYXJhbXMpO1xuICAgIGNvbnN0IHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5kaWRSZW5kZXIgPT09ICdmdW5jdGlvbicgJiYgcG9wdXApIHtcbiAgICAgIHBhcmFtcy5kaWRSZW5kZXIocG9wdXApO1xuICAgIH1cbiAgICBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIuZW1pdCgnZGlkUmVuZGVyJywgcG9wdXApO1xuICB9O1xuXG4gIC8qXG4gICAqIEdsb2JhbCBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgU3dlZXRBbGVydDIgcG9wdXAgaXMgc2hvd25cbiAgICovXG4gIGNvbnN0IGlzVmlzaWJsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gaXNWaXNpYmxlJDEoZ2V0UG9wdXAoKSk7XG4gIH07XG5cbiAgLypcbiAgICogR2xvYmFsIGZ1bmN0aW9uIHRvIGNsaWNrICdDb25maXJtJyBidXR0b25cbiAgICovXG4gIGNvbnN0IGNsaWNrQ29uZmlybSA9ICgpID0+IHtcbiAgICB2YXIgX2RvbSRnZXRDb25maXJtQnV0dG9uO1xuICAgIHJldHVybiAoX2RvbSRnZXRDb25maXJtQnV0dG9uID0gZ2V0Q29uZmlybUJ1dHRvbigpKSA9PT0gbnVsbCB8fCBfZG9tJGdldENvbmZpcm1CdXR0b24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kb20kZ2V0Q29uZmlybUJ1dHRvbi5jbGljaygpO1xuICB9O1xuXG4gIC8qXG4gICAqIEdsb2JhbCBmdW5jdGlvbiB0byBjbGljayAnRGVueScgYnV0dG9uXG4gICAqL1xuICBjb25zdCBjbGlja0RlbnkgPSAoKSA9PiB7XG4gICAgdmFyIF9kb20kZ2V0RGVueUJ1dHRvbjtcbiAgICByZXR1cm4gKF9kb20kZ2V0RGVueUJ1dHRvbiA9IGdldERlbnlCdXR0b24oKSkgPT09IG51bGwgfHwgX2RvbSRnZXREZW55QnV0dG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZG9tJGdldERlbnlCdXR0b24uY2xpY2soKTtcbiAgfTtcblxuICAvKlxuICAgKiBHbG9iYWwgZnVuY3Rpb24gdG8gY2xpY2sgJ0NhbmNlbCcgYnV0dG9uXG4gICAqL1xuICBjb25zdCBjbGlja0NhbmNlbCA9ICgpID0+IHtcbiAgICB2YXIgX2RvbSRnZXRDYW5jZWxCdXR0b247XG4gICAgcmV0dXJuIChfZG9tJGdldENhbmNlbEJ1dHRvbiA9IGdldENhbmNlbEJ1dHRvbigpKSA9PT0gbnVsbCB8fCBfZG9tJGdldENhbmNlbEJ1dHRvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvbSRnZXRDYW5jZWxCdXR0b24uY2xpY2soKTtcbiAgfTtcblxuICAvKiogQHR5cGVkZWYgeydjYW5jZWwnIHwgJ2JhY2tkcm9wJyB8ICdjbG9zZScgfCAnZXNjJyB8ICd0aW1lcid9IERpc21pc3NSZWFzb24gKi9cblxuICAvKiogQHR5cGUge1JlY29yZDxEaXNtaXNzUmVhc29uLCBEaXNtaXNzUmVhc29uPn0gKi9cbiAgY29uc3QgRGlzbWlzc1JlYXNvbiA9IE9iamVjdC5mcmVlemUoe1xuICAgIGNhbmNlbDogJ2NhbmNlbCcsXG4gICAgYmFja2Ryb3A6ICdiYWNrZHJvcCcsXG4gICAgY2xvc2U6ICdjbG9zZScsXG4gICAgZXNjOiAnZXNjJyxcbiAgICB0aW1lcjogJ3RpbWVyJ1xuICB9KTtcblxuICAvKipcbiAgICogQHBhcmFtIHtHbG9iYWxTdGF0ZX0gZ2xvYmFsU3RhdGVcbiAgICovXG4gIGNvbnN0IHJlbW92ZUtleWRvd25IYW5kbGVyID0gZ2xvYmFsU3RhdGUgPT4ge1xuICAgIGlmIChnbG9iYWxTdGF0ZS5rZXlkb3duVGFyZ2V0ICYmIGdsb2JhbFN0YXRlLmtleWRvd25IYW5kbGVyQWRkZWQpIHtcbiAgICAgIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGdsb2JhbFN0YXRlLmtleWRvd25IYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IGdsb2JhbFN0YXRlLmtleWRvd25MaXN0ZW5lckNhcHR1cmVcbiAgICAgIH0pO1xuICAgICAgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXJBZGRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtHbG9iYWxTdGF0ZX0gZ2xvYmFsU3RhdGVcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gaW5uZXJQYXJhbXNcbiAgICogQHBhcmFtIHsqfSBkaXNtaXNzV2l0aFxuICAgKi9cbiAgY29uc3QgYWRkS2V5ZG93bkhhbmRsZXIgPSAoZ2xvYmFsU3RhdGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCkgPT4ge1xuICAgIHJlbW92ZUtleWRvd25IYW5kbGVyKGdsb2JhbFN0YXRlKTtcbiAgICBpZiAoIWlubmVyUGFyYW1zLnRvYXN0KSB7XG4gICAgICBnbG9iYWxTdGF0ZS5rZXlkb3duSGFuZGxlciA9IGUgPT4ga2V5ZG93bkhhbmRsZXIoaW5uZXJQYXJhbXMsIGUsIGRpc21pc3NXaXRoKTtcbiAgICAgIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQgPSBpbm5lclBhcmFtcy5rZXlkb3duTGlzdGVuZXJDYXB0dXJlID8gd2luZG93IDogZ2V0UG9wdXAoKTtcbiAgICAgIGdsb2JhbFN0YXRlLmtleWRvd25MaXN0ZW5lckNhcHR1cmUgPSBpbm5lclBhcmFtcy5rZXlkb3duTGlzdGVuZXJDYXB0dXJlO1xuICAgICAgZ2xvYmFsU3RhdGUua2V5ZG93blRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXIsIHtcbiAgICAgICAgY2FwdHVyZTogZ2xvYmFsU3RhdGUua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZVxuICAgICAgfSk7XG4gICAgICBnbG9iYWxTdGF0ZS5rZXlkb3duSGFuZGxlckFkZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5jcmVtZW50XG4gICAqL1xuICBjb25zdCBzZXRGb2N1cyA9IChpbmRleCwgaW5jcmVtZW50KSA9PiB7XG4gICAgdmFyIF9kb20kZ2V0UG9wdXA7XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cygpO1xuICAgIC8vIHNlYXJjaCBmb3IgdmlzaWJsZSBlbGVtZW50cyBhbmQgc2VsZWN0IHRoZSBuZXh0IHBvc3NpYmxlIG1hdGNoXG4gICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgaW5kZXggPSBpbmRleCArIGluY3JlbWVudDtcblxuICAgICAgLy8gcm9sbG92ZXIgdG8gZmlyc3QgaXRlbVxuICAgICAgaWYgKGluZGV4ID09PSBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXggPSAwO1xuXG4gICAgICAgIC8vIGdvIHRvIGxhc3QgaXRlbVxuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgaW5kZXggPSBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgICAgZm9jdXNhYmxlRWxlbWVudHNbaW5kZXhdLmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG5vIHZpc2libGUgZm9jdXNhYmxlIGVsZW1lbnRzLCBmb2N1cyB0aGUgcG9wdXBcbiAgICAoX2RvbSRnZXRQb3B1cCA9IGdldFBvcHVwKCkpID09PSBudWxsIHx8IF9kb20kZ2V0UG9wdXAgPT09IHZvaWQgMCB8fCBfZG9tJGdldFBvcHVwLmZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IGFycm93S2V5c05leHRCdXR0b24gPSBbJ0Fycm93UmlnaHQnLCAnQXJyb3dEb3duJ107XG4gIGNvbnN0IGFycm93S2V5c1ByZXZpb3VzQnV0dG9uID0gWydBcnJvd0xlZnQnLCAnQXJyb3dVcCddO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc21pc3NXaXRoXG4gICAqL1xuICBjb25zdCBrZXlkb3duSGFuZGxlciA9IChpbm5lclBhcmFtcywgZXZlbnQsIGRpc21pc3NXaXRoKSA9PiB7XG4gICAgaWYgKCFpbm5lclBhcmFtcykge1xuICAgICAgcmV0dXJuOyAvLyBUaGlzIGluc3RhbmNlIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkXG4gICAgfVxuXG4gICAgLy8gSWdub3JlIGtleWRvd24gZHVyaW5nIElNRSBjb21wb3NpdGlvblxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9rZXlkb3duX2V2ZW50I2lnbm9yaW5nX2tleWRvd25fZHVyaW5nX2ltZV9jb21wb3NpdGlvblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9pc3N1ZXMvNzIwXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL2lzc3Vlcy8yNDA2XG4gICAgaWYgKGV2ZW50LmlzQ29tcG9zaW5nIHx8IGV2ZW50LmtleUNvZGUgPT09IDIyOSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5uZXJQYXJhbXMuc3RvcEtleWRvd25Qcm9wYWdhdGlvbikge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gRU5URVJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBoYW5kbGVFbnRlcihldmVudCwgaW5uZXJQYXJhbXMpO1xuICAgIH1cblxuICAgIC8vIFRBQlxuICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIHtcbiAgICAgIGhhbmRsZVRhYihldmVudCk7XG4gICAgfVxuXG4gICAgLy8gQVJST1dTIC0gc3dpdGNoIGZvY3VzIGJldHdlZW4gYnV0dG9uc1xuICAgIGVsc2UgaWYgKFsuLi5hcnJvd0tleXNOZXh0QnV0dG9uLCAuLi5hcnJvd0tleXNQcmV2aW91c0J1dHRvbl0uaW5jbHVkZXMoZXZlbnQua2V5KSkge1xuICAgICAgaGFuZGxlQXJyb3dzKGV2ZW50LmtleSk7XG4gICAgfVxuXG4gICAgLy8gRVNDXG4gICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaGFuZGxlRXNjKGV2ZW50LCBpbm5lclBhcmFtcywgZGlzbWlzc1dpdGgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKi9cbiAgY29uc3QgaGFuZGxlRW50ZXIgPSAoZXZlbnQsIGlubmVyUGFyYW1zKSA9PiB7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL2lzc3Vlcy8yMzg2XG4gICAgaWYgKCFjYWxsSWZGdW5jdGlvbihpbm5lclBhcmFtcy5hbGxvd0VudGVyS2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IGdldElucHV0JDEoZ2V0UG9wdXAoKSwgaW5uZXJQYXJhbXMuaW5wdXQpO1xuICAgIGlmIChldmVudC50YXJnZXQgJiYgaW5wdXQgJiYgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgZXZlbnQudGFyZ2V0Lm91dGVySFRNTCA9PT0gaW5wdXQub3V0ZXJIVE1MKSB7XG4gICAgICBpZiAoWyd0ZXh0YXJlYScsICdmaWxlJ10uaW5jbHVkZXMoaW5uZXJQYXJhbXMuaW5wdXQpKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG8gbm90IHN1Ym1pdFxuICAgICAgfVxuICAgICAgY2xpY2tDb25maXJtKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKi9cbiAgY29uc3QgaGFuZGxlVGFiID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cygpO1xuICAgIGxldCBidG5JbmRleCA9IC0xO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0YXJnZXRFbGVtZW50ID09PSBmb2N1c2FibGVFbGVtZW50c1tpXSkge1xuICAgICAgICBidG5JbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN5Y2xlIHRvIHRoZSBuZXh0IGJ1dHRvblxuICAgIGlmICghZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIHNldEZvY3VzKGJ0bkluZGV4LCAxKTtcbiAgICB9XG5cbiAgICAvLyBDeWNsZSB0byB0aGUgcHJldiBidXR0b25cbiAgICBlbHNlIHtcbiAgICAgIHNldEZvY3VzKGJ0bkluZGV4LCAtMSk7XG4gICAgfVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICovXG4gIGNvbnN0IGhhbmRsZUFycm93cyA9IGtleSA9PiB7XG4gICAgY29uc3QgYWN0aW9ucyA9IGdldEFjdGlvbnMoKTtcbiAgICBjb25zdCBjb25maXJtQnV0dG9uID0gZ2V0Q29uZmlybUJ1dHRvbigpO1xuICAgIGNvbnN0IGRlbnlCdXR0b24gPSBnZXREZW55QnV0dG9uKCk7XG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gZ2V0Q2FuY2VsQnV0dG9uKCk7XG4gICAgaWYgKCFhY3Rpb25zIHx8ICFjb25maXJtQnV0dG9uIHx8ICFkZW55QnV0dG9uIHx8ICFjYW5jZWxCdXR0b24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqIEB0eXBlIEhUTUxFbGVtZW50W10gKi9cbiAgICBjb25zdCBidXR0b25zID0gW2NvbmZpcm1CdXR0b24sIGRlbnlCdXR0b24sIGNhbmNlbEJ1dHRvbl07XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAhYnV0dG9ucy5pbmNsdWRlcyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaWJsaW5nID0gYXJyb3dLZXlzTmV4dEJ1dHRvbi5pbmNsdWRlcyhrZXkpID8gJ25leHRFbGVtZW50U2libGluZycgOiAncHJldmlvdXNFbGVtZW50U2libGluZyc7XG4gICAgbGV0IGJ1dHRvblRvRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIGlmICghYnV0dG9uVG9Gb2N1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGlvbnMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJ1dHRvblRvRm9jdXMgPSBidXR0b25Ub0ZvY3VzW3NpYmxpbmddO1xuICAgICAgaWYgKCFidXR0b25Ub0ZvY3VzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChidXR0b25Ub0ZvY3VzIGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgJiYgaXNWaXNpYmxlJDEoYnV0dG9uVG9Gb2N1cykpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChidXR0b25Ub0ZvY3VzIGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQpIHtcbiAgICAgIGJ1dHRvblRvRm9jdXMuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gaW5uZXJQYXJhbXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzbWlzc1dpdGhcbiAgICovXG4gIGNvbnN0IGhhbmRsZUVzYyA9IChldmVudCwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKSA9PiB7XG4gICAgaWYgKGNhbGxJZkZ1bmN0aW9uKGlubmVyUGFyYW1zLmFsbG93RXNjYXBlS2V5KSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGRpc21pc3NXaXRoKERpc21pc3NSZWFzb24uZXNjKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgbW9kdWxlIGNvbnRhaW5zIGBXZWFrTWFwYHMgZm9yIGVhY2ggZWZmZWN0aXZlbHktXCJwcml2YXRlICBwcm9wZXJ0eVwiIHRoYXQgYSBgU3dhbGAgaGFzLlxuICAgKiBGb3IgZXhhbXBsZSwgdG8gc2V0IHRoZSBwcml2YXRlIHByb3BlcnR5IFwiZm9vXCIgb2YgYHRoaXNgIHRvIFwiYmFyXCIsIHlvdSBjYW4gYHByaXZhdGVQcm9wcy5mb28uc2V0KHRoaXMsICdiYXInKWBcbiAgICogVGhpcyBpcyB0aGUgYXBwcm9hY2ggdGhhdCBCYWJlbCB3aWxsIHByb2JhYmx5IHRha2UgdG8gaW1wbGVtZW50IHByaXZhdGUgbWV0aG9kcy9maWVsZHNcbiAgICogICBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcml2YXRlLW1ldGhvZHNcbiAgICogICBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvcHVsbC83NTU1XG4gICAqIE9uY2Ugd2UgaGF2ZSB0aGUgY2hhbmdlcyBmcm9tIHRoYXQgUFIgaW4gQmFiZWwsIGFuZCBvdXIgY29yZSBjbGFzcyBmaXRzIHJlYXNvbmFibGUgaW4gKm9uZSBtb2R1bGUqXG4gICAqICAgdGhlbiB3ZSBjYW4gdXNlIHRoYXQgbGFuZ3VhZ2UgZmVhdHVyZS5cbiAgICovXG5cbiAgdmFyIHByaXZhdGVNZXRob2RzID0ge1xuICAgIHN3YWxQcm9taXNlUmVzb2x2ZTogbmV3IFdlYWtNYXAoKSxcbiAgICBzd2FsUHJvbWlzZVJlamVjdDogbmV3IFdlYWtNYXAoKVxuICB9O1xuXG4gIC8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIucGFjaWVsbG9ncm91cC5jb20vYmxvZy8yMDE4LzA2L3RoZS1jdXJyZW50LXN0YXRlLW9mLW1vZGFsLWRpYWxvZy1hY2Nlc3NpYmlsaXR5L1xuICAvLyBBZGRpbmcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdG8gZWxlbWVudHMgb3V0c2lkZSBvZiB0aGUgYWN0aXZlIG1vZGFsIGRpYWxvZyBlbnN1cmVzIHRoYXRcbiAgLy8gZWxlbWVudHMgbm90IHdpdGhpbiB0aGUgYWN0aXZlIG1vZGFsIGRpYWxvZyB3aWxsIG5vdCBiZSBzdXJmYWNlZCBpZiBhIHVzZXIgb3BlbnMgYSBzY3JlZW5cbiAgLy8gcmVhZGVy4oCZcyBsaXN0IG9mIGVsZW1lbnRzIChoZWFkaW5ncywgZm9ybSBjb250cm9scywgbGFuZG1hcmtzLCBldGMuKSBpbiB0aGUgZG9jdW1lbnQuXG5cbiAgY29uc3Qgc2V0QXJpYUhpZGRlbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIoKTtcbiAgICBjb25zdCBib2R5Q2hpbGRyZW4gPSBBcnJheS5mcm9tKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgIGJvZHlDaGlsZHJlbi5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmIChlbC5jb250YWlucyhjb250YWluZXIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJykpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuJywgZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpIHx8ICcnKTtcbiAgICAgIH1cbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCB1bnNldEFyaWFIaWRkZW4gPSAoKSA9PiB7XG4gICAgY29uc3QgYm9keUNoaWxkcmVuID0gQXJyYXkuZnJvbShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICBib2R5Q2hpbGRyZW4uZm9yRWFjaChlbCA9PiB7XG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuJykpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbicpIHx8ICcnKTtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBjb25zdCBpc1NhZmFyaU9ySU9TID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgISF3aW5kb3cuR2VzdHVyZUV2ZW50OyAvLyB0cnVlIGZvciBTYWZhcmkgZGVza3RvcCArIGFsbCBpT1MgYnJvd3NlcnMgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzcwNTg1Mzk0XG5cbiAgLyoqXG4gICAqIEZpeCBpT1Mgc2Nyb2xsaW5nXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzM5NjI2MzAyXG4gICAqL1xuICBjb25zdCBpT1NmaXggPSAoKSA9PiB7XG4gICAgaWYgKGlzU2FmYXJpT3JJT1MgJiYgIWhhc0NsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzLmlvc2ZpeCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSBgJHtvZmZzZXQgKiAtMX1weGA7XG4gICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBzd2FsQ2xhc3Nlcy5pb3NmaXgpO1xuICAgICAgbG9ja0JvZHlTY3JvbGwoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9pc3N1ZXMvMTI0NlxuICAgKi9cbiAgY29uc3QgbG9ja0JvZHlTY3JvbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIGxldCBwcmV2ZW50VG91Y2hNb3ZlO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZXZlbnRcbiAgICAgKi9cbiAgICBjb250YWluZXIub250b3VjaHN0YXJ0ID0gZXZlbnQgPT4ge1xuICAgICAgcHJldmVudFRvdWNoTW92ZSA9IHNob3VsZFByZXZlbnRUb3VjaE1vdmUoZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudFxuICAgICAqL1xuICAgIGNvbnRhaW5lci5vbnRvdWNobW92ZSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChwcmV2ZW50VG91Y2hNb3ZlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZXZlbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjb25zdCBzaG91bGRQcmV2ZW50VG91Y2hNb3ZlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIoKTtcbiAgICBjb25zdCBodG1sQ29udGFpbmVyID0gZ2V0SHRtbENvbnRhaW5lcigpO1xuICAgIGlmICghY29udGFpbmVyIHx8ICFodG1sQ29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc1N0eWx1cyhldmVudCkgfHwgaXNab29tKGV2ZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0ID09PSBjb250YWluZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWlzU2Nyb2xsYWJsZShjb250YWluZXIpICYmIHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnICYmXG4gICAgLy8gIzE2MDNcbiAgICB0YXJnZXQudGFnTmFtZSAhPT0gJ1RFWFRBUkVBJyAmJlxuICAgIC8vICMyMjY2XG4gICAgIShpc1Njcm9sbGFibGUoaHRtbENvbnRhaW5lcikgJiZcbiAgICAvLyAjMTk0NFxuICAgIGh0bWxDb250YWluZXIuY29udGFpbnModGFyZ2V0KSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9pc3N1ZXMvMTc4NlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGV2ZW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNTdHlsdXMgPSBldmVudCA9PiB7XG4gICAgcmV0dXJuIGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggJiYgZXZlbnQudG91Y2hlc1swXS50b3VjaFR5cGUgPT09ICdzdHlsdXMnO1xuICB9O1xuXG4gIC8qKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvaXNzdWVzLzE4OTFcbiAgICpcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGlzWm9vbSA9IGV2ZW50ID0+IHtcbiAgICByZXR1cm4gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA+IDE7XG4gIH07XG4gIGNvbnN0IHVuZG9JT1NmaXggPSAoKSA9PiB7XG4gICAgaWYgKGhhc0NsYXNzKGRvY3VtZW50LmJvZHksIHN3YWxDbGFzc2VzLmlvc2ZpeCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUudG9wLCAxMCk7XG4gICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCBzd2FsQ2xhc3Nlcy5pb3NmaXgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gb2Zmc2V0ICogLTE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNZWFzdXJlIHNjcm9sbGJhciB3aWR0aCBmb3IgcGFkZGluZyBib2R5IGR1cmluZyBtb2RhbCBzaG93L2hpZGVcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL2pzL3NyYy9tb2RhbC5qc1xuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgY29uc3QgbWVhc3VyZVNjcm9sbGJhciA9ICgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gc3dhbENsYXNzZXNbJ3Njcm9sbGJhci1tZWFzdXJlJ107XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICAgIGNvbnN0IHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbWVtYmVyIHN0YXRlIGluIGNhc2VzIHdoZXJlIG9wZW5pbmcgYW5kIGhhbmRsaW5nIGEgbW9kYWwgd2lsbCBmaWRkbGUgd2l0aCBpdC5cbiAgICogQHR5cGUge251bWJlciB8IG51bGx9XG4gICAqL1xuICBsZXQgcHJldmlvdXNCb2R5UGFkZGluZyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbml0aWFsQm9keU92ZXJmbG93XG4gICAqL1xuICBjb25zdCByZXBsYWNlU2Nyb2xsYmFyV2l0aFBhZGRpbmcgPSBpbml0aWFsQm9keU92ZXJmbG93ID0+IHtcbiAgICAvLyBmb3IgcXVldWVzLCBkbyBub3QgZG8gdGhpcyBtb3JlIHRoYW4gb25jZVxuICAgIGlmIChwcmV2aW91c0JvZHlQYWRkaW5nICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBib2R5IGhhcyBvdmVyZmxvd1xuICAgIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCB8fCBpbml0aWFsQm9keU92ZXJmbG93ID09PSAnc2Nyb2xsJyAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvaXNzdWVzLzI2NjNcbiAgICApIHtcbiAgICAgIC8vIGFkZCBwYWRkaW5nIHNvIHRoZSBjb250ZW50IGRvZXNuJ3Qgc2hpZnQgYWZ0ZXIgcmVtb3ZhbCBvZiBzY3JvbGxiYXJcbiAgICAgIHByZXZpb3VzQm9keVBhZGRpbmcgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXJpZ2h0JykpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHtwcmV2aW91c0JvZHlQYWRkaW5nICsgbWVhc3VyZVNjcm9sbGJhcigpfXB4YDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVuZG9SZXBsYWNlU2Nyb2xsYmFyV2l0aFBhZGRpbmcgPSAoKSA9PiB7XG4gICAgaWYgKHByZXZpb3VzQm9keVBhZGRpbmcgIT09IG51bGwpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYCR7cHJldmlvdXNCb2R5UGFkZGluZ31weGA7XG4gICAgICBwcmV2aW91c0JvZHlQYWRkaW5nID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV0dXJuRm9jdXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlkQ2xvc2VcbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZVBvcHVwQW5kUmVzZXRTdGF0ZShpbnN0YW5jZSwgY29udGFpbmVyLCByZXR1cm5Gb2N1cywgZGlkQ2xvc2UpIHtcbiAgICBpZiAoaXNUb2FzdCgpKSB7XG4gICAgICB0cmlnZ2VyRGlkQ2xvc2VBbmREaXNwb3NlKGluc3RhbmNlLCBkaWRDbG9zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RvcmVBY3RpdmVFbGVtZW50KHJldHVybkZvY3VzKS50aGVuKCgpID0+IHRyaWdnZXJEaWRDbG9zZUFuZERpc3Bvc2UoaW5zdGFuY2UsIGRpZENsb3NlKSk7XG4gICAgICByZW1vdmVLZXlkb3duSGFuZGxlcihnbG9iYWxTdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL2lzc3Vlcy8yMDg4XG4gICAgLy8gZm9yIHNvbWUgcmVhc29uIHJlbW92aW5nIHRoZSBjb250YWluZXIgaW4gU2FmYXJpIHdpbGwgc2Nyb2xsIHRoZSBkb2N1bWVudCB0byBib3R0b21cbiAgICBpZiAoaXNTYWZhcmlPcklPUykge1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lICFpbXBvcnRhbnQnKTtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKGlzTW9kYWwoKSkge1xuICAgICAgdW5kb1JlcGxhY2VTY3JvbGxiYXJXaXRoUGFkZGluZygpO1xuICAgICAgdW5kb0lPU2ZpeCgpO1xuICAgICAgdW5zZXRBcmlhSGlkZGVuKCk7XG4gICAgfVxuICAgIHJlbW92ZUJvZHlDbGFzc2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIFN3ZWV0QWxlcnQyIGNsYXNzZXMgZnJvbSBib2R5XG4gICAqL1xuICBmdW5jdGlvbiByZW1vdmVCb2R5Q2xhc3NlcygpIHtcbiAgICByZW1vdmVDbGFzcyhbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSwgW3N3YWxDbGFzc2VzLnNob3duLCBzd2FsQ2xhc3Nlc1snaGVpZ2h0LWF1dG8nXSwgc3dhbENsYXNzZXNbJ25vLWJhY2tkcm9wJ10sIHN3YWxDbGFzc2VzWyd0b2FzdC1zaG93biddXSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zdGFuY2UgbWV0aG9kIHRvIGNsb3NlIHN3ZWV0QWxlcnRcbiAgICpcbiAgICogQHBhcmFtIHthbnl9IHJlc29sdmVWYWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gY2xvc2UocmVzb2x2ZVZhbHVlKSB7XG4gICAgcmVzb2x2ZVZhbHVlID0gcHJlcGFyZVJlc29sdmVWYWx1ZShyZXNvbHZlVmFsdWUpO1xuICAgIGNvbnN0IHN3YWxQcm9taXNlUmVzb2x2ZSA9IHByaXZhdGVNZXRob2RzLnN3YWxQcm9taXNlUmVzb2x2ZS5nZXQodGhpcyk7XG4gICAgY29uc3QgZGlkQ2xvc2UgPSB0cmlnZ2VyQ2xvc2VQb3B1cCh0aGlzKTtcbiAgICBpZiAodGhpcy5pc0F3YWl0aW5nUHJvbWlzZSkge1xuICAgICAgLy8gQSBzd2FsIGF3YWl0aW5nIGZvciBhIHByb21pc2UgKGFmdGVyIGEgY2xpY2sgb24gQ29uZmlybSBvciBEZW55KSBjYW5ub3QgYmUgZGlzbWlzc2VkIGFueW1vcmUgIzIzMzVcbiAgICAgIGlmICghcmVzb2x2ZVZhbHVlLmlzRGlzbWlzc2VkKSB7XG4gICAgICAgIGhhbmRsZUF3YWl0aW5nUHJvbWlzZSh0aGlzKTtcbiAgICAgICAgc3dhbFByb21pc2VSZXNvbHZlKHJlc29sdmVWYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaWRDbG9zZSkge1xuICAgICAgLy8gUmVzb2x2ZSBTd2FsIHByb21pc2VcbiAgICAgIHN3YWxQcm9taXNlUmVzb2x2ZShyZXNvbHZlVmFsdWUpO1xuICAgIH1cbiAgfVxuICBjb25zdCB0cmlnZ2VyQ2xvc2VQb3B1cCA9IGluc3RhbmNlID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UpO1xuICAgIGlmICghaW5uZXJQYXJhbXMgfHwgaGFzQ2xhc3MocG9wdXAsIGlubmVyUGFyYW1zLmhpZGVDbGFzcy5wb3B1cCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3MocG9wdXAsIGlubmVyUGFyYW1zLnNob3dDbGFzcy5wb3B1cCk7XG4gICAgYWRkQ2xhc3MocG9wdXAsIGlubmVyUGFyYW1zLmhpZGVDbGFzcy5wb3B1cCk7XG4gICAgY29uc3QgYmFja2Ryb3AgPSBnZXRDb250YWluZXIoKTtcbiAgICByZW1vdmVDbGFzcyhiYWNrZHJvcCwgaW5uZXJQYXJhbXMuc2hvd0NsYXNzLmJhY2tkcm9wKTtcbiAgICBhZGRDbGFzcyhiYWNrZHJvcCwgaW5uZXJQYXJhbXMuaGlkZUNsYXNzLmJhY2tkcm9wKTtcbiAgICBoYW5kbGVQb3B1cEFuaW1hdGlvbihpbnN0YW5jZSwgcG9wdXAsIGlubmVyUGFyYW1zKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHthbnl9IGVycm9yXG4gICAqL1xuICBmdW5jdGlvbiByZWplY3RQcm9taXNlKGVycm9yKSB7XG4gICAgY29uc3QgcmVqZWN0UHJvbWlzZSA9IHByaXZhdGVNZXRob2RzLnN3YWxQcm9taXNlUmVqZWN0LmdldCh0aGlzKTtcbiAgICBoYW5kbGVBd2FpdGluZ1Byb21pc2UodGhpcyk7XG4gICAgaWYgKHJlamVjdFByb21pc2UpIHtcbiAgICAgIC8vIFJlamVjdCBTd2FsIHByb21pc2VcbiAgICAgIHJlamVjdFByb21pc2UoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqL1xuICBjb25zdCBoYW5kbGVBd2FpdGluZ1Byb21pc2UgPSBpbnN0YW5jZSA9PiB7XG4gICAgaWYgKGluc3RhbmNlLmlzQXdhaXRpbmdQcm9taXNlKSB7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuaXNBd2FpdGluZ1Byb21pc2U7XG4gICAgICAvLyBUaGUgaW5zdGFuY2UgbWlnaHQgaGF2ZSBiZWVuIHByZXZpb3VzbHkgcGFydGx5IGRlc3Ryb3llZCwgd2UgbXVzdCByZXN1bWUgdGhlIGRlc3Ryb3kgcHJvY2VzcyBpbiB0aGlzIGNhc2UgIzIzMzVcbiAgICAgIGlmICghcHJpdmF0ZVByb3BzLmlubmVyUGFyYW1zLmdldChpbnN0YW5jZSkpIHtcbiAgICAgICAgaW5zdGFuY2UuX2Rlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7YW55fSByZXNvbHZlVmFsdWVcbiAgICogQHJldHVybnMge1N3ZWV0QWxlcnRSZXN1bHR9XG4gICAqL1xuICBjb25zdCBwcmVwYXJlUmVzb2x2ZVZhbHVlID0gcmVzb2x2ZVZhbHVlID0+IHtcbiAgICAvLyBXaGVuIHVzZXIgY2FsbHMgU3dhbC5jbG9zZSgpXG4gICAgaWYgKHR5cGVvZiByZXNvbHZlVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc0NvbmZpcm1lZDogZmFsc2UsXG4gICAgICAgIGlzRGVuaWVkOiBmYWxzZSxcbiAgICAgICAgaXNEaXNtaXNzZWQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgIGlzQ29uZmlybWVkOiBmYWxzZSxcbiAgICAgIGlzRGVuaWVkOiBmYWxzZSxcbiAgICAgIGlzRGlzbWlzc2VkOiBmYWxzZVxuICAgIH0sIHJlc29sdmVWYWx1ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wdXBcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gaW5uZXJQYXJhbXNcbiAgICovXG4gIGNvbnN0IGhhbmRsZVBvcHVwQW5pbWF0aW9uID0gKGluc3RhbmNlLCBwb3B1cCwgaW5uZXJQYXJhbXMpID0+IHtcbiAgICB2YXIgX2dsb2JhbFN0YXRlJGV2ZW50RW1pO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuICAgIC8vIElmIGFuaW1hdGlvbiBpcyBzdXBwb3J0ZWQsIGFuaW1hdGVcbiAgICBjb25zdCBhbmltYXRpb25Jc1N1cHBvcnRlZCA9IGhhc0Nzc0FuaW1hdGlvbihwb3B1cCk7XG4gICAgaWYgKHR5cGVvZiBpbm5lclBhcmFtcy53aWxsQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlubmVyUGFyYW1zLndpbGxDbG9zZShwb3B1cCk7XG4gICAgfVxuICAgIChfZ2xvYmFsU3RhdGUkZXZlbnRFbWkgPSBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIpID09PSBudWxsIHx8IF9nbG9iYWxTdGF0ZSRldmVudEVtaSA9PT0gdm9pZCAwIHx8IF9nbG9iYWxTdGF0ZSRldmVudEVtaS5lbWl0KCd3aWxsQ2xvc2UnLCBwb3B1cCk7XG4gICAgaWYgKGFuaW1hdGlvbklzU3VwcG9ydGVkKSB7XG4gICAgICBhbmltYXRlUG9wdXAoaW5zdGFuY2UsIHBvcHVwLCBjb250YWluZXIsIGlubmVyUGFyYW1zLnJldHVybkZvY3VzLCBpbm5lclBhcmFtcy5kaWRDbG9zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSwgcmVtb3ZlIGltbWVkaWF0ZWx5XG4gICAgICByZW1vdmVQb3B1cEFuZFJlc2V0U3RhdGUoaW5zdGFuY2UsIGNvbnRhaW5lciwgaW5uZXJQYXJhbXMucmV0dXJuRm9jdXMsIGlubmVyUGFyYW1zLmRpZENsb3NlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wdXBcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV0dXJuRm9jdXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlkQ2xvc2VcbiAgICovXG4gIGNvbnN0IGFuaW1hdGVQb3B1cCA9IChpbnN0YW5jZSwgcG9wdXAsIGNvbnRhaW5lciwgcmV0dXJuRm9jdXMsIGRpZENsb3NlKSA9PiB7XG4gICAgZ2xvYmFsU3RhdGUuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrID0gcmVtb3ZlUG9wdXBBbmRSZXNldFN0YXRlLmJpbmQobnVsbCwgaW5zdGFuY2UsIGNvbnRhaW5lciwgcmV0dXJuRm9jdXMsIGRpZENsb3NlKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FuaW1hdGlvbkV2ZW50IHwgVHJhbnNpdGlvbkV2ZW50fSBlXG4gICAgICovXG4gICAgY29uc3Qgc3dhbENsb3NlQW5pbWF0aW9uRmluaXNoZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBwb3B1cCkge1xuICAgICAgICB2YXIgX2dsb2JhbFN0YXRlJHN3YWxDbG9zO1xuICAgICAgICAoX2dsb2JhbFN0YXRlJHN3YWxDbG9zID0gZ2xvYmFsU3RhdGUuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKSA9PT0gbnVsbCB8fCBfZ2xvYmFsU3RhdGUkc3dhbENsb3MgPT09IHZvaWQgMCB8fCBfZ2xvYmFsU3RhdGUkc3dhbENsb3MuY2FsbChnbG9iYWxTdGF0ZSk7XG4gICAgICAgIGRlbGV0ZSBnbG9iYWxTdGF0ZS5zd2FsQ2xvc2VFdmVudEZpbmlzaGVkQ2FsbGJhY2s7XG4gICAgICAgIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHN3YWxDbG9zZUFuaW1hdGlvbkZpbmlzaGVkKTtcbiAgICAgICAgcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3YWxDbG9zZUFuaW1hdGlvbkZpbmlzaGVkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHN3YWxDbG9zZUFuaW1hdGlvbkZpbmlzaGVkKTtcbiAgICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dhbENsb3NlQW5pbWF0aW9uRmluaXNoZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpZENsb3NlXG4gICAqL1xuICBjb25zdCB0cmlnZ2VyRGlkQ2xvc2VBbmREaXNwb3NlID0gKGluc3RhbmNlLCBkaWRDbG9zZSkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdmFyIF9nbG9iYWxTdGF0ZSRldmVudEVtaTI7XG4gICAgICBpZiAodHlwZW9mIGRpZENsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRpZENsb3NlLmJpbmQoaW5zdGFuY2UucGFyYW1zKSgpO1xuICAgICAgfVxuICAgICAgKF9nbG9iYWxTdGF0ZSRldmVudEVtaTIgPSBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIpID09PSBudWxsIHx8IF9nbG9iYWxTdGF0ZSRldmVudEVtaTIgPT09IHZvaWQgMCB8fCBfZ2xvYmFsU3RhdGUkZXZlbnRFbWkyLmVtaXQoJ2RpZENsb3NlJyk7XG4gICAgICAvLyBpbnN0YW5jZSBtaWdodCBoYXZlIGJlZW4gZGVzdHJveWVkIGFscmVhZHlcbiAgICAgIGlmIChpbnN0YW5jZS5fZGVzdHJveSkge1xuICAgICAgICBpbnN0YW5jZS5fZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTaG93cyBsb2FkZXIgKHNwaW5uZXIpLCB0aGlzIGlzIHVzZWZ1bCB3aXRoIEFKQVggcmVxdWVzdHMuXG4gICAqIEJ5IGRlZmF1bHQgdGhlIGxvYWRlciBiZSBzaG93biBpbnN0ZWFkIG9mIHRoZSBcIkNvbmZpcm1cIiBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsfSBbYnV0dG9uVG9SZXBsYWNlXVxuICAgKi9cbiAgY29uc3Qgc2hvd0xvYWRpbmcgPSBidXR0b25Ub1JlcGxhY2UgPT4ge1xuICAgIGxldCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCkge1xuICAgICAgbmV3IFN3YWwoKTtcbiAgICB9XG4gICAgcG9wdXAgPSBnZXRQb3B1cCgpO1xuICAgIGlmICghcG9wdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbG9hZGVyID0gZ2V0TG9hZGVyKCk7XG4gICAgaWYgKGlzVG9hc3QoKSkge1xuICAgICAgaGlkZShnZXRJY29uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlQnV0dG9uKHBvcHVwLCBidXR0b25Ub1JlcGxhY2UpO1xuICAgIH1cbiAgICBzaG93KGxvYWRlcik7XG4gICAgcG9wdXAuc2V0QXR0cmlidXRlKCdkYXRhLWxvYWRpbmcnLCAndHJ1ZScpO1xuICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1idXN5JywgJ3RydWUnKTtcbiAgICBwb3B1cC5mb2N1cygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3B1cFxuICAgKiBAcGFyYW0ge0hUTUxCdXR0b25FbGVtZW50IHwgbnVsbH0gW2J1dHRvblRvUmVwbGFjZV1cbiAgICovXG4gIGNvbnN0IHJlcGxhY2VCdXR0b24gPSAocG9wdXAsIGJ1dHRvblRvUmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBnZXRBY3Rpb25zKCk7XG4gICAgY29uc3QgbG9hZGVyID0gZ2V0TG9hZGVyKCk7XG4gICAgaWYgKCFhY3Rpb25zIHx8ICFsb2FkZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFidXR0b25Ub1JlcGxhY2UgJiYgaXNWaXNpYmxlJDEoZ2V0Q29uZmlybUJ1dHRvbigpKSkge1xuICAgICAgYnV0dG9uVG9SZXBsYWNlID0gZ2V0Q29uZmlybUJ1dHRvbigpO1xuICAgIH1cbiAgICBzaG93KGFjdGlvbnMpO1xuICAgIGlmIChidXR0b25Ub1JlcGxhY2UpIHtcbiAgICAgIGhpZGUoYnV0dG9uVG9SZXBsYWNlKTtcbiAgICAgIGxvYWRlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtYnV0dG9uLXRvLXJlcGxhY2UnLCBidXR0b25Ub1JlcGxhY2UuY2xhc3NOYW1lKTtcbiAgICAgIGFjdGlvbnMuaW5zZXJ0QmVmb3JlKGxvYWRlciwgYnV0dG9uVG9SZXBsYWNlKTtcbiAgICB9XG4gICAgYWRkQ2xhc3MoW3BvcHVwLCBhY3Rpb25zXSwgc3dhbENsYXNzZXMubG9hZGluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBoYW5kbGVJbnB1dE9wdGlvbnNBbmRWYWx1ZSA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgaWYgKHBhcmFtcy5pbnB1dCA9PT0gJ3NlbGVjdCcgfHwgcGFyYW1zLmlucHV0ID09PSAncmFkaW8nKSB7XG4gICAgICBoYW5kbGVJbnB1dE9wdGlvbnMoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgfSBlbHNlIGlmIChbJ3RleHQnLCAnZW1haWwnLCAnbnVtYmVyJywgJ3RlbCcsICd0ZXh0YXJlYSddLnNvbWUoaSA9PiBpID09PSBwYXJhbXMuaW5wdXQpICYmIChoYXNUb1Byb21pc2VGbihwYXJhbXMuaW5wdXRWYWx1ZSkgfHwgaXNQcm9taXNlKHBhcmFtcy5pbnB1dFZhbHVlKSkpIHtcbiAgICAgIHNob3dMb2FkaW5nKGdldENvbmZpcm1CdXR0b24oKSk7XG4gICAgICBoYW5kbGVJbnB1dFZhbHVlKGluc3RhbmNlLCBwYXJhbXMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKiBAcmV0dXJucyB7U3dlZXRBbGVydElucHV0VmFsdWV9XG4gICAqL1xuICBjb25zdCBnZXRJbnB1dFZhbHVlID0gKGluc3RhbmNlLCBpbm5lclBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gaW5zdGFuY2UuZ2V0SW5wdXQoKTtcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpdGNoIChpbm5lclBhcmFtcy5pbnB1dCkge1xuICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShpbnB1dCk7XG4gICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgIHJldHVybiBnZXRSYWRpb1ZhbHVlKGlucHV0KTtcbiAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICByZXR1cm4gZ2V0RmlsZVZhbHVlKGlucHV0KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBpbm5lclBhcmFtcy5pbnB1dEF1dG9UcmltID8gaW5wdXQudmFsdWUudHJpbSgpIDogaW5wdXQudmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBjb25zdCBnZXRDaGVja2JveFZhbHVlID0gaW5wdXQgPT4gaW5wdXQuY2hlY2tlZCA/IDEgOiAwO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0XG4gICAqIEByZXR1cm5zIHtzdHJpbmcgfCBudWxsfVxuICAgKi9cbiAgY29uc3QgZ2V0UmFkaW9WYWx1ZSA9IGlucHV0ID0+IGlucHV0LmNoZWNrZWQgPyBpbnB1dC52YWx1ZSA6IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAgICogQHJldHVybnMge0ZpbGVMaXN0IHwgRmlsZSB8IG51bGx9XG4gICAqL1xuICBjb25zdCBnZXRGaWxlVmFsdWUgPSBpbnB1dCA9PiBpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlcy5sZW5ndGggPyBpbnB1dC5nZXRBdHRyaWJ1dGUoJ211bHRpcGxlJykgIT09IG51bGwgPyBpbnB1dC5maWxlcyA6IGlucHV0LmZpbGVzWzBdIDogbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0IGhhbmRsZUlucHV0T3B0aW9ucyA9IChpbnN0YW5jZSwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBnZXRQb3B1cCgpO1xuICAgIGlmICghcG9wdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBpbnB1dE9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdCBwcm9jZXNzSW5wdXRPcHRpb25zID0gaW5wdXRPcHRpb25zID0+IHtcbiAgICAgIGlmIChwYXJhbXMuaW5wdXQgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHBvcHVsYXRlU2VsZWN0T3B0aW9ucyhwb3B1cCwgZm9ybWF0SW5wdXRPcHRpb25zKGlucHV0T3B0aW9ucyksIHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5pbnB1dCA9PT0gJ3JhZGlvJykge1xuICAgICAgICBwb3B1bGF0ZVJhZGlvT3B0aW9ucyhwb3B1cCwgZm9ybWF0SW5wdXRPcHRpb25zKGlucHV0T3B0aW9ucyksIHBhcmFtcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoaGFzVG9Qcm9taXNlRm4ocGFyYW1zLmlucHV0T3B0aW9ucykgfHwgaXNQcm9taXNlKHBhcmFtcy5pbnB1dE9wdGlvbnMpKSB7XG4gICAgICBzaG93TG9hZGluZyhnZXRDb25maXJtQnV0dG9uKCkpO1xuICAgICAgYXNQcm9taXNlKHBhcmFtcy5pbnB1dE9wdGlvbnMpLnRoZW4oaW5wdXRPcHRpb25zID0+IHtcbiAgICAgICAgaW5zdGFuY2UuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgcHJvY2Vzc0lucHV0T3B0aW9ucyhpbnB1dE9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zLmlucHV0T3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHByb2Nlc3NJbnB1dE9wdGlvbnMocGFyYW1zLmlucHV0T3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yKGBVbmV4cGVjdGVkIHR5cGUgb2YgaW5wdXRPcHRpb25zISBFeHBlY3RlZCBvYmplY3QsIE1hcCBvciBQcm9taXNlLCBnb3QgJHt0eXBlb2YgcGFyYW1zLmlucHV0T3B0aW9uc31gKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBoYW5kbGVJbnB1dFZhbHVlID0gKGluc3RhbmNlLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGluc3RhbmNlLmdldElucHV0KCk7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoaWRlKGlucHV0KTtcbiAgICBhc1Byb21pc2UocGFyYW1zLmlucHV0VmFsdWUpLnRoZW4oaW5wdXRWYWx1ZSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IHBhcmFtcy5pbnB1dCA9PT0gJ251bWJlcicgPyBgJHtwYXJzZUZsb2F0KGlucHV0VmFsdWUpIHx8IDB9YCA6IGAke2lucHV0VmFsdWV9YDtcbiAgICAgIHNob3coaW5wdXQpO1xuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIGluc3RhbmNlLmhpZGVMb2FkaW5nKCk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGVycm9yKGBFcnJvciBpbiBpbnB1dFZhbHVlIHByb21pc2U6ICR7ZXJyfWApO1xuICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHNob3coaW5wdXQpO1xuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIGluc3RhbmNlLmhpZGVMb2FkaW5nKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHVwXG4gICAqIEBwYXJhbSB7SW5wdXRPcHRpb25GbGF0dGVuZWRbXX0gaW5wdXRPcHRpb25zXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKi9cbiAgZnVuY3Rpb24gcG9wdWxhdGVTZWxlY3RPcHRpb25zKHBvcHVwLCBpbnB1dE9wdGlvbnMsIHBhcmFtcykge1xuICAgIGNvbnN0IHNlbGVjdCA9IGdldERpcmVjdENoaWxkQnlDbGFzcyhwb3B1cCwgc3dhbENsYXNzZXMuc2VsZWN0KTtcbiAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uTGFiZWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uVmFsdWVcbiAgICAgKi9cbiAgICBjb25zdCByZW5kZXJPcHRpb24gPSAocGFyZW50LCBvcHRpb25MYWJlbCwgb3B0aW9uVmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3B0aW9uLnZhbHVlID0gb3B0aW9uVmFsdWU7XG4gICAgICBzZXRJbm5lckh0bWwob3B0aW9uLCBvcHRpb25MYWJlbCk7XG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpc1NlbGVjdGVkKG9wdGlvblZhbHVlLCBwYXJhbXMuaW5wdXRWYWx1ZSk7XG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9O1xuICAgIGlucHV0T3B0aW9ucy5mb3JFYWNoKGlucHV0T3B0aW9uID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gaW5wdXRPcHRpb25bMF07XG4gICAgICBjb25zdCBvcHRpb25MYWJlbCA9IGlucHV0T3B0aW9uWzFdO1xuICAgICAgLy8gPG9wdGdyb3VwPiBzcGVjOlxuICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw0MDEvaW50ZXJhY3QvZm9ybXMuaHRtbCNoLTE3LjZcbiAgICAgIC8vIFwiLi4uYWxsIE9QVEdST1VQIGVsZW1lbnRzIG11c3QgYmUgc3BlY2lmaWVkIGRpcmVjdGx5IHdpdGhpbiBhIFNFTEVDVCBlbGVtZW50IChpLmUuLCBncm91cHMgbWF5IG5vdCBiZSBuZXN0ZWQpLi4uXCJcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhpcyBpcyBhIDxvcHRncm91cD5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbkxhYmVsKSkge1xuICAgICAgICAvLyBpZiBpdCBpcyBhbiBhcnJheSwgdGhlbiBpdCBpcyBhbiA8b3B0Z3JvdXA+XG4gICAgICAgIGNvbnN0IG9wdGdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKTtcbiAgICAgICAgb3B0Z3JvdXAubGFiZWwgPSBvcHRpb25WYWx1ZTtcbiAgICAgICAgb3B0Z3JvdXAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gbm90IGNvbmZpZ3VyYWJsZSBmb3Igbm93XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRncm91cCk7XG4gICAgICAgIG9wdGlvbkxhYmVsLmZvckVhY2gobyA9PiByZW5kZXJPcHRpb24ob3B0Z3JvdXAsIG9bMV0sIG9bMF0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNhc2Ugb2YgPG9wdGlvbj5cbiAgICAgICAgcmVuZGVyT3B0aW9uKHNlbGVjdCwgb3B0aW9uTGFiZWwsIG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxlY3QuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3B1cFxuICAgKiBAcGFyYW0ge0lucHV0T3B0aW9uRmxhdHRlbmVkW119IGlucHV0T3B0aW9uc1xuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGZ1bmN0aW9uIHBvcHVsYXRlUmFkaW9PcHRpb25zKHBvcHVwLCBpbnB1dE9wdGlvbnMsIHBhcmFtcykge1xuICAgIGNvbnN0IHJhZGlvID0gZ2V0RGlyZWN0Q2hpbGRCeUNsYXNzKHBvcHVwLCBzd2FsQ2xhc3Nlcy5yYWRpbyk7XG4gICAgaWYgKCFyYWRpbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnB1dE9wdGlvbnMuZm9yRWFjaChpbnB1dE9wdGlvbiA9PiB7XG4gICAgICBjb25zdCByYWRpb1ZhbHVlID0gaW5wdXRPcHRpb25bMF07XG4gICAgICBjb25zdCByYWRpb0xhYmVsID0gaW5wdXRPcHRpb25bMV07XG4gICAgICBjb25zdCByYWRpb0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIGNvbnN0IHJhZGlvTGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIHJhZGlvSW5wdXQudHlwZSA9ICdyYWRpbyc7XG4gICAgICByYWRpb0lucHV0Lm5hbWUgPSBzd2FsQ2xhc3Nlcy5yYWRpbztcbiAgICAgIHJhZGlvSW5wdXQudmFsdWUgPSByYWRpb1ZhbHVlO1xuICAgICAgaWYgKGlzU2VsZWN0ZWQocmFkaW9WYWx1ZSwgcGFyYW1zLmlucHV0VmFsdWUpKSB7XG4gICAgICAgIHJhZGlvSW5wdXQuY2hlY2tlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHNldElubmVySHRtbChsYWJlbCwgcmFkaW9MYWJlbCk7XG4gICAgICBsYWJlbC5jbGFzc05hbWUgPSBzd2FsQ2xhc3Nlcy5sYWJlbDtcbiAgICAgIHJhZGlvTGFiZWxFbGVtZW50LmFwcGVuZENoaWxkKHJhZGlvSW5wdXQpO1xuICAgICAgcmFkaW9MYWJlbEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgcmFkaW8uYXBwZW5kQ2hpbGQocmFkaW9MYWJlbEVsZW1lbnQpO1xuICAgIH0pO1xuICAgIGNvbnN0IHJhZGlvcyA9IHJhZGlvLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgaWYgKHJhZGlvcy5sZW5ndGgpIHtcbiAgICAgIHJhZGlvc1swXS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaW5wdXRPcHRpb25zYCBpbnRvIGFuIGFycmF5IG9mIGBbdmFsdWUsIGxhYmVsXWBzXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gaW5wdXRPcHRpb25zXG4gICAqIEB0eXBlZGVmIHtzdHJpbmdbXX0gSW5wdXRPcHRpb25GbGF0dGVuZWRcbiAgICogQHJldHVybnMge0lucHV0T3B0aW9uRmxhdHRlbmVkW119XG4gICAqL1xuICBjb25zdCBmb3JtYXRJbnB1dE9wdGlvbnMgPSBpbnB1dE9wdGlvbnMgPT4ge1xuICAgIC8qKiBAdHlwZSB7SW5wdXRPcHRpb25GbGF0dGVuZWRbXX0gKi9cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBpZiAoaW5wdXRPcHRpb25zIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICBpbnB1dE9wdGlvbnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBsZXQgdmFsdWVGb3JtYXR0ZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZUZvcm1hdHRlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBjYXNlIG9mIDxvcHRncm91cD5cbiAgICAgICAgICB2YWx1ZUZvcm1hdHRlZCA9IGZvcm1hdElucHV0T3B0aW9ucyh2YWx1ZUZvcm1hdHRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2goW2tleSwgdmFsdWVGb3JtYXR0ZWRdKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3Qua2V5cyhpbnB1dE9wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGV0IHZhbHVlRm9ybWF0dGVkID0gaW5wdXRPcHRpb25zW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVGb3JtYXR0ZWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gY2FzZSBvZiA8b3B0Z3JvdXA+XG4gICAgICAgICAgdmFsdWVGb3JtYXR0ZWQgPSBmb3JtYXRJbnB1dE9wdGlvbnModmFsdWVGb3JtYXR0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKFtrZXksIHZhbHVlRm9ybWF0dGVkXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvblZhbHVlXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydElucHV0VmFsdWV9IGlucHV0VmFsdWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjb25zdCBpc1NlbGVjdGVkID0gKG9wdGlvblZhbHVlLCBpbnB1dFZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICEhaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLnRvU3RyaW5nKCkgPT09IG9wdGlvblZhbHVlLnRvU3RyaW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNvbmZpcm1CdXR0b25DbGljayA9IGluc3RhbmNlID0+IHtcbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UpO1xuICAgIGluc3RhbmNlLmRpc2FibGVCdXR0b25zKCk7XG4gICAgaWYgKGlubmVyUGFyYW1zLmlucHV0KSB7XG4gICAgICBoYW5kbGVDb25maXJtT3JEZW55V2l0aElucHV0KGluc3RhbmNlLCAnY29uZmlybScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maXJtKGluc3RhbmNlLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0IGhhbmRsZURlbnlCdXR0b25DbGljayA9IGluc3RhbmNlID0+IHtcbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UpO1xuICAgIGluc3RhbmNlLmRpc2FibGVCdXR0b25zKCk7XG4gICAgaWYgKGlubmVyUGFyYW1zLnJldHVybklucHV0VmFsdWVPbkRlbnkpIHtcbiAgICAgIGhhbmRsZUNvbmZpcm1PckRlbnlXaXRoSW5wdXQoaW5zdGFuY2UsICdkZW55Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbnkoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzbWlzc1dpdGhcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrID0gKGluc3RhbmNlLCBkaXNtaXNzV2l0aCkgPT4ge1xuICAgIGluc3RhbmNlLmRpc2FibGVCdXR0b25zKCk7XG4gICAgZGlzbWlzc1dpdGgoRGlzbWlzc1JlYXNvbi5jYW5jZWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7J2NvbmZpcm0nIHwgJ2RlbnknfSB0eXBlXG4gICAqL1xuICBjb25zdCBoYW5kbGVDb25maXJtT3JEZW55V2l0aElucHV0ID0gKGluc3RhbmNlLCB0eXBlKSA9PiB7XG4gICAgY29uc3QgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KGluc3RhbmNlKTtcbiAgICBpZiAoIWlubmVyUGFyYW1zLmlucHV0KSB7XG4gICAgICBlcnJvcihgVGhlIFwiaW5wdXRcIiBwYXJhbWV0ZXIgaXMgbmVlZGVkIHRvIGJlIHNldCB3aGVuIHVzaW5nIHJldHVybklucHV0VmFsdWVPbiR7Y2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHR5cGUpfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IGluc3RhbmNlLmdldElucHV0KCk7XG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGdldElucHV0VmFsdWUoaW5zdGFuY2UsIGlubmVyUGFyYW1zKTtcbiAgICBpZiAoaW5uZXJQYXJhbXMuaW5wdXRWYWxpZGF0b3IpIHtcbiAgICAgIGhhbmRsZUlucHV0VmFsaWRhdG9yKGluc3RhbmNlLCBpbnB1dFZhbHVlLCB0eXBlKTtcbiAgICB9IGVsc2UgaWYgKGlucHV0ICYmICFpbnB1dC5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgIGluc3RhbmNlLmVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgIGluc3RhbmNlLnNob3dWYWxpZGF0aW9uTWVzc2FnZShpbm5lclBhcmFtcy52YWxpZGF0aW9uTWVzc2FnZSB8fCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZGVueScpIHtcbiAgICAgIGRlbnkoaW5zdGFuY2UsIGlucHV0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maXJtKGluc3RhbmNlLCBpbnB1dFZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0SW5wdXRWYWx1ZX0gaW5wdXRWYWx1ZVxuICAgKiBAcGFyYW0geydjb25maXJtJyB8ICdkZW55J30gdHlwZVxuICAgKi9cbiAgY29uc3QgaGFuZGxlSW5wdXRWYWxpZGF0b3IgPSAoaW5zdGFuY2UsIGlucHV0VmFsdWUsIHR5cGUpID0+IHtcbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UpO1xuICAgIGluc3RhbmNlLmRpc2FibGVJbnB1dCgpO1xuICAgIGNvbnN0IHZhbGlkYXRpb25Qcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhc1Byb21pc2UoaW5uZXJQYXJhbXMuaW5wdXRWYWxpZGF0b3IoaW5wdXRWYWx1ZSwgaW5uZXJQYXJhbXMudmFsaWRhdGlvbk1lc3NhZ2UpKSk7XG4gICAgdmFsaWRhdGlvblByb21pc2UudGhlbih2YWxpZGF0aW9uTWVzc2FnZSA9PiB7XG4gICAgICBpbnN0YW5jZS5lbmFibGVCdXR0b25zKCk7XG4gICAgICBpbnN0YW5jZS5lbmFibGVJbnB1dCgpO1xuICAgICAgaWYgKHZhbGlkYXRpb25NZXNzYWdlKSB7XG4gICAgICAgIGluc3RhbmNlLnNob3dWYWxpZGF0aW9uTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkZW55Jykge1xuICAgICAgICBkZW55KGluc3RhbmNlLCBpbnB1dFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpcm0oaW5zdGFuY2UsIGlucHV0VmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICAgKi9cbiAgY29uc3QgZGVueSA9IChpbnN0YW5jZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UgfHwgdW5kZWZpbmVkKTtcbiAgICBpZiAoaW5uZXJQYXJhbXMuc2hvd0xvYWRlck9uRGVueSkge1xuICAgICAgc2hvd0xvYWRpbmcoZ2V0RGVueUJ1dHRvbigpKTtcbiAgICB9XG4gICAgaWYgKGlubmVyUGFyYW1zLnByZURlbnkpIHtcbiAgICAgIGluc3RhbmNlLmlzQXdhaXRpbmdQcm9taXNlID0gdHJ1ZTsgLy8gRmxhZ2dpbmcgdGhlIGluc3RhbmNlIGFzIGF3YWl0aW5nIGEgcHJvbWlzZSBzbyBpdCdzIG93biBwcm9taXNlJ3MgcmVqZWN0L3Jlc29sdmUgbWV0aG9kcyBkb2Vzbid0IGdldCBkZXN0cm95ZWQgdW50aWwgdGhlIHJlc3VsdCBmcm9tIHRoaXMgcHJlRGVueSdzIHByb21pc2UgaXMgcmVjZWl2ZWRcbiAgICAgIGNvbnN0IHByZURlbnlQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhc1Byb21pc2UoaW5uZXJQYXJhbXMucHJlRGVueSh2YWx1ZSwgaW5uZXJQYXJhbXMudmFsaWRhdGlvbk1lc3NhZ2UpKSk7XG4gICAgICBwcmVEZW55UHJvbWlzZS50aGVuKHByZURlbnlWYWx1ZSA9PiB7XG4gICAgICAgIGlmIChwcmVEZW55VmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgaW5zdGFuY2UuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICBoYW5kbGVBd2FpdGluZ1Byb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgICAgIGlzRGVuaWVkOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHR5cGVvZiBwcmVEZW55VmFsdWUgPT09ICd1bmRlZmluZWQnID8gdmFsdWUgOiBwcmVEZW55VmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gcmVqZWN0V2l0aChpbnN0YW5jZSB8fCB1bmRlZmluZWQsIGVycm9yKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgaXNEZW5pZWQ6IHRydWUsXG4gICAgICAgIHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlXG4gICAqL1xuICBjb25zdCBzdWNjZWVkV2l0aCA9IChpbnN0YW5jZSwgdmFsdWUpID0+IHtcbiAgICBpbnN0YW5jZS5jbG9zZSh7XG4gICAgICBpc0NvbmZpcm1lZDogdHJ1ZSxcbiAgICAgIHZhbHVlXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVycm9yXG4gICAqL1xuICBjb25zdCByZWplY3RXaXRoID0gKGluc3RhbmNlLCBlcnJvcikgPT4ge1xuICAgIGluc3RhbmNlLnJlamVjdFByb21pc2UoZXJyb3IpO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICAgKi9cbiAgY29uc3QgY29uZmlybSA9IChpbnN0YW5jZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBpbm5lclBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQoaW5zdGFuY2UgfHwgdW5kZWZpbmVkKTtcbiAgICBpZiAoaW5uZXJQYXJhbXMuc2hvd0xvYWRlck9uQ29uZmlybSkge1xuICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICB9XG4gICAgaWYgKGlubmVyUGFyYW1zLnByZUNvbmZpcm0pIHtcbiAgICAgIGluc3RhbmNlLnJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UoKTtcbiAgICAgIGluc3RhbmNlLmlzQXdhaXRpbmdQcm9taXNlID0gdHJ1ZTsgLy8gRmxhZ2dpbmcgdGhlIGluc3RhbmNlIGFzIGF3YWl0aW5nIGEgcHJvbWlzZSBzbyBpdCdzIG93biBwcm9taXNlJ3MgcmVqZWN0L3Jlc29sdmUgbWV0aG9kcyBkb2Vzbid0IGdldCBkZXN0cm95ZWQgdW50aWwgdGhlIHJlc3VsdCBmcm9tIHRoaXMgcHJlQ29uZmlybSdzIHByb21pc2UgaXMgcmVjZWl2ZWRcbiAgICAgIGNvbnN0IHByZUNvbmZpcm1Qcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhc1Byb21pc2UoaW5uZXJQYXJhbXMucHJlQ29uZmlybSh2YWx1ZSwgaW5uZXJQYXJhbXMudmFsaWRhdGlvbk1lc3NhZ2UpKSk7XG4gICAgICBwcmVDb25maXJtUHJvbWlzZS50aGVuKHByZUNvbmZpcm1WYWx1ZSA9PiB7XG4gICAgICAgIGlmIChpc1Zpc2libGUkMShnZXRWYWxpZGF0aW9uTWVzc2FnZSgpKSB8fCBwcmVDb25maXJtVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgaW5zdGFuY2UuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICBoYW5kbGVBd2FpdGluZ1Byb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2NlZWRXaXRoKGluc3RhbmNlLCB0eXBlb2YgcHJlQ29uZmlybVZhbHVlID09PSAndW5kZWZpbmVkJyA/IHZhbHVlIDogcHJlQ29uZmlybVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gcmVqZWN0V2l0aChpbnN0YW5jZSB8fCB1bmRlZmluZWQsIGVycm9yKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Y2NlZWRXaXRoKGluc3RhbmNlLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIaWRlcyBsb2FkZXIgYW5kIHNob3dzIGJhY2sgdGhlIGJ1dHRvbiB3aGljaCB3YXMgaGlkZGVuIGJ5IC5zaG93TG9hZGluZygpXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlTG9hZGluZygpIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIHBvcHVwIGlzIGNsb3NlZFxuICAgIGNvbnN0IGlubmVyUGFyYW1zID0gcHJpdmF0ZVByb3BzLmlubmVyUGFyYW1zLmdldCh0aGlzKTtcbiAgICBpZiAoIWlubmVyUGFyYW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldCh0aGlzKTtcbiAgICBoaWRlKGRvbUNhY2hlLmxvYWRlcik7XG4gICAgaWYgKGlzVG9hc3QoKSkge1xuICAgICAgaWYgKGlubmVyUGFyYW1zLmljb24pIHtcbiAgICAgICAgc2hvdyhnZXRJY29uKCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzaG93UmVsYXRlZEJ1dHRvbihkb21DYWNoZSk7XG4gICAgfVxuICAgIHJlbW92ZUNsYXNzKFtkb21DYWNoZS5wb3B1cCwgZG9tQ2FjaGUuYWN0aW9uc10sIHN3YWxDbGFzc2VzLmxvYWRpbmcpO1xuICAgIGRvbUNhY2hlLnBvcHVwLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1idXN5Jyk7XG4gICAgZG9tQ2FjaGUucG9wdXAucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWxvYWRpbmcnKTtcbiAgICBkb21DYWNoZS5jb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgZG9tQ2FjaGUuZGVueUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGRvbUNhY2hlLmNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IHNob3dSZWxhdGVkQnV0dG9uID0gZG9tQ2FjaGUgPT4ge1xuICAgIGNvbnN0IGJ1dHRvblRvUmVwbGFjZSA9IGRvbUNhY2hlLnBvcHVwLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZG9tQ2FjaGUubG9hZGVyLmdldEF0dHJpYnV0ZSgnZGF0YS1idXR0b24tdG8tcmVwbGFjZScpKTtcbiAgICBpZiAoYnV0dG9uVG9SZXBsYWNlLmxlbmd0aCkge1xuICAgICAgc2hvdyhidXR0b25Ub1JlcGxhY2VbMF0sICdpbmxpbmUtYmxvY2snKTtcbiAgICB9IGVsc2UgaWYgKGFsbEJ1dHRvbnNBcmVIaWRkZW4oKSkge1xuICAgICAgaGlkZShkb21DYWNoZS5hY3Rpb25zKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGlucHV0IERPTSBub2RlLCB0aGlzIG1ldGhvZCB3b3JrcyB3aXRoIGlucHV0IHBhcmFtZXRlci5cbiAgICpcbiAgICogQHJldHVybnMge0hUTUxJbnB1dEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgY29uc3QgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO1xuICAgIGNvbnN0IGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldCh0aGlzKTtcbiAgICBpZiAoIWRvbUNhY2hlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGdldElucHV0JDEoZG9tQ2FjaGUucG9wdXAsIGlubmVyUGFyYW1zLmlucHV0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnR9IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IGJ1dHRvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZFxuICAgKi9cbiAgZnVuY3Rpb24gc2V0QnV0dG9uc0Rpc2FibGVkKGluc3RhbmNlLCBidXR0b25zLCBkaXNhYmxlZCkge1xuICAgIGNvbnN0IGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldChpbnN0YW5jZSk7XG4gICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICBkb21DYWNoZVtidXR0b25dLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50IHwgbnVsbH0gaW5wdXRcbiAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZFxuICAgKi9cbiAgZnVuY3Rpb24gc2V0SW5wdXREaXNhYmxlZChpbnB1dCwgZGlzYWJsZWQpIHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKCFwb3B1cCB8fCAhaW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIC8qKiBAdHlwZSB7Tm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50Pn0gKi9cbiAgICAgIGNvbnN0IHJhZGlvcyA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoYFtuYW1lPVwiJHtzd2FsQ2xhc3Nlcy5yYWRpb31cIl1gKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFkaW9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJhZGlvc1tpXS5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgYWxsIHRoZSBidXR0b25zXG4gICAqIEB0aGlzIHtTd2VldEFsZXJ0fVxuICAgKi9cbiAgZnVuY3Rpb24gZW5hYmxlQnV0dG9ucygpIHtcbiAgICBzZXRCdXR0b25zRGlzYWJsZWQodGhpcywgWydjb25maXJtQnV0dG9uJywgJ2RlbnlCdXR0b24nLCAnY2FuY2VsQnV0dG9uJ10sIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGFsbCB0aGUgYnV0dG9uc1xuICAgKiBAdGhpcyB7U3dlZXRBbGVydH1cbiAgICovXG4gIGZ1bmN0aW9uIGRpc2FibGVCdXR0b25zKCkge1xuICAgIHNldEJ1dHRvbnNEaXNhYmxlZCh0aGlzLCBbJ2NvbmZpcm1CdXR0b24nLCAnZGVueUJ1dHRvbicsICdjYW5jZWxCdXR0b24nXSwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIHRoZSBpbnB1dCBmaWVsZFxuICAgKiBAdGhpcyB7U3dlZXRBbGVydH1cbiAgICovXG4gIGZ1bmN0aW9uIGVuYWJsZUlucHV0KCkge1xuICAgIHNldElucHV0RGlzYWJsZWQodGhpcy5nZXRJbnB1dCgpLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgaW5wdXQgZmllbGRcbiAgICogQHRoaXMge1N3ZWV0QWxlcnR9XG4gICAqL1xuICBmdW5jdGlvbiBkaXNhYmxlSW5wdXQoKSB7XG4gICAgc2V0SW5wdXREaXNhYmxlZCh0aGlzLmdldElucHV0KCksIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYmxvY2sgd2l0aCB2YWxpZGF0aW9uIG1lc3NhZ2VcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVycm9yXG4gICAqIEB0aGlzIHtTd2VldEFsZXJ0fVxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd1ZhbGlkYXRpb25NZXNzYWdlKGVycm9yKSB7XG4gICAgY29uc3QgZG9tQ2FjaGUgPSBwcml2YXRlUHJvcHMuZG9tQ2FjaGUuZ2V0KHRoaXMpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5nZXQodGhpcyk7XG4gICAgc2V0SW5uZXJIdG1sKGRvbUNhY2hlLnZhbGlkYXRpb25NZXNzYWdlLCBlcnJvcik7XG4gICAgZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2UuY2xhc3NOYW1lID0gc3dhbENsYXNzZXNbJ3ZhbGlkYXRpb24tbWVzc2FnZSddO1xuICAgIGlmIChwYXJhbXMuY3VzdG9tQ2xhc3MgJiYgcGFyYW1zLmN1c3RvbUNsYXNzLnZhbGlkYXRpb25NZXNzYWdlKSB7XG4gICAgICBhZGRDbGFzcyhkb21DYWNoZS52YWxpZGF0aW9uTWVzc2FnZSwgcGFyYW1zLmN1c3RvbUNsYXNzLnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9XG4gICAgc2hvdyhkb21DYWNoZS52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmdldElucHV0KCk7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBzd2FsQ2xhc3Nlc1sndmFsaWRhdGlvbi1tZXNzYWdlJ10pO1xuICAgICAgZm9jdXNJbnB1dChpbnB1dCk7XG4gICAgICBhZGRDbGFzcyhpbnB1dCwgc3dhbENsYXNzZXMuaW5wdXRlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgYmxvY2sgd2l0aCB2YWxpZGF0aW9uIG1lc3NhZ2VcbiAgICpcbiAgICogQHRoaXMge1N3ZWV0QWxlcnR9XG4gICAqL1xuICBmdW5jdGlvbiByZXNldFZhbGlkYXRpb25NZXNzYWdlKCkge1xuICAgIGNvbnN0IGRvbUNhY2hlID0gcHJpdmF0ZVByb3BzLmRvbUNhY2hlLmdldCh0aGlzKTtcbiAgICBpZiAoZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2UpIHtcbiAgICAgIGhpZGUoZG9tQ2FjaGUudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2V0SW5wdXQoKTtcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XG4gICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgICAgIHJlbW92ZUNsYXNzKGlucHV0LCBzd2FsQ2xhc3Nlcy5pbnB1dGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBkZWZhdWx0UGFyYW1zID0ge1xuICAgIHRpdGxlOiAnJyxcbiAgICB0aXRsZVRleHQ6ICcnLFxuICAgIHRleHQ6ICcnLFxuICAgIGh0bWw6ICcnLFxuICAgIGZvb3RlcjogJycsXG4gICAgaWNvbjogdW5kZWZpbmVkLFxuICAgIGljb25Db2xvcjogdW5kZWZpbmVkLFxuICAgIGljb25IdG1sOiB1bmRlZmluZWQsXG4gICAgdGVtcGxhdGU6IHVuZGVmaW5lZCxcbiAgICB0b2FzdDogZmFsc2UsXG4gICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgdGhlbWU6ICdsaWdodCcsXG4gICAgc2hvd0NsYXNzOiB7XG4gICAgICBwb3B1cDogJ3N3YWwyLXNob3cnLFxuICAgICAgYmFja2Ryb3A6ICdzd2FsMi1iYWNrZHJvcC1zaG93JyxcbiAgICAgIGljb246ICdzd2FsMi1pY29uLXNob3cnXG4gICAgfSxcbiAgICBoaWRlQ2xhc3M6IHtcbiAgICAgIHBvcHVwOiAnc3dhbDItaGlkZScsXG4gICAgICBiYWNrZHJvcDogJ3N3YWwyLWJhY2tkcm9wLWhpZGUnLFxuICAgICAgaWNvbjogJ3N3YWwyLWljb24taGlkZSdcbiAgICB9LFxuICAgIGN1c3RvbUNsYXNzOiB7fSxcbiAgICB0YXJnZXQ6ICdib2R5JyxcbiAgICBjb2xvcjogdW5kZWZpbmVkLFxuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGhlaWdodEF1dG86IHRydWUsXG4gICAgYWxsb3dPdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgYWxsb3dFc2NhcGVLZXk6IHRydWUsXG4gICAgYWxsb3dFbnRlcktleTogdHJ1ZSxcbiAgICBzdG9wS2V5ZG93blByb3BhZ2F0aW9uOiB0cnVlLFxuICAgIGtleWRvd25MaXN0ZW5lckNhcHR1cmU6IGZhbHNlLFxuICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLFxuICAgIHNob3dEZW55QnV0dG9uOiBmYWxzZSxcbiAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSxcbiAgICBwcmVDb25maXJtOiB1bmRlZmluZWQsXG4gICAgcHJlRGVueTogdW5kZWZpbmVkLFxuICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnT0snLFxuICAgIGNvbmZpcm1CdXR0b25BcmlhTGFiZWw6ICcnLFxuICAgIGNvbmZpcm1CdXR0b25Db2xvcjogdW5kZWZpbmVkLFxuICAgIGRlbnlCdXR0b25UZXh0OiAnTm8nLFxuICAgIGRlbnlCdXR0b25BcmlhTGFiZWw6ICcnLFxuICAgIGRlbnlCdXR0b25Db2xvcjogdW5kZWZpbmVkLFxuICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLFxuICAgIGNhbmNlbEJ1dHRvbkFyaWFMYWJlbDogJycsXG4gICAgY2FuY2VsQnV0dG9uQ29sb3I6IHVuZGVmaW5lZCxcbiAgICBidXR0b25zU3R5bGluZzogdHJ1ZSxcbiAgICByZXZlcnNlQnV0dG9uczogZmFsc2UsXG4gICAgZm9jdXNDb25maXJtOiB0cnVlLFxuICAgIGZvY3VzRGVueTogZmFsc2UsXG4gICAgZm9jdXNDYW5jZWw6IGZhbHNlLFxuICAgIHJldHVybkZvY3VzOiB0cnVlLFxuICAgIHNob3dDbG9zZUJ1dHRvbjogZmFsc2UsXG4gICAgY2xvc2VCdXR0b25IdG1sOiAnJnRpbWVzOycsXG4gICAgY2xvc2VCdXR0b25BcmlhTGFiZWw6ICdDbG9zZSB0aGlzIGRpYWxvZycsXG4gICAgbG9hZGVySHRtbDogJycsXG4gICAgc2hvd0xvYWRlck9uQ29uZmlybTogZmFsc2UsXG4gICAgc2hvd0xvYWRlck9uRGVueTogZmFsc2UsXG4gICAgaW1hZ2VVcmw6IHVuZGVmaW5lZCxcbiAgICBpbWFnZVdpZHRoOiB1bmRlZmluZWQsXG4gICAgaW1hZ2VIZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICBpbWFnZUFsdDogJycsXG4gICAgdGltZXI6IHVuZGVmaW5lZCxcbiAgICB0aW1lclByb2dyZXNzQmFyOiBmYWxzZSxcbiAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgIHBhZGRpbmc6IHVuZGVmaW5lZCxcbiAgICBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgICBpbnB1dFBsYWNlaG9sZGVyOiAnJyxcbiAgICBpbnB1dExhYmVsOiAnJyxcbiAgICBpbnB1dFZhbHVlOiAnJyxcbiAgICBpbnB1dE9wdGlvbnM6IHt9LFxuICAgIGlucHV0QXV0b0ZvY3VzOiB0cnVlLFxuICAgIGlucHV0QXV0b1RyaW06IHRydWUsXG4gICAgaW5wdXRBdHRyaWJ1dGVzOiB7fSxcbiAgICBpbnB1dFZhbGlkYXRvcjogdW5kZWZpbmVkLFxuICAgIHJldHVybklucHV0VmFsdWVPbkRlbnk6IGZhbHNlLFxuICAgIHZhbGlkYXRpb25NZXNzYWdlOiB1bmRlZmluZWQsXG4gICAgZ3JvdzogZmFsc2UsXG4gICAgcG9zaXRpb246ICdjZW50ZXInLFxuICAgIHByb2dyZXNzU3RlcHM6IFtdLFxuICAgIGN1cnJlbnRQcm9ncmVzc1N0ZXA6IHVuZGVmaW5lZCxcbiAgICBwcm9ncmVzc1N0ZXBzRGlzdGFuY2U6IHVuZGVmaW5lZCxcbiAgICB3aWxsT3BlbjogdW5kZWZpbmVkLFxuICAgIGRpZE9wZW46IHVuZGVmaW5lZCxcbiAgICBkaWRSZW5kZXI6IHVuZGVmaW5lZCxcbiAgICB3aWxsQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBkaWRDbG9zZTogdW5kZWZpbmVkLFxuICAgIGRpZERlc3Ryb3k6IHVuZGVmaW5lZCxcbiAgICBzY3JvbGxiYXJQYWRkaW5nOiB0cnVlXG4gIH07XG4gIGNvbnN0IHVwZGF0YWJsZVBhcmFtcyA9IFsnYWxsb3dFc2NhcGVLZXknLCAnYWxsb3dPdXRzaWRlQ2xpY2snLCAnYmFja2dyb3VuZCcsICdidXR0b25zU3R5bGluZycsICdjYW5jZWxCdXR0b25BcmlhTGFiZWwnLCAnY2FuY2VsQnV0dG9uQ29sb3InLCAnY2FuY2VsQnV0dG9uVGV4dCcsICdjbG9zZUJ1dHRvbkFyaWFMYWJlbCcsICdjbG9zZUJ1dHRvbkh0bWwnLCAnY29sb3InLCAnY29uZmlybUJ1dHRvbkFyaWFMYWJlbCcsICdjb25maXJtQnV0dG9uQ29sb3InLCAnY29uZmlybUJ1dHRvblRleHQnLCAnY3VycmVudFByb2dyZXNzU3RlcCcsICdjdXN0b21DbGFzcycsICdkZW55QnV0dG9uQXJpYUxhYmVsJywgJ2RlbnlCdXR0b25Db2xvcicsICdkZW55QnV0dG9uVGV4dCcsICdkaWRDbG9zZScsICdkaWREZXN0cm95JywgJ2RyYWdnYWJsZScsICdmb290ZXInLCAnaGlkZUNsYXNzJywgJ2h0bWwnLCAnaWNvbicsICdpY29uQ29sb3InLCAnaWNvbkh0bWwnLCAnaW1hZ2VBbHQnLCAnaW1hZ2VIZWlnaHQnLCAnaW1hZ2VVcmwnLCAnaW1hZ2VXaWR0aCcsICdwcmVDb25maXJtJywgJ3ByZURlbnknLCAncHJvZ3Jlc3NTdGVwcycsICdyZXR1cm5Gb2N1cycsICdyZXZlcnNlQnV0dG9ucycsICdzaG93Q2FuY2VsQnV0dG9uJywgJ3Nob3dDbG9zZUJ1dHRvbicsICdzaG93Q29uZmlybUJ1dHRvbicsICdzaG93RGVueUJ1dHRvbicsICd0ZXh0JywgJ3RpdGxlJywgJ3RpdGxlVGV4dCcsICd0aGVtZScsICd3aWxsQ2xvc2UnXTtcblxuICAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD59ICovXG4gIGNvbnN0IGRlcHJlY2F0ZWRQYXJhbXMgPSB7XG4gICAgYWxsb3dFbnRlcktleTogdW5kZWZpbmVkXG4gIH07XG4gIGNvbnN0IHRvYXN0SW5jb21wYXRpYmxlUGFyYW1zID0gWydhbGxvd091dHNpZGVDbGljaycsICdhbGxvd0VudGVyS2V5JywgJ2JhY2tkcm9wJywgJ2RyYWdnYWJsZScsICdmb2N1c0NvbmZpcm0nLCAnZm9jdXNEZW55JywgJ2ZvY3VzQ2FuY2VsJywgJ3JldHVybkZvY3VzJywgJ2hlaWdodEF1dG8nLCAna2V5ZG93bkxpc3RlbmVyQ2FwdHVyZSddO1xuXG4gIC8qKlxuICAgKiBJcyB2YWxpZCBwYXJhbWV0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtTmFtZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGlzVmFsaWRQYXJhbWV0ZXIgPSBwYXJhbU5hbWUgPT4ge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdFBhcmFtcywgcGFyYW1OYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogSXMgdmFsaWQgcGFyYW1ldGVyIGZvciBTd2FsLnVwZGF0ZSgpIG1ldGhvZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1OYW1lXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNVcGRhdGFibGVQYXJhbWV0ZXIgPSBwYXJhbU5hbWUgPT4ge1xuICAgIHJldHVybiB1cGRhdGFibGVQYXJhbXMuaW5kZXhPZihwYXJhbU5hbWUpICE9PSAtMTtcbiAgfTtcblxuICAvKipcbiAgICogSXMgZGVwcmVjYXRlZCBwYXJhbWV0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtTmFtZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgY29uc3QgaXNEZXByZWNhdGVkUGFyYW1ldGVyID0gcGFyYW1OYW1lID0+IHtcbiAgICByZXR1cm4gZGVwcmVjYXRlZFBhcmFtc1twYXJhbU5hbWVdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1cbiAgICovXG4gIGNvbnN0IGNoZWNrSWZQYXJhbUlzVmFsaWQgPSBwYXJhbSA9PiB7XG4gICAgaWYgKCFpc1ZhbGlkUGFyYW1ldGVyKHBhcmFtKSkge1xuICAgICAgd2FybihgVW5rbm93biBwYXJhbWV0ZXIgXCIke3BhcmFtfVwiYCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1cbiAgICovXG4gIGNvbnN0IGNoZWNrSWZUb2FzdFBhcmFtSXNWYWxpZCA9IHBhcmFtID0+IHtcbiAgICBpZiAodG9hc3RJbmNvbXBhdGlibGVQYXJhbXMuaW5jbHVkZXMocGFyYW0pKSB7XG4gICAgICB3YXJuKGBUaGUgcGFyYW1ldGVyIFwiJHtwYXJhbX1cIiBpcyBpbmNvbXBhdGlibGUgd2l0aCB0b2FzdHNgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVxuICAgKi9cbiAgY29uc3QgY2hlY2tJZlBhcmFtSXNEZXByZWNhdGVkID0gcGFyYW0gPT4ge1xuICAgIGNvbnN0IGlzRGVwcmVjYXRlZCA9IGlzRGVwcmVjYXRlZFBhcmFtZXRlcihwYXJhbSk7XG4gICAgaWYgKGlzRGVwcmVjYXRlZCkge1xuICAgICAgd2FybkFib3V0RGVwcmVjYXRpb24ocGFyYW0sIGlzRGVwcmVjYXRlZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTaG93IHJlbGV2YW50IHdhcm5pbmdzIGZvciBnaXZlbiBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBzaG93V2FybmluZ3NGb3JQYXJhbXMgPSBwYXJhbXMgPT4ge1xuICAgIGlmIChwYXJhbXMuYmFja2Ryb3AgPT09IGZhbHNlICYmIHBhcmFtcy5hbGxvd091dHNpZGVDbGljaykge1xuICAgICAgd2FybignXCJhbGxvd091dHNpZGVDbGlja1wiIHBhcmFtZXRlciByZXF1aXJlcyBgYmFja2Ryb3BgIHBhcmFtZXRlciB0byBiZSBzZXQgdG8gYHRydWVgJyk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMudGhlbWUgJiYgIVsnbGlnaHQnLCAnZGFyaycsICdhdXRvJywgJ2JvcmRlcmxlc3MnXS5pbmNsdWRlcyhwYXJhbXMudGhlbWUpKSB7XG4gICAgICB3YXJuKGBJbnZhbGlkIHRoZW1lIFwiJHtwYXJhbXMudGhlbWV9XCIuIEV4cGVjdGVkIFwibGlnaHRcIiwgXCJkYXJrXCIsIFwiYXV0b1wiLCBvciBcImJvcmRlcmxlc3NcImApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBhcmFtIGluIHBhcmFtcykge1xuICAgICAgY2hlY2tJZlBhcmFtSXNWYWxpZChwYXJhbSk7XG4gICAgICBpZiAocGFyYW1zLnRvYXN0KSB7XG4gICAgICAgIGNoZWNrSWZUb2FzdFBhcmFtSXNWYWxpZChwYXJhbSk7XG4gICAgICB9XG4gICAgICBjaGVja0lmUGFyYW1Jc0RlcHJlY2F0ZWQocGFyYW0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBwb3B1cCBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZShwYXJhbXMpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIoKTtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgY29uc3QgaW5uZXJQYXJhbXMgPSBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO1xuICAgIGlmICghcG9wdXAgfHwgaGFzQ2xhc3MocG9wdXAsIGlubmVyUGFyYW1zLmhpZGVDbGFzcy5wb3B1cCkpIHtcbiAgICAgIHdhcm4oYFlvdSdyZSB0cnlpbmcgdG8gdXBkYXRlIHRoZSBjbG9zZWQgb3IgY2xvc2luZyBwb3B1cCwgdGhhdCB3b24ndCB3b3JrLiBVc2UgdGhlIHVwZGF0ZSgpIG1ldGhvZCBpbiBwcmVDb25maXJtIHBhcmFtZXRlciBvciBzaG93IGEgbmV3IHBvcHVwLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZFVwZGF0YWJsZVBhcmFtcyA9IGZpbHRlclZhbGlkUGFyYW1zKHBhcmFtcyk7XG4gICAgY29uc3QgdXBkYXRlZFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIGlubmVyUGFyYW1zLCB2YWxpZFVwZGF0YWJsZVBhcmFtcyk7XG4gICAgc2hvd1dhcm5pbmdzRm9yUGFyYW1zKHVwZGF0ZWRQYXJhbXMpO1xuICAgIGNvbnRhaW5lci5kYXRhc2V0Wydzd2FsMlRoZW1lJ10gPSB1cGRhdGVkUGFyYW1zLnRoZW1lO1xuICAgIHJlbmRlcih0aGlzLCB1cGRhdGVkUGFyYW1zKTtcbiAgICBwcml2YXRlUHJvcHMuaW5uZXJQYXJhbXMuc2V0KHRoaXMsIHVwZGF0ZWRQYXJhbXMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIHBhcmFtczoge1xuICAgICAgICB2YWx1ZTogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wYXJhbXMsIHBhcmFtcyksXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7U3dlZXRBbGVydE9wdGlvbnN9XG4gICAqL1xuICBjb25zdCBmaWx0ZXJWYWxpZFBhcmFtcyA9IHBhcmFtcyA9PiB7XG4gICAgY29uc3QgdmFsaWRVcGRhdGFibGVQYXJhbXMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2gocGFyYW0gPT4ge1xuICAgICAgaWYgKGlzVXBkYXRhYmxlUGFyYW1ldGVyKHBhcmFtKSkge1xuICAgICAgICB2YWxpZFVwZGF0YWJsZVBhcmFtc1twYXJhbV0gPSBwYXJhbXNbcGFyYW1dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihgSW52YWxpZCBwYXJhbWV0ZXIgdG8gdXBkYXRlOiAke3BhcmFtfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWxpZFVwZGF0YWJsZVBhcmFtcztcbiAgfTtcblxuICAvKipcbiAgICogRGlzcG9zZSB0aGUgY3VycmVudCBTd2VldEFsZXJ0MiBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gX2Rlc3Ryb3koKSB7XG4gICAgY29uc3QgZG9tQ2FjaGUgPSBwcml2YXRlUHJvcHMuZG9tQ2FjaGUuZ2V0KHRoaXMpO1xuICAgIGNvbnN0IGlubmVyUGFyYW1zID0gcHJpdmF0ZVByb3BzLmlubmVyUGFyYW1zLmdldCh0aGlzKTtcbiAgICBpZiAoIWlubmVyUGFyYW1zKSB7XG4gICAgICBkaXNwb3NlV2Vha01hcHModGhpcyk7IC8vIFRoZSBXZWFrTWFwcyBtaWdodCBoYXZlIGJlZW4gcGFydGx5IGRlc3Ryb3llZCwgd2UgbXVzdCByZWNhbGwgaXQgdG8gZGlzcG9zZSBhbnkgcmVtYWluaW5nIFdlYWtNYXBzICMyMzM1XG4gICAgICByZXR1cm47IC8vIFRoaXMgaW5zdGFuY2UgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhbm90aGVyIFN3YWwgY2xvc2luZ1xuICAgIGlmIChkb21DYWNoZS5wb3B1cCAmJiBnbG9iYWxTdGF0ZS5zd2FsQ2xvc2VFdmVudEZpbmlzaGVkQ2FsbGJhY2spIHtcbiAgICAgIGdsb2JhbFN0YXRlLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaygpO1xuICAgICAgZGVsZXRlIGdsb2JhbFN0YXRlLnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbm5lclBhcmFtcy5kaWREZXN0cm95ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbm5lclBhcmFtcy5kaWREZXN0cm95KCk7XG4gICAgfVxuICAgIGdsb2JhbFN0YXRlLmV2ZW50RW1pdHRlci5lbWl0KCdkaWREZXN0cm95Jyk7XG4gICAgZGlzcG9zZVN3YWwodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3QgZGlzcG9zZVN3YWwgPSBpbnN0YW5jZSA9PiB7XG4gICAgZGlzcG9zZVdlYWtNYXBzKGluc3RhbmNlKTtcbiAgICAvLyBVbnNldCB0aGlzLnBhcmFtcyBzbyBHQyB3aWxsIGRpc3Bvc2UgaXQgKCMxNTY5KVxuICAgIGRlbGV0ZSBpbnN0YW5jZS5wYXJhbXM7XG4gICAgLy8gVW5zZXQgZ2xvYmFsU3RhdGUgcHJvcHMgc28gR0Mgd2lsbCBkaXNwb3NlIGdsb2JhbFN0YXRlICgjMTU2OSlcbiAgICBkZWxldGUgZ2xvYmFsU3RhdGUua2V5ZG93bkhhbmRsZXI7XG4gICAgZGVsZXRlIGdsb2JhbFN0YXRlLmtleWRvd25UYXJnZXQ7XG4gICAgLy8gVW5zZXQgY3VycmVudEluc3RhbmNlXG4gICAgZGVsZXRlIGdsb2JhbFN0YXRlLmN1cnJlbnRJbnN0YW5jZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3QgZGlzcG9zZVdlYWtNYXBzID0gaW5zdGFuY2UgPT4ge1xuICAgIC8vIElmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGF3YWl0aW5nIGEgcHJvbWlzZSByZXN1bHQsIHdlIGtlZXAgdGhlIHByaXZhdGVNZXRob2RzIHRvIGNhbGwgdGhlbSBvbmNlIHRoZSBwcm9taXNlIHJlc3VsdCBpcyByZXRyaWV2ZWQgIzIzMzVcbiAgICBpZiAoaW5zdGFuY2UuaXNBd2FpdGluZ1Byb21pc2UpIHtcbiAgICAgIHVuc2V0V2Vha01hcHMocHJpdmF0ZVByb3BzLCBpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5pc0F3YWl0aW5nUHJvbWlzZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuc2V0V2Vha01hcHMocHJpdmF0ZU1ldGhvZHMsIGluc3RhbmNlKTtcbiAgICAgIHVuc2V0V2Vha01hcHMocHJpdmF0ZVByb3BzLCBpbnN0YW5jZSk7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuaXNBd2FpdGluZ1Byb21pc2U7XG4gICAgICAvLyBVbnNldCBpbnN0YW5jZSBtZXRob2RzXG4gICAgICBkZWxldGUgaW5zdGFuY2UuZGlzYWJsZUJ1dHRvbnM7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuZW5hYmxlQnV0dG9ucztcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5nZXRJbnB1dDtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5kaXNhYmxlSW5wdXQ7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuZW5hYmxlSW5wdXQ7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuaGlkZUxvYWRpbmc7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuZGlzYWJsZUxvYWRpbmc7XG4gICAgICBkZWxldGUgaW5zdGFuY2Uuc2hvd1ZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgZGVsZXRlIGluc3RhbmNlLnJlc2V0VmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuY2xvc2U7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuY2xvc2VQb3B1cDtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5jbG9zZU1vZGFsO1xuICAgICAgZGVsZXRlIGluc3RhbmNlLmNsb3NlVG9hc3Q7XG4gICAgICBkZWxldGUgaW5zdGFuY2UucmVqZWN0UHJvbWlzZTtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS51cGRhdGU7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuX2Rlc3Ryb3k7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0IHVuc2V0V2Vha01hcHMgPSAob2JqLCBpbnN0YW5jZSkgPT4ge1xuICAgIGZvciAoY29uc3QgaSBpbiBvYmopIHtcbiAgICAgIG9ialtpXS5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaW5zdGFuY2VNZXRob2RzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBfZGVzdHJveTogX2Rlc3Ryb3ksXG4gICAgY2xvc2U6IGNsb3NlLFxuICAgIGNsb3NlTW9kYWw6IGNsb3NlLFxuICAgIGNsb3NlUG9wdXA6IGNsb3NlLFxuICAgIGNsb3NlVG9hc3Q6IGNsb3NlLFxuICAgIGRpc2FibGVCdXR0b25zOiBkaXNhYmxlQnV0dG9ucyxcbiAgICBkaXNhYmxlSW5wdXQ6IGRpc2FibGVJbnB1dCxcbiAgICBkaXNhYmxlTG9hZGluZzogaGlkZUxvYWRpbmcsXG4gICAgZW5hYmxlQnV0dG9uczogZW5hYmxlQnV0dG9ucyxcbiAgICBlbmFibGVJbnB1dDogZW5hYmxlSW5wdXQsXG4gICAgZ2V0SW5wdXQ6IGdldElucHV0LFxuICAgIGhhbmRsZUF3YWl0aW5nUHJvbWlzZTogaGFuZGxlQXdhaXRpbmdQcm9taXNlLFxuICAgIGhpZGVMb2FkaW5nOiBoaWRlTG9hZGluZyxcbiAgICByZWplY3RQcm9taXNlOiByZWplY3RQcm9taXNlLFxuICAgIHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2U6IHJlc2V0VmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlOiBzaG93VmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgdXBkYXRlOiB1cGRhdGVcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IGlubmVyUGFyYW1zXG4gICAqIEBwYXJhbSB7RG9tQ2FjaGV9IGRvbUNhY2hlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc21pc3NXaXRoXG4gICAqL1xuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGlubmVyUGFyYW1zLCBkb21DYWNoZSwgZGlzbWlzc1dpdGgpID0+IHtcbiAgICBpZiAoaW5uZXJQYXJhbXMudG9hc3QpIHtcbiAgICAgIGhhbmRsZVRvYXN0Q2xpY2soaW5uZXJQYXJhbXMsIGRvbUNhY2hlLCBkaXNtaXNzV2l0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElnbm9yZSBjbGljayBldmVudHMgdGhhdCBoYWQgbW91c2Vkb3duIG9uIHRoZSBwb3B1cCBidXQgbW91c2V1cCBvbiB0aGUgY29udGFpbmVyXG4gICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB0aGUgdXNlciBkcmFncyBhIHNsaWRlclxuICAgICAgaGFuZGxlTW9kYWxNb3VzZWRvd24oZG9tQ2FjaGUpO1xuXG4gICAgICAvLyBJZ25vcmUgY2xpY2sgZXZlbnRzIHRoYXQgaGFkIG1vdXNlZG93biBvbiB0aGUgY29udGFpbmVyIGJ1dCBtb3VzZXVwIG9uIHRoZSBwb3B1cFxuICAgICAgaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duKGRvbUNhY2hlKTtcbiAgICAgIGhhbmRsZU1vZGFsQ2xpY2soaW5uZXJQYXJhbXMsIGRvbUNhY2hlLCBkaXNtaXNzV2l0aCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKiBAcGFyYW0ge0RvbUNhY2hlfSBkb21DYWNoZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNtaXNzV2l0aFxuICAgKi9cbiAgY29uc3QgaGFuZGxlVG9hc3RDbGljayA9IChpbm5lclBhcmFtcywgZG9tQ2FjaGUsIGRpc21pc3NXaXRoKSA9PiB7XG4gICAgLy8gQ2xvc2luZyB0b2FzdCBieSBpbnRlcm5hbCBjbGlja1xuICAgIGRvbUNhY2hlLnBvcHVwLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoaW5uZXJQYXJhbXMgJiYgKGlzQW55QnV0dG9uU2hvd24oaW5uZXJQYXJhbXMpIHx8IGlubmVyUGFyYW1zLnRpbWVyIHx8IGlubmVyUGFyYW1zLmlucHV0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkaXNtaXNzV2l0aChEaXNtaXNzUmVhc29uLmNsb3NlKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGNvbnN0IGlzQW55QnV0dG9uU2hvd24gPSBpbm5lclBhcmFtcyA9PiB7XG4gICAgcmV0dXJuICEhKGlubmVyUGFyYW1zLnNob3dDb25maXJtQnV0dG9uIHx8IGlubmVyUGFyYW1zLnNob3dEZW55QnV0dG9uIHx8IGlubmVyUGFyYW1zLnNob3dDYW5jZWxCdXR0b24gfHwgaW5uZXJQYXJhbXMuc2hvd0Nsb3NlQnV0dG9uKTtcbiAgfTtcbiAgbGV0IGlnbm9yZU91dHNpZGVDbGljayA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RvbUNhY2hlfSBkb21DYWNoZVxuICAgKi9cbiAgY29uc3QgaGFuZGxlTW9kYWxNb3VzZWRvd24gPSBkb21DYWNoZSA9PiB7XG4gICAgZG9tQ2FjaGUucG9wdXAub25tb3VzZWRvd24gPSAoKSA9PiB7XG4gICAgICBkb21DYWNoZS5jb250YWluZXIub25tb3VzZXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZG9tQ2FjaGUuY29udGFpbmVyLm9ubW91c2V1cCA9ICgpID0+IHt9O1xuICAgICAgICAvLyBXZSBvbmx5IGNoZWNrIGlmIHRoZSBtb3VzZXVwIHRhcmdldCBpcyB0aGUgY29udGFpbmVyIGJlY2F1c2UgdXN1YWxseSBpdCBkb2Vzbid0XG4gICAgICAgIC8vIGhhdmUgYW55IG90aGVyIGRpcmVjdCBjaGlsZHJlbiBhc2lkZSBvZiB0aGUgcG9wdXBcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBkb21DYWNoZS5jb250YWluZXIpIHtcbiAgICAgICAgICBpZ25vcmVPdXRzaWRlQ2xpY2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RG9tQ2FjaGV9IGRvbUNhY2hlXG4gICAqL1xuICBjb25zdCBoYW5kbGVDb250YWluZXJNb3VzZWRvd24gPSBkb21DYWNoZSA9PiB7XG4gICAgZG9tQ2FjaGUuY29udGFpbmVyLm9ubW91c2Vkb3duID0gZSA9PiB7XG4gICAgICAvLyBwcmV2ZW50IHRoZSBtb2RhbCB0ZXh0IGZyb20gYmVpbmcgc2VsZWN0ZWQgb24gZG91YmxlIGNsaWNrIG9uIHRoZSBjb250YWluZXIgKGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSlcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZG9tQ2FjaGUuY29udGFpbmVyKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGRvbUNhY2hlLnBvcHVwLm9ubW91c2V1cCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGRvbUNhY2hlLnBvcHVwLm9ubW91c2V1cCA9ICgpID0+IHt9O1xuICAgICAgICAvLyBXZSBhbHNvIG5lZWQgdG8gY2hlY2sgaWYgdGhlIG1vdXNldXAgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIHBvcHVwXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZG9tQ2FjaGUucG9wdXAgfHwgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBkb21DYWNoZS5wb3B1cC5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICBpZ25vcmVPdXRzaWRlQ2xpY2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IGlubmVyUGFyYW1zXG4gICAqIEBwYXJhbSB7RG9tQ2FjaGV9IGRvbUNhY2hlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc21pc3NXaXRoXG4gICAqL1xuICBjb25zdCBoYW5kbGVNb2RhbENsaWNrID0gKGlubmVyUGFyYW1zLCBkb21DYWNoZSwgZGlzbWlzc1dpdGgpID0+IHtcbiAgICBkb21DYWNoZS5jb250YWluZXIub25jbGljayA9IGUgPT4ge1xuICAgICAgaWYgKGlnbm9yZU91dHNpZGVDbGljaykge1xuICAgICAgICBpZ25vcmVPdXRzaWRlQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkb21DYWNoZS5jb250YWluZXIgJiYgY2FsbElmRnVuY3Rpb24oaW5uZXJQYXJhbXMuYWxsb3dPdXRzaWRlQ2xpY2spKSB7XG4gICAgICAgIGRpc21pc3NXaXRoKERpc21pc3NSZWFzb24uYmFja2Ryb3ApO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgaXNKcXVlcnlFbGVtZW50ID0gZWxlbSA9PiB0eXBlb2YgZWxlbSA9PT0gJ29iamVjdCcgJiYgZWxlbS5qcXVlcnk7XG4gIGNvbnN0IGlzRWxlbWVudCA9IGVsZW0gPT4gZWxlbSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgaXNKcXVlcnlFbGVtZW50KGVsZW0pO1xuICBjb25zdCBhcmdzVG9QYXJhbXMgPSBhcmdzID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnICYmICFpc0VsZW1lbnQoYXJnc1swXSkpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCBhcmdzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgWyd0aXRsZScsICdodG1sJywgJ2ljb24nXS5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBhcmcgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8IGlzRWxlbWVudChhcmcpKSB7XG4gICAgICAgICAgcGFyYW1zW25hbWVdID0gYXJnO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXJyb3IoYFVuZXhwZWN0ZWQgdHlwZSBvZiAke25hbWV9ISBFeHBlY3RlZCBcInN0cmluZ1wiIG9yIFwiRWxlbWVudFwiLCBnb3QgJHt0eXBlb2YgYXJnfWApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfTtcblxuICAvKipcbiAgICogTWFpbiBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFN3ZWV0QWxlcnQyIHBvcHVwXG4gICAqXG4gICAqIEBwYXJhbSAgey4uLlN3ZWV0QWxlcnRPcHRpb25zfSBhcmdzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFN3ZWV0QWxlcnRSZXN1bHQ+fVxuICAgKi9cbiAgZnVuY3Rpb24gZmlyZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiBuZXcgdGhpcyguLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGV4dGVuZGVkIHZlcnNpb24gb2YgYFN3YWxgIGNvbnRhaW5pbmcgYHBhcmFtc2AgYXMgZGVmYXVsdHMuXG4gICAqIFVzZWZ1bCBmb3IgcmV1c2luZyBTd2FsIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiBCZWZvcmU6XG4gICAqIGNvbnN0IHRleHRQcm9tcHRPcHRpb25zID0geyBpbnB1dDogJ3RleHQnLCBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlIH1cbiAgICogY29uc3Qge3ZhbHVlOiBmaXJzdE5hbWV9ID0gYXdhaXQgU3dhbC5maXJlKHsgLi4udGV4dFByb21wdE9wdGlvbnMsIHRpdGxlOiAnV2hhdCBpcyB5b3VyIGZpcnN0IG5hbWU/JyB9KVxuICAgKiBjb25zdCB7dmFsdWU6IGxhc3ROYW1lfSA9IGF3YWl0IFN3YWwuZmlyZSh7IC4uLnRleHRQcm9tcHRPcHRpb25zLCB0aXRsZTogJ1doYXQgaXMgeW91ciBsYXN0IG5hbWU/JyB9KVxuICAgKlxuICAgKiBBZnRlcjpcbiAgICogY29uc3QgVGV4dFByb21wdCA9IFN3YWwubWl4aW4oeyBpbnB1dDogJ3RleHQnLCBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlIH0pXG4gICAqIGNvbnN0IHt2YWx1ZTogZmlyc3ROYW1lfSA9IGF3YWl0IFRleHRQcm9tcHQoJ1doYXQgaXMgeW91ciBmaXJzdCBuYW1lPycpXG4gICAqIGNvbnN0IHt2YWx1ZTogbGFzdE5hbWV9ID0gYXdhaXQgVGV4dFByb21wdCgnV2hhdCBpcyB5b3VyIGxhc3QgbmFtZT8nKVxuICAgKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBtaXhpblBhcmFtc1xuICAgKiBAcmV0dXJucyB7U3dlZXRBbGVydH1cbiAgICovXG4gIGZ1bmN0aW9uIG1peGluKG1peGluUGFyYW1zKSB7XG4gICAgY2xhc3MgTWl4aW5Td2FsIGV4dGVuZHMgdGhpcyB7XG4gICAgICBfbWFpbihwYXJhbXMsIHByaW9yaXR5TWl4aW5QYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLl9tYWluKHBhcmFtcywgT2JqZWN0LmFzc2lnbih7fSwgbWl4aW5QYXJhbXMsIHByaW9yaXR5TWl4aW5QYXJhbXMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBNaXhpblN3YWw7XG4gIH1cblxuICAvKipcbiAgICogSWYgYHRpbWVyYCBwYXJhbWV0ZXIgaXMgc2V0LCByZXR1cm5zIG51bWJlciBvZiBtaWxsaXNlY29uZHMgb2YgdGltZXIgcmVtYWluZWQuXG4gICAqIE90aGVyd2lzZSwgcmV0dXJucyB1bmRlZmluZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAqL1xuICBjb25zdCBnZXRUaW1lckxlZnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdsb2JhbFN0YXRlLnRpbWVvdXQgJiYgZ2xvYmFsU3RhdGUudGltZW91dC5nZXRUaW1lckxlZnQoKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcCB0aW1lci4gUmV0dXJucyBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIG9mIHRpbWVyIHJlbWFpbmVkLlxuICAgKiBJZiBgdGltZXJgIHBhcmFtZXRlciBpc24ndCBzZXQsIHJldHVybnMgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgY29uc3Qgc3RvcFRpbWVyID0gKCkgPT4ge1xuICAgIGlmIChnbG9iYWxTdGF0ZS50aW1lb3V0KSB7XG4gICAgICBzdG9wVGltZXJQcm9ncmVzc0JhcigpO1xuICAgICAgcmV0dXJuIGdsb2JhbFN0YXRlLnRpbWVvdXQuc3RvcCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVzdW1lIHRpbWVyLiBSZXR1cm5zIG51bWJlciBvZiBtaWxsaXNlY29uZHMgb2YgdGltZXIgcmVtYWluZWQuXG4gICAqIElmIGB0aW1lcmAgcGFyYW1ldGVyIGlzbid0IHNldCwgcmV0dXJucyB1bmRlZmluZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAqL1xuICBjb25zdCByZXN1bWVUaW1lciA9ICgpID0+IHtcbiAgICBpZiAoZ2xvYmFsU3RhdGUudGltZW91dCkge1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gZ2xvYmFsU3RhdGUudGltZW91dC5zdGFydCgpO1xuICAgICAgYW5pbWF0ZVRpbWVyUHJvZ3Jlc3NCYXIocmVtYWluaW5nKTtcbiAgICAgIHJldHVybiByZW1haW5pbmc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN1bWUgdGltZXIuIFJldHVybnMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBvZiB0aW1lciByZW1haW5lZC5cbiAgICogSWYgYHRpbWVyYCBwYXJhbWV0ZXIgaXNuJ3Qgc2V0LCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICovXG4gIGNvbnN0IHRvZ2dsZVRpbWVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVyID0gZ2xvYmFsU3RhdGUudGltZW91dDtcbiAgICByZXR1cm4gdGltZXIgJiYgKHRpbWVyLnJ1bm5pbmcgPyBzdG9wVGltZXIoKSA6IHJlc3VtZVRpbWVyKCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbmNyZWFzZSB0aW1lci4gUmV0dXJucyBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIG9mIGFuIHVwZGF0ZWQgdGltZXIuXG4gICAqIElmIGB0aW1lcmAgcGFyYW1ldGVyIGlzbid0IHNldCwgcmV0dXJucyB1bmRlZmluZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtc1xuICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgY29uc3QgaW5jcmVhc2VUaW1lciA9IG1zID0+IHtcbiAgICBpZiAoZ2xvYmFsU3RhdGUudGltZW91dCkge1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gZ2xvYmFsU3RhdGUudGltZW91dC5pbmNyZWFzZShtcyk7XG4gICAgICBhbmltYXRlVGltZXJQcm9ncmVzc0JhcihyZW1haW5pbmcsIHRydWUpO1xuICAgICAgcmV0dXJuIHJlbWFpbmluZztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRpbWVyIGlzIHJ1bm5pbmcuIFJldHVybnMgdHJ1ZSBpZiB0aW1lciBpcyBydW5uaW5nXG4gICAqIG9yIGZhbHNlIGlmIHRpbWVyIGlzIHBhdXNlZCBvciBzdG9wcGVkLlxuICAgKiBJZiBgdGltZXJgIHBhcmFtZXRlciBpc24ndCBzZXQsIHJldHVybnMgdW5kZWZpbmVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY29uc3QgaXNUaW1lclJ1bm5pbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuICEhKGdsb2JhbFN0YXRlLnRpbWVvdXQgJiYgZ2xvYmFsU3RhdGUudGltZW91dC5pc1J1bm5pbmcoKSk7XG4gIH07XG5cbiAgbGV0IGJvZHlDbGlja0xpc3RlbmVyQWRkZWQgPSBmYWxzZTtcbiAgY29uc3QgY2xpY2tIYW5kbGVycyA9IHt9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0clxuICAgKi9cbiAgZnVuY3Rpb24gYmluZENsaWNrSGFuZGxlcigpIHtcbiAgICBsZXQgYXR0ciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2RhdGEtc3dhbC10ZW1wbGF0ZSc7XG4gICAgY2xpY2tIYW5kbGVyc1thdHRyXSA9IHRoaXM7XG4gICAgaWYgKCFib2R5Q2xpY2tMaXN0ZW5lckFkZGVkKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYm9keUNsaWNrTGlzdGVuZXIpO1xuICAgICAgYm9keUNsaWNrTGlzdGVuZXJBZGRlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIGNvbnN0IGJvZHlDbGlja0xpc3RlbmVyID0gZXZlbnQgPT4ge1xuICAgIGZvciAobGV0IGVsID0gZXZlbnQudGFyZ2V0OyBlbCAmJiBlbCAhPT0gZG9jdW1lbnQ7IGVsID0gZWwucGFyZW50Tm9kZSkge1xuICAgICAgZm9yIChjb25zdCBhdHRyIGluIGNsaWNrSGFuZGxlcnMpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBlbC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICAgIGNsaWNrSGFuZGxlcnNbYXR0cl0uZmlyZSh7XG4gICAgICAgICAgICB0ZW1wbGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBTb3VyY2U6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL211ZGdlLzU4MzAzODI/cGVybWFsaW5rX2NvbW1lbnRfaWQ9MjY5MTk1NyNnaXN0Y29tbWVudC0yNjkxOTU3XG5cbiAgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIC8qKiBAdHlwZSB7RXZlbnRzfSAqL1xuICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHJldHVybnMge0V2ZW50SGFuZGxlcnN9XG4gICAgICovXG4gICAgX2dldEhhbmRsZXJzQnlFdmVudE5hbWUoZXZlbnROYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIG5vdCBTZXQgYmVjYXVzZSB3ZSBuZWVkIHRvIGtlZXAgdGhlIEZJRk8gb3JkZXJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL3B1bGwvMjc2MyNkaXNjdXNzaW9uX3IxNzQ4OTkwMzM0XG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmV2ZW50c1tldmVudE5hbWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcn0gZXZlbnRIYW5kbGVyXG4gICAgICovXG4gICAgb24oZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGVycyA9IHRoaXMuX2dldEhhbmRsZXJzQnlFdmVudE5hbWUoZXZlbnROYW1lKTtcbiAgICAgIGlmICghY3VycmVudEhhbmRsZXJzLmluY2x1ZGVzKGV2ZW50SGFuZGxlcikpIHtcbiAgICAgICAgY3VycmVudEhhbmRsZXJzLnB1c2goZXZlbnRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtFdmVudEhhbmRsZXJ9IGV2ZW50SGFuZGxlclxuICAgICAqL1xuICAgIG9uY2UoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAgICAgICAqL1xuICAgICAgY29uc3Qgb25jZUZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIG9uY2VGbik7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KF90aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgICB0aGlzLm9uKGV2ZW50TmFtZSwgb25jZUZuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICAgICAqL1xuICAgIGVtaXQoZXZlbnROYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgdGhpcy5fZ2V0SGFuZGxlcnNCeUV2ZW50TmFtZShldmVudE5hbWUpLmZvckVhY2goXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyfSBldmVudEhhbmRsZXJcbiAgICAgICAqL1xuICAgICAgZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcn0gZXZlbnRIYW5kbGVyXG4gICAgICovXG4gICAgcmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGVycyA9IHRoaXMuX2dldEhhbmRsZXJzQnlFdmVudE5hbWUoZXZlbnROYW1lKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gY3VycmVudEhhbmRsZXJzLmluZGV4T2YoZXZlbnRIYW5kbGVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGN1cnJlbnRIYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICAgKi9cbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgICBpZiAodGhpcy5ldmVudHNbZXZlbnROYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi9wdWxsLzI3NjMjZGlzY3Vzc2lvbl9yMTc0OTIzOTIyMlxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICB9XG4gIH1cblxuICBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtFdmVudEhhbmRsZXJ9IGV2ZW50SGFuZGxlclxuICAgKi9cbiAgY29uc3Qgb24gPSAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpID0+IHtcbiAgICBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIub24oZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyfSBldmVudEhhbmRsZXJcbiAgICovXG4gIGNvbnN0IG9uY2UgPSAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpID0+IHtcbiAgICBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIub25jZShldmVudE5hbWUsIGV2ZW50SGFuZGxlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnROYW1lXVxuICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcn0gW2V2ZW50SGFuZGxlcl1cbiAgICovXG4gIGNvbnN0IG9mZiA9IChldmVudE5hbWUsIGV2ZW50SGFuZGxlcikgPT4ge1xuICAgIC8vIFJlbW92ZSBhbGwgaGFuZGxlcnMgZm9yIGFsbCBldmVudHNcbiAgICBpZiAoIWV2ZW50TmFtZSkge1xuICAgICAgZ2xvYmFsU3RhdGUuZXZlbnRFbWl0dGVyLnJlc2V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldmVudEhhbmRsZXIpIHtcbiAgICAgIC8vIFJlbW92ZSBhIHNwZWNpZmljIGhhbmRsZXJcbiAgICAgIGdsb2JhbFN0YXRlLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50SGFuZGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlbW92ZSBhbGwgaGFuZGxlcnMgZm9yIGEgc3BlY2lmaWMgZXZlbnRcbiAgICAgIGdsb2JhbFN0YXRlLmV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHN0YXRpY01ldGhvZHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIGFyZ3NUb1BhcmFtczogYXJnc1RvUGFyYW1zLFxuICAgIGJpbmRDbGlja0hhbmRsZXI6IGJpbmRDbGlja0hhbmRsZXIsXG4gICAgY2xpY2tDYW5jZWw6IGNsaWNrQ2FuY2VsLFxuICAgIGNsaWNrQ29uZmlybTogY2xpY2tDb25maXJtLFxuICAgIGNsaWNrRGVueTogY2xpY2tEZW55LFxuICAgIGVuYWJsZUxvYWRpbmc6IHNob3dMb2FkaW5nLFxuICAgIGZpcmU6IGZpcmUsXG4gICAgZ2V0QWN0aW9uczogZ2V0QWN0aW9ucyxcbiAgICBnZXRDYW5jZWxCdXR0b246IGdldENhbmNlbEJ1dHRvbixcbiAgICBnZXRDbG9zZUJ1dHRvbjogZ2V0Q2xvc2VCdXR0b24sXG4gICAgZ2V0Q29uZmlybUJ1dHRvbjogZ2V0Q29uZmlybUJ1dHRvbixcbiAgICBnZXRDb250YWluZXI6IGdldENvbnRhaW5lcixcbiAgICBnZXREZW55QnV0dG9uOiBnZXREZW55QnV0dG9uLFxuICAgIGdldEZvY3VzYWJsZUVsZW1lbnRzOiBnZXRGb2N1c2FibGVFbGVtZW50cyxcbiAgICBnZXRGb290ZXI6IGdldEZvb3RlcixcbiAgICBnZXRIdG1sQ29udGFpbmVyOiBnZXRIdG1sQ29udGFpbmVyLFxuICAgIGdldEljb246IGdldEljb24sXG4gICAgZ2V0SWNvbkNvbnRlbnQ6IGdldEljb25Db250ZW50LFxuICAgIGdldEltYWdlOiBnZXRJbWFnZSxcbiAgICBnZXRJbnB1dExhYmVsOiBnZXRJbnB1dExhYmVsLFxuICAgIGdldExvYWRlcjogZ2V0TG9hZGVyLFxuICAgIGdldFBvcHVwOiBnZXRQb3B1cCxcbiAgICBnZXRQcm9ncmVzc1N0ZXBzOiBnZXRQcm9ncmVzc1N0ZXBzLFxuICAgIGdldFRpbWVyTGVmdDogZ2V0VGltZXJMZWZ0LFxuICAgIGdldFRpbWVyUHJvZ3Jlc3NCYXI6IGdldFRpbWVyUHJvZ3Jlc3NCYXIsXG4gICAgZ2V0VGl0bGU6IGdldFRpdGxlLFxuICAgIGdldFZhbGlkYXRpb25NZXNzYWdlOiBnZXRWYWxpZGF0aW9uTWVzc2FnZSxcbiAgICBpbmNyZWFzZVRpbWVyOiBpbmNyZWFzZVRpbWVyLFxuICAgIGlzRGVwcmVjYXRlZFBhcmFtZXRlcjogaXNEZXByZWNhdGVkUGFyYW1ldGVyLFxuICAgIGlzTG9hZGluZzogaXNMb2FkaW5nLFxuICAgIGlzVGltZXJSdW5uaW5nOiBpc1RpbWVyUnVubmluZyxcbiAgICBpc1VwZGF0YWJsZVBhcmFtZXRlcjogaXNVcGRhdGFibGVQYXJhbWV0ZXIsXG4gICAgaXNWYWxpZFBhcmFtZXRlcjogaXNWYWxpZFBhcmFtZXRlcixcbiAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcbiAgICBtaXhpbjogbWl4aW4sXG4gICAgb2ZmOiBvZmYsXG4gICAgb246IG9uLFxuICAgIG9uY2U6IG9uY2UsXG4gICAgcmVzdW1lVGltZXI6IHJlc3VtZVRpbWVyLFxuICAgIHNob3dMb2FkaW5nOiBzaG93TG9hZGluZyxcbiAgICBzdG9wVGltZXI6IHN0b3BUaW1lcixcbiAgICB0b2dnbGVUaW1lcjogdG9nZ2xlVGltZXJcbiAgfSk7XG5cbiAgY2xhc3MgVGltZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICB0aGlzLnJlbWFpbmluZyA9IGRlbGF5O1xuICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuaWQgPSBzZXRUaW1lb3V0KHRoaXMuY2FsbGJhY2ssIHRoaXMucmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICBpZiAodGhpcy5zdGFydGVkICYmIHRoaXMucnVubmluZykge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWQpO1xuICAgICAgICB0aGlzLnJlbWFpbmluZyAtPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRlZC5nZXRUaW1lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGluY3JlYXNlKG4pIHtcbiAgICAgIGNvbnN0IHJ1bm5pbmcgPSB0aGlzLnJ1bm5pbmc7XG4gICAgICBpZiAocnVubmluZykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtYWluaW5nICs9IG47XG4gICAgICBpZiAocnVubmluZykge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRUaW1lckxlZnQoKSB7XG4gICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNSdW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMucnVubmluZztcbiAgICB9XG4gIH1cblxuICBjb25zdCBzd2FsU3RyaW5nUGFyYW1zID0gWydzd2FsLXRpdGxlJywgJ3N3YWwtaHRtbCcsICdzd2FsLWZvb3RlciddO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICogQHJldHVybnMge1N3ZWV0QWxlcnRPcHRpb25zfVxuICAgKi9cbiAgY29uc3QgZ2V0VGVtcGxhdGVQYXJhbXMgPSBwYXJhbXMgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdHlwZW9mIHBhcmFtcy50ZW1wbGF0ZSA9PT0gJ3N0cmluZycgPyAoLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW1zLnRlbXBsYXRlKSkgOiBwYXJhbXMudGVtcGxhdGU7XG4gICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKiogQHR5cGUge0RvY3VtZW50RnJhZ21lbnR9ICovXG4gICAgY29uc3QgdGVtcGxhdGVDb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcbiAgICBzaG93V2FybmluZ3NGb3JFbGVtZW50cyh0ZW1wbGF0ZUNvbnRlbnQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oZ2V0U3dhbFBhcmFtcyh0ZW1wbGF0ZUNvbnRlbnQpLCBnZXRTd2FsRnVuY3Rpb25QYXJhbXModGVtcGxhdGVDb250ZW50KSwgZ2V0U3dhbEJ1dHRvbnModGVtcGxhdGVDb250ZW50KSwgZ2V0U3dhbEltYWdlKHRlbXBsYXRlQ29udGVudCksIGdldFN3YWxJY29uKHRlbXBsYXRlQ29udGVudCksIGdldFN3YWxJbnB1dCh0ZW1wbGF0ZUNvbnRlbnQpLCBnZXRTd2FsU3RyaW5nUGFyYW1zKHRlbXBsYXRlQ29udGVudCwgc3dhbFN0cmluZ1BhcmFtcykpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RG9jdW1lbnRGcmFnbWVudH0gdGVtcGxhdGVDb250ZW50XG4gICAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fVxuICAgKi9cbiAgY29uc3QgZ2V0U3dhbFBhcmFtcyA9IHRlbXBsYXRlQ29udGVudCA9PiB7XG4gICAgLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSAqL1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnRbXX0gKi9cbiAgICBjb25zdCBzd2FsUGFyYW1zID0gQXJyYXkuZnJvbSh0ZW1wbGF0ZUNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3dhbC1wYXJhbScpKTtcbiAgICBzd2FsUGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xuICAgICAgc2hvd1dhcm5pbmdzRm9yQXR0cmlidXRlcyhwYXJhbSwgWyduYW1lJywgJ3ZhbHVlJ10pO1xuICAgICAgY29uc3QgcGFyYW1OYW1lID0gLyoqIEB0eXBlIHtrZXlvZiBTd2VldEFsZXJ0T3B0aW9uc30gKi9wYXJhbS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgaWYgKCFwYXJhbU5hbWUgfHwgIXZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGVmYXVsdFBhcmFtc1twYXJhbU5hbWVdID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmVzdWx0W3BhcmFtTmFtZV0gPSB2YWx1ZSAhPT0gJ2ZhbHNlJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmF1bHRQYXJhbXNbcGFyYW1OYW1lXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmVzdWx0W3BhcmFtTmFtZV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtwYXJhbU5hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtEb2N1bWVudEZyYWdtZW50fSB0ZW1wbGF0ZUNvbnRlbnRcbiAgICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGFueT59XG4gICAqL1xuICBjb25zdCBnZXRTd2FsRnVuY3Rpb25QYXJhbXMgPSB0ZW1wbGF0ZUNvbnRlbnQgPT4ge1xuICAgIC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi9cbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50W119ICovXG4gICAgY29uc3Qgc3dhbEZ1bmN0aW9ucyA9IEFycmF5LmZyb20odGVtcGxhdGVDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N3YWwtZnVuY3Rpb24tcGFyYW0nKSk7XG4gICAgc3dhbEZ1bmN0aW9ucy5mb3JFYWNoKHBhcmFtID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtTmFtZSA9IC8qKiBAdHlwZSB7a2V5b2YgU3dlZXRBbGVydE9wdGlvbnN9ICovcGFyYW0uZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgIGlmICghcGFyYW1OYW1lIHx8ICF2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXN1bHRbcGFyYW1OYW1lXSA9IG5ldyBGdW5jdGlvbihgcmV0dXJuICR7dmFsdWV9YCkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50RnJhZ21lbnR9IHRlbXBsYXRlQ29udGVudFxuICAgKiBAcmV0dXJucyB7UmVjb3JkPHN0cmluZywgYW55Pn1cbiAgICovXG4gIGNvbnN0IGdldFN3YWxCdXR0b25zID0gdGVtcGxhdGVDb250ZW50ID0+IHtcbiAgICAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudFtdfSAqL1xuICAgIGNvbnN0IHN3YWxCdXR0b25zID0gQXJyYXkuZnJvbSh0ZW1wbGF0ZUNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3dhbC1idXR0b24nKSk7XG4gICAgc3dhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgc2hvd1dhcm5pbmdzRm9yQXR0cmlidXRlcyhidXR0b24sIFsndHlwZScsICdjb2xvcicsICdhcmlhLWxhYmVsJ10pO1xuICAgICAgY29uc3QgdHlwZSA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgICAgIGlmICghdHlwZSB8fCAhWydjb25maXJtJywgJ2NhbmNlbCcsICdkZW55J10uaW5jbHVkZXModHlwZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVzdWx0W2Ake3R5cGV9QnV0dG9uVGV4dGBdID0gYnV0dG9uLmlubmVySFRNTDtcbiAgICAgIHJlc3VsdFtgc2hvdyR7Y2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHR5cGUpfUJ1dHRvbmBdID0gdHJ1ZTtcbiAgICAgIGlmIChidXR0b24uaGFzQXR0cmlidXRlKCdjb2xvcicpKSB7XG4gICAgICAgIHJlc3VsdFtgJHt0eXBlfUJ1dHRvbkNvbG9yYF0gPSBidXR0b24uZ2V0QXR0cmlidXRlKCdjb2xvcicpO1xuICAgICAgfVxuICAgICAgaWYgKGJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSkge1xuICAgICAgICByZXN1bHRbYCR7dHlwZX1CdXR0b25BcmlhTGFiZWxgXSA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50RnJhZ21lbnR9IHRlbXBsYXRlQ29udGVudFxuICAgKiBAcmV0dXJucyB7UGljazxTd2VldEFsZXJ0T3B0aW9ucywgJ2ltYWdlVXJsJyB8ICdpbWFnZVdpZHRoJyB8ICdpbWFnZUhlaWdodCcgfCAnaW1hZ2VBbHQnPn1cbiAgICovXG4gIGNvbnN0IGdldFN3YWxJbWFnZSA9IHRlbXBsYXRlQ29udGVudCA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudCB8IG51bGx9ICovXG4gICAgY29uc3QgaW1hZ2UgPSB0ZW1wbGF0ZUNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3dhbC1pbWFnZScpO1xuICAgIGlmIChpbWFnZSkge1xuICAgICAgc2hvd1dhcm5pbmdzRm9yQXR0cmlidXRlcyhpbWFnZSwgWydzcmMnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ2FsdCddKTtcbiAgICAgIGlmIChpbWFnZS5oYXNBdHRyaWJ1dGUoJ3NyYycpKSB7XG4gICAgICAgIHJlc3VsdC5pbWFnZVVybCA9IGltYWdlLmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGltYWdlLmhhc0F0dHJpYnV0ZSgnd2lkdGgnKSkge1xuICAgICAgICByZXN1bHQuaW1hZ2VXaWR0aCA9IGltYWdlLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSB8fCB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoaW1hZ2UuaGFzQXR0cmlidXRlKCdoZWlnaHQnKSkge1xuICAgICAgICByZXN1bHQuaW1hZ2VIZWlnaHQgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpIHx8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChpbWFnZS5oYXNBdHRyaWJ1dGUoJ2FsdCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbWFnZUFsdCA9IGltYWdlLmdldEF0dHJpYnV0ZSgnYWx0JykgfHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50RnJhZ21lbnR9IHRlbXBsYXRlQ29udGVudFxuICAgKiBAcmV0dXJucyB7UmVjb3JkPHN0cmluZywgYW55Pn1cbiAgICovXG4gIGNvbnN0IGdldFN3YWxJY29uID0gdGVtcGxhdGVDb250ZW50ID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50IHwgbnVsbH0gKi9cbiAgICBjb25zdCBpY29uID0gdGVtcGxhdGVDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N3YWwtaWNvbicpO1xuICAgIGlmIChpY29uKSB7XG4gICAgICBzaG93V2FybmluZ3NGb3JBdHRyaWJ1dGVzKGljb24sIFsndHlwZScsICdjb2xvciddKTtcbiAgICAgIGlmIChpY29uLmhhc0F0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICAgIHJlc3VsdC5pY29uID0gaWNvbi5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgICAgIH1cbiAgICAgIGlmIChpY29uLmhhc0F0dHJpYnV0ZSgnY29sb3InKSkge1xuICAgICAgICByZXN1bHQuaWNvbkNvbG9yID0gaWNvbi5nZXRBdHRyaWJ1dGUoJ2NvbG9yJyk7XG4gICAgICB9XG4gICAgICByZXN1bHQuaWNvbkh0bWwgPSBpY29uLmlubmVySFRNTDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtEb2N1bWVudEZyYWdtZW50fSB0ZW1wbGF0ZUNvbnRlbnRcbiAgICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGFueT59XG4gICAqL1xuICBjb25zdCBnZXRTd2FsSW5wdXQgPSB0ZW1wbGF0ZUNvbnRlbnQgPT4ge1xuICAgIC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi9cbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50IHwgbnVsbH0gKi9cbiAgICBjb25zdCBpbnB1dCA9IHRlbXBsYXRlQ29udGVudC5xdWVyeVNlbGVjdG9yKCdzd2FsLWlucHV0Jyk7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICBzaG93V2FybmluZ3NGb3JBdHRyaWJ1dGVzKGlucHV0LCBbJ3R5cGUnLCAnbGFiZWwnLCAncGxhY2Vob2xkZXInLCAndmFsdWUnXSk7XG4gICAgICByZXN1bHQuaW5wdXQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSB8fCAndGV4dCc7XG4gICAgICBpZiAoaW5wdXQuaGFzQXR0cmlidXRlKCdsYWJlbCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbnB1dExhYmVsID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdsYWJlbCcpO1xuICAgICAgfVxuICAgICAgaWYgKGlucHV0Lmhhc0F0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSkge1xuICAgICAgICByZXN1bHQuaW5wdXRQbGFjZWhvbGRlciA9IGlucHV0LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dC5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpIHtcbiAgICAgICAgcmVzdWx0LmlucHV0VmFsdWUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnRbXX0gKi9cbiAgICBjb25zdCBpbnB1dE9wdGlvbnMgPSBBcnJheS5mcm9tKHRlbXBsYXRlQ29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzd2FsLWlucHV0LW9wdGlvbicpKTtcbiAgICBpZiAoaW5wdXRPcHRpb25zLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LmlucHV0T3B0aW9ucyA9IHt9O1xuICAgICAgaW5wdXRPcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgc2hvd1dhcm5pbmdzRm9yQXR0cmlidXRlcyhvcHRpb24sIFsndmFsdWUnXSk7XG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gb3B0aW9uLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgaWYgKCFvcHRpb25WYWx1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25OYW1lID0gb3B0aW9uLmlubmVySFRNTDtcbiAgICAgICAgcmVzdWx0LmlucHV0T3B0aW9uc1tvcHRpb25WYWx1ZV0gPSBvcHRpb25OYW1lO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RG9jdW1lbnRGcmFnbWVudH0gdGVtcGxhdGVDb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHBhcmFtTmFtZXNcbiAgICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGFueT59XG4gICAqL1xuICBjb25zdCBnZXRTd2FsU3RyaW5nUGFyYW1zID0gKHRlbXBsYXRlQ29udGVudCwgcGFyYW1OYW1lcykgPT4ge1xuICAgIC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi9cbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gcGFyYW1OYW1lcykge1xuICAgICAgY29uc3QgcGFyYW1OYW1lID0gcGFyYW1OYW1lc1tpXTtcbiAgICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnQgfCBudWxsfSAqL1xuICAgICAgY29uc3QgdGFnID0gdGVtcGxhdGVDb250ZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW1OYW1lKTtcbiAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgc2hvd1dhcm5pbmdzRm9yQXR0cmlidXRlcyh0YWcsIFtdKTtcbiAgICAgICAgcmVzdWx0W3BhcmFtTmFtZS5yZXBsYWNlKC9ec3dhbC0vLCAnJyldID0gdGFnLmlubmVySFRNTC50cmltKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RG9jdW1lbnRGcmFnbWVudH0gdGVtcGxhdGVDb250ZW50XG4gICAqL1xuICBjb25zdCBzaG93V2FybmluZ3NGb3JFbGVtZW50cyA9IHRlbXBsYXRlQ29udGVudCA9PiB7XG4gICAgY29uc3QgYWxsb3dlZEVsZW1lbnRzID0gc3dhbFN0cmluZ1BhcmFtcy5jb25jYXQoWydzd2FsLXBhcmFtJywgJ3N3YWwtZnVuY3Rpb24tcGFyYW0nLCAnc3dhbC1idXR0b24nLCAnc3dhbC1pbWFnZScsICdzd2FsLWljb24nLCAnc3dhbC1pbnB1dCcsICdzd2FsLWlucHV0LW9wdGlvbiddKTtcbiAgICBBcnJheS5mcm9tKHRlbXBsYXRlQ29udGVudC5jaGlsZHJlbikuZm9yRWFjaChlbCA9PiB7XG4gICAgICBjb25zdCB0YWdOYW1lID0gZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFhbGxvd2VkRWxlbWVudHMuaW5jbHVkZXModGFnTmFtZSkpIHtcbiAgICAgICAgd2FybihgVW5yZWNvZ25pemVkIGVsZW1lbnQgPCR7dGFnTmFtZX0+YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IGFsbG93ZWRBdHRyaWJ1dGVzXG4gICAqL1xuICBjb25zdCBzaG93V2FybmluZ3NGb3JBdHRyaWJ1dGVzID0gKGVsLCBhbGxvd2VkQXR0cmlidXRlcykgPT4ge1xuICAgIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgaWYgKGFsbG93ZWRBdHRyaWJ1dGVzLmluZGV4T2YoYXR0cmlidXRlLm5hbWUpID09PSAtMSkge1xuICAgICAgICB3YXJuKFtgVW5yZWNvZ25pemVkIGF0dHJpYnV0ZSBcIiR7YXR0cmlidXRlLm5hbWV9XCIgb24gPCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT4uYCwgYCR7YWxsb3dlZEF0dHJpYnV0ZXMubGVuZ3RoID8gYEFsbG93ZWQgYXR0cmlidXRlcyBhcmU6ICR7YWxsb3dlZEF0dHJpYnV0ZXMuam9pbignLCAnKX1gIDogJ1RvIHNldCB0aGUgdmFsdWUsIHVzZSBIVE1MIHdpdGhpbiB0aGUgZWxlbWVudC4nfWBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBTSE9XX0NMQVNTX1RJTUVPVVQgPSAxMDtcblxuICAvKipcbiAgICogT3BlbiBwb3B1cCwgYWRkIG5lY2Vzc2FyeSBjbGFzc2VzIGFuZCBzdHlsZXMsIGZpeCBzY3JvbGxiYXJcbiAgICpcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBvcGVuUG9wdXAgPSBwYXJhbXMgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuICAgIGNvbnN0IHBvcHVwID0gZ2V0UG9wdXAoKTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy53aWxsT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcGFyYW1zLndpbGxPcGVuKHBvcHVwKTtcbiAgICB9XG4gICAgZ2xvYmFsU3RhdGUuZXZlbnRFbWl0dGVyLmVtaXQoJ3dpbGxPcGVuJywgcG9wdXApO1xuICAgIGNvbnN0IGJvZHlTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KTtcbiAgICBjb25zdCBpbml0aWFsQm9keU92ZXJmbG93ID0gYm9keVN0eWxlcy5vdmVyZmxvd1k7XG4gICAgYWRkQ2xhc3Nlcyhjb250YWluZXIsIHBvcHVwLCBwYXJhbXMpO1xuXG4gICAgLy8gc2Nyb2xsaW5nIGlzICdoaWRkZW4nIHVudGlsIGFuaW1hdGlvbiBpcyBkb25lLCBhZnRlciB0aGF0ICdhdXRvJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0U2Nyb2xsaW5nVmlzaWJpbGl0eShjb250YWluZXIsIHBvcHVwKTtcbiAgICB9LCBTSE9XX0NMQVNTX1RJTUVPVVQpO1xuICAgIGlmIChpc01vZGFsKCkpIHtcbiAgICAgIGZpeFNjcm9sbENvbnRhaW5lcihjb250YWluZXIsIHBhcmFtcy5zY3JvbGxiYXJQYWRkaW5nLCBpbml0aWFsQm9keU92ZXJmbG93KTtcbiAgICAgIHNldEFyaWFIaWRkZW4oKTtcbiAgICB9XG4gICAgaWYgKCFpc1RvYXN0KCkgJiYgIWdsb2JhbFN0YXRlLnByZXZpb3VzQWN0aXZlRWxlbWVudCkge1xuICAgICAgZ2xvYmFsU3RhdGUucHJldmlvdXNBY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuZGlkT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBwYXJhbXMuZGlkT3Blbihwb3B1cCkpO1xuICAgIH1cbiAgICBnbG9iYWxTdGF0ZS5ldmVudEVtaXR0ZXIuZW1pdCgnZGlkT3BlbicsIHBvcHVwKTtcbiAgICByZW1vdmVDbGFzcyhjb250YWluZXIsIHN3YWxDbGFzc2VzWyduby10cmFuc2l0aW9uJ10pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkV2ZW50fSBldmVudFxuICAgKi9cbiAgY29uc3Qgc3dhbE9wZW5BbmltYXRpb25GaW5pc2hlZCA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBwb3B1cCA9IGdldFBvcHVwKCk7XG4gICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gcG9wdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgc3dhbE9wZW5BbmltYXRpb25GaW5pc2hlZCk7XG4gICAgcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3YWxPcGVuQW5pbWF0aW9uRmluaXNoZWQpO1xuICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3B1cFxuICAgKi9cbiAgY29uc3Qgc2V0U2Nyb2xsaW5nVmlzaWJpbGl0eSA9IChjb250YWluZXIsIHBvcHVwKSA9PiB7XG4gICAgaWYgKGhhc0Nzc0FuaW1hdGlvbihwb3B1cCkpIHtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJztcbiAgICAgIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHN3YWxPcGVuQW5pbWF0aW9uRmluaXNoZWQpO1xuICAgICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3YWxPcGVuQW5pbWF0aW9uRmluaXNoZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2Nyb2xsYmFyUGFkZGluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5pdGlhbEJvZHlPdmVyZmxvd1xuICAgKi9cbiAgY29uc3QgZml4U2Nyb2xsQ29udGFpbmVyID0gKGNvbnRhaW5lciwgc2Nyb2xsYmFyUGFkZGluZywgaW5pdGlhbEJvZHlPdmVyZmxvdykgPT4ge1xuICAgIGlPU2ZpeCgpO1xuICAgIGlmIChzY3JvbGxiYXJQYWRkaW5nICYmIGluaXRpYWxCb2R5T3ZlcmZsb3cgIT09ICdoaWRkZW4nKSB7XG4gICAgICByZXBsYWNlU2Nyb2xsYmFyV2l0aFBhZGRpbmcoaW5pdGlhbEJvZHlPdmVyZmxvdyk7XG4gICAgfVxuXG4gICAgLy8gc3dlZXRhbGVydDIvaXNzdWVzLzEyNDdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wdXBcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBjb25zdCBhZGRDbGFzc2VzID0gKGNvbnRhaW5lciwgcG9wdXAsIHBhcmFtcykgPT4ge1xuICAgIGFkZENsYXNzKGNvbnRhaW5lciwgcGFyYW1zLnNob3dDbGFzcy5iYWNrZHJvcCk7XG4gICAgaWYgKHBhcmFtcy5hbmltYXRpb24pIHtcbiAgICAgIC8vIHRoaXMgd29ya2Fyb3VuZCB3aXRoIG9wYWNpdHkgaXMgbmVlZGVkIGZvciBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvaXNzdWVzLzIwNTlcbiAgICAgIHBvcHVwLnN0eWxlLnNldFByb3BlcnR5KCdvcGFjaXR5JywgJzAnLCAnaW1wb3J0YW50Jyk7XG4gICAgICBzaG93KHBvcHVwLCAnZ3JpZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIEFuaW1hdGUgcG9wdXAgcmlnaHQgYWZ0ZXIgc2hvd2luZyBpdFxuICAgICAgICBhZGRDbGFzcyhwb3B1cCwgcGFyYW1zLnNob3dDbGFzcy5wb3B1cCk7XG4gICAgICAgIC8vIGFuZCByZW1vdmUgdGhlIG9wYWNpdHkgd29ya2Fyb3VuZFxuICAgICAgICBwb3B1cC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3BhY2l0eScpO1xuICAgICAgfSwgU0hPV19DTEFTU19USU1FT1VUKTsgLy8gMTBtcyBpbiBvcmRlciB0byBmaXggIzIwNjJcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvdyhwb3B1cCwgJ2dyaWQnKTtcbiAgICB9XG4gICAgYWRkQ2xhc3MoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0sIHN3YWxDbGFzc2VzLnNob3duKTtcbiAgICBpZiAocGFyYW1zLmhlaWdodEF1dG8gJiYgcGFyYW1zLmJhY2tkcm9wICYmICFwYXJhbXMudG9hc3QpIHtcbiAgICAgIGFkZENsYXNzKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLCBzd2FsQ2xhc3Nlc1snaGVpZ2h0LWF1dG8nXSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBkZWZhdWx0SW5wdXRWYWxpZGF0b3JzID0ge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZhbGlkYXRpb25NZXNzYWdlXVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZyB8IHZvaWQ+fVxuICAgICAqL1xuICAgIGVtYWlsOiAoc3RyaW5nLCB2YWxpZGF0aW9uTWVzc2FnZSkgPT4ge1xuICAgICAgcmV0dXJuIC9eW2EtekEtWjAtOS4rXyctXStAW2EtekEtWjAtOS4tXStcXC5bYS16QS1aMC05LV0rJC8udGVzdChzdHJpbmcpID8gUHJvbWlzZS5yZXNvbHZlKCkgOiBQcm9taXNlLnJlc29sdmUodmFsaWRhdGlvbk1lc3NhZ2UgfHwgJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsaWRhdGlvbk1lc3NhZ2VdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nIHwgdm9pZD59XG4gICAgICovXG4gICAgdXJsOiAoc3RyaW5nLCB2YWxpZGF0aW9uTWVzc2FnZSkgPT4ge1xuICAgICAgLy8gdGFrZW4gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzgwOTQzNSB3aXRoIGEgc21hbGwgY2hhbmdlIGZyb20gIzEzMDYgYW5kICMyMDEzXG4gICAgICByZXR1cm4gL15odHRwcz86XFwvXFwvKHd3d1xcLik/Wy1hLXpBLVowLTlAOiUuXyt+Iz1dezEsMjU2fVxcLlthLXpdezIsNjN9XFxiKFstYS16QS1aMC05QDolXysufiM/Ji89XSopJC8udGVzdChzdHJpbmcpID8gUHJvbWlzZS5yZXNvbHZlKCkgOiBQcm9taXNlLnJlc29sdmUodmFsaWRhdGlvbk1lc3NhZ2UgfHwgJ0ludmFsaWQgVVJMJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGZ1bmN0aW9uIHNldERlZmF1bHRJbnB1dFZhbGlkYXRvcnMocGFyYW1zKSB7XG4gICAgLy8gVXNlIGRlZmF1bHQgYGlucHV0VmFsaWRhdG9yYCBmb3Igc3VwcG9ydGVkIGlucHV0IHR5cGVzIGlmIG5vdCBwcm92aWRlZFxuICAgIGlmIChwYXJhbXMuaW5wdXRWYWxpZGF0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5pbnB1dCA9PT0gJ2VtYWlsJykge1xuICAgICAgcGFyYW1zLmlucHV0VmFsaWRhdG9yID0gZGVmYXVsdElucHV0VmFsaWRhdG9yc1snZW1haWwnXTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5pbnB1dCA9PT0gJ3VybCcpIHtcbiAgICAgIHBhcmFtcy5pbnB1dFZhbGlkYXRvciA9IGRlZmF1bHRJbnB1dFZhbGlkYXRvcnNbJ3VybCddO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBwYXJhbXNcbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQ3VzdG9tVGFyZ2V0RWxlbWVudChwYXJhbXMpIHtcbiAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIGN1c3RvbSB0YXJnZXQgZWxlbWVudCBpcyB2YWxpZFxuICAgIGlmICghcGFyYW1zLnRhcmdldCB8fCB0eXBlb2YgcGFyYW1zLnRhcmdldCA9PT0gJ3N0cmluZycgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW1zLnRhcmdldCkgfHwgdHlwZW9mIHBhcmFtcy50YXJnZXQgIT09ICdzdHJpbmcnICYmICFwYXJhbXMudGFyZ2V0LmFwcGVuZENoaWxkKSB7XG4gICAgICB3YXJuKCdUYXJnZXQgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZCwgZGVmYXVsdGluZyB0byBcImJvZHlcIicpO1xuICAgICAgcGFyYW1zLnRhcmdldCA9ICdib2R5JztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHR5cGUsIHRleHQgYW5kIGFjdGlvbnMgb24gcG9wdXBcbiAgICpcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gcGFyYW1zXG4gICAqL1xuICBmdW5jdGlvbiBzZXRQYXJhbWV0ZXJzKHBhcmFtcykge1xuICAgIHNldERlZmF1bHRJbnB1dFZhbGlkYXRvcnMocGFyYW1zKTtcblxuICAgIC8vIHNob3dMb2FkZXJPbkNvbmZpcm0gJiYgcHJlQ29uZmlybVxuICAgIGlmIChwYXJhbXMuc2hvd0xvYWRlck9uQ29uZmlybSAmJiAhcGFyYW1zLnByZUNvbmZpcm0pIHtcbiAgICAgIHdhcm4oJ3Nob3dMb2FkZXJPbkNvbmZpcm0gaXMgc2V0IHRvIHRydWUsIGJ1dCBwcmVDb25maXJtIGlzIG5vdCBkZWZpbmVkLlxcbicgKyAnc2hvd0xvYWRlck9uQ29uZmlybSBzaG91bGQgYmUgdXNlZCB0b2dldGhlciB3aXRoIHByZUNvbmZpcm0sIHNlZSB1c2FnZSBleGFtcGxlOlxcbicgKyAnaHR0cHM6Ly9zd2VldGFsZXJ0Mi5naXRodWIuaW8vI2FqYXgtcmVxdWVzdCcpO1xuICAgIH1cbiAgICB2YWxpZGF0ZUN1c3RvbVRhcmdldEVsZW1lbnQocGFyYW1zKTtcblxuICAgIC8vIFJlcGxhY2UgbmV3bGluZXMgd2l0aCA8YnI+IGluIHRpdGxlXG4gICAgaWYgKHR5cGVvZiBwYXJhbXMudGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMudGl0bGUgPSBwYXJhbXMudGl0bGUuc3BsaXQoJ1xcbicpLmpvaW4oJzxiciAvPicpO1xuICAgIH1cbiAgICBpbml0KHBhcmFtcyk7XG4gIH1cblxuICAvKiogQHR5cGUge1N3ZWV0QWxlcnR9ICovXG4gIGxldCBjdXJyZW50SW5zdGFuY2U7XG4gIHZhciBfcHJvbWlzZSA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuICBjbGFzcyBTd2VldEFsZXJ0IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gey4uLmFueX0gYXJnc1xuICAgICAqIEB0aGlzIHtTd2VldEFsZXJ0fVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7UHJvbWlzZTxTd2VldEFsZXJ0UmVzdWx0Pn1cbiAgICAgICAqL1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkSW5pdFNwZWModGhpcywgX3Byb21pc2UsIHZvaWQgMCk7XG4gICAgICAvLyBQcmV2ZW50IHJ1biBpbiBOb2RlIGVudlxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3V0ZXJQYXJhbXMgPSBPYmplY3QuZnJlZXplKHRoaXMuY29uc3RydWN0b3IuYXJnc1RvUGFyYW1zKGFyZ3MpKTtcblxuICAgICAgLyoqIEB0eXBlIHtSZWFkb25seTxTd2VldEFsZXJ0T3B0aW9ucz59ICovXG4gICAgICB0aGlzLnBhcmFtcyA9IG91dGVyUGFyYW1zO1xuXG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLmlzQXdhaXRpbmdQcm9taXNlID0gZmFsc2U7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRTZXQyKF9wcm9taXNlLCB0aGlzLCB0aGlzLl9tYWluKGN1cnJlbnRJbnN0YW5jZS5wYXJhbXMpKTtcbiAgICB9XG4gICAgX21haW4odXNlclBhcmFtcykge1xuICAgICAgbGV0IG1peGluUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHNob3dXYXJuaW5nc0ZvclBhcmFtcyhPYmplY3QuYXNzaWduKHt9LCBtaXhpblBhcmFtcywgdXNlclBhcmFtcykpO1xuICAgICAgaWYgKGdsb2JhbFN0YXRlLmN1cnJlbnRJbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBzd2FsUHJvbWlzZVJlc29sdmUgPSBwcml2YXRlTWV0aG9kcy5zd2FsUHJvbWlzZVJlc29sdmUuZ2V0KGdsb2JhbFN0YXRlLmN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBpc0F3YWl0aW5nUHJvbWlzZVxuICAgICAgICB9ID0gZ2xvYmFsU3RhdGUuY3VycmVudEluc3RhbmNlO1xuICAgICAgICBnbG9iYWxTdGF0ZS5jdXJyZW50SW5zdGFuY2UuX2Rlc3Ryb3koKTtcbiAgICAgICAgaWYgKCFpc0F3YWl0aW5nUHJvbWlzZSkge1xuICAgICAgICAgIHN3YWxQcm9taXNlUmVzb2x2ZSh7XG4gICAgICAgICAgICBpc0Rpc21pc3NlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vZGFsKCkpIHtcbiAgICAgICAgICB1bnNldEFyaWFIaWRkZW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2xvYmFsU3RhdGUuY3VycmVudEluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgY29uc3QgaW5uZXJQYXJhbXMgPSBwcmVwYXJlUGFyYW1zKHVzZXJQYXJhbXMsIG1peGluUGFyYW1zKTtcbiAgICAgIHNldFBhcmFtZXRlcnMoaW5uZXJQYXJhbXMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShpbm5lclBhcmFtcyk7XG5cbiAgICAgIC8vIGNsZWFyIHRoZSBwcmV2aW91cyB0aW1lclxuICAgICAgaWYgKGdsb2JhbFN0YXRlLnRpbWVvdXQpIHtcbiAgICAgICAgZ2xvYmFsU3RhdGUudGltZW91dC5zdG9wKCk7XG4gICAgICAgIGRlbGV0ZSBnbG9iYWxTdGF0ZS50aW1lb3V0O1xuICAgICAgfVxuXG4gICAgICAvLyBjbGVhciB0aGUgcmVzdG9yZSBmb2N1cyB0aW1lb3V0XG4gICAgICBjbGVhclRpbWVvdXQoZ2xvYmFsU3RhdGUucmVzdG9yZUZvY3VzVGltZW91dCk7XG4gICAgICBjb25zdCBkb21DYWNoZSA9IHBvcHVsYXRlRG9tQ2FjaGUoY3VycmVudEluc3RhbmNlKTtcbiAgICAgIHJlbmRlcihjdXJyZW50SW5zdGFuY2UsIGlubmVyUGFyYW1zKTtcbiAgICAgIHByaXZhdGVQcm9wcy5pbm5lclBhcmFtcy5zZXQoY3VycmVudEluc3RhbmNlLCBpbm5lclBhcmFtcyk7XG4gICAgICByZXR1cm4gc3dhbFByb21pc2UoY3VycmVudEluc3RhbmNlLCBkb21DYWNoZSwgaW5uZXJQYXJhbXMpO1xuICAgIH1cblxuICAgIC8vIGBjYXRjaGAgY2Fubm90IGJlIHRoZSBuYW1lIG9mIGEgbW9kdWxlIGV4cG9ydCwgc28gd2UgZGVmaW5lIG91ciB0aGVuYWJsZSBtZXRob2RzIGhlcmUgaW5zdGVhZFxuICAgIHRoZW4ob25GdWxmaWxsZWQpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRHZXQyKF9wcm9taXNlLCB0aGlzKS50aGVuKG9uRnVsZmlsbGVkKTtcbiAgICB9XG4gICAgZmluYWxseShvbkZpbmFsbHkpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRHZXQyKF9wcm9taXNlLCB0aGlzKS5maW5hbGx5KG9uRmluYWxseSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydH0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHtEb21DYWNoZX0gZG9tQ2FjaGVcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gaW5uZXJQYXJhbXNcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBjb25zdCBzd2FsUHJvbWlzZSA9IChpbnN0YW5jZSwgZG9tQ2FjaGUsIGlubmVyUGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIGZ1bmN0aW9ucyB0byBoYW5kbGUgYWxsIGNsb3NpbmdzL2Rpc21pc3NhbHNcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtEaXNtaXNzUmVhc29ufSBkaXNtaXNzXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGRpc21pc3NXaXRoID0gZGlzbWlzcyA9PiB7XG4gICAgICAgIGluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgICBpc0Rpc21pc3NlZDogdHJ1ZSxcbiAgICAgICAgICBkaXNtaXNzXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHByaXZhdGVNZXRob2RzLnN3YWxQcm9taXNlUmVzb2x2ZS5zZXQoaW5zdGFuY2UsIHJlc29sdmUpO1xuICAgICAgcHJpdmF0ZU1ldGhvZHMuc3dhbFByb21pc2VSZWplY3Quc2V0KGluc3RhbmNlLCByZWplY3QpO1xuICAgICAgZG9tQ2FjaGUuY29uZmlybUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVDb25maXJtQnV0dG9uQ2xpY2soaW5zdGFuY2UpO1xuICAgICAgfTtcbiAgICAgIGRvbUNhY2hlLmRlbnlCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgaGFuZGxlRGVueUJ1dHRvbkNsaWNrKGluc3RhbmNlKTtcbiAgICAgIH07XG4gICAgICBkb21DYWNoZS5jYW5jZWxCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgaGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2soaW5zdGFuY2UsIGRpc21pc3NXaXRoKTtcbiAgICAgIH07XG4gICAgICBkb21DYWNoZS5jbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICBkaXNtaXNzV2l0aChEaXNtaXNzUmVhc29uLmNsb3NlKTtcbiAgICAgIH07XG4gICAgICBoYW5kbGVQb3B1cENsaWNrKGlubmVyUGFyYW1zLCBkb21DYWNoZSwgZGlzbWlzc1dpdGgpO1xuICAgICAgYWRkS2V5ZG93bkhhbmRsZXIoZ2xvYmFsU3RhdGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCk7XG4gICAgICBoYW5kbGVJbnB1dE9wdGlvbnNBbmRWYWx1ZShpbnN0YW5jZSwgaW5uZXJQYXJhbXMpO1xuICAgICAgb3BlblBvcHVwKGlubmVyUGFyYW1zKTtcbiAgICAgIHNldHVwVGltZXIoZ2xvYmFsU3RhdGUsIGlubmVyUGFyYW1zLCBkaXNtaXNzV2l0aCk7XG4gICAgICBpbml0Rm9jdXMoZG9tQ2FjaGUsIGlubmVyUGFyYW1zKTtcblxuICAgICAgLy8gU2Nyb2xsIGNvbnRhaW5lciB0byB0b3Agb24gb3BlbiAoIzEyNDcsICMxOTQ2KVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRvbUNhY2hlLmNvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3dlZXRBbGVydE9wdGlvbnN9IHVzZXJQYXJhbXNcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gbWl4aW5QYXJhbXNcbiAgICogQHJldHVybnMge1N3ZWV0QWxlcnRPcHRpb25zfVxuICAgKi9cbiAgY29uc3QgcHJlcGFyZVBhcmFtcyA9ICh1c2VyUGFyYW1zLCBtaXhpblBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlUGFyYW1zID0gZ2V0VGVtcGxhdGVQYXJhbXModXNlclBhcmFtcyk7XG4gICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFBhcmFtcywgbWl4aW5QYXJhbXMsIHRlbXBsYXRlUGFyYW1zLCB1c2VyUGFyYW1zKTsgLy8gcHJlY2VkZW5jZSBpcyBkZXNjcmliZWQgaW4gIzIxMzFcbiAgICBwYXJhbXMuc2hvd0NsYXNzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFBhcmFtcy5zaG93Q2xhc3MsIHBhcmFtcy5zaG93Q2xhc3MpO1xuICAgIHBhcmFtcy5oaWRlQ2xhc3MgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UGFyYW1zLmhpZGVDbGFzcywgcGFyYW1zLmhpZGVDbGFzcyk7XG4gICAgaWYgKHBhcmFtcy5hbmltYXRpb24gPT09IGZhbHNlKSB7XG4gICAgICBwYXJhbXMuc2hvd0NsYXNzID0ge1xuICAgICAgICBiYWNrZHJvcDogJ3N3YWwyLW5vYW5pbWF0aW9uJ1xuICAgICAgfTtcbiAgICAgIHBhcmFtcy5oaWRlQ2xhc3MgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0fSBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7RG9tQ2FjaGV9XG4gICAqL1xuICBjb25zdCBwb3B1bGF0ZURvbUNhY2hlID0gaW5zdGFuY2UgPT4ge1xuICAgIGNvbnN0IGRvbUNhY2hlID0ge1xuICAgICAgcG9wdXA6IGdldFBvcHVwKCksXG4gICAgICBjb250YWluZXI6IGdldENvbnRhaW5lcigpLFxuICAgICAgYWN0aW9uczogZ2V0QWN0aW9ucygpLFxuICAgICAgY29uZmlybUJ1dHRvbjogZ2V0Q29uZmlybUJ1dHRvbigpLFxuICAgICAgZGVueUJ1dHRvbjogZ2V0RGVueUJ1dHRvbigpLFxuICAgICAgY2FuY2VsQnV0dG9uOiBnZXRDYW5jZWxCdXR0b24oKSxcbiAgICAgIGxvYWRlcjogZ2V0TG9hZGVyKCksXG4gICAgICBjbG9zZUJ1dHRvbjogZ2V0Q2xvc2VCdXR0b24oKSxcbiAgICAgIHZhbGlkYXRpb25NZXNzYWdlOiBnZXRWYWxpZGF0aW9uTWVzc2FnZSgpLFxuICAgICAgcHJvZ3Jlc3NTdGVwczogZ2V0UHJvZ3Jlc3NTdGVwcygpXG4gICAgfTtcbiAgICBwcml2YXRlUHJvcHMuZG9tQ2FjaGUuc2V0KGluc3RhbmNlLCBkb21DYWNoZSk7XG4gICAgcmV0dXJuIGRvbUNhY2hlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0dsb2JhbFN0YXRlfSBnbG9iYWxTdGF0ZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNtaXNzV2l0aFxuICAgKi9cbiAgY29uc3Qgc2V0dXBUaW1lciA9IChnbG9iYWxTdGF0ZSwgaW5uZXJQYXJhbXMsIGRpc21pc3NXaXRoKSA9PiB7XG4gICAgY29uc3QgdGltZXJQcm9ncmVzc0JhciA9IGdldFRpbWVyUHJvZ3Jlc3NCYXIoKTtcbiAgICBoaWRlKHRpbWVyUHJvZ3Jlc3NCYXIpO1xuICAgIGlmIChpbm5lclBhcmFtcy50aW1lcikge1xuICAgICAgZ2xvYmFsU3RhdGUudGltZW91dCA9IG5ldyBUaW1lcigoKSA9PiB7XG4gICAgICAgIGRpc21pc3NXaXRoKCd0aW1lcicpO1xuICAgICAgICBkZWxldGUgZ2xvYmFsU3RhdGUudGltZW91dDtcbiAgICAgIH0sIGlubmVyUGFyYW1zLnRpbWVyKTtcbiAgICAgIGlmIChpbm5lclBhcmFtcy50aW1lclByb2dyZXNzQmFyKSB7XG4gICAgICAgIHNob3codGltZXJQcm9ncmVzc0Jhcik7XG4gICAgICAgIGFwcGx5Q3VzdG9tQ2xhc3ModGltZXJQcm9ncmVzc0JhciwgaW5uZXJQYXJhbXMsICd0aW1lclByb2dyZXNzQmFyJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChnbG9iYWxTdGF0ZS50aW1lb3V0ICYmIGdsb2JhbFN0YXRlLnRpbWVvdXQucnVubmluZykge1xuICAgICAgICAgICAgLy8gdGltZXIgY2FuIGJlIGFscmVhZHkgc3RvcHBlZCBvciB1bnNldCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICBhbmltYXRlVGltZXJQcm9ncmVzc0Jhcihpbm5lclBhcmFtcy50aW1lcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZm9jdXMgaW4gdGhlIHBvcHVwOlxuICAgKlxuICAgKiAxLiBJZiBgdG9hc3RgIGlzIGB0cnVlYCwgZG9uJ3Qgc3RlYWwgZm9jdXMgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAqIDIuIEVsc2UgaWYgdGhlcmUgaXMgYW4gW2F1dG9mb2N1c10gZWxlbWVudCwgZm9jdXMgaXQuXG4gICAqIDMuIEVsc2UgaWYgYGZvY3VzQ29uZmlybWAgaXMgYHRydWVgIGFuZCBjb25maXJtIGJ1dHRvbiBpcyB2aXNpYmxlLCBmb2N1cyBpdC5cbiAgICogNC4gRWxzZSBpZiBgZm9jdXNEZW55YCBpcyBgdHJ1ZWAgYW5kIGRlbnkgYnV0dG9uIGlzIHZpc2libGUsIGZvY3VzIGl0LlxuICAgKiA1LiBFbHNlIGlmIGBmb2N1c0NhbmNlbGAgaXMgYHRydWVgIGFuZCBjYW5jZWwgYnV0dG9uIGlzIHZpc2libGUsIGZvY3VzIGl0LlxuICAgKiA2LiBFbHNlIGZvY3VzIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiBhIHBvcHVwIChpZiBhbnkpLlxuICAgKlxuICAgKiBAcGFyYW0ge0RvbUNhY2hlfSBkb21DYWNoZVxuICAgKiBAcGFyYW0ge1N3ZWV0QWxlcnRPcHRpb25zfSBpbm5lclBhcmFtc1xuICAgKi9cbiAgY29uc3QgaW5pdEZvY3VzID0gKGRvbUNhY2hlLCBpbm5lclBhcmFtcykgPT4ge1xuICAgIGlmIChpbm5lclBhcmFtcy50b2FzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUT0RPOiB0aGlzIGlzIGR1bWIsIHJlbW92ZSBgYWxsb3dFbnRlcktleWAgcGFyYW0gaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuICAgIGlmICghY2FsbElmRnVuY3Rpb24oaW5uZXJQYXJhbXMuYWxsb3dFbnRlcktleSkpIHtcbiAgICAgIHdhcm5BYm91dERlcHJlY2F0aW9uKCdhbGxvd0VudGVyS2V5Jyk7XG4gICAgICBibHVyQWN0aXZlRWxlbWVudCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZm9jdXNBdXRvZm9jdXMoZG9tQ2FjaGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmb2N1c0J1dHRvbihkb21DYWNoZSwgaW5uZXJQYXJhbXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEZvY3VzKC0xLCAxKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtEb21DYWNoZX0gZG9tQ2FjaGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjb25zdCBmb2N1c0F1dG9mb2N1cyA9IGRvbUNhY2hlID0+IHtcbiAgICBjb25zdCBhdXRvZm9jdXNFbGVtZW50cyA9IEFycmF5LmZyb20oZG9tQ2FjaGUucG9wdXAucXVlcnlTZWxlY3RvckFsbCgnW2F1dG9mb2N1c10nKSk7XG4gICAgZm9yIChjb25zdCBhdXRvZm9jdXNFbGVtZW50IG9mIGF1dG9mb2N1c0VsZW1lbnRzKSB7XG4gICAgICBpZiAoYXV0b2ZvY3VzRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGlzVmlzaWJsZSQxKGF1dG9mb2N1c0VsZW1lbnQpKSB7XG4gICAgICAgIGF1dG9mb2N1c0VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtEb21DYWNoZX0gZG9tQ2FjaGVcbiAgICogQHBhcmFtIHtTd2VldEFsZXJ0T3B0aW9uc30gaW5uZXJQYXJhbXNcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjb25zdCBmb2N1c0J1dHRvbiA9IChkb21DYWNoZSwgaW5uZXJQYXJhbXMpID0+IHtcbiAgICBpZiAoaW5uZXJQYXJhbXMuZm9jdXNEZW55ICYmIGlzVmlzaWJsZSQxKGRvbUNhY2hlLmRlbnlCdXR0b24pKSB7XG4gICAgICBkb21DYWNoZS5kZW55QnV0dG9uLmZvY3VzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlubmVyUGFyYW1zLmZvY3VzQ2FuY2VsICYmIGlzVmlzaWJsZSQxKGRvbUNhY2hlLmNhbmNlbEJ1dHRvbikpIHtcbiAgICAgIGRvbUNhY2hlLmNhbmNlbEJ1dHRvbi5mb2N1cygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpbm5lclBhcmFtcy5mb2N1c0NvbmZpcm0gJiYgaXNWaXNpYmxlJDEoZG9tQ2FjaGUuY29uZmlybUJ1dHRvbikpIHtcbiAgICAgIGRvbUNhY2hlLmNvbmZpcm1CdXR0b24uZm9jdXMoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IGJsdXJBY3RpdmVFbGVtZW50ID0gKCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdHlwZW9mIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1ciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIERlYXIgcnVzc2lhbiB1c2VycyB2aXNpdGluZyBydXNzaWFuIHNpdGVzLiBMZXQncyBoYXZlIGZ1bi5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIC9ecnVcXGIvLnRlc3QobmF2aWdhdG9yLmxhbmd1YWdlKSAmJiBsb2NhdGlvbi5ob3N0Lm1hdGNoKC9cXC4ocnV8c3V8Ynl8eG4tLXAxYWkpJC8pKSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBpbml0aWF0aW9uRGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzd2FsLWluaXRpYXRpb24nKTtcbiAgICBpZiAoIWluaXRpYXRpb25EYXRlKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3dhbC1pbml0aWF0aW9uJywgYCR7bm93fWApO1xuICAgIH0gZWxzZSBpZiAoKG5vdy5nZXRUaW1lKCkgLSBEYXRlLnBhcnNlKGluaXRpYXRpb25EYXRlKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkgPiAzKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgICBjb25zdCB1a3JhaW5pYW5BbnRoZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICB1a3JhaW5pYW5BbnRoZW0uc3JjID0gJ2h0dHBzOi8vZmxhZy1naW1uLnJ1L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIxLzA5L1VrcmFpbmEubXAzJztcbiAgICAgICAgdWtyYWluaWFuQW50aGVtLmxvb3AgPSB0cnVlO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHVrcmFpbmlhbkFudGhlbSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHVrcmFpbmlhbkFudGhlbS5wbGF5KCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDI1MDApO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gIH1cblxuICAvLyBBc3NpZ24gaW5zdGFuY2UgbWV0aG9kcyBmcm9tIHNyYy9pbnN0YW5jZU1ldGhvZHMvKi5qcyB0byBwcm90b3R5cGVcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuZGlzYWJsZUJ1dHRvbnMgPSBkaXNhYmxlQnV0dG9ucztcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuZW5hYmxlQnV0dG9ucyA9IGVuYWJsZUJ1dHRvbnM7XG4gIFN3ZWV0QWxlcnQucHJvdG90eXBlLmdldElucHV0ID0gZ2V0SW5wdXQ7XG4gIFN3ZWV0QWxlcnQucHJvdG90eXBlLmRpc2FibGVJbnB1dCA9IGRpc2FibGVJbnB1dDtcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuZW5hYmxlSW5wdXQgPSBlbmFibGVJbnB1dDtcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuaGlkZUxvYWRpbmcgPSBoaWRlTG9hZGluZztcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuZGlzYWJsZUxvYWRpbmcgPSBoaWRlTG9hZGluZztcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuc2hvd1ZhbGlkYXRpb25NZXNzYWdlID0gc2hvd1ZhbGlkYXRpb25NZXNzYWdlO1xuICBTd2VldEFsZXJ0LnByb3RvdHlwZS5yZXNldFZhbGlkYXRpb25NZXNzYWdlID0gcmVzZXRWYWxpZGF0aW9uTWVzc2FnZTtcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuY2xvc2UgPSBjbG9zZTtcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuY2xvc2VQb3B1cCA9IGNsb3NlO1xuICBTd2VldEFsZXJ0LnByb3RvdHlwZS5jbG9zZU1vZGFsID0gY2xvc2U7XG4gIFN3ZWV0QWxlcnQucHJvdG90eXBlLmNsb3NlVG9hc3QgPSBjbG9zZTtcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUucmVqZWN0UHJvbWlzZSA9IHJlamVjdFByb21pc2U7XG4gIFN3ZWV0QWxlcnQucHJvdG90eXBlLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgU3dlZXRBbGVydC5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBfZGVzdHJveTtcblxuICAvLyBBc3NpZ24gc3RhdGljIG1ldGhvZHMgZnJvbSBzcmMvc3RhdGljTWV0aG9kcy8qLmpzIHRvIGNvbnN0cnVjdG9yXG4gIE9iamVjdC5hc3NpZ24oU3dlZXRBbGVydCwgc3RhdGljTWV0aG9kcyk7XG5cbiAgLy8gUHJveHkgdG8gaW5zdGFuY2UgbWV0aG9kcyB0byBjb25zdHJ1Y3RvciwgZm9yIG5vdywgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIE9iamVjdC5rZXlzKGluc3RhbmNlTWV0aG9kcykuZm9yRWFjaChrZXkgPT4ge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBhcmdzXG4gICAgICogQHJldHVybnMge2FueSB8IHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBTd2VldEFsZXJ0W2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZVtrZXldKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50SW5zdGFuY2Vba2V5XSguLi5hcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgfSk7XG4gIFN3ZWV0QWxlcnQuRGlzbWlzc1JlYXNvbiA9IERpc21pc3NSZWFzb247XG4gIFN3ZWV0QWxlcnQudmVyc2lvbiA9ICcxMS4xNy4yJztcblxuICBjb25zdCBTd2FsID0gU3dlZXRBbGVydDtcbiAgLy8gQHRzLWlnbm9yZVxuICBTd2FsLmRlZmF1bHQgPSBTd2FsO1xuXG4gIHJldHVybiBTd2FsO1xuXG59KSk7XG5pZiAodHlwZW9mIHRoaXMgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuU3dlZXRhbGVydDIpe3RoaXMuc3dhbCA9IHRoaXMuc3dlZXRBbGVydCA9IHRoaXMuU3dhbCA9IHRoaXMuU3dlZXRBbGVydCA9IHRoaXMuU3dlZXRhbGVydDJ9XG5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYoZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQobiksbi5zdHlsZVNoZWV0KW4uc3R5bGVTaGVldC5kaXNhYmxlZHx8KG4uc3R5bGVTaGVldC5jc3NUZXh0PXQpO2Vsc2UgdHJ5e24uaW5uZXJIVE1MPXR9Y2F0Y2goZSl7bi5pbm5lclRleHQ9dH19KGRvY3VtZW50LFwiOnJvb3R7LS1zd2FsMi1jb250YWluZXItcGFkZGluZzogMC42MjVlbTstLXN3YWwyLWJhY2tkcm9wOiByZ2JhKDAsIDAsIDAsIDAuNCk7LS1zd2FsMi13aWR0aDogMzJlbTstLXN3YWwyLXBhZGRpbmc6IDAgMCAxLjI1ZW07LS1zd2FsMi1ib3JkZXI6IG5vbmU7LS1zd2FsMi1ib3JkZXItcmFkaXVzOiAwLjMxMjVyZW07LS1zd2FsMi1iYWNrZ3JvdW5kOiB3aGl0ZTstLXN3YWwyLWNvbG9yOiAjNTQ1NDU0Oy0tc3dhbDItZm9vdGVyLWJvcmRlci1jb2xvcjogI2VlZTstLXN3YWwyLXNob3ctYW5pbWF0aW9uOiBzd2FsMi1zaG93IDAuM3M7LS1zd2FsMi1oaWRlLWFuaW1hdGlvbjogc3dhbDItaGlkZSAwLjE1cyBmb3J3YXJkczstLXN3YWwyLWlucHV0LWJhY2tncm91bmQ6IHRyYW5zcGFyZW50Oy0tc3dhbDItcHJvZ3Jlc3Mtc3RlcC1iYWNrZ3JvdW5kOiAjYWRkOGU2Oy0tc3dhbDItdmFsaWRhdGlvbi1tZXNzYWdlLWJhY2tncm91bmQ6ICNmMGYwZjA7LS1zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2UtY29sb3I6ICM2NjY7LS1zd2FsMi1jbG9zZS1idXR0b24tcG9zaXRpb246IGluaXRpYWw7LS1zd2FsMi1jbG9zZS1idXR0b24taW5zZXQ6IGF1dG87LS1zd2FsMi1jbG9zZS1idXR0b24tZm9udC1zaXplOiAyLjVlbTstLXN3YWwyLWNsb3NlLWJ1dHRvbi1jb2xvcjogI2NjY31bZGF0YS1zd2FsMi10aGVtZT1kYXJrXXstLXN3YWwyLWRhcmstdGhlbWUtYmxhY2s6ICMxOTE5MWE7LS1zd2FsMi1kYXJrLXRoZW1lLXdoaXRlOiAjZTFlMWUxOy0tc3dhbDItYmFja2dyb3VuZDogdmFyKC0tc3dhbDItZGFyay10aGVtZS1ibGFjayk7LS1zd2FsMi1jb2xvcjogdmFyKC0tc3dhbDItZGFyay10aGVtZS13aGl0ZSk7LS1zd2FsMi1mb290ZXItYm9yZGVyLWNvbG9yOiAjNTU1Oy0tc3dhbDItaW5wdXQtYmFja2dyb3VuZDogY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLXN3YWwyLWRhcmstdGhlbWUtYmxhY2spLCB2YXIoLS1zd2FsMi1kYXJrLXRoZW1lLXdoaXRlKSAxMCUpOy0tc3dhbDItdmFsaWRhdGlvbi1tZXNzYWdlLWJhY2tncm91bmQ6IGNvbG9yLW1peCggaW4gc3JnYiwgdmFyKC0tc3dhbDItZGFyay10aGVtZS1ibGFjayksIHZhcigtLXN3YWwyLWRhcmstdGhlbWUtd2hpdGUpIDEwJSApOy0tc3dhbDItdmFsaWRhdGlvbi1tZXNzYWdlLWNvbG9yOiB2YXIoLS1zd2FsMi1kYXJrLXRoZW1lLXdoaXRlKX1AbWVkaWEocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspe1tkYXRhLXN3YWwyLXRoZW1lPWF1dG9dey0tc3dhbDItZGFyay10aGVtZS1ibGFjazogIzE5MTkxYTstLXN3YWwyLWRhcmstdGhlbWUtd2hpdGU6ICNlMWUxZTE7LS1zd2FsMi1iYWNrZ3JvdW5kOiB2YXIoLS1zd2FsMi1kYXJrLXRoZW1lLWJsYWNrKTstLXN3YWwyLWNvbG9yOiB2YXIoLS1zd2FsMi1kYXJrLXRoZW1lLXdoaXRlKTstLXN3YWwyLWZvb3Rlci1ib3JkZXItY29sb3I6ICM1NTU7LS1zd2FsMi1pbnB1dC1iYWNrZ3JvdW5kOiBjb2xvci1taXgoaW4gc3JnYiwgdmFyKC0tc3dhbDItZGFyay10aGVtZS1ibGFjayksIHZhcigtLXN3YWwyLWRhcmstdGhlbWUtd2hpdGUpIDEwJSk7LS1zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2UtYmFja2dyb3VuZDogY29sb3ItbWl4KCBpbiBzcmdiLCB2YXIoLS1zd2FsMi1kYXJrLXRoZW1lLWJsYWNrKSwgdmFyKC0tc3dhbDItZGFyay10aGVtZS13aGl0ZSkgMTAlICk7LS1zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2UtY29sb3I6IHZhcigtLXN3YWwyLWRhcmstdGhlbWUtd2hpdGUpfX1ib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3AsLnN3YWwyLXRvYXN0LXNob3duKXtvdmVyZmxvdzpoaWRkZW59Ym9keS5zd2FsMi1oZWlnaHQtYXV0b3toZWlnaHQ6YXV0byAhaW1wb3J0YW50fWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMCkgIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lciAuc3dhbDItcG9wdXB7cG9pbnRlci1ldmVudHM6YWxsfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lciAuc3dhbDItbW9kYWx7Ym94LXNoYWRvdzowIDAgMTBweCB2YXIoLS1zd2FsMi1iYWNrZHJvcCl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVye2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDozNjBweDttYXgtd2lkdGg6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMCk7cG9pbnRlci1ldmVudHM6bm9uZX1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9we2luc2V0OjAgYXV0byBhdXRvIDUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLWVuZCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXJpZ2h0e2luc2V0OjAgMCBhdXRvIGF1dG99Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1zdGFydCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLWxlZnR7aW5zZXQ6MCBhdXRvIGF1dG8gMH1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLXN0YXJ0LGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItbGVmdHtpbnNldDo1MCUgYXV0byBhdXRvIDA7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlcntpbnNldDo1MCUgYXV0byBhdXRvIDUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItZW5kLGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItcmlnaHR7aW5zZXQ6NTAlIDAgYXV0byBhdXRvO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tc3RhcnQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1sZWZ0e2luc2V0OmF1dG8gYXV0byAwIDB9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbXtpbnNldDphdXRvIGF1dG8gMCA1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1lbmQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1yaWdodHtpbnNldDphdXRvIDAgMCBhdXRvfUBtZWRpYSBwcmludHtib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3AsLnN3YWwyLXRvYXN0LXNob3duKXtvdmVyZmxvdy15OnNjcm9sbCAhaW1wb3J0YW50fWJvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCwuc3dhbDItdG9hc3Qtc2hvd24pPlthcmlhLWhpZGRlbj10cnVlXXtkaXNwbGF5Om5vbmV9Ym9keS5zd2FsMi1zaG93bjpub3QoLnN3YWwyLW5vLWJhY2tkcm9wLC5zd2FsMi10b2FzdC1zaG93bikgLnN3YWwyLWNvbnRhaW5lcntwb3NpdGlvbjpzdGF0aWMgIWltcG9ydGFudH19ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpe2Rpc3BsYXk6Z3JpZDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwNjA7aW5zZXQ6MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Z3JpZC10ZW1wbGF0ZS1hcmVhczpcXFwidG9wLXN0YXJ0ICAgICB0b3AgICAgICAgICAgICB0b3AtZW5kXFxcIiBcXFwiY2VudGVyLXN0YXJ0ICBjZW50ZXIgICAgICAgICBjZW50ZXItZW5kXFxcIiBcXFwiYm90dG9tLXN0YXJ0ICBib3R0b20tY2VudGVyICBib3R0b20tZW5kXFxcIjtncmlkLXRlbXBsYXRlLXJvd3M6bWlubWF4KG1pbi1jb250ZW50LCBhdXRvKSBtaW5tYXgobWluLWNvbnRlbnQsIGF1dG8pIG1pbm1heChtaW4tY29udGVudCwgYXV0byk7aGVpZ2h0OjEwMCU7cGFkZGluZzp2YXIoLS1zd2FsMi1jb250YWluZXItcGFkZGluZyk7b3ZlcmZsb3cteDpoaWRkZW47dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xczstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItYmFja2Ryb3Atc2hvdyxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItbm9hbmltYXRpb257YmFja2dyb3VuZDp2YXIoLS1zd2FsMi1iYWNrZHJvcCl9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLWJhY2tkcm9wLWhpZGV7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApICFpbXBvcnRhbnR9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLXRvcC1zdGFydCxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItY2VudGVyLXN0YXJ0LGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ib3R0b20tc3RhcnR7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOm1pbm1heCgwLCAxZnIpIGF1dG8gYXV0b31kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItdG9wLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1jZW50ZXIsZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLWJvdHRvbXtncmlkLXRlbXBsYXRlLWNvbHVtbnM6YXV0byBtaW5tYXgoMCwgMWZyKSBhdXRvfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi10b3AtZW5kLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1jZW50ZXItZW5kLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ib3R0b20tZW5ke2dyaWQtdGVtcGxhdGUtY29sdW1uczphdXRvIGF1dG8gbWlubWF4KDAsIDFmcil9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLXRvcC1zdGFydD4uc3dhbDItcG9wdXB7YWxpZ24tc2VsZjpzdGFydH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItdG9wPi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjoyO3BsYWNlLXNlbGY6c3RhcnQgY2VudGVyfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi10b3AtZW5kPi5zd2FsMi1wb3B1cCxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItdG9wLXJpZ2h0Pi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjozO3BsYWNlLXNlbGY6c3RhcnQgZW5kfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1jZW50ZXItc3RhcnQ+LnN3YWwyLXBvcHVwLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1jZW50ZXItbGVmdD4uc3dhbDItcG9wdXB7Z3JpZC1yb3c6MjthbGlnbi1zZWxmOmNlbnRlcn1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItY2VudGVyPi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjoyO2dyaWQtcm93OjI7cGxhY2Utc2VsZjpjZW50ZXIgY2VudGVyfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1jZW50ZXItZW5kPi5zd2FsMi1wb3B1cCxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItY2VudGVyLXJpZ2h0Pi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjozO2dyaWQtcm93OjI7cGxhY2Utc2VsZjpjZW50ZXIgZW5kfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ib3R0b20tc3RhcnQ+LnN3YWwyLXBvcHVwLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ib3R0b20tbGVmdD4uc3dhbDItcG9wdXB7Z3JpZC1jb2x1bW46MTtncmlkLXJvdzozO2FsaWduLXNlbGY6ZW5kfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ib3R0b20+LnN3YWwyLXBvcHVwe2dyaWQtY29sdW1uOjI7Z3JpZC1yb3c6MztwbGFjZS1zZWxmOmVuZCBjZW50ZXJ9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLWJvdHRvbS1lbmQ+LnN3YWwyLXBvcHVwLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ib3R0b20tcmlnaHQ+LnN3YWwyLXBvcHVwe2dyaWQtY29sdW1uOjM7Z3JpZC1yb3c6MztwbGFjZS1zZWxmOmVuZCBlbmR9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLWdyb3ctcm93Pi5zd2FsMi1wb3B1cCxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItZ3Jvdy1mdWxsc2NyZWVuPi5zd2FsMi1wb3B1cHtncmlkLWNvbHVtbjoxLzQ7d2lkdGg6MTAwJX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikuc3dhbDItZ3Jvdy1jb2x1bW4+LnN3YWwyLXBvcHVwLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKS5zd2FsMi1ncm93LWZ1bGxzY3JlZW4+LnN3YWwyLXBvcHVwe2dyaWQtcm93OjEvNDthbGlnbi1zZWxmOnN0cmV0Y2h9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpLnN3YWwyLW5vLXRyYW5zaXRpb257dHJhbnNpdGlvbjpub25lICFpbXBvcnRhbnR9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGRpdjp3aGVyZSguc3dhbDItcG9wdXApe2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOm1pbm1heCgwLCAxMDAlKTt3aWR0aDp2YXIoLS1zd2FsMi13aWR0aCk7bWF4LXdpZHRoOjEwMCU7cGFkZGluZzp2YXIoLS1zd2FsMi1wYWRkaW5nKTtib3JkZXI6dmFyKC0tc3dhbDItYm9yZGVyKTtib3JkZXItcmFkaXVzOnZhcigtLXN3YWwyLWJvcmRlci1yYWRpdXMpO2JhY2tncm91bmQ6dmFyKC0tc3dhbDItYmFja2dyb3VuZCk7Y29sb3I6dmFyKC0tc3dhbDItY29sb3IpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjFyZW19ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGRpdjp3aGVyZSguc3dhbDItcG9wdXApOmZvY3Vze291dGxpbmU6bm9uZX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1wb3B1cCkuc3dhbDItbG9hZGluZ3tvdmVyZmxvdy15OmhpZGRlbn1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1wb3B1cCkuc3dhbDItZHJhZ2dhYmxle2N1cnNvcjpncmFifWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBkaXY6d2hlcmUoLnN3YWwyLXBvcHVwKS5zd2FsMi1kcmFnZ2FibGUgZGl2OndoZXJlKC5zd2FsMi1pY29uKXtjdXJzb3I6Z3JhYn1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1wb3B1cCkuc3dhbDItZHJhZ2dpbmd7Y3Vyc29yOmdyYWJiaW5nfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBkaXY6d2hlcmUoLnN3YWwyLXBvcHVwKS5zd2FsMi1kcmFnZ2luZyBkaXY6d2hlcmUoLnN3YWwyLWljb24pe2N1cnNvcjpncmFiYmluZ31kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgaDI6d2hlcmUoLnN3YWwyLXRpdGxlKXtwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6MTAwJTttYXJnaW46MDtwYWRkaW5nOi44ZW0gMWVtIDA7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MS44NzVlbTtmb250LXdlaWdodDo2MDA7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC10cmFuc2Zvcm06bm9uZTt3b3JkLXdyYXA6YnJlYWstd29yZDtjdXJzb3I6aW5pdGlhbH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1hY3Rpb25zKXtkaXNwbGF5OmZsZXg7ei1pbmRleDoxO2JveC1zaXppbmc6Ym9yZGVyLWJveDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDphdXRvO21hcmdpbjoxLjI1ZW0gYXV0byAwO3BhZGRpbmc6MH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1hY3Rpb25zKTpub3QoLnN3YWwyLWxvYWRpbmcpIC5zd2FsMi1zdHlsZWRbZGlzYWJsZWRde29wYWNpdHk6LjR9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGRpdjp3aGVyZSguc3dhbDItYWN0aW9ucyk6bm90KC5zd2FsMi1sb2FkaW5nKSAuc3dhbDItc3R5bGVkOmhvdmVye2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHJnYmEoMCwgMCwgMCwgMC4xKSwgcmdiYSgwLCAwLCAwLCAwLjEpKX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1hY3Rpb25zKTpub3QoLnN3YWwyLWxvYWRpbmcpIC5zd2FsMi1zdHlsZWQ6YWN0aXZle2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHJnYmEoMCwgMCwgMCwgMC4yKSwgcmdiYSgwLCAwLCAwLCAwLjIpKX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1sb2FkZXIpe2Rpc3BsYXk6bm9uZTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoyLjJlbTtoZWlnaHQ6Mi4yZW07bWFyZ2luOjAgMS44NzVlbTthbmltYXRpb246c3dhbDItcm90YXRlLWxvYWRpbmcgMS41cyBsaW5lYXIgMHMgaW5maW5pdGUgbm9ybWFsO2JvcmRlci13aWR0aDouMjVlbTtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXJhZGl1czoxMDAlO2JvcmRlci1jb2xvcjojMjc3OGM0IHJnYmEoMCwwLDAsMCkgIzI3NzhjNCByZ2JhKDAsMCwwLDApfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBidXR0b246d2hlcmUoLnN3YWwyLXN0eWxlZCl7bWFyZ2luOi4zMTI1ZW07cGFkZGluZzouNjI1ZW0gMS4xZW07dHJhbnNpdGlvbjpib3gtc2hhZG93IC4xcztib3gtc2hhZG93OjAgMCAwIDNweCByZ2JhKDAsMCwwLDApO2ZvbnQtd2VpZ2h0OjUwMH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgYnV0dG9uOndoZXJlKC5zd2FsMi1zdHlsZWQpOm5vdChbZGlzYWJsZWRdKXtjdXJzb3I6cG9pbnRlcn1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgYnV0dG9uOndoZXJlKC5zd2FsMi1zdHlsZWQpOndoZXJlKC5zd2FsMi1jb25maXJtKXtib3JkZXI6MDtib3JkZXItcmFkaXVzOi4yNWVtO2JhY2tncm91bmQ6aW5pdGlhbDtiYWNrZ3JvdW5kLWNvbG9yOiM3MDY2ZTA7Y29sb3I6I2ZmZjtmb250LXNpemU6MWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBidXR0b246d2hlcmUoLnN3YWwyLXN0eWxlZCk6d2hlcmUoLnN3YWwyLWNvbmZpcm0pOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDAgMCAzcHggcmdiYSgxMTIsMTAyLDIyNCwuNSl9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGJ1dHRvbjp3aGVyZSguc3dhbDItc3R5bGVkKTp3aGVyZSguc3dhbDItZGVueSl7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czouMjVlbTtiYWNrZ3JvdW5kOmluaXRpYWw7YmFja2dyb3VuZC1jb2xvcjojZGMzNzQxO2NvbG9yOiNmZmY7Zm9udC1zaXplOjFlbX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgYnV0dG9uOndoZXJlKC5zd2FsMi1zdHlsZWQpOndoZXJlKC5zd2FsMi1kZW55KTpmb2N1cy12aXNpYmxle2JveC1zaGFkb3c6MCAwIDAgM3B4IHJnYmEoMjIwLDU1LDY1LC41KX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgYnV0dG9uOndoZXJlKC5zd2FsMi1zdHlsZWQpOndoZXJlKC5zd2FsMi1jYW5jZWwpe2JvcmRlcjowO2JvcmRlci1yYWRpdXM6LjI1ZW07YmFja2dyb3VuZDppbml0aWFsO2JhY2tncm91bmQtY29sb3I6IzZlNzg4MTtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxZW19ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGJ1dHRvbjp3aGVyZSguc3dhbDItc3R5bGVkKTp3aGVyZSguc3dhbDItY2FuY2VsKTpmb2N1cy12aXNpYmxle2JveC1zaGFkb3c6MCAwIDAgM3B4IHJnYmEoMTEwLDEyMCwxMjksLjUpfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBidXR0b246d2hlcmUoLnN3YWwyLXN0eWxlZCkuc3dhbDItZGVmYXVsdC1vdXRsaW5lOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDAgMCAzcHggcmdiYSgxMDAsMTUwLDIwMCwuNSl9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGJ1dHRvbjp3aGVyZSguc3dhbDItc3R5bGVkKTpmb2N1cy12aXNpYmxle291dGxpbmU6bm9uZX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgYnV0dG9uOndoZXJlKC5zd2FsMi1zdHlsZWQpOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBkaXY6d2hlcmUoLnN3YWwyLWZvb3Rlcil7bWFyZ2luOjFlbSAwIDA7cGFkZGluZzoxZW0gMWVtIDA7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tc3dhbDItZm9vdGVyLWJvcmRlci1jb2xvcik7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MWVtO3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjppbml0aWFsfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItdGltZXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtncmlkLWNvbHVtbjphdXRvICFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOnZhcigtLXN3YWwyLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6dmFyKC0tc3dhbDItYm9yZGVyLXJhZGl1cyl9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGRpdjp3aGVyZSguc3dhbDItdGltZXItcHJvZ3Jlc3MtYmFyKXt3aWR0aDoxMDAlO2hlaWdodDouMjVlbTtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjIpfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBpbWc6d2hlcmUoLnN3YWwyLWltYWdlKXttYXgtd2lkdGg6MTAwJTttYXJnaW46MmVtIGF1dG8gMWVtO2N1cnNvcjppbml0aWFsfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBidXR0b246d2hlcmUoLnN3YWwyLWNsb3NlKXtwb3NpdGlvbjp2YXIoLS1zd2FsMi1jbG9zZS1idXR0b24tcG9zaXRpb24pO2luc2V0OnZhcigtLXN3YWwyLWNsb3NlLWJ1dHRvbi1pbnNldCk7ei1pbmRleDoyO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEuMmVtO2hlaWdodDoxLjJlbTttYXJnaW4tdG9wOjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLWJvdHRvbTotMS4yZW07cGFkZGluZzowO292ZXJmbG93OmhpZGRlbjt0cmFuc2l0aW9uOmNvbG9yIC4xcyxib3gtc2hhZG93IC4xcztib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOnZhcigtLXN3YWwyLWJvcmRlci1yYWRpdXMpO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwKTtjb2xvcjp2YXIoLS1zd2FsMi1jbG9zZS1idXR0b24tY29sb3IpO2ZvbnQtZmFtaWx5Om1vbm9zcGFjZTtmb250LXNpemU6dmFyKC0tc3dhbDItY2xvc2UtYnV0dG9uLWZvbnQtc2l6ZSk7Y3Vyc29yOnBvaW50ZXI7anVzdGlmeS1zZWxmOmVuZH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgYnV0dG9uOndoZXJlKC5zd2FsMi1jbG9zZSk6aG92ZXJ7dHJhbnNmb3JtOm5vbmU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO2NvbG9yOiNmMjc0NzR9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGJ1dHRvbjp3aGVyZSguc3dhbDItY2xvc2UpOmZvY3VzLXZpc2libGV7b3V0bGluZTpub25lO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgM3B4IHJnYmEoMTAwLDE1MCwyMDAsLjUpfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBidXR0b246d2hlcmUoLnN3YWwyLWNsb3NlKTo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi1odG1sLWNvbnRhaW5lcil7ei1pbmRleDoxO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjA7cGFkZGluZzoxZW0gMS42ZW0gLjNlbTtvdmVyZmxvdzphdXRvO2NvbG9yOmluaGVyaXQ7Zm9udC1zaXplOjEuMTI1ZW07Zm9udC13ZWlnaHQ6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOmNlbnRlcjt3b3JkLXdyYXA6YnJlYWstd29yZDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Y3Vyc29yOmluaXRpYWx9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGlucHV0OndoZXJlKC5zd2FsMi1pbnB1dCksZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGlucHV0OndoZXJlKC5zd2FsMi1maWxlKSxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgdGV4dGFyZWE6d2hlcmUoLnN3YWwyLXRleHRhcmVhKSxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgc2VsZWN0OndoZXJlKC5zd2FsMi1zZWxlY3QpLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBkaXY6d2hlcmUoLnN3YWwyLXJhZGlvKSxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgbGFiZWw6d2hlcmUoLnN3YWwyLWNoZWNrYm94KXttYXJnaW46MWVtIDJlbSAzcHh9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGlucHV0OndoZXJlKC5zd2FsMi1pbnB1dCksZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGlucHV0OndoZXJlKC5zd2FsMi1maWxlKSxkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgdGV4dGFyZWE6d2hlcmUoLnN3YWwyLXRleHRhcmVhKXtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6YXV0bzt0cmFuc2l0aW9uOmJvcmRlci1jb2xvciAuMXMsYm94LXNoYWRvdyAuMXM7Ym9yZGVyOjFweCBzb2xpZCAjZDlkOWQ5O2JvcmRlci1yYWRpdXM6LjE4NzVlbTtiYWNrZ3JvdW5kOnZhcigtLXN3YWwyLWlucHV0LWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA2KSwwIDAgMCAzcHggcmdiYSgwLDAsMCwwKTtjb2xvcjppbmhlcml0O2ZvbnQtc2l6ZToxLjEyNWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBpbnB1dDp3aGVyZSguc3dhbDItaW5wdXQpLnN3YWwyLWlucHV0ZXJyb3IsZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGlucHV0OndoZXJlKC5zd2FsMi1maWxlKS5zd2FsMi1pbnB1dGVycm9yLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSB0ZXh0YXJlYTp3aGVyZSguc3dhbDItdGV4dGFyZWEpLnN3YWwyLWlucHV0ZXJyb3J7Ym9yZGVyLWNvbG9yOiNmMjc0NzQgIWltcG9ydGFudDtib3gtc2hhZG93OjAgMCAycHggI2YyNzQ3NCAhaW1wb3J0YW50fWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBpbnB1dDp3aGVyZSguc3dhbDItaW5wdXQpOmZvY3VzLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBpbnB1dDp3aGVyZSguc3dhbDItZmlsZSk6Zm9jdXMsZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIHRleHRhcmVhOndoZXJlKC5zd2FsMi10ZXh0YXJlYSk6Zm9jdXN7Ym9yZGVyOjFweCBzb2xpZCAjYjRkYmVkO291dGxpbmU6bm9uZTtib3gtc2hhZG93Omluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNiksMCAwIDAgM3B4IHJnYmEoMTAwLDE1MCwyMDAsLjUpfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSBpbnB1dDp3aGVyZSguc3dhbDItaW5wdXQpOjpwbGFjZWhvbGRlcixkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgaW5wdXQ6d2hlcmUoLnN3YWwyLWZpbGUpOjpwbGFjZWhvbGRlcixkaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgdGV4dGFyZWE6d2hlcmUoLnN3YWwyLXRleHRhcmVhKTo6cGxhY2Vob2xkZXJ7Y29sb3I6I2NjY31kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgLnN3YWwyLXJhbmdle21hcmdpbjoxZW0gMmVtIDNweDtiYWNrZ3JvdW5kOnZhcigtLXN3YWwyLWJhY2tncm91bmQpfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcmFuZ2UgaW5wdXR7d2lkdGg6ODAlfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcmFuZ2Ugb3V0cHV0e3dpZHRoOjIwJTtjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OjYwMDt0ZXh0LWFsaWduOmNlbnRlcn1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgLnN3YWwyLXJhbmdlIGlucHV0LGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcmFuZ2Ugb3V0cHV0e2hlaWdodDoyLjYyNWVtO3BhZGRpbmc6MDtmb250LXNpemU6MS4xMjVlbTtsaW5lLWhlaWdodDoyLjYyNWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItaW5wdXR7aGVpZ2h0OjIuNjI1ZW07cGFkZGluZzowIC43NWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItZmlsZXt3aWR0aDo3NSU7bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLWxlZnQ6YXV0bztiYWNrZ3JvdW5kOnZhcigtLXN3YWwyLWlucHV0LWJhY2tncm91bmQpO2ZvbnQtc2l6ZToxLjEyNWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItdGV4dGFyZWF7aGVpZ2h0OjYuNzVlbTtwYWRkaW5nOi43NWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItc2VsZWN0e21pbi13aWR0aDo1MCU7bWF4LXdpZHRoOjEwMCU7cGFkZGluZzouMzc1ZW0gLjYyNWVtO2JhY2tncm91bmQ6dmFyKC0tc3dhbDItaW5wdXQtYmFja2dyb3VuZCk7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MS4xMjVlbX1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgLnN3YWwyLXJhZGlvLGRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItY2hlY2tib3h7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YmFja2dyb3VuZDp2YXIoLS1zd2FsMi1iYWNrZ3JvdW5kKTtjb2xvcjppbmhlcml0fWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcmFkaW8gbGFiZWwsZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIC5zd2FsMi1jaGVja2JveCBsYWJlbHttYXJnaW46MCAuNmVtO2ZvbnQtc2l6ZToxLjEyNWVtfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcmFkaW8gaW5wdXQsZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIC5zd2FsMi1jaGVja2JveCBpbnB1dHtmbGV4LXNocmluazowO21hcmdpbjowIC40ZW19ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGxhYmVsOndoZXJlKC5zd2FsMi1pbnB1dC1sYWJlbCl7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjFlbSBhdXRvIDB9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIGRpdjp3aGVyZSguc3dhbDItdmFsaWRhdGlvbi1tZXNzYWdlKXthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW46MWVtIDAgMDtwYWRkaW5nOi42MjVlbTtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZDp2YXIoLS1zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2UtYmFja2dyb3VuZCk7Y29sb3I6dmFyKC0tc3dhbDItdmFsaWRhdGlvbi1tZXNzYWdlLWNvbG9yKTtmb250LXNpemU6MWVtO2ZvbnQtd2VpZ2h0OjMwMH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgZGl2OndoZXJlKC5zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2UpOjpiZWZvcmV7Y29udGVudDpcXFwiIVxcXCI7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MS41ZW07bWluLXdpZHRoOjEuNWVtO2hlaWdodDoxLjVlbTttYXJnaW46MCAuNjI1ZW07Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZC1jb2xvcjojZjI3NDc0O2NvbG9yOiNmZmY7Zm9udC13ZWlnaHQ6NjAwO2xpbmUtaGVpZ2h0OjEuNWVtO3RleHQtYWxpZ246Y2VudGVyfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcHJvZ3Jlc3Mtc3RlcHN7ZmxleC13cmFwOndyYXA7YWxpZ24taXRlbXM6Y2VudGVyO21heC13aWR0aDoxMDAlO21hcmdpbjoxLjI1ZW0gYXV0bztwYWRkaW5nOjA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO2ZvbnQtd2VpZ2h0OjYwMH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgLnN3YWwyLXByb2dyZXNzLXN0ZXBzIGxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgLnN3YWwyLXByb2dyZXNzLXN0ZXB7ei1pbmRleDoyMDtmbGV4LXNocmluazowO3dpZHRoOjJlbTtoZWlnaHQ6MmVtO2JvcmRlci1yYWRpdXM6MmVtO2JhY2tncm91bmQ6IzI3NzhjNDtjb2xvcjojZmZmO2xpbmUtaGVpZ2h0OjJlbTt0ZXh0LWFsaWduOmNlbnRlcn1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgLnN3YWwyLXByb2dyZXNzLXN0ZXBzIC5zd2FsMi1wcm9ncmVzcy1zdGVwLnN3YWwyLWFjdGl2ZS1wcm9ncmVzcy1zdGVwe2JhY2tncm91bmQ6IzI3NzhjNH1kaXY6d2hlcmUoLnN3YWwyLWNvbnRhaW5lcikgLnN3YWwyLXByb2dyZXNzLXN0ZXBzIC5zd2FsMi1wcm9ncmVzcy1zdGVwLnN3YWwyLWFjdGl2ZS1wcm9ncmVzcy1zdGVwfi5zd2FsMi1wcm9ncmVzcy1zdGVwe2JhY2tncm91bmQ6dmFyKC0tc3dhbDItcHJvZ3Jlc3Mtc3RlcC1iYWNrZ3JvdW5kKTtjb2xvcjojZmZmfWRpdjp3aGVyZSguc3dhbDItY29udGFpbmVyKSAuc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgLnN3YWwyLXByb2dyZXNzLXN0ZXAuc3dhbDItYWN0aXZlLXByb2dyZXNzLXN0ZXB+LnN3YWwyLXByb2dyZXNzLXN0ZXAtbGluZXtiYWNrZ3JvdW5kOnZhcigtLXN3YWwyLXByb2dyZXNzLXN0ZXAtYmFja2dyb3VuZCl9ZGl2OndoZXJlKC5zd2FsMi1jb250YWluZXIpIC5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcC1saW5le3otaW5kZXg6MTA7ZmxleC1zaHJpbms6MDt3aWR0aDoyLjVlbTtoZWlnaHQ6LjRlbTttYXJnaW46MCAtMXB4O2JhY2tncm91bmQ6IzI3NzhjNH1kaXY6d2hlcmUoLnN3YWwyLWljb24pe3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaXppbmc6Y29udGVudC1ib3g7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDo1ZW07aGVpZ2h0OjVlbTttYXJnaW46Mi41ZW0gYXV0byAuNmVtO2JvcmRlcjouMjVlbSBzb2xpZCByZ2JhKDAsMCwwLDApO2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlci1jb2xvcjojMDAwO2ZvbnQtZmFtaWx5OmluaGVyaXQ7bGluZS1oZWlnaHQ6NWVtO2N1cnNvcjpkZWZhdWx0O3VzZXItc2VsZWN0Om5vbmV9ZGl2OndoZXJlKC5zd2FsMi1pY29uKSAuc3dhbDItaWNvbi1jb250ZW50e2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC1zaXplOjMuNzVlbX1kaXY6d2hlcmUoLnN3YWwyLWljb24pLnN3YWwyLWVycm9ye2JvcmRlci1jb2xvcjojZjI3NDc0O2NvbG9yOiNmMjc0NzR9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1lcnJvciAuc3dhbDIteC1tYXJre3Bvc2l0aW9uOnJlbGF0aXZlO2ZsZXgtZ3JvdzoxfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV17ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6Mi4zMTI1ZW07d2lkdGg6Mi45Mzc1ZW07aGVpZ2h0Oi4zMTI1ZW07Ym9yZGVyLXJhZGl1czouMTI1ZW07YmFja2dyb3VuZC1jb2xvcjojZjI3NDc0fWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV1bY2xhc3MkPWxlZnRde2xlZnQ6MS4wNjI1ZW07dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyl9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9cmlnaHRde3JpZ2h0OjFlbTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1lcnJvci5zd2FsMi1pY29uLXNob3d7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXN9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1lcnJvci5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXgtbWFya3thbmltYXRpb246c3dhbDItYW5pbWF0ZS1lcnJvci14LW1hcmsgLjVzfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItd2FybmluZ3tib3JkZXItY29sb3I6I2Y4YmI4Njtjb2xvcjojZjhiYjg2fWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItd2FybmluZy5zd2FsMi1pY29uLXNob3d7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXN9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi13YXJuaW5nLnN3YWwyLWljb24tc2hvdyAuc3dhbDItaWNvbi1jb250ZW50e2FuaW1hdGlvbjpzd2FsMi1hbmltYXRlLWktbWFyayAuNXN9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1pbmZve2JvcmRlci1jb2xvcjojM2ZjM2VlO2NvbG9yOiMzZmMzZWV9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1pbmZvLnN3YWwyLWljb24tc2hvd3thbmltYXRpb246c3dhbDItYW5pbWF0ZS1lcnJvci1pY29uIC41c31kaXY6d2hlcmUoLnN3YWwyLWljb24pLnN3YWwyLWluZm8uc3dhbDItaWNvbi1zaG93IC5zd2FsMi1pY29uLWNvbnRlbnR7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtaS1tYXJrIC44c31kaXY6d2hlcmUoLnN3YWwyLWljb24pLnN3YWwyLXF1ZXN0aW9ue2JvcmRlci1jb2xvcjojODdhZGJkO2NvbG9yOiM4N2FkYmR9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1xdWVzdGlvbi5zd2FsMi1pY29uLXNob3d7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXN9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1xdWVzdGlvbi5zd2FsMi1pY29uLXNob3cgLnN3YWwyLWljb24tY29udGVudHthbmltYXRpb246c3dhbDItYW5pbWF0ZS1xdWVzdGlvbi1tYXJrIC44c31kaXY6d2hlcmUoLnN3YWwyLWljb24pLnN3YWwyLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODY7Y29sb3I6I2E1ZGM4Nn1kaXY6d2hlcmUoLnN3YWwyLWljb24pLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjMuNzVlbTtoZWlnaHQ6Ny41ZW07Ym9yZGVyLXJhZGl1czo1MCV9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9bGVmdF17dG9wOi0wLjQzNzVlbTtsZWZ0Oi0yLjA2MzVlbTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtLW9yaWdpbjozLjc1ZW0gMy43NWVtO2JvcmRlci1yYWRpdXM6Ny41ZW0gMCAwIDcuNWVtfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV1bY2xhc3MkPXJpZ2h0XXt0b3A6LTAuNjg3NWVtO2xlZnQ6MS44NzVlbTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtLW9yaWdpbjowIDMuNzVlbTtib3JkZXItcmFkaXVzOjAgNy41ZW0gNy41ZW0gMH1kaXY6d2hlcmUoLnN3YWwyLWljb24pLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtcmluZ3twb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjI7dG9wOi0wLjI1ZW07bGVmdDotMC4yNWVtO2JveC1zaXppbmc6Y29udGVudC1ib3g7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3JkZXI6LjI1ZW0gc29saWQgcmdiYSgxNjUsMjIwLDEzNCwuMyk7Ym9yZGVyLXJhZGl1czo1MCV9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLWZpeHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7dG9wOi41ZW07bGVmdDoxLjYyNWVtO3dpZHRoOi40Mzc1ZW07aGVpZ2h0OjUuNjI1ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV17ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjI7aGVpZ2h0Oi4zMTI1ZW07Ym9yZGVyLXJhZGl1czouMTI1ZW07YmFja2dyb3VuZC1jb2xvcjojYTVkYzg2fWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPXRpcF17dG9wOjIuODc1ZW07bGVmdDouODEyNWVtO3dpZHRoOjEuNTYyNWVtO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPWxvbmdde3RvcDoyLjM3NWVtO3JpZ2h0Oi41ZW07d2lkdGg6Mi45Mzc1ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS10aXB7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcCAuNzVzfWRpdjp3aGVyZSguc3dhbDItaWNvbikuc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS1sb25ne2FuaW1hdGlvbjpzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nIC43NXN9ZGl2OndoZXJlKC5zd2FsMi1pY29uKS5zd2FsMi1zdWNjZXNzLnN3YWwyLWljb24tc2hvdyAuc3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lLXJpZ2h0e2FuaW1hdGlvbjpzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lIDQuMjVzIGVhc2UtaW59W2NsYXNzXj1zd2FsMl17LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnJnYmEoMCwwLDAsMCl9LnN3YWwyLXNob3d7YW5pbWF0aW9uOnZhcigtLXN3YWwyLXNob3ctYW5pbWF0aW9uKX0uc3dhbDItaGlkZXthbmltYXRpb246dmFyKC0tc3dhbDItaGlkZS1hbmltYXRpb24pfS5zd2FsMi1ub2FuaW1hdGlvbnt0cmFuc2l0aW9uOm5vbmV9LnN3YWwyLXNjcm9sbGJhci1tZWFzdXJle3Bvc2l0aW9uOmFic29sdXRlO3RvcDotOTk5OXB4O3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6c2Nyb2xsfS5zd2FsMi1ydGwgLnN3YWwyLWNsb3Nle21hcmdpbi1yaWdodDppbml0aWFsO21hcmdpbi1sZWZ0OjB9LnN3YWwyLXJ0bCAuc3dhbDItdGltZXItcHJvZ3Jlc3MtYmFye3JpZ2h0OjA7bGVmdDphdXRvfS5zd2FsMi10b2FzdHtib3gtc2l6aW5nOmJvcmRlci1ib3g7Z3JpZC1jb2x1bW46MS80ICFpbXBvcnRhbnQ7Z3JpZC1yb3c6MS80ICFpbXBvcnRhbnQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOm1pbi1jb250ZW50IGF1dG8gbWluLWNvbnRlbnQ7cGFkZGluZzoxZW07b3ZlcmZsb3cteTpoaWRkZW47YmFja2dyb3VuZDp2YXIoLS1zd2FsMi1iYWNrZ3JvdW5kKTtib3gtc2hhZG93OjAgMCAxcHggcmdiYSgwLDAsMCwuMDc1KSwwIDFweCAycHggcmdiYSgwLDAsMCwuMDc1KSwxcHggMnB4IDRweCByZ2JhKDAsMCwwLC4wNzUpLDFweCAzcHggOHB4IHJnYmEoMCwwLDAsLjA3NSksMnB4IDRweCAxNnB4IHJnYmEoMCwwLDAsLjA3NSk7cG9pbnRlci1ldmVudHM6YWxsfS5zd2FsMi10b2FzdD4qe2dyaWQtY29sdW1uOjJ9LnN3YWwyLXRvYXN0IGgyOndoZXJlKC5zd2FsMi10aXRsZSl7bWFyZ2luOi41ZW0gMWVtO3BhZGRpbmc6MDtmb250LXNpemU6MWVtO3RleHQtYWxpZ246aW5pdGlhbH0uc3dhbDItdG9hc3QgLnN3YWwyLWxvYWRpbmd7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uc3dhbDItdG9hc3QgaW5wdXQ6d2hlcmUoLnN3YWwyLWlucHV0KXtoZWlnaHQ6MmVtO21hcmdpbjouNWVtO2ZvbnQtc2l6ZToxZW19LnN3YWwyLXRvYXN0IC5zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2V7Zm9udC1zaXplOjFlbX0uc3dhbDItdG9hc3QgZGl2OndoZXJlKC5zd2FsMi1mb290ZXIpe21hcmdpbjouNWVtIDAgMDtwYWRkaW5nOi41ZW0gMCAwO2ZvbnQtc2l6ZTouOGVtfS5zd2FsMi10b2FzdCBidXR0b246d2hlcmUoLnN3YWwyLWNsb3NlKXtncmlkLWNvbHVtbjozLzM7Z3JpZC1yb3c6MS85OTthbGlnbi1zZWxmOmNlbnRlcjt3aWR0aDouOGVtO2hlaWdodDouOGVtO21hcmdpbjowO2ZvbnQtc2l6ZToyZW19LnN3YWwyLXRvYXN0IGRpdjp3aGVyZSguc3dhbDItaHRtbC1jb250YWluZXIpe21hcmdpbjouNWVtIDFlbTtwYWRkaW5nOjA7b3ZlcmZsb3c6aW5pdGlhbDtmb250LXNpemU6MWVtO3RleHQtYWxpZ246aW5pdGlhbH0uc3dhbDItdG9hc3QgZGl2OndoZXJlKC5zd2FsMi1odG1sLWNvbnRhaW5lcik6ZW1wdHl7cGFkZGluZzowfS5zd2FsMi10b2FzdCAuc3dhbDItbG9hZGVye2dyaWQtY29sdW1uOjE7Z3JpZC1yb3c6MS85OTthbGlnbi1zZWxmOmNlbnRlcjt3aWR0aDoyZW07aGVpZ2h0OjJlbTttYXJnaW46LjI1ZW19LnN3YWwyLXRvYXN0IC5zd2FsMi1pY29ue2dyaWQtY29sdW1uOjE7Z3JpZC1yb3c6MS85OTthbGlnbi1zZWxmOmNlbnRlcjt3aWR0aDoyZW07bWluLXdpZHRoOjJlbTtoZWlnaHQ6MmVtO21hcmdpbjowIC41ZW0gMCAwfS5zd2FsMi10b2FzdCAuc3dhbDItaWNvbiAuc3dhbDItaWNvbi1jb250ZW50e2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC1zaXplOjEuOGVtO2ZvbnQtd2VpZ2h0OmJvbGR9LnN3YWwyLXRvYXN0IC5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtcmluZ3t3aWR0aDoyZW07aGVpZ2h0OjJlbX0uc3dhbDItdG9hc3QgLnN3YWwyLWljb24uc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV17dG9wOi44NzVlbTt3aWR0aDoxLjM3NWVtfS5zd2FsMi10b2FzdCAuc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9bGVmdF17bGVmdDouMzEyNWVtfS5zd2FsMi10b2FzdCAuc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9cmlnaHRde3JpZ2h0Oi4zMTI1ZW19LnN3YWwyLXRvYXN0IGRpdjp3aGVyZSguc3dhbDItYWN0aW9ucyl7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7aGVpZ2h0OmF1dG87bWFyZ2luOjA7bWFyZ2luLXRvcDouNWVtO3BhZGRpbmc6MCAuNWVtfS5zd2FsMi10b2FzdCBidXR0b246d2hlcmUoLnN3YWwyLXN0eWxlZCl7bWFyZ2luOi4yNWVtIC41ZW07cGFkZGluZzouNGVtIC42ZW07Zm9udC1zaXplOjFlbX0uc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODZ9LnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxLjZlbTtoZWlnaHQ6M2VtO2JvcmRlci1yYWRpdXM6NTAlfS5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV1bY2xhc3MkPWxlZnRde3RvcDotMC44ZW07bGVmdDotMC41ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46MmVtIDJlbTtib3JkZXItcmFkaXVzOjRlbSAwIDAgNGVtfS5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV1bY2xhc3MkPXJpZ2h0XXt0b3A6LTAuMjVlbTtsZWZ0Oi45Mzc1ZW07dHJhbnNmb3JtLW9yaWdpbjowIDEuNWVtO2JvcmRlci1yYWRpdXM6MCA0ZW0gNGVtIDB9LnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLXJpbmd7d2lkdGg6MmVtO2hlaWdodDoyZW19LnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLWZpeHt0b3A6MDtsZWZ0Oi40Mzc1ZW07d2lkdGg6LjQzNzVlbTtoZWlnaHQ6Mi42ODc1ZW19LnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1saW5lXXtoZWlnaHQ6LjMxMjVlbX0uc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVdW2NsYXNzJD10aXBde3RvcDoxLjEyNWVtO2xlZnQ6LjE4NzVlbTt3aWR0aDouNzVlbX0uc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVdW2NsYXNzJD1sb25nXXt0b3A6LjkzNzVlbTtyaWdodDouMTg3NWVtO3dpZHRoOjEuMzc1ZW19LnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzLnN3YWwyLWljb24tc2hvdyAuc3dhbDItc3VjY2Vzcy1saW5lLXRpcHthbmltYXRpb246c3dhbDItdG9hc3QtYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwIC43NXN9LnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzLnN3YWwyLWljb24tc2hvdyAuc3dhbDItc3VjY2Vzcy1saW5lLWxvbmd7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1c30uc3dhbDItdG9hc3Quc3dhbDItc2hvd3thbmltYXRpb246c3dhbDItdG9hc3Qtc2hvdyAuNXN9LnN3YWwyLXRvYXN0LnN3YWwyLWhpZGV7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWhpZGUgLjFzIGZvcndhcmRzfUBrZXlmcmFtZXMgc3dhbDItc2hvd3swJXt0cmFuc2Zvcm06c2NhbGUoMC43KX00NSV7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTgwJXt0cmFuc2Zvcm06c2NhbGUoMC45NSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fUBrZXlmcmFtZXMgc3dhbDItaGlkZXswJXt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfTEwMCV7dHJhbnNmb3JtOnNjYWxlKDAuNSk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6MS4xODc1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDoxLjA2MjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6Mi4xODc1ZW07bGVmdDotMC4zNzVlbTt3aWR0aDozLjEyNWVtfTg0JXt0b3A6M2VtO2xlZnQ6MS4zMTI1ZW07d2lkdGg6MS4wNjI1ZW19MTAwJXt0b3A6Mi44MTI1ZW07bGVmdDouODEyNWVtO3dpZHRoOjEuNTYyNWVtfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmd7MCV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTY1JXt0b3A6My4zNzVlbTtyaWdodDoyLjg3NWVtO3dpZHRoOjB9ODQle3RvcDoyLjE4NzVlbTtyaWdodDowO3dpZHRoOjMuNDM3NWVtfTEwMCV7dG9wOjIuMzc1ZW07cmlnaHQ6LjVlbTt3aWR0aDoyLjkzNzVlbX19QGtleWZyYW1lcyBzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lezAle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX01JXt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9MTIle3RyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtZXJyb3IteC1tYXJrezAle21hcmdpbi10b3A6MS42MjVlbTt0cmFuc2Zvcm06c2NhbGUoMC40KTtvcGFjaXR5OjB9NTAle21hcmdpbi10b3A6MS42MjVlbTt0cmFuc2Zvcm06c2NhbGUoMC40KTtvcGFjaXR5OjB9ODAle21hcmdpbi10b3A6LTAuMzc1ZW07dHJhbnNmb3JtOnNjYWxlKDEuMTUpfTEwMCV7bWFyZ2luLXRvcDowO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1lcnJvci1pY29uezAle3RyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7b3BhY2l0eTowfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZVgoMGRlZyk7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIHN3YWwyLXJvdGF0ZS1sb2FkaW5nezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1xdWVzdGlvbi1tYXJrezAle3RyYW5zZm9ybTpyb3RhdGVZKC0zNjBkZWcpfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZVkoMCl9fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1pLW1hcmt7MCV7dHJhbnNmb3JtOnJvdGF0ZVooNDVkZWcpO29wYWNpdHk6MH0yNSV7dHJhbnNmb3JtOnJvdGF0ZVooLTI1ZGVnKTtvcGFjaXR5Oi40fTUwJXt0cmFuc2Zvcm06cm90YXRlWigxNWRlZyk7b3BhY2l0eTouOH03NSV7dHJhbnNmb3JtOnJvdGF0ZVooLTVkZWcpO29wYWNpdHk6MX0xMDAle3RyYW5zZm9ybTpyb3RhdGVYKDApO29wYWNpdHk6MX19QGtleWZyYW1lcyBzd2FsMi10b2FzdC1zaG93ezAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0wLjYyNWVtKSByb3RhdGVaKDJkZWcpfTMzJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKX02NiV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMC4zMTI1ZW0pIHJvdGF0ZVooMmRlZyl9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKDBkZWcpfX1Aa2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWhpZGV7MTAwJXt0cmFuc2Zvcm06cm90YXRlWigxZGVnKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgc3dhbDItdG9hc3QtYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwezAle3RvcDouNTYyNWVtO2xlZnQ6LjA2MjVlbTt3aWR0aDowfTU0JXt0b3A6LjEyNWVtO2xlZnQ6LjEyNWVtO3dpZHRoOjB9NzAle3RvcDouNjI1ZW07bGVmdDotMC4yNWVtO3dpZHRoOjEuNjI1ZW19ODQle3RvcDoxLjA2MjVlbTtsZWZ0Oi43NWVtO3dpZHRoOi41ZW19MTAwJXt0b3A6MS4xMjVlbTtsZWZ0Oi4xODc1ZW07d2lkdGg6Ljc1ZW19fUBrZXlmcmFtZXMgc3dhbDItdG9hc3QtYW5pbWF0ZS1zdWNjZXNzLWxpbmUtbG9uZ3swJXt0b3A6MS42MjVlbTtyaWdodDoxLjM3NWVtO3dpZHRoOjB9NjUle3RvcDoxLjI1ZW07cmlnaHQ6LjkzNzVlbTt3aWR0aDowfTg0JXt0b3A6LjkzNzVlbTtyaWdodDowO3dpZHRoOjEuMTI1ZW19MTAwJXt0b3A6LjkzNzVlbTtyaWdodDouMTg3NWVtO3dpZHRoOjEuMzc1ZW19fVwiKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sweetalert2/dist/sweetalert2.all.js\n");

/***/ }),

/***/ "./public/js/core/placeholderCreation.js":
/*!***********************************************!*\
  !*** ./public/js/core/placeholderCreation.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCustomPlaceholder: () => (/* binding */ addCustomPlaceholder),\n/* harmony export */   applyPlaceholderToAllOccurrences: () => (/* binding */ applyPlaceholderToAllOccurrences),\n/* harmony export */   duplicatePlaceholder: () => (/* binding */ duplicatePlaceholder),\n/* harmony export */   insertPlaceholder: () => (/* binding */ insertPlaceholder),\n/* harmony export */   insertPlaceholderFromCustom: () => (/* binding */ insertPlaceholderFromCustom)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/StringUtils.js */ \"./public/js/utils/StringUtils.js\");\n/* harmony import */ var _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placeholderDOM.js */ \"./public/js/core/placeholderDOM.js\");\n/* harmony import */ var _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./placeholderManagement.js */ \"./public/js/core/placeholderManagement.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n\n\n\n\n\n/**\r\n * Duplicates an existing placeholder at the current caret position\r\n * @param {Object} variable - The placeholder variable to duplicate\r\n */\nvar duplicatePlaceholder = function duplicatePlaceholder(variable) {\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].usageTracker[variable.id] = (_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].usageTracker[variable.id] || 0) + 1;\n  var newId = variable.id;\n  var editor = document.getElementById(\"storyText\");\n  var rangeToUse = _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange && editor.contains(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange.commonAncestorContainer) ? _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange : function () {\n    (0,_placeholderDOM_js__WEBPACK_IMPORTED_MODULE_2__.ensureEditorFocus)();\n    var sel = window.getSelection();\n    return sel.rangeCount ? sel.getRangeAt(0) : null;\n  }();\n  var displayText = variable.displayOverride || variable.officialDisplay;\n  (0,_placeholderDOM_js__WEBPACK_IMPORTED_MODULE_2__.insertPlaceholderSpan)(newId, displayText, rangeToUse);\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange = null;\n};\n\n/**\r\n * Inserts a new placeholder into the editor\r\n * @param {string} internalType - The internal type of the placeholder\r\n * @param {string} displayName - The display name of the placeholder\r\n * @param {boolean} isCustom - Whether this is a custom placeholder\r\n * @returns {Promise<void>}\r\n */\nvar insertPlaceholder = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(internalType, displayName, isCustom) {\n    var sanitized, editor, spans, max, newCount, id, rangeToUse, selectedText, displayText, _yield$Swal$fire, temp;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          sanitized = _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_1__.StringUtils.sanitizeString(internalType);\n          editor = document.getElementById(\"storyText\");\n          spans = editor.querySelectorAll(\".placeholder\");\n          max = 0;\n          spans.forEach(function (span) {\n            var id = span.getAttribute(\"data-id\");\n            if (id.startsWith(sanitized)) {\n              var match = id.match(/(\\d+)$/);\n              if (match) {\n                var num = parseInt(match[1], 10);\n                if (num > max) max = num;\n              }\n            }\n          });\n          newCount = max + 1;\n          _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts[sanitized] = newCount;\n          id = sanitized + newCount;\n          rangeToUse = _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange && editor.contains(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange.commonAncestorContainer) ? _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange : function () {\n            (0,_placeholderDOM_js__WEBPACK_IMPORTED_MODULE_2__.ensureEditorFocus)();\n            var sel = window.getSelection();\n            return sel.rangeCount ? sel.getRangeAt(0) : null;\n          }();\n          selectedText = \"\";\n          if (rangeToUse && !rangeToUse.collapsed) {\n            selectedText = rangeToUse.toString().trim();\n          }\n          displayText = selectedText || displayName;\n          if (selectedText) {\n            _context.next = 18;\n            break;\n          }\n          _context.next = 15;\n          return Swal.fire({\n            title: 'Enter temporary word',\n            input: 'text',\n            inputLabel: 'Temporary fill word for this placeholder',\n            inputValue: displayName,\n            showCancelButton: true\n          });\n        case 15:\n          _yield$Swal$fire = _context.sent;\n          temp = _yield$Swal$fire.value;\n          if (temp) displayText = temp;\n        case 18:\n          (0,_placeholderDOM_js__WEBPACK_IMPORTED_MODULE_2__.insertPlaceholderSpan)(id, displayText, rangeToUse);\n          if (!_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.some(function (v) {\n            return v.id === id;\n          })) {\n            _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.push({\n              id: id,\n              internalType: internalType,\n              officialDisplay: displayName,\n              display: displayName,\n              isCustom: !!isCustom,\n              order: _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter++,\n              displayOverride: displayText\n            });\n          }\n          (0,_placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__.updateVariablesList)();\n          _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange = null;\n          if (internalType.startsWith(\"NN\") && selectedText) {\n            Swal.fire({\n              title: 'Apply placeholder to all occurrences?',\n              text: \"Replace all instances of \\\"\".concat(selectedText, \"\\\" with this placeholder?\"),\n              icon: 'question',\n              showCancelButton: true,\n              confirmButtonText: 'Yes, apply',\n              cancelButtonText: 'No'\n            }).then(function (result) {\n              if (result.isConfirmed) {\n                applyPlaceholderToAllOccurrences(selectedText, id, displayText);\n              }\n            });\n          }\n        case 23:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function insertPlaceholder(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\r\n * Applies a placeholder to all occurrences of a text string in the story\r\n * @param {string} text - The text to replace\r\n * @param {string} id - The ID of the placeholder\r\n * @param {string} displayText - The display text of the placeholder\r\n */\nvar applyPlaceholderToAllOccurrences = function applyPlaceholderToAllOccurrences(text, id, displayText) {\n  var editor = document.getElementById(\"storyText\");\n  var textNodes = [];\n  var _getTextNodes = function getTextNodes(node) {\n    if (node.nodeType === Node.TEXT_NODE) {\n      if (node.textContent.includes(text)) {\n        textNodes.push(node);\n      }\n    } else if (node.childNodes && node.childNodes.length > 0) {\n      node.childNodes.forEach(function (child) {\n        if (!child.classList || !child.classList.contains('placeholder')) {\n          _getTextNodes(child);\n        }\n      });\n    }\n  };\n  _getTextNodes(editor);\n  for (var i = textNodes.length - 1; i >= 0; i--) {\n    var node = textNodes[i];\n    var content = node.textContent;\n    var parts = content.split(text);\n    if (parts.length > 1) {\n      var parent = node.parentNode;\n      var fragment = document.createDocumentFragment();\n      for (var j = 0; j < parts.length; j++) {\n        if (parts[j]) {\n          fragment.appendChild(document.createTextNode(parts[j]));\n        }\n        if (j < parts.length - 1) {\n          var span = document.createElement(\"span\");\n          span.className = \"placeholder\";\n          span.setAttribute(\"data-id\", id);\n          span.setAttribute(\"title\", id);\n          span.setAttribute(\"contenteditable\", \"false\");\n          span.textContent = displayText;\n          fragment.appendChild(span);\n          fragment.appendChild(document.createTextNode(\" \"));\n        }\n      }\n      parent.replaceChild(fragment, node);\n    }\n  }\n  (0,_placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__.updateVariablesFromEditor)();\n};\n\n/**\r\n * Adds a new custom placeholder type to the system with optional type information\r\n * @param {string} rawText - The raw text to use as the base\r\n * @param {string} [usage='generic'] - The usage type ('noun', 'verb', or 'generic')\r\n * @returns {string} The generated internal type\r\n */\nvar addCustomPlaceholder = function addCustomPlaceholder(rawText) {\n  var usage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'generic';\n  var internal;\n  if (usage === \"noun\") {\n    internal = \"NN_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_1__.StringUtils.pascalCase(rawText);\n  } else if (usage === \"verb\") {\n    internal = \"VB_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_1__.StringUtils.pascalCase(rawText);\n  } else {\n    internal = _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_1__.StringUtils.pascalCase(rawText);\n  }\n  if (!_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders.some(function (p) {\n    return p.type === internal;\n  })) {\n    _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders.push({\n      type: internal\n    });\n  }\n  return internal;\n};\n\n/**\r\n * Creates and inserts a custom placeholder into the editor\r\n * @param {string} rawText - The raw text to use as the base\r\n */\nvar insertPlaceholderFromCustom = function insertPlaceholderFromCustom(rawText) {\n  var internal = addCustomPlaceholder(rawText);\n  var display = _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_1__.StringUtils.naturalDisplay(internal);\n  insertPlaceholder(internal, display, true);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZGVyQ3JlYXRpb24uanM/NTNkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RhdGUgZnJvbSAnLi9zdGF0ZS5qcyc7XHJcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgeyBpbnNlcnRQbGFjZWhvbGRlclNwYW4sIGVuc3VyZUVkaXRvckZvY3VzIH0gZnJvbSAnLi9wbGFjZWhvbGRlckRPTS5qcyc7XHJcbmltcG9ydCB7IHVwZGF0ZVZhcmlhYmxlc0xpc3QsIHVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IgfSBmcm9tICcuL3BsYWNlaG9sZGVyTWFuYWdlbWVudC5qcyc7XHJcblxyXG4vKipcclxuICogRHVwbGljYXRlcyBhbiBleGlzdGluZyBwbGFjZWhvbGRlciBhdCB0aGUgY3VycmVudCBjYXJldCBwb3NpdGlvblxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFyaWFibGUgLSBUaGUgcGxhY2Vob2xkZXIgdmFyaWFibGUgdG8gZHVwbGljYXRlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZHVwbGljYXRlUGxhY2Vob2xkZXIgPSAodmFyaWFibGUpID0+IHtcclxuICAgIHN0YXRlLnVzYWdlVHJhY2tlclt2YXJpYWJsZS5pZF0gPSAoc3RhdGUudXNhZ2VUcmFja2VyW3ZhcmlhYmxlLmlkXSB8fCAwKSArIDE7XHJcbiAgICBjb25zdCBuZXdJZCA9IHZhcmlhYmxlLmlkO1xyXG4gICAgY29uc3QgZWRpdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdG9yeVRleHRcIik7XHJcbiAgICBsZXQgcmFuZ2VUb1VzZSA9IChzdGF0ZS5sYXN0UmFuZ2UgJiYgZWRpdG9yLmNvbnRhaW5zKHN0YXRlLmxhc3RSYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcikpXHJcbiAgICAgICAgPyBzdGF0ZS5sYXN0UmFuZ2VcclxuICAgICAgICA6ICgoKSA9PiB7XHJcbiAgICAgICAgICAgIGVuc3VyZUVkaXRvckZvY3VzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbC5yYW5nZUNvdW50ID8gc2VsLmdldFJhbmdlQXQoMCkgOiBudWxsO1xyXG4gICAgICAgIH0pKCk7XHJcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IHZhcmlhYmxlLmRpc3BsYXlPdmVycmlkZSB8fCB2YXJpYWJsZS5vZmZpY2lhbERpc3BsYXk7XHJcbiAgICBpbnNlcnRQbGFjZWhvbGRlclNwYW4obmV3SWQsIGRpc3BsYXlUZXh0LCByYW5nZVRvVXNlKTtcclxuICAgIHN0YXRlLmxhc3RSYW5nZSA9IG51bGw7XHJcbn07XHJcblxyXG4vKipcclxuICogSW5zZXJ0cyBhIG5ldyBwbGFjZWhvbGRlciBpbnRvIHRoZSBlZGl0b3JcclxuICogQHBhcmFtIHtzdHJpbmd9IGludGVybmFsVHlwZSAtIFRoZSBpbnRlcm5hbCB0eXBlIG9mIHRoZSBwbGFjZWhvbGRlclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGxheU5hbWUgLSBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBwbGFjZWhvbGRlclxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ3VzdG9tIC0gV2hldGhlciB0aGlzIGlzIGEgY3VzdG9tIHBsYWNlaG9sZGVyXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGluc2VydFBsYWNlaG9sZGVyID0gYXN5bmMgKGludGVybmFsVHlwZSwgZGlzcGxheU5hbWUsIGlzQ3VzdG9tKSA9PiB7XHJcbiAgICBjb25zdCBzYW5pdGl6ZWQgPSBTdHJpbmdVdGlscy5zYW5pdGl6ZVN0cmluZyhpbnRlcm5hbFR5cGUpO1xyXG4gICAgY29uc3QgZWRpdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdG9yeVRleHRcIik7XHJcbiAgICBjb25zdCBzcGFucyA9IGVkaXRvci5xdWVyeVNlbGVjdG9yQWxsKFwiLnBsYWNlaG9sZGVyXCIpO1xyXG4gICAgbGV0IG1heCA9IDA7XHJcbiAgICBzcGFucy5mb3JFYWNoKHNwYW4gPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gc3Bhbi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO1xyXG4gICAgICAgIGlmIChpZC5zdGFydHNXaXRoKHNhbml0aXplZCkpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBpZC5tYXRjaCgvKFxcZCspJC8pO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID4gbWF4KSBtYXggPSBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld0NvdW50ID0gbWF4ICsgMTtcclxuICAgIHN0YXRlLnZhcmlhYmxlQ291bnRzW3Nhbml0aXplZF0gPSBuZXdDb3VudDtcclxuICAgIGNvbnN0IGlkID0gc2FuaXRpemVkICsgbmV3Q291bnQ7XHJcbiAgICBsZXQgcmFuZ2VUb1VzZSA9IChzdGF0ZS5sYXN0UmFuZ2UgJiYgZWRpdG9yLmNvbnRhaW5zKHN0YXRlLmxhc3RSYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcikpXHJcbiAgICAgICAgPyBzdGF0ZS5sYXN0UmFuZ2VcclxuICAgICAgICA6ICgoKSA9PiB7XHJcbiAgICAgICAgICAgIGVuc3VyZUVkaXRvckZvY3VzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbC5yYW5nZUNvdW50ID8gc2VsLmdldFJhbmdlQXQoMCkgOiBudWxsO1xyXG4gICAgICAgIH0pKCk7XHJcbiAgICBsZXQgc2VsZWN0ZWRUZXh0ID0gXCJcIjtcclxuICAgIGlmIChyYW5nZVRvVXNlICYmICFyYW5nZVRvVXNlLmNvbGxhcHNlZCkge1xyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHJhbmdlVG9Vc2UudG9TdHJpbmcoKS50cmltKCk7XHJcbiAgICB9XHJcbiAgICBsZXQgZGlzcGxheVRleHQgPSBzZWxlY3RlZFRleHQgfHwgZGlzcGxheU5hbWU7XHJcbiAgICBpZiAoIXNlbGVjdGVkVGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IHRlbXAgfSA9IGF3YWl0IFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnRW50ZXIgdGVtcG9yYXJ5IHdvcmQnLFxyXG4gICAgICAgICAgICBpbnB1dDogJ3RleHQnLFxyXG4gICAgICAgICAgICBpbnB1dExhYmVsOiAnVGVtcG9yYXJ5IGZpbGwgd29yZCBmb3IgdGhpcyBwbGFjZWhvbGRlcicsXHJcbiAgICAgICAgICAgIGlucHV0VmFsdWU6IGRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRlbXApIGRpc3BsYXlUZXh0ID0gdGVtcDtcclxuICAgIH1cclxuICAgIGluc2VydFBsYWNlaG9sZGVyU3BhbihpZCwgZGlzcGxheVRleHQsIHJhbmdlVG9Vc2UpO1xyXG4gICAgaWYgKCFzdGF0ZS52YXJpYWJsZXMuc29tZSh2ID0+IHYuaWQgPT09IGlkKSkge1xyXG4gICAgICAgIHN0YXRlLnZhcmlhYmxlcy5wdXNoKHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGludGVybmFsVHlwZSxcclxuICAgICAgICAgICAgb2ZmaWNpYWxEaXNwbGF5OiBkaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgZGlzcGxheTogZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgIGlzQ3VzdG9tOiAhIWlzQ3VzdG9tLFxyXG4gICAgICAgICAgICBvcmRlcjogc3RhdGUuaW5zZXJ0aW9uQ291bnRlcisrLFxyXG4gICAgICAgICAgICBkaXNwbGF5T3ZlcnJpZGU6IGRpc3BsYXlUZXh0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVWYXJpYWJsZXNMaXN0KCk7XHJcbiAgICBzdGF0ZS5sYXN0UmFuZ2UgPSBudWxsO1xyXG4gICAgaWYgKGludGVybmFsVHlwZS5zdGFydHNXaXRoKFwiTk5cIikgJiYgc2VsZWN0ZWRUZXh0KSB7XHJcbiAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgICAgdGl0bGU6ICdBcHBseSBwbGFjZWhvbGRlciB0byBhbGwgb2NjdXJyZW5jZXM/JyxcclxuICAgICAgICAgICAgdGV4dDogYFJlcGxhY2UgYWxsIGluc3RhbmNlcyBvZiBcIiR7c2VsZWN0ZWRUZXh0fVwiIHdpdGggdGhpcyBwbGFjZWhvbGRlcj9gLFxyXG4gICAgICAgICAgICBpY29uOiAncXVlc3Rpb24nLFxyXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcywgYXBwbHknLFxyXG4gICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnTm8nXHJcbiAgICAgICAgfSkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgICAgICBhcHBseVBsYWNlaG9sZGVyVG9BbGxPY2N1cnJlbmNlcyhzZWxlY3RlZFRleHQsIGlkLCBkaXNwbGF5VGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBcHBsaWVzIGEgcGxhY2Vob2xkZXIgdG8gYWxsIG9jY3VycmVuY2VzIG9mIGEgdGV4dCBzdHJpbmcgaW4gdGhlIHN0b3J5XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gcmVwbGFjZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgSUQgb2YgdGhlIHBsYWNlaG9sZGVyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwbGF5VGV4dCAtIFRoZSBkaXNwbGF5IHRleHQgb2YgdGhlIHBsYWNlaG9sZGVyXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYXBwbHlQbGFjZWhvbGRlclRvQWxsT2NjdXJyZW5jZXMgPSAodGV4dCwgaWQsIGRpc3BsYXlUZXh0KSA9PiB7XHJcbiAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0b3J5VGV4dFwiKTtcclxuICAgIGNvbnN0IHRleHROb2RlcyA9IFtdO1xyXG4gICAgY29uc3QgZ2V0VGV4dE5vZGVzID0gKG5vZGUpID0+IHtcclxuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUudGV4dENvbnRlbnQuaW5jbHVkZXModGV4dCkpIHtcclxuICAgICAgICAgICAgICAgIHRleHROb2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm9kZS5jaGlsZE5vZGVzLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5jbGFzc0xpc3QgfHwgIWNoaWxkLmNsYXNzTGlzdC5jb250YWlucygncGxhY2Vob2xkZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldFRleHROb2RlcyhjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZ2V0VGV4dE5vZGVzKGVkaXRvcik7XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSB0ZXh0Tm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBub2RlID0gdGV4dE5vZGVzW2ldO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBub2RlLnRleHRDb250ZW50O1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gY29udGVudC5zcGxpdCh0ZXh0KTtcclxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGFydHNbal0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChqIDwgcGFydHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwicGxhY2Vob2xkZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IGRpc3BsYXlUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQoZnJhZ21lbnQsIG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgbmV3IGN1c3RvbSBwbGFjZWhvbGRlciB0eXBlIHRvIHRoZSBzeXN0ZW0gd2l0aCBvcHRpb25hbCB0eXBlIGluZm9ybWF0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByYXdUZXh0IC0gVGhlIHJhdyB0ZXh0IHRvIHVzZSBhcyB0aGUgYmFzZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzYWdlPSdnZW5lcmljJ10gLSBUaGUgdXNhZ2UgdHlwZSAoJ25vdW4nLCAndmVyYicsIG9yICdnZW5lcmljJylcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGdlbmVyYXRlZCBpbnRlcm5hbCB0eXBlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYWRkQ3VzdG9tUGxhY2Vob2xkZXIgPSAocmF3VGV4dCwgdXNhZ2UgPSAnZ2VuZXJpYycpID0+IHtcclxuICAgIGxldCBpbnRlcm5hbDtcclxuICAgIFxyXG4gICAgaWYgKHVzYWdlID09PSBcIm5vdW5cIikge1xyXG4gICAgICAgIGludGVybmFsID0gXCJOTl9cIiArIFN0cmluZ1V0aWxzLnBhc2NhbENhc2UocmF3VGV4dCk7XHJcbiAgICB9IGVsc2UgaWYgKHVzYWdlID09PSBcInZlcmJcIikge1xyXG4gICAgICAgIGludGVybmFsID0gXCJWQl9cIiArIFN0cmluZ1V0aWxzLnBhc2NhbENhc2UocmF3VGV4dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGludGVybmFsID0gU3RyaW5nVXRpbHMucGFzY2FsQ2FzZShyYXdUZXh0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCFzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMuc29tZShwID0+IHAudHlwZSA9PT0gaW50ZXJuYWwpKSB7XHJcbiAgICAgICAgc3RhdGUuY3VzdG9tUGxhY2Vob2xkZXJzLnB1c2goeyB0eXBlOiBpbnRlcm5hbCB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGludGVybmFsO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW5kIGluc2VydHMgYSBjdXN0b20gcGxhY2Vob2xkZXIgaW50byB0aGUgZWRpdG9yXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByYXdUZXh0IC0gVGhlIHJhdyB0ZXh0IHRvIHVzZSBhcyB0aGUgYmFzZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGluc2VydFBsYWNlaG9sZGVyRnJvbUN1c3RvbSA9IChyYXdUZXh0KSA9PiB7XHJcbiAgICBjb25zdCBpbnRlcm5hbCA9IGFkZEN1c3RvbVBsYWNlaG9sZGVyKHJhd1RleHQpO1xyXG4gICAgY29uc3QgZGlzcGxheSA9IFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KGludGVybmFsKTtcclxuICAgIGluc2VydFBsYWNlaG9sZGVyKGludGVybmFsLCBkaXNwbGF5LCB0cnVlKTtcclxufTsgIl0sIm5hbWVzIjpbIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJlIiwidCIsInIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJuIiwiaGFzT3duUHJvcGVydHkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImkiLCJTeW1ib2wiLCJhIiwiaXRlcmF0b3IiLCJjIiwiYXN5bmNJdGVyYXRvciIsInUiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIndyYXAiLCJHZW5lcmF0b3IiLCJjcmVhdGUiLCJDb250ZXh0IiwibWFrZUludm9rZU1ldGhvZCIsInRyeUNhdGNoIiwidHlwZSIsImFyZyIsImNhbGwiLCJoIiwibCIsImYiLCJzIiwieSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJwIiwiZCIsImdldFByb3RvdHlwZU9mIiwidiIsInZhbHVlcyIsImciLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiX2ludm9rZSIsIkFzeW5jSXRlcmF0b3IiLCJpbnZva2UiLCJfdHlwZW9mIiwicmVzb2x2ZSIsIl9fYXdhaXQiLCJ0aGVuIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJFcnJvciIsImRvbmUiLCJtZXRob2QiLCJkZWxlZ2F0ZSIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsIlR5cGVFcnJvciIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXNOYU4iLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsImtleXMiLCJyZXZlcnNlIiwicG9wIiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJ2YWwiLCJoYW5kbGUiLCJjb21wbGV0ZSIsImZpbmlzaCIsIl9jYXRjaCIsImRlbGVnYXRlWWllbGQiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJzdGF0ZSIsIlN0cmluZ1V0aWxzIiwiaW5zZXJ0UGxhY2Vob2xkZXJTcGFuIiwiZW5zdXJlRWRpdG9yRm9jdXMiLCJ1cGRhdGVWYXJpYWJsZXNMaXN0IiwidXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciIsImR1cGxpY2F0ZVBsYWNlaG9sZGVyIiwidmFyaWFibGUiLCJ1c2FnZVRyYWNrZXIiLCJpZCIsIm5ld0lkIiwiZWRpdG9yIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJhbmdlVG9Vc2UiLCJsYXN0UmFuZ2UiLCJjb250YWlucyIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwic2VsIiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImdldFJhbmdlQXQiLCJkaXNwbGF5VGV4dCIsImRpc3BsYXlPdmVycmlkZSIsIm9mZmljaWFsRGlzcGxheSIsImluc2VydFBsYWNlaG9sZGVyIiwiX3JlZiIsIl9jYWxsZWUiLCJpbnRlcm5hbFR5cGUiLCJpc0N1c3RvbSIsInNhbml0aXplZCIsInNwYW5zIiwibWF4IiwibmV3Q291bnQiLCJzZWxlY3RlZFRleHQiLCJfeWllbGQkU3dhbCRmaXJlIiwidGVtcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJzYW5pdGl6ZVN0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzcGFuIiwiZ2V0QXR0cmlidXRlIiwic3RhcnRzV2l0aCIsIm1hdGNoIiwibnVtIiwicGFyc2VJbnQiLCJ2YXJpYWJsZUNvdW50cyIsImNvbGxhcHNlZCIsInRvU3RyaW5nIiwidHJpbSIsIlN3YWwiLCJmaXJlIiwidGl0bGUiLCJpbnB1dCIsImlucHV0TGFiZWwiLCJpbnB1dFZhbHVlIiwic2hvd0NhbmNlbEJ1dHRvbiIsInZhcmlhYmxlcyIsInNvbWUiLCJkaXNwbGF5Iiwib3JkZXIiLCJpbnNlcnRpb25Db3VudGVyIiwidGV4dCIsImNvbmNhdCIsImljb24iLCJjb25maXJtQnV0dG9uVGV4dCIsImNhbmNlbEJ1dHRvblRleHQiLCJyZXN1bHQiLCJpc0NvbmZpcm1lZCIsImFwcGx5UGxhY2Vob2xkZXJUb0FsbE9jY3VycmVuY2VzIiwiX3giLCJfeDIiLCJfeDMiLCJ0ZXh0Tm9kZXMiLCJnZXRUZXh0Tm9kZXMiLCJub2RlIiwibm9kZVR5cGUiLCJOb2RlIiwiVEVYVF9OT0RFIiwidGV4dENvbnRlbnQiLCJpbmNsdWRlcyIsImNoaWxkTm9kZXMiLCJjaGlsZCIsImNsYXNzTGlzdCIsImNvbnRlbnQiLCJwYXJ0cyIsInNwbGl0IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImoiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInNldEF0dHJpYnV0ZSIsInJlcGxhY2VDaGlsZCIsImFkZEN1c3RvbVBsYWNlaG9sZGVyIiwicmF3VGV4dCIsInVzYWdlIiwidW5kZWZpbmVkIiwiaW50ZXJuYWwiLCJwYXNjYWxDYXNlIiwiY3VzdG9tUGxhY2Vob2xkZXJzIiwiaW5zZXJ0UGxhY2Vob2xkZXJGcm9tQ3VzdG9tIiwibmF0dXJhbERpc3BsYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/js/core/placeholderCreation.js\n");

/***/ }),

/***/ "./public/js/core/placeholderDOM.js":
/*!******************************************!*\
  !*** ./public/js/core/placeholderDOM.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureEditorFocus: () => (/* binding */ ensureEditorFocus),\n/* harmony export */   generateLegacyText: () => (/* binding */ generateLegacyText),\n/* harmony export */   insertNodeAtCaret: () => (/* binding */ insertNodeAtCaret),\n/* harmony export */   insertPlaceholderSpan: () => (/* binding */ insertPlaceholderSpan)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n\n\n/**\r\n * Inserts a DOM node at the current caret position\r\n * @param {Node} node - The DOM node to insert\r\n * @param {Range} range - Optional range to use instead of current selection\r\n */\nvar insertNodeAtCaret = function insertNodeAtCaret(node, range) {\n  if (range) {\n    range.deleteContents();\n    range.insertNode(node);\n    var newRange = document.createRange();\n    newRange.setStartAfter(node);\n    newRange.collapse(true);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(newRange);\n  } else {\n    var _sel = window.getSelection();\n    if (_sel.rangeCount) {\n      var r = _sel.getRangeAt(0);\n      r.deleteContents();\n      r.insertNode(node);\n      r.setStartAfter(node);\n      r.collapse(true);\n      _sel.removeAllRanges();\n      _sel.addRange(r);\n    }\n  }\n};\n\n/**\r\n * Ensures the editor has focus and a valid selection range\r\n */\nvar ensureEditorFocus = function ensureEditorFocus() {\n  var editor = document.getElementById(\"storyText\");\n  var sel = window.getSelection();\n  if (!sel.rangeCount || !editor.contains(sel.anchorNode)) {\n    editor.focus();\n    var range = document.createRange();\n    range.selectNodeContents(editor);\n    range.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n};\n\n/**\r\n * Creates and inserts a placeholder span element at the current caret position\r\n * @param {string} placeholderID - The ID of the placeholder\r\n * @param {string} displayText - The text to display in the placeholder\r\n * @param {Range} range - Optional range to use instead of current selection\r\n */\nvar insertPlaceholderSpan = function insertPlaceholderSpan(placeholderID, displayText, range) {\n  var span = document.createElement(\"span\");\n  span.className = \"placeholder\";\n  span.setAttribute(\"data-id\", placeholderID);\n  span.setAttribute(\"title\", placeholderID);\n  span.setAttribute(\"contenteditable\", \"false\");\n  span.textContent = displayText;\n  insertNodeAtCaret(span, range);\n\n  // Append extra space if needed\n  if (!displayText.endsWith(\" \")) {\n    if (span.parentNode) {\n      var nextNode = span.nextSibling;\n      if (nextNode && nextNode.nodeType === Node.TEXT_NODE) {\n        if (!/^\\s/.test(nextNode.textContent)) {\n          span.parentNode.insertBefore(document.createTextNode(\" \"), nextNode);\n        }\n      } else if (nextNode) {\n        span.parentNode.insertBefore(document.createTextNode(\" \"), nextNode);\n      } else {\n        span.parentNode.appendChild(document.createTextNode(\" \"));\n      }\n    }\n  }\n};\n\n/**\r\n * Converts the editor content to text format with placeholders in {id} format\r\n * @returns {string} The story text with placeholders in {id} format\r\n */\nvar generateLegacyText = function generateLegacyText() {\n  var editor = document.getElementById(\"storyText\");\n  var _traverse = function traverse(node) {\n    var result = \"\";\n    node.childNodes.forEach(function (child) {\n      if (child.nodeType === Node.TEXT_NODE) {\n        result += child.textContent;\n      } else if (child.nodeType === Node.ELEMENT_NODE) {\n        if (child.tagName.toLowerCase() === \"br\") {\n          result += \"\\n\";\n        } else if (child.classList.contains(\"placeholder\")) {\n          result += \"{\" + child.getAttribute(\"data-id\") + \"}\";\n        } else {\n          result += _traverse(child);\n          var tag = child.tagName.toLowerCase();\n          if (tag === \"div\" || tag === \"p\") result += \"\\n\";\n        }\n      }\n    });\n    return result;\n  };\n  return _traverse(editor);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM3QixJQUFJQSxLQUFLLENBQUNaLFFBQVEsS0FBS0MsSUFBSSxDQUFDQyxTQUFTLEVBQUU7UUFDbkNPLE1BQU0sSUFBSUcsS0FBSyxDQUFDakIsV0FBVztNQUMvQixDQUFDLE1BQU0sSUFBSWlCLEtBQUssQ0FBQ1osUUFBUSxLQUFLQyxJQUFJLENBQUNZLFlBQVksRUFBRTtRQUM3QyxJQUFJRCxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUU7VUFDdENOLE1BQU0sSUFBSSxJQUFJO1FBQ2xCLENBQUMsTUFBTSxJQUFJRyxLQUFLLENBQUNJLFNBQVMsQ0FBQ2hDLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRTtVQUNoRHlCLE1BQU0sSUFBSSxHQUFHLEdBQUdHLEtBQUssQ0FBQ0ssWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUc7UUFDdkQsQ0FBQyxNQUFNO1VBQ0hSLE1BQU0sSUFBSUQsU0FBUSxDQUFDSSxLQUFLLENBQUM7VUFDekIsSUFBTU0sR0FBRyxHQUFHTixLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDLENBQUM7VUFDdkMsSUFBSUcsR0FBRyxLQUFLLEtBQUssSUFBSUEsR0FBRyxLQUFLLEdBQUcsRUFBRVQsTUFBTSxJQUFJLElBQUk7UUFDcEQ7TUFDSjtJQUNKLENBQUMsQ0FBQztJQUNGLE9BQU9BLE1BQU07RUFDakIsQ0FBQztFQUNELE9BQU9ELFNBQVEsQ0FBQzFCLE1BQU0sQ0FBQztBQUMzQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL2NvcmUvcGxhY2Vob2xkZXJET00uanM/ZmVlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RhdGUgZnJvbSAnLi9zdGF0ZS5qcyc7XHJcblxyXG4vKipcclxuICogSW5zZXJ0cyBhIERPTSBub2RlIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uXHJcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIFRoZSBET00gbm9kZSB0byBpbnNlcnRcclxuICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSBPcHRpb25hbCByYW5nZSB0byB1c2UgaW5zdGVhZCBvZiBjdXJyZW50IHNlbGVjdGlvblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGluc2VydE5vZGVBdENhcmV0ID0gKG5vZGUsIHJhbmdlKSA9PiB7XHJcbiAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgICByYW5nZS5kZWxldGVDb250ZW50cygpO1xyXG4gICAgICAgIHJhbmdlLmluc2VydE5vZGUobm9kZSk7XHJcbiAgICAgICAgY29uc3QgbmV3UmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgIG5ld1JhbmdlLnNldFN0YXJ0QWZ0ZXIobm9kZSk7XHJcbiAgICAgICAgbmV3UmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICBzZWwuYWRkUmFuZ2UobmV3UmFuZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHNlbC5yYW5nZUNvdW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHIgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICAgICAgci5kZWxldGVDb250ZW50cygpO1xyXG4gICAgICAgICAgICByLmluc2VydE5vZGUobm9kZSk7XHJcbiAgICAgICAgICAgIHIuc2V0U3RhcnRBZnRlcihub2RlKTtcclxuICAgICAgICAgICAgci5jb2xsYXBzZSh0cnVlKTtcclxuICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgICAgICBzZWwuYWRkUmFuZ2Uocik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVuc3VyZXMgdGhlIGVkaXRvciBoYXMgZm9jdXMgYW5kIGEgdmFsaWQgc2VsZWN0aW9uIHJhbmdlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW5zdXJlRWRpdG9yRm9jdXMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0b3J5VGV4dFwiKTtcclxuICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgIGlmICghc2VsLnJhbmdlQ291bnQgfHwgIWVkaXRvci5jb250YWlucyhzZWwuYW5jaG9yTm9kZSkpIHtcclxuICAgICAgICBlZGl0b3IuZm9jdXMoKTtcclxuICAgICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVkaXRvcik7XHJcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xyXG4gICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW5kIGluc2VydHMgYSBwbGFjZWhvbGRlciBzcGFuIGVsZW1lbnQgYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IHBsYWNlaG9sZGVySUQgLSBUaGUgSUQgb2YgdGhlIHBsYWNlaG9sZGVyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwbGF5VGV4dCAtIFRoZSB0ZXh0IHRvIGRpc3BsYXkgaW4gdGhlIHBsYWNlaG9sZGVyXHJcbiAqIEBwYXJhbSB7UmFuZ2V9IHJhbmdlIC0gT3B0aW9uYWwgcmFuZ2UgdG8gdXNlIGluc3RlYWQgb2YgY3VycmVudCBzZWxlY3Rpb25cclxuICovXHJcbmV4cG9ydCBjb25zdCBpbnNlcnRQbGFjZWhvbGRlclNwYW4gPSAocGxhY2Vob2xkZXJJRCwgZGlzcGxheVRleHQsIHJhbmdlKSA9PiB7XHJcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBzcGFuLmNsYXNzTmFtZSA9IFwicGxhY2Vob2xkZXJcIjtcclxuICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBwbGFjZWhvbGRlcklEKTtcclxuICAgIHNwYW4uc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgcGxhY2Vob2xkZXJJRCk7XHJcbiAgICBzcGFuLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCBcImZhbHNlXCIpO1xyXG4gICAgc3Bhbi50ZXh0Q29udGVudCA9IGRpc3BsYXlUZXh0O1xyXG4gICAgaW5zZXJ0Tm9kZUF0Q2FyZXQoc3BhbiwgcmFuZ2UpO1xyXG5cclxuICAgIC8vIEFwcGVuZCBleHRyYSBzcGFjZSBpZiBuZWVkZWRcclxuICAgIGlmICghZGlzcGxheVRleHQuZW5kc1dpdGgoXCIgXCIpKSB7XHJcbiAgICAgICAgaWYgKHNwYW4ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICBsZXQgbmV4dE5vZGUgPSBzcGFuLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICBpZiAobmV4dE5vZGUgJiYgbmV4dE5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIS9eXFxzLy50ZXN0KG5leHROb2RlLnRleHRDb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYW4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHNwYW4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcGFuLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgZWRpdG9yIGNvbnRlbnQgdG8gdGV4dCBmb3JtYXQgd2l0aCBwbGFjZWhvbGRlcnMgaW4ge2lkfSBmb3JtYXRcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0b3J5IHRleHQgd2l0aCBwbGFjZWhvbGRlcnMgaW4ge2lkfSBmb3JtYXRcclxuICovXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUxlZ2FjeVRleHQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0b3J5VGV4dFwiKTtcclxuICAgIGNvbnN0IHRyYXZlcnNlID0gKG5vZGUpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICBub2RlLmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYnJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcblwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoXCJwbGFjZWhvbGRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIntcIiArIGNoaWxkLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikgKyBcIn1cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRyYXZlcnNlKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWcgPSBjaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gXCJkaXZcIiB8fCB0YWcgPT09IFwicFwiKSByZXN1bHQgKz0gXCJcXG5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHRyYXZlcnNlKGVkaXRvcik7XHJcbn07ICJdLCJuYW1lcyI6WyJzdGF0ZSIsImluc2VydE5vZGVBdENhcmV0Iiwibm9kZSIsInJhbmdlIiwiZGVsZXRlQ29udGVudHMiLCJpbnNlcnROb2RlIiwibmV3UmFuZ2UiLCJkb2N1bWVudCIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnRBZnRlciIsImNvbGxhcHNlIiwic2VsIiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJyYW5nZUNvdW50IiwiciIsImdldFJhbmdlQXQiLCJlbnN1cmVFZGl0b3JGb2N1cyIsImVkaXRvciIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbnMiLCJhbmNob3JOb2RlIiwiZm9jdXMiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJpbnNlcnRQbGFjZWhvbGRlclNwYW4iLCJwbGFjZWhvbGRlcklEIiwiZGlzcGxheVRleHQiLCJzcGFuIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiZW5kc1dpdGgiLCJwYXJlbnROb2RlIiwibmV4dE5vZGUiLCJuZXh0U2libGluZyIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsInRlc3QiLCJpbnNlcnRCZWZvcmUiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiZ2VuZXJhdGVMZWdhY3lUZXh0IiwidHJhdmVyc2UiLCJyZXN1bHQiLCJjaGlsZE5vZGVzIiwiZm9yRWFjaCIsImNoaWxkIiwiRUxFTUVOVF9OT0RFIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiY2xhc3NMaXN0IiwiZ2V0QXR0cmlidXRlIiwidGFnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/core/placeholderDOM.js\n");

/***/ }),

/***/ "./public/js/core/placeholderDefinitions.js":
/*!**************************************************!*\
  !*** ./public/js/core/placeholderDefinitions.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERB_TENSES: () => (/* binding */ VERB_TENSES),\n/* harmony export */   allPlaceholders: () => (/* binding */ allPlaceholders),\n/* harmony export */   categoryOrder: () => (/* binding */ categoryOrder)\n/* harmony export */ });\n/**\r\n * Order of categories as they appear in the placeholder accordion\r\n */\nvar categoryOrder = [\"Nouns\", \"Verbs\", \"Descriptors\", \"Other\"];\n\n/**\r\n * Complete collection of all predefined placeholders by category\r\n */\nvar allPlaceholders = {\n  \"Nouns\": [{\n    internalType: \"NN\",\n    display: \"Noun\",\n    tooltip: \"Generic noun (table, apple)\",\n    icon: \"fas fa-book\",\n    isPrimary: true\n  }, {\n    internalType: \"NNP\",\n    display: \"Proper Noun\",\n    tooltip: \"Specific name (London, Sarah)\",\n    icon: \"fas fa-user\",\n    isPrimary: false\n  }, {\n    internalType: \"PRONOUN\",\n    display: \"Pronoun\",\n    tooltip: \"A pronoun\",\n    icon: \"fas fa-user-circle\",\n    isPrimary: true\n  }, {\n    internalType: \"NN_Concrete\",\n    display: \"Concrete\",\n    tooltip: \"Tangible object (chair, phone)\",\n    icon: \"fas fa-cube\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Person\",\n    display: \"Person\",\n    tooltip: \"A person (teacher, doctor)\",\n    icon: \"fas fa-user-friends\",\n    isPrimary: true\n  }, {\n    internalType: \"NN_Place\",\n    display: \"Place\",\n    tooltip: \"A location (park, school)\",\n    icon: \"fas fa-map-marker-alt\",\n    isPrimary: true\n  }, {\n    internalType: \"NN_Abstract\",\n    display: \"Abstract\",\n    tooltip: \"Intangible (happiness, freedom)\",\n    icon: \"fas fa-cloud\",\n    isPrimary: true\n  }, {\n    internalType: \"NN_Animal\",\n    display: \"Animal\",\n    tooltip: \"Living creature (dog, elephant)\",\n    icon: \"fas fa-dog\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_BodyPart\",\n    display: \"Body Part\",\n    tooltip: \"Part of body (hand, knee)\",\n    icon: \"fas fa-hand-paper\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Clothing\",\n    display: \"Clothing\",\n    tooltip: \"Wearable (shirt, jacket)\",\n    icon: \"fas fa-tshirt\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Drink\",\n    display: \"Drink\",\n    tooltip: \"Beverage (juice, coffee)\",\n    icon: \"fas fa-cocktail\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Emotion\",\n    display: \"Emotion\",\n    tooltip: \"Feeling (joy, anger)\",\n    icon: \"fas fa-heart\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Food\",\n    display: \"Food\",\n    tooltip: \"Edible item (pizza, carrot)\",\n    icon: \"fas fa-utensils\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Vehicle\",\n    display: \"Vehicle\",\n    tooltip: \"Mode of transport (car, bicycle)\",\n    icon: \"fas fa-car\",\n    isPrimary: false\n  }, {\n    internalType: \"NN_Onomatopoeia\",\n    display: \"Sound/Onomatopoeia\",\n    tooltip: \"Sound word (bang, buzz)\",\n    icon: \"fas fa-volume-up\",\n    isPrimary: false\n  }],\n  \"Verbs\": [{\n    internalType: \"VB\",\n    display: \"Verb\",\n    tooltip: \"Action/state (jump, write)\",\n    icon: \"fas fa-pen\",\n    isPrimary: true\n  }, {\n    internalType: \"VB_Intransitive\",\n    display: \"Intransitive\",\n    tooltip: \"No object (sleep, arrive)\",\n    icon: \"fas fa-bed\",\n    isPrimary: true\n  }, {\n    internalType: \"VB_Transitive\",\n    display: \"Transitive\",\n    tooltip: \"Takes object (kick, carry)\",\n    icon: \"fas fa-hammer\",\n    isPrimary: true\n  }, {\n    internalType: \"VB_Action\",\n    display: \"Action\",\n    tooltip: \"Physical action (run, climb)\",\n    icon: \"fas fa-bolt\",\n    isPrimary: false\n  }, {\n    internalType: \"VB_Stative\",\n    display: \"State\",\n    tooltip: \"Condition (believe, know)\",\n    icon: \"fas fa-brain\",\n    isPrimary: false\n  }, {\n    internalType: \"VB_Communication\",\n    display: \"Communication\",\n    tooltip: \"Speaking (say, shout)\",\n    icon: \"fas fa-comment-dots\",\n    isPrimary: false\n  }, {\n    internalType: \"VB_Movement\",\n    display: \"Movement\",\n    tooltip: \"Motion-based (walk, swim)\",\n    icon: \"fas fa-walking\",\n    isPrimary: false\n  }, {\n    internalType: \"VB_Onomatopoeia\",\n    display: \"Sound/Onomatopoeia\",\n    tooltip: \"Sound verb (meow, boom)\",\n    icon: \"fas fa-volume-up\",\n    isPrimary: false\n  }, {\n    internalType: \"MD\",\n    display: \"Modal\",\n    tooltip: \"Possibility (can, must)\",\n    icon: \"fas fa-key\",\n    isPrimary: false\n  }, {\n    internalType: \"VB_Linking\",\n    display: \"Linking\",\n    tooltip: \"Links subject (seem, become)\",\n    icon: \"fas fa-link\",\n    isPrimary: false\n  }, {\n    internalType: \"VB_Phrase\",\n    display: \"Phrasal Verb\",\n    tooltip: \"Multi-word verb (give up, look after)\",\n    icon: \"fas fa-random\",\n    isPrimary: false\n  }],\n  \"Descriptors\": [{\n    internalType: \"JJ\",\n    display: \"Adjective\",\n    tooltip: \"Describes noun (blue, tall)\",\n    icon: \"fas fa-ad\",\n    isPrimary: true\n  }, {\n    internalType: \"RB\",\n    display: \"Adverb\",\n    tooltip: \"Modifies verb (quickly, often)\",\n    icon: \"fas fa-feather-alt\",\n    isPrimary: true\n  }, {\n    internalType: \"JJR\",\n    display: \"Comparative\",\n    tooltip: \"Comparison (faster, smaller)\",\n    icon: \"fas fa-level-up-alt\",\n    isPrimary: false\n  }, {\n    internalType: \"JJS\",\n    display: \"Superlative\",\n    tooltip: \"Highest degree (best, tallest)\",\n    icon: \"fas fa-medal\",\n    isPrimary: false\n  }, {\n    internalType: \"JJ_Number\",\n    display: \"Ordered Number\",\n    tooltip: \"A ranked number (1st, seventh)\",\n    icon: \"fas fa-hashtag\",\n    isPrimary: true\n  }],\n  \"Other\": [{\n    internalType: \"IN\",\n    display: \"Preposition\",\n    tooltip: \"Shows relation (in, under)\",\n    icon: \"fas fa-arrows-alt\",\n    isPrimary: false\n  }, {\n    internalType: \"DT\",\n    display: \"Determiner\",\n    tooltip: \"Specifier (a, the)\",\n    icon: \"fas fa-bookmark\",\n    isPrimary: false\n  }, {\n    internalType: \"CC\",\n    display: \"Conjunction\",\n    tooltip: \"Joins clauses (and, or)\",\n    icon: \"fas fa-link\",\n    isPrimary: false\n  }, {\n    internalType: \"FW\",\n    display: \"Foreign Word\",\n    tooltip: \"Non-English (bonjour, sushi)\",\n    icon: \"fas fa-globe\",\n    isPrimary: false\n  }, {\n    internalType: \"Number\",\n    display: \"Number\",\n    tooltip: \"Numerical (five, twenty)\",\n    icon: \"fas fa-hashtag\",\n    isPrimary: true\n  }, {\n    internalType: \"Exclamation\",\n    display: \"Exclamation\",\n    tooltip: \"Interjection (wow, oops)\",\n    icon: \"fas fa-bullhorn\",\n    isPrimary: true\n  }]\n};\n\n/**\r\n * Available verb tenses for selection\r\n */\nvar VERB_TENSES = [{\n  value: 'VB',\n  text: 'Base (run)'\n}, {\n  value: 'VBP',\n  text: 'Present (I walk)'\n}, {\n  value: 'VBZ',\n  text: 'Present 3rd (he leaves)'\n}, {\n  value: 'VBD',\n  text: 'Past (slept)'\n}, {\n  value: 'VBG',\n  text: 'Gerund (crying)'\n}, {\n  value: 'VBN',\n  text: 'Past Participle (eaten)'\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvY29yZS9wbGFjZWhvbGRlckRlZmluaXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPLElBQU1BLGFBQWEsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQzs7QUFFdkU7QUFDQTtBQUNBO0FBQ08sSUFBTUMsZUFBZSxHQUFHO0VBQzNCLE9BQU8sRUFBRSxDQUNMO0lBQUVDLFlBQVksRUFBRSxJQUFJO0lBQUVDLE9BQU8sRUFBRSxNQUFNO0lBQUVDLE9BQU8sRUFBRSw2QkFBNkI7SUFBRUMsSUFBSSxFQUFFLGFBQWE7SUFBRUMsU0FBUyxFQUFFO0VBQUssQ0FBQyxFQUNySDtJQUFFSixZQUFZLEVBQUUsS0FBSztJQUFFQyxPQUFPLEVBQUUsYUFBYTtJQUFFQyxPQUFPLEVBQUUsK0JBQStCO0lBQUVDLElBQUksRUFBRSxhQUFhO0lBQUVDLFNBQVMsRUFBRTtFQUFNLENBQUMsRUFDaEk7SUFBRUosWUFBWSxFQUFFLFNBQVM7SUFBRUMsT0FBTyxFQUFFLFNBQVM7SUFBRUMsT0FBTyxFQUFFLFdBQVc7SUFBRUMsSUFBSSxFQUFFLG9CQUFvQjtJQUFFQyxTQUFTLEVBQUU7RUFBSyxDQUFDLEVBQ2xIO0lBQUVKLFlBQVksRUFBRSxhQUFhO0lBQUVDLE9BQU8sRUFBRSxVQUFVO0lBQUVDLE9BQU8sRUFBRSxnQ0FBZ0M7SUFBRUMsSUFBSSxFQUFFLGFBQWE7SUFBRUMsU0FBUyxFQUFFO0VBQU0sQ0FBQyxFQUN0STtJQUFFSixZQUFZLEVBQUUsV0FBVztJQUFFQyxPQUFPLEVBQUUsUUFBUTtJQUFFQyxPQUFPLEVBQUUsNEJBQTRCO0lBQUVDLElBQUksRUFBRSxxQkFBcUI7SUFBRUMsU0FBUyxFQUFFO0VBQUssQ0FBQyxFQUNySTtJQUFFSixZQUFZLEVBQUUsVUFBVTtJQUFFQyxPQUFPLEVBQUUsT0FBTztJQUFFQyxPQUFPLEVBQUUsMkJBQTJCO0lBQUVDLElBQUksRUFBRSx1QkFB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RUMsT0FBTyxFQUFFLDBCQUEwQjtJQUFFQyxJQUFJLEVBQUUsZ0JBQWdCO0lBQUVDLFNBQVMsRUFBRTtFQUFLLENBQUMsRUFDM0g7SUFBRUosWUFBWSxFQUFFLGFBQWE7SUFBRUMsT0FBTyxFQUFFLGFBQWE7SUFBRUMsT0FBTyxFQUFFLDBCQUEwQjtJQUFFQyxJQUFJLEVBQUUsaUJBQWlCO0lBQUVDLFNBQVMsRUFBRTtFQUFLLENBQUM7QUFFOUksQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDTyxJQUFNQyxXQUFXLEdBQUcsQ0FDdkI7RUFBRUMsS0FBSyxFQUFFLElBQUk7RUFBRUMsSUFBSSxFQUFFO0FBQWEsQ0FBQyxFQUNuQztFQUFFRCxLQUFLLEVBQUUsS0FBSztFQUFFQyxJQUFJLEVBQUU7QUFBbUIsQ0FBQyxFQUMxQztFQUFFRCxLQUFLLEVBQUUsS0FBSztFQUFFQyxJQUFJLEVBQUU7QUFBMEIsQ0FBQyxFQUNqRDtFQUFFRCxLQUFLLEVBQUUsS0FBSztFQUFFQyxJQUFJLEVBQUU7QUFBZSxDQUFDLEVBQ3RDO0VBQUVELEtBQUssRUFBRSxLQUFLO0VBQUVDLElBQUksRUFBRTtBQUFrQixDQUFDLEVBQ3pDO0VBQUVELEtBQUssRUFBRSxLQUFLO0VBQUVDLElBQUksRUFBRTtBQUEwQixDQUFDLENBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL2NvcmUvcGxhY2Vob2xkZXJEZWZpbml0aW9ucy5qcz9kZTAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBPcmRlciBvZiBjYXRlZ29yaWVzIGFzIHRoZXkgYXBwZWFyIGluIHRoZSBwbGFjZWhvbGRlciBhY2NvcmRpb25cclxuICovXHJcbmV4cG9ydCBjb25zdCBjYXRlZ29yeU9yZGVyID0gW1wiTm91bnNcIiwgXCJWZXJic1wiLCBcIkRlc2NyaXB0b3JzXCIsIFwiT3RoZXJcIl07XHJcblxyXG4vKipcclxuICogQ29tcGxldGUgY29sbGVjdGlvbiBvZiBhbGwgcHJlZGVmaW5lZCBwbGFjZWhvbGRlcnMgYnkgY2F0ZWdvcnlcclxuICovXHJcbmV4cG9ydCBjb25zdCBhbGxQbGFjZWhvbGRlcnMgPSB7XHJcbiAgICBcIk5vdW5zXCI6IFtcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJOTlwiLCBkaXNwbGF5OiBcIk5vdW5cIiwgdG9vbHRpcDogXCJHZW5lcmljIG5vdW4gKHRhYmxlLCBhcHBsZSlcIiwgaWNvbjogXCJmYXMgZmEtYm9va1wiLCBpc1ByaW1hcnk6IHRydWUgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJOTlBcIiwgZGlzcGxheTogXCJQcm9wZXIgTm91blwiLCB0b29sdGlwOiBcIlNwZWNpZmljIG5hbWUgKExvbmRvbiwgU2FyYWgpXCIsIGljb246IFwiZmFzIGZhLXVzZXJcIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIlBST05PVU5cIiwgZGlzcGxheTogXCJQcm9ub3VuXCIsIHRvb2x0aXA6IFwiQSBwcm9ub3VuXCIsIGljb246IFwiZmFzIGZhLXVzZXItY2lyY2xlXCIsIGlzUHJpbWFyeTogdHJ1ZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX0NvbmNyZXRlXCIsIGRpc3BsYXk6IFwiQ29uY3JldGVcIiwgdG9vbHRpcDogXCJUYW5naWJsZSBvYmplY3QgKGNoYWlyLCBwaG9uZSlcIiwgaWNvbjogXCJmYXMgZmEtY3ViZVwiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiTk5fUGVyc29uXCIsIGRpc3BsYXk6IFwiUGVyc29uXCIsIHRvb2x0aXA6IFwiQSBwZXJzb24gKHRlYWNoZXIsIGRvY3RvcilcIiwgaWNvbjogXCJmYXMgZmEtdXNlci1mcmllbmRzXCIsIGlzUHJpbWFyeTogdHJ1ZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX1BsYWNlXCIsIGRpc3BsYXk6IFwiUGxhY2VcIiwgdG9vbHRpcDogXCJBIGxvY2F0aW9uIChwYXJrLCBzY2hvb2wpXCIsIGljb246IFwiZmFzIGZhLW1hcC1tYXJrZXItYWx0XCIsIGlzUHJpbWFyeTogdHJ1ZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX0Fic3RyYWN0XCIsIGRpc3BsYXk6IFwiQWJzdHJhY3RcIiwgdG9vbHRpcDogXCJJbnRhbmdpYmxlIChoYXBwaW5lc3MsIGZyZWVkb20pXCIsIGljb246IFwiZmFzIGZhLWNsb3VkXCIsIGlzUHJpbWFyeTogdHJ1ZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX0FuaW1hbFwiLCBkaXNwbGF5OiBcIkFuaW1hbFwiLCB0b29sdGlwOiBcIkxpdmluZyBjcmVhdHVyZSAoZG9nLCBlbGVwaGFudClcIiwgaWNvbjogXCJmYXMgZmEtZG9nXCIsIGlzUHJpbWFyeTogZmFsc2UgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJOTl9Cb2R5UGFydFwiLCBkaXNwbGF5OiBcIkJvZHkgUGFydFwiLCB0b29sdGlwOiBcIlBhcnQgb2YgYm9keSAoaGFuZCwga25lZSlcIiwgaWNvbjogXCJmYXMgZmEtaGFuZC1wYXBlclwiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiTk5fQ2xvdGhpbmdcIiwgZGlzcGxheTogXCJDbG90aGluZ1wiLCB0b29sdGlwOiBcIldlYXJhYmxlIChzaGlydCwgamFja2V0KVwiLCBpY29uOiBcImZhcyBmYS10c2hpcnRcIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX0RyaW5rXCIsIGRpc3BsYXk6IFwiRHJpbmtcIiwgdG9vbHRpcDogXCJCZXZlcmFnZSAoanVpY2UsIGNvZmZlZSlcIiwgaWNvbjogXCJmYXMgZmEtY29ja3RhaWxcIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX0Vtb3Rpb25cIiwgZGlzcGxheTogXCJFbW90aW9uXCIsIHRvb2x0aXA6IFwiRmVlbGluZyAoam95LCBhbmdlcilcIiwgaWNvbjogXCJmYXMgZmEtaGVhcnRcIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIk5OX0Zvb2RcIiwgZGlzcGxheTogXCJGb29kXCIsIHRvb2x0aXA6IFwiRWRpYmxlIGl0ZW0gKHBpenphLCBjYXJyb3QpXCIsIGljb246IFwiZmFzIGZhLXV0ZW5zaWxzXCIsIGlzUHJpbWFyeTogZmFsc2UgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJOTl9WZWhpY2xlXCIsIGRpc3BsYXk6IFwiVmVoaWNsZVwiLCB0b29sdGlwOiBcIk1vZGUgb2YgdHJhbnNwb3J0IChjYXIsIGJpY3ljbGUpXCIsIGljb246IFwiZmFzIGZhLWNhclwiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiTk5fT25vbWF0b3BvZWlhXCIsIGRpc3BsYXk6IFwiU291bmQvT25vbWF0b3BvZWlhXCIsIHRvb2x0aXA6IFwiU291bmQgd29yZCAoYmFuZywgYnV6eilcIiwgaWNvbjogXCJmYXMgZmEtdm9sdW1lLXVwXCIsIGlzUHJpbWFyeTogZmFsc2UgfVxyXG4gICAgXSxcclxuICAgIFwiVmVyYnNcIjogW1xyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIlZCXCIsIGRpc3BsYXk6IFwiVmVyYlwiLCB0b29sdGlwOiBcIkFjdGlvbi9zdGF0ZSAoanVtcCwgd3JpdGUpXCIsIGljb246IFwiZmFzIGZhLXBlblwiLCBpc1ByaW1hcnk6IHRydWUgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJWQl9JbnRyYW5zaXRpdmVcIiwgZGlzcGxheTogXCJJbnRyYW5zaXRpdmVcIiwgdG9vbHRpcDogXCJObyBvYmplY3QgKHNsZWVwLCBhcnJpdmUpXCIsIGljb246IFwiZmFzIGZhLWJlZFwiLCBpc1ByaW1hcnk6IHRydWUgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJWQl9UcmFuc2l0aXZlXCIsIGRpc3BsYXk6IFwiVHJhbnNpdGl2ZVwiLCB0b29sdGlwOiBcIlRha2VzIG9iamVjdCAoa2ljaywgY2FycnkpXCIsIGljb246IFwiZmFzIGZhLWhhbW1lclwiLCBpc1ByaW1hcnk6IHRydWUgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJWQl9BY3Rpb25cIiwgZGlzcGxheTogXCJBY3Rpb25cIiwgdG9vbHRpcDogXCJQaHlzaWNhbCBhY3Rpb24gKHJ1biwgY2xpbWIpXCIsIGljb246IFwiZmFzIGZhLWJvbHRcIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIlZCX1N0YXRpdmVcIiwgZGlzcGxheTogXCJTdGF0ZVwiLCB0b29sdGlwOiBcIkNvbmRpdGlvbiAoYmVsaWV2ZSwga25vdylcIiwgaWNvbjogXCJmYXMgZmEtYnJhaW5cIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIlZCX0NvbW11bmljYXRpb25cIiwgZGlzcGxheTogXCJDb21tdW5pY2F0aW9uXCIsIHRvb2x0aXA6IFwiU3BlYWtpbmcgKHNheSwgc2hvdXQpXCIsIGljb246IFwiZmFzIGZhLWNvbW1lbnQtZG90c1wiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiVkJfTW92ZW1lbnRcIiwgZGlzcGxheTogXCJNb3ZlbWVudFwiLCB0b29sdGlwOiBcIk1vdGlvbi1iYXNlZCAod2Fsaywgc3dpbSlcIiwgaWNvbjogXCJmYXMgZmEtd2Fsa2luZ1wiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiVkJfT25vbWF0b3BvZWlhXCIsIGRpc3BsYXk6IFwiU291bmQvT25vbWF0b3BvZWlhXCIsIHRvb2x0aXA6IFwiU291bmQgdmVyYiAobWVvdywgYm9vbSlcIiwgaWNvbjogXCJmYXMgZmEtdm9sdW1lLXVwXCIsIGlzUHJpbWFyeTogZmFsc2UgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJNRFwiLCBkaXNwbGF5OiBcIk1vZGFsXCIsIHRvb2x0aXA6IFwiUG9zc2liaWxpdHkgKGNhbiwgbXVzdClcIiwgaWNvbjogXCJmYXMgZmEta2V5XCIsIGlzUHJpbWFyeTogZmFsc2UgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJWQl9MaW5raW5nXCIsIGRpc3BsYXk6IFwiTGlua2luZ1wiLCB0b29sdGlwOiBcIkxpbmtzIHN1YmplY3QgKHNlZW0sIGJlY29tZSlcIiwgaWNvbjogXCJmYXMgZmEtbGlua1wiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiVkJfUGhyYXNlXCIsIGRpc3BsYXk6IFwiUGhyYXNhbCBWZXJiXCIsIHRvb2x0aXA6IFwiTXVsdGktd29yZCB2ZXJiIChnaXZlIHVwLCBsb29rIGFmdGVyKVwiLCBpY29uOiBcImZhcyBmYS1yYW5kb21cIiwgaXNQcmltYXJ5OiBmYWxzZSB9XHJcbiAgICBdLFxyXG4gICAgXCJEZXNjcmlwdG9yc1wiOiBbXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiSkpcIiwgZGlzcGxheTogXCJBZGplY3RpdmVcIiwgdG9vbHRpcDogXCJEZXNjcmliZXMgbm91biAoYmx1ZSwgdGFsbClcIiwgaWNvbjogXCJmYXMgZmEtYWRcIiwgaXNQcmltYXJ5OiB0cnVlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiUkJcIiwgZGlzcGxheTogXCJBZHZlcmJcIiwgdG9vbHRpcDogXCJNb2RpZmllcyB2ZXJiIChxdWlja2x5LCBvZnRlbilcIiwgaWNvbjogXCJmYXMgZmEtZmVhdGhlci1hbHRcIiwgaXNQcmltYXJ5OiB0cnVlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiSkpSXCIsIGRpc3BsYXk6IFwiQ29tcGFyYXRpdmVcIiwgdG9vbHRpcDogXCJDb21wYXJpc29uIChmYXN0ZXIsIHNtYWxsZXIpXCIsIGljb246IFwiZmFzIGZhLWxldmVsLXVwLWFsdFwiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiSkpTXCIsIGRpc3BsYXk6IFwiU3VwZXJsYXRpdmVcIiwgdG9vbHRpcDogXCJIaWdoZXN0IGRlZ3JlZSAoYmVzdCwgdGFsbGVzdClcIiwgaWNvbjogXCJmYXMgZmEtbWVkYWxcIiwgaXNQcmltYXJ5OiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaW50ZXJuYWxUeXBlOiBcIkpKX051bWJlclwiLCBkaXNwbGF5OiBcIk9yZGVyZWQgTnVtYmVyXCIsIHRvb2x0aXA6IFwiQSByYW5rZWQgbnVtYmVyICgxc3QsIHNldmVudGgpXCIsIGljb246IFwiZmFzIGZhLWhhc2h0YWdcIiwgaXNQcmltYXJ5OiB0cnVlIH1cclxuICAgIF0sXHJcbiAgICBcIk90aGVyXCI6IFtcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJJTlwiLCBkaXNwbGF5OiBcIlByZXBvc2l0aW9uXCIsIHRvb2x0aXA6IFwiU2hvd3MgcmVsYXRpb24gKGluLCB1bmRlcilcIiwgaWNvbjogXCJmYXMgZmEtYXJyb3dzLWFsdFwiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiRFRcIiwgZGlzcGxheTogXCJEZXRlcm1pbmVyXCIsIHRvb2x0aXA6IFwiU3BlY2lmaWVyIChhLCB0aGUpXCIsIGljb246IFwiZmFzIGZhLWJvb2ttYXJrXCIsIGlzUHJpbWFyeTogZmFsc2UgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJDQ1wiLCBkaXNwbGF5OiBcIkNvbmp1bmN0aW9uXCIsIHRvb2x0aXA6IFwiSm9pbnMgY2xhdXNlcyAoYW5kLCBvcilcIiwgaWNvbjogXCJmYXMgZmEtbGlua1wiLCBpc1ByaW1hcnk6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBpbnRlcm5hbFR5cGU6IFwiRldcIiwgZGlzcGxheTogXCJGb3JlaWduIFdvcmRcIiwgdG9vbHRpcDogXCJOb24tRW5nbGlzaCAoYm9uam91ciwgc3VzaGkpXCIsIGljb246IFwiZmFzIGZhLWdsb2JlXCIsIGlzUHJpbWFyeTogZmFsc2UgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJOdW1iZXJcIiwgZGlzcGxheTogXCJOdW1iZXJcIiwgdG9vbHRpcDogXCJOdW1lcmljYWwgKGZpdmUsIHR3ZW50eSlcIiwgaWNvbjogXCJmYXMgZmEtaGFzaHRhZ1wiLCBpc1ByaW1hcnk6IHRydWUgfSxcclxuICAgICAgICB7IGludGVybmFsVHlwZTogXCJFeGNsYW1hdGlvblwiLCBkaXNwbGF5OiBcIkV4Y2xhbWF0aW9uXCIsIHRvb2x0aXA6IFwiSW50ZXJqZWN0aW9uICh3b3csIG9vcHMpXCIsIGljb246IFwiZmFzIGZhLWJ1bGxob3JuXCIsIGlzUHJpbWFyeTogdHJ1ZSB9XHJcbiAgICBdXHJcbn07XHJcblxyXG4vKipcclxuICogQXZhaWxhYmxlIHZlcmIgdGVuc2VzIGZvciBzZWxlY3Rpb25cclxuICovXHJcbmV4cG9ydCBjb25zdCBWRVJCX1RFTlNFUyA9IFtcclxuICAgIHsgdmFsdWU6ICdWQicsIHRleHQ6ICdCYXNlIChydW4pJyB9LFxyXG4gICAgeyB2YWx1ZTogJ1ZCUCcsIHRleHQ6ICdQcmVzZW50IChJIHdhbGspJyB9LFxyXG4gICAgeyB2YWx1ZTogJ1ZCWicsIHRleHQ6ICdQcmVzZW50IDNyZCAoaGUgbGVhdmVzKScgfSxcclxuICAgIHsgdmFsdWU6ICdWQkQnLCB0ZXh0OiAnUGFzdCAoc2xlcHQpJyB9LFxyXG4gICAgeyB2YWx1ZTogJ1ZCRycsIHRleHQ6ICdHZXJ1bmQgKGNyeWluZyknIH0sXHJcbiAgICB7IHZhbHVlOiAnVkJOJywgdGV4dDogJ1Bhc3QgUGFydGljaXBsZSAoZWF0ZW4pJyB9XHJcbl07ICJdLCJuYW1lcyI6WyJjYXRlZ29yeU9yZGVyIiwiYWxsUGxhY2Vob2xkZXJzIiwiaW50ZXJuYWxUeXBlIiwiZGlzcGxheSIsInRvb2x0aXAiLCJpY29uIiwiaXNQcmltYXJ5IiwiVkVSQl9URU5TRVMiLCJ2YWx1ZSIsInRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/js/core/placeholderDefinitions.js\n");

/***/ }),

/***/ "./public/js/core/placeholderManagement.js":
/*!*************************************************!*\
  !*** ./public/js/core/placeholderManagement.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateExistingPlaceholder: () => (/* binding */ updateExistingPlaceholder),\n/* harmony export */   updateVariablesFromEditor: () => (/* binding */ updateVariablesFromEditor),\n/* harmony export */   updateVariablesList: () => (/* binding */ updateVariablesList)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/typeHelpers.js */ \"./public/js/utils/typeHelpers.js\");\n/* harmony import */ var _placeholderUI_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placeholderUI.js */ \"./public/js/core/placeholderUI.js\");\n\n\n\n\n/**\r\n * Updates the variables list display in the UI\r\n */\nvar updateVariablesList = function updateVariablesList() {\n  var container = document.getElementById('existingPlaceholdersContainer');\n  container.innerHTML = '';\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.sort(function (a, b) {\n    return (_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].usageTracker[b.id] || 0) - (_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].usageTracker[a.id] || 0) || a.order - b.order;\n  });\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.forEach(function (v) {\n    var btn = document.createElement('button');\n    btn.type = 'button';\n    btn.className = 'btn btn-outline-secondary btn-sm m-1 placeholder-item';\n    btn.setAttribute('data-id', v.id);\n    btn.textContent = v.displayOverride || v.officialDisplay;\n    btn.setAttribute('title', v.id);\n    container.appendChild(btn);\n  });\n};\n\n/**\r\n * Updates the variables array by scanning the editor for placeholders\r\n */\nvar updateVariablesFromEditor = function updateVariablesFromEditor() {\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables = [];\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts = {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter = 0;\n  var editor = document.getElementById('storyText');\n  var placeholderElements = editor.querySelectorAll('.placeholder');\n  placeholderElements.forEach(function (el) {\n    var id = el.getAttribute('data-id');\n    var base = id.replace(/\\d+$/, '');\n    var numMatch = id.match(/(\\d+)$/);\n    var num = numMatch ? parseInt(numMatch[1], 10) : 0;\n    if (!_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts[base] || num > _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts[base]) {\n      _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts[base] = num;\n    }\n    if (!_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.some(function (v) {\n      return v.id === id;\n    })) {\n      var variableEntry;\n      var custom = _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders.find(function (p) {\n        return p.type === base;\n      });\n      if (custom) {\n        variableEntry = {\n          id: id,\n          internalType: custom.type,\n          officialDisplay: _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__.TypeHelpers.naturalizeType(custom.type),\n          display: _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__.TypeHelpers.naturalizeType(custom.type),\n          isCustom: true,\n          order: _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter++,\n          displayOverride: el.textContent\n        };\n      } else {\n        var guessed = _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__.TypeHelpers.guessTypeFromId(id);\n        var originalDisplay = _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__.TypeHelpers.getOriginalDisplayForType(guessed) || guessed;\n        variableEntry = {\n          id: id,\n          internalType: guessed,\n          officialDisplay: originalDisplay,\n          display: originalDisplay,\n          order: _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter++,\n          displayOverride: el.textContent\n        };\n      }\n      _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.push(variableEntry);\n    }\n  });\n  var currentSearch = $('#placeholderSearch').val() || '';\n  (0,_placeholderUI_js__WEBPACK_IMPORTED_MODULE_2__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', currentSearch);\n  var currentModalSearch = $('#modalPlaceholderSearch').val() || '';\n  (0,_placeholderUI_js__WEBPACK_IMPORTED_MODULE_2__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', currentModalSearch);\n  updateVariablesList();\n};\n\n/**\r\n * Update existing placeholder\r\n * @param {Object} variable - The placeholder variable to update \r\n * @param {string} newInternalType - The new internal type for the placeholder\r\n * @param {string} newDisplayName - The new display name for the placeholder\r\n */\nvar updateExistingPlaceholder = function updateExistingPlaceholder(variable, newInternalType, newDisplayName) {\n  var id = variable.id;\n  var editor = document.getElementById(\"storyText\");\n  var spans = editor.querySelectorAll(\".placeholder[data-id=\\\"\".concat(id, \"\\\"]\"));\n  spans.forEach(function (span) {\n    span.setAttribute(\"title\", \"\".concat(id, \" (\").concat(newInternalType, \")\"));\n  });\n  variable.internalType = newInternalType;\n  variable.officialDisplay = newDisplayName;\n  variable.display = newDisplayName;\n  updateVariablesList();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvY29yZS9wbGFjZWhvbGRlck1hbmFnZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQStCO0FBQ3VCO0FBQ1U7O0FBRWhFO0FBQ0E7QUFDQTtBQUNPLElBQU1HLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBbUJBLENBQUEsRUFBUztFQUNyQyxJQUFNQyxTQUFTLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLCtCQUErQixDQUFDO0VBQzFFRixTQUFTLENBQUNHLFNBQVMsR0FBRyxFQUFFO0VBQ3hCUCxpREFBSyxDQUFDUSxTQUFTLENBQUNDLElBQUksQ0FBQyxVQUFDQyxDQUFDLEVBQUVDLENBQUM7SUFBQSxPQUN0QixDQUFDWCxpREFBSyxDQUFDWSxZQUFZLENBQUNELENBQUMsQ0FBQ0UsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLYixpREFBSyxDQUFDWSxZQUFZLENBQUNGLENBQUMsQ0FBQ0csRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUlILENBQUMsQ0FBQ0ksS0FBSyxHQUFHSCxDQUFDLENBQUNHLEtBQUs7RUFBQSxDQUMxRixDQUFDO0VBQ0RkLGlEQUFLLENBQUNRLFNBQVMsQ0FBQ08sT0FBTyxDQUFDLFVBQUFDLENBQUMsRUFBSTtJQUN6QixJQUFNQyxHQUFHLEdBQUdaLFFBQVEsQ0FBQ2EsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUM1Q0QsR0FBRyxDQUFDRSxJQUFJLEdBQUcsUUFBUTtJQUNuQkYsR0FBRyxDQUFDRyxTQUFTLEdBQUcsdURBQXVEO0lBQ3ZFSCxHQUFHLENBQUNJLFlBQVksQ0FBQyxTQUFTLEVBQUVMLENBQUMsQ0FBQ0gsRUFBRSxDQUFDO0lBQ2pDSSxHQUFHLENBQUNLLFdBQVcsR0FBR04sQ0FBQyxDQUFDTyxlQUFlLElBQUlQLENBQUMsQ0FBQ1EsZUFBZTtJQUN4RFAsR0FBRyxDQUFDSSxZQUFZLENBQUMsT0FBTyxFQUFFTCxDQUFDLENBQUNILEVBQUUsQ0FBQztJQUMvQlQsU0FBUyxDQUFDcUIsV0FB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QUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9wdWJsaWMvanMvY29yZS9wbGFjZWhvbGRlck1hbmFnZW1lbnQuanM/MjBiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RhdGUgZnJvbSAnLi9zdGF0ZS5qcyc7XHJcbmltcG9ydCB7IFR5cGVIZWxwZXJzIH0gZnJvbSAnLi4vdXRpbHMvdHlwZUhlbHBlcnMuanMnO1xyXG5pbXBvcnQgeyB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbiB9IGZyb20gJy4vcGxhY2Vob2xkZXJVSS5qcyc7XHJcblxyXG4vKipcclxuICogVXBkYXRlcyB0aGUgdmFyaWFibGVzIGxpc3QgZGlzcGxheSBpbiB0aGUgVUlcclxuICovXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVWYXJpYWJsZXNMaXN0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4aXN0aW5nUGxhY2Vob2xkZXJzQ29udGFpbmVyJyk7XHJcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBzdGF0ZS52YXJpYWJsZXMuc29ydCgoYSwgYikgPT5cclxuICAgICAgICAoc3RhdGUudXNhZ2VUcmFja2VyW2IuaWRdIHx8IDApIC0gKHN0YXRlLnVzYWdlVHJhY2tlclthLmlkXSB8fCAwKSB8fCBhLm9yZGVyIC0gYi5vcmRlclxyXG4gICAgKTtcclxuICAgIHN0YXRlLnZhcmlhYmxlcy5mb3JFYWNoKHYgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGJ0bi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgYnRuLmNsYXNzTmFtZSA9ICdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbSBtLTEgcGxhY2Vob2xkZXItaXRlbSc7XHJcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIHYuaWQpO1xyXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IHYuZGlzcGxheU92ZXJyaWRlIHx8IHYub2ZmaWNpYWxEaXNwbGF5O1xyXG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdi5pZCk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSB2YXJpYWJsZXMgYXJyYXkgYnkgc2Nhbm5pbmcgdGhlIGVkaXRvciBmb3IgcGxhY2Vob2xkZXJzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciA9ICgpID0+IHtcclxuICAgIHN0YXRlLnZhcmlhYmxlcyA9IFtdO1xyXG4gICAgc3RhdGUudmFyaWFibGVDb3VudHMgPSB7fTtcclxuICAgIHN0YXRlLmluc2VydGlvbkNvdW50ZXIgPSAwO1xyXG4gICAgY29uc3QgZWRpdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3J5VGV4dCcpO1xyXG4gICAgY29uc3QgcGxhY2Vob2xkZXJFbGVtZW50cyA9IGVkaXRvci5xdWVyeVNlbGVjdG9yQWxsKCcucGxhY2Vob2xkZXInKTtcclxuICAgIHBsYWNlaG9sZGVyRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuICAgICAgICBjb25zdCBiYXNlID0gaWQucmVwbGFjZSgvXFxkKyQvLCAnJyk7XHJcbiAgICAgICAgY29uc3QgbnVtTWF0Y2ggPSBpZC5tYXRjaCgvKFxcZCspJC8pO1xyXG4gICAgICAgIGNvbnN0IG51bSA9IG51bU1hdGNoID8gcGFyc2VJbnQobnVtTWF0Y2hbMV0sIDEwKSA6IDA7XHJcbiAgICAgICAgaWYgKCFzdGF0ZS52YXJpYWJsZUNvdW50c1tiYXNlXSB8fCBudW0gPiBzdGF0ZS52YXJpYWJsZUNvdW50c1tiYXNlXSkge1xyXG4gICAgICAgICAgICBzdGF0ZS52YXJpYWJsZUNvdW50c1tiYXNlXSA9IG51bTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzdGF0ZS52YXJpYWJsZXMuc29tZSh2ID0+IHYuaWQgPT09IGlkKSkge1xyXG4gICAgICAgICAgICBsZXQgdmFyaWFibGVFbnRyeTtcclxuICAgICAgICAgICAgY29uc3QgY3VzdG9tID0gc3RhdGUuY3VzdG9tUGxhY2Vob2xkZXJzLmZpbmQocCA9PiBwLnR5cGUgPT09IGJhc2UpO1xyXG4gICAgICAgICAgICBpZiAoY3VzdG9tKSB7XHJcbiAgICAgICAgICAgICAgICB2YXJpYWJsZUVudHJ5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsVHlwZTogY3VzdG9tLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgb2ZmaWNpYWxEaXNwbGF5OiBUeXBlSGVscGVycy5uYXR1cmFsaXplVHlwZShjdXN0b20udHlwZSksXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogVHlwZUhlbHBlcnMubmF0dXJhbGl6ZVR5cGUoY3VzdG9tLnR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBzdGF0ZS5pbnNlcnRpb25Db3VudGVyKyssXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU92ZXJyaWRlOiBlbC50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGd1ZXNzZWQgPSBUeXBlSGVscGVycy5ndWVzc1R5cGVGcm9tSWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxEaXNwbGF5ID0gVHlwZUhlbHBlcnMuZ2V0T3JpZ2luYWxEaXNwbGF5Rm9yVHlwZShndWVzc2VkKSB8fCBndWVzc2VkO1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVFbnRyeSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbFR5cGU6IGd1ZXNzZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgb2ZmaWNpYWxEaXNwbGF5OiBvcmlnaW5hbERpc3BsYXksXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogb3JpZ2luYWxEaXNwbGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBzdGF0ZS5pbnNlcnRpb25Db3VudGVyKyssXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU92ZXJyaWRlOiBlbC50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGF0ZS52YXJpYWJsZXMucHVzaCh2YXJpYWJsZUVudHJ5KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50U2VhcmNoID0gJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykudmFsKCkgfHwgJyc7XHJcbiAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI3BsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNub1Jlc3VsdHMnLCBjdXJyZW50U2VhcmNoKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9kYWxTZWFyY2ggPSAkKCcjbW9kYWxQbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgpIHx8ICcnO1xyXG4gICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNtb2RhbFBsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNtb2RhbE5vUmVzdWx0cycsIGN1cnJlbnRNb2RhbFNlYXJjaCk7XHJcblxyXG4gICAgdXBkYXRlVmFyaWFibGVzTGlzdCgpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBleGlzdGluZyBwbGFjZWhvbGRlclxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFyaWFibGUgLSBUaGUgcGxhY2Vob2xkZXIgdmFyaWFibGUgdG8gdXBkYXRlIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3SW50ZXJuYWxUeXBlIC0gVGhlIG5ldyBpbnRlcm5hbCB0eXBlIGZvciB0aGUgcGxhY2Vob2xkZXJcclxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0Rpc3BsYXlOYW1lIC0gVGhlIG5ldyBkaXNwbGF5IG5hbWUgZm9yIHRoZSBwbGFjZWhvbGRlclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIgPSAodmFyaWFibGUsIG5ld0ludGVybmFsVHlwZSwgbmV3RGlzcGxheU5hbWUpID0+IHtcclxuICAgIGNvbnN0IGlkID0gdmFyaWFibGUuaWQ7XHJcbiAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0b3J5VGV4dFwiKTtcclxuICAgIGNvbnN0IHNwYW5zID0gZWRpdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoYC5wbGFjZWhvbGRlcltkYXRhLWlkPVwiJHtpZH1cIl1gKTtcclxuICAgIHNwYW5zLmZvckVhY2goc3BhbiA9PiB7XHJcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBgJHtpZH0gKCR7bmV3SW50ZXJuYWxUeXBlfSlgKTtcclxuICAgIH0pO1xyXG4gICAgdmFyaWFibGUuaW50ZXJuYWxUeXBlID0gbmV3SW50ZXJuYWxUeXBlO1xyXG4gICAgdmFyaWFibGUub2ZmaWNpYWxEaXNwbGF5ID0gbmV3RGlzcGxheU5hbWU7XHJcbiAgICB2YXJpYWJsZS5kaXNwbGF5ID0gbmV3RGlzcGxheU5hbWU7XHJcbiAgICB1cGRhdGVWYXJpYWJsZXNMaXN0KCk7XHJcbn07ICJdLCJuYW1lcyI6WyJzdGF0ZSIsIlR5cGVIZWxwZXJzIiwidXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24iLCJ1cGRhdGVWYXJpYWJsZXNMaXN0IiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInZhcmlhYmxlcyIsInNvcnQiLCJhIiwiYiIsInVzYWdlVHJhY2tlciIsImlkIiwib3JkZXIiLCJmb3JFYWNoIiwidiIsImJ0biIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJkaXNwbGF5T3ZlcnJpZGUiLCJvZmZpY2lhbERpc3BsYXkiLCJhcHBlbmRDaGlsZCIsInVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IiLCJ2YXJpYWJsZUNvdW50cyIsImluc2VydGlvbkNvdW50ZXIiLCJlZGl0b3IiLCJwbGFjZWhvbGRlckVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiZ2V0QXR0cmlidXRlIiwiYmFzZSIsInJlcGxhY2UiLCJudW1NYXRjaCIsIm1hdGNoIiwibnVtIiwicGFyc2VJbnQiLCJzb21lIiwidmFyaWFibGVFbnRyeSIsImN1c3RvbSIsImN1c3RvbVBsYWNlaG9sZGVycyIsImZpbmQiLCJwIiwiaW50ZXJuYWxUeXBlIiwibmF0dXJhbGl6ZVR5cGUiLCJkaXNwbGF5IiwiaXNDdXN0b20iLCJndWVzc2VkIiwiZ3Vlc3NUeXBlRnJvbUlkIiwib3JpZ2luYWxEaXNwbGF5IiwiZ2V0T3JpZ2luYWxEaXNwbGF5Rm9yVHlwZSIsInB1c2giLCJjdXJyZW50U2VhcmNoIiwiJCIsInZhbCIsImN1cnJlbnRNb2RhbFNlYXJjaCIsInVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIiLCJ2YXJpYWJsZSIsIm5ld0ludGVybmFsVHlwZSIsIm5ld0Rpc3BsYXlOYW1lIiwic3BhbnMiLCJjb25jYXQiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/core/placeholderManagement.js\n");

/***/ }),

/***/ "./public/js/core/placeholderUI.js":
/*!*****************************************!*\
  !*** ./public/js/core/placeholderUI.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendPlaceholderItem: () => (/* binding */ appendPlaceholderItem),\n/* harmony export */   createCardHeader: () => (/* binding */ createCardHeader),\n/* harmony export */   createCustomPlaceholderCategoryCard: () => (/* binding */ createCustomPlaceholderCategoryCard),\n/* harmony export */   createPlaceholderCategoryCard: () => (/* binding */ createPlaceholderCategoryCard),\n/* harmony export */   createSecondaryPlaceholderWrapper: () => (/* binding */ createSecondaryPlaceholderWrapper),\n/* harmony export */   createShowMoreToggle: () => (/* binding */ createShowMoreToggle),\n/* harmony export */   updatePlaceholderAccordion: () => (/* binding */ updatePlaceholderAccordion),\n/* harmony export */   updateShowMoreToggleVisibility: () => (/* binding */ updateShowMoreToggleVisibility)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./placeholderDefinitions.js */ \"./public/js/core/placeholderDefinitions.js\");\n\n\n\n/**\r\n * Updates the placeholder accordion display based on search\r\n * @param {string} accordionSelector - The CSS selector for the accordion\r\n * @param {string} noResultsSelector - The CSS selector for the no results element\r\n * @param {string} searchVal - The current search value\r\n */\nvar updatePlaceholderAccordion = function updatePlaceholderAccordion(accordionSelector, noResultsSelector) {\n  var searchVal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  if (noResultsSelector === \"#noResults\") {\n    $(\"#searchQuery\").text(searchVal);\n    $(\"#searchQueryBtn\").text(searchVal);\n  } else if (noResultsSelector === \"#modalNoResults\") {\n    $(\"#modalSearchQuery\").text(searchVal);\n    $(\"#modalSearchQueryBtn\").text(searchVal);\n  }\n  $(noResultsSelector).hide();\n  var accordion = $(accordionSelector);\n  accordion.empty();\n  _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_1__.categoryOrder.forEach(function (categoryName) {\n    var placeholders = _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders[categoryName] || [];\n    if (placeholders.length > 0) {\n      var categoryCard = createPlaceholderCategoryCard(categoryName, accordionSelector, placeholders, searchVal);\n      accordion.append(categoryCard);\n    }\n  });\n  if (_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders.length > 0) {\n    var customCard = createCustomPlaceholderCategoryCard(accordionSelector, searchVal);\n    accordion.append(customCard);\n  }\n  if (searchVal) {\n    var anyShown = accordion.find('.placeholder-btn:visible').length > 0;\n    $(noResultsSelector).toggle(!anyShown);\n    accordion.find('.card-header, .show-more-toggle').hide();\n  } else {\n    accordion.find('.card-header, .show-more-toggle').show();\n  }\n};\n\n/**\r\n * Creates a category card for the placeholder accordion\r\n * @param {string} categoryName - The name of the category\r\n * @param {string} accordionSelector - The CSS selector for the accordion\r\n * @param {Array} placeholders - The placeholders in this category\r\n * @param {string} searchVal - The current search value\r\n * @returns {jQuery} The created category card\r\n */\nvar createPlaceholderCategoryCard = function createPlaceholderCategoryCard(categoryName, accordionSelector, placeholders, searchVal) {\n  var sanitizedCategoryName = categoryName.replace(/\\s+/g, '');\n  var card = $(\"<div class='card'></div>\");\n  card.append(createCardHeader(categoryName, sanitizedCategoryName, accordionSelector));\n  var collapseDiv = $(\"\\n  <div id='\".concat(sanitizedCategoryName, \"Collapse' class='collapse show' aria-labelledby='\").concat(sanitizedCategoryName, \"Heading' data-parent='\").concat(accordionSelector, \"'>\\n    <div class='card-body'><div class='list-group'></div></div>\\n  </div>\\n\"));\n  var primaryItems = placeholders.filter(function (p) {\n    return p.isPrimary;\n  });\n  var secondaryItems = placeholders.filter(function (p) {\n    return !p.isPrimary;\n  });\n  primaryItems.forEach(function (p) {\n    return appendPlaceholderItem(collapseDiv.find('.list-group'), p, searchVal);\n  });\n  if (secondaryItems.length > 0) {\n    var secondaryPlaceholderWrapper = createSecondaryPlaceholderWrapper(secondaryItems, searchVal);\n    collapseDiv.find('.list-group').append(secondaryPlaceholderWrapper);\n    collapseDiv.find('.list-group').append(createShowMoreToggle(sanitizedCategoryName));\n    updateShowMoreToggleVisibility(collapseDiv, searchVal, secondaryPlaceholderWrapper);\n  }\n  card.append(collapseDiv);\n  return card;\n};\n\n/**\r\n * Creates a category card for custom placeholders\r\n * @param {string} accordionSelector - The CSS selector for the accordion\r\n * @param {string} searchVal - The current search value\r\n * @returns {jQuery} The created category card\r\n */\nvar createCustomPlaceholderCategoryCard = function createCustomPlaceholderCategoryCard(accordionSelector, searchVal) {\n  var card = $(\"<div class='card'></div>\");\n  card.append(createCardHeader('Custom Placeholders', 'CustomPlaceholders', accordionSelector));\n  var collapseDiv = $(\"\\n  <div id='CustomPlaceholdersCollapse' class='collapse show' aria-labelledby='CustomPlaceholdersHeading' data-parent='\".concat(accordionSelector, \"'>\\n    <div class='card-body'><div class='list-group'></div></div>\\n  </div>\\n\"));\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders.forEach(function (p) {\n    var showItem = !searchVal || p.type.toLowerCase().includes(searchVal.toLowerCase());\n    var item = $(\"\\n    <div class='list-group-item placeholder-btn custom-placeholder'\\n      data-internal='\".concat(p.type, \"'\\n      data-display='\").concat(p.type, \"'\\n      style='display: \").concat(showItem ? 'block' : 'none', \";'>\\n      <i class='fas fa-star'></i> \").concat(p.type, \"\\n    </div>\\n  \"));\n    collapseDiv.find('.list-group').append(item);\n  });\n  card.append(collapseDiv);\n  return card;\n};\n\n/**\r\n * Creates a card header for a category\r\n * @param {string} categoryName - The name of the category\r\n * @param {string} sanitizedCategoryName - The sanitized name of the category\r\n * @param {string} accordionSelector - The CSS selector for the accordion\r\n * @returns {jQuery} The created card header\r\n */\nvar createCardHeader = function createCardHeader(categoryName, sanitizedCategoryName, accordionSelector) {\n  return $(\"\\n  <div class='card-header' id='\".concat(sanitizedCategoryName, \"Heading'>\\n    <h2 class='mb-0'>\\n      <button class='btn btn-link btn-block text-left' type='button'\\n        data-toggle='collapse' data-target='#\").concat(sanitizedCategoryName, \"Collapse'\\n        aria-expanded='true' aria-controls='\").concat(sanitizedCategoryName, \"Collapse'>\\n        \").concat(categoryName, \"\\n      </button>\\n    </h2>\\n  </div>\\n\"));\n};\n\n/**\r\n * Creates a wrapper for secondary placeholders\r\n * @param {Array} secondaryItems - The secondary placeholder items\r\n * @param {string} searchVal - The current search value\r\n * @returns {jQuery} The created wrapper\r\n */\nvar createSecondaryPlaceholderWrapper = function createSecondaryPlaceholderWrapper(secondaryItems, searchVal) {\n  var hiddenWrapper = $(\"<div class='secondary-placeholder-wrapper'></div>\");\n  secondaryItems.forEach(function (p) {\n    return appendPlaceholderItem(hiddenWrapper, p, searchVal, true);\n  });\n  return hiddenWrapper;\n};\n\n/**\r\n * Creates a \"Show More\" toggle for a category\r\n * @param {string} sanitizedCategoryName - The sanitized name of the category\r\n * @returns {jQuery} The created toggle\r\n */\nvar createShowMoreToggle = function createShowMoreToggle(sanitizedCategoryName) {\n  return $(\"\\n  <div class='show-more-toggle' data-category='\".concat(sanitizedCategoryName, \"'>\\n    Show More\\n  </div>\\n\"));\n};\n\n/**\r\n * Updates the visibility of the \"Show More\" toggle based on search\r\n * @param {jQuery} collapseDiv - The collapse div\r\n * @param {string} searchVal - The current search value\r\n * @param {jQuery} secondaryPlaceholderWrapper - The secondary placeholder wrapper\r\n */\nvar updateShowMoreToggleVisibility = function updateShowMoreToggleVisibility(collapseDiv, searchVal, secondaryPlaceholderWrapper) {\n  var toggleLink = collapseDiv.find('.show-more-toggle');\n  if (!searchVal) {\n    secondaryPlaceholderWrapper.find('.secondary-placeholder').hide();\n    toggleLink.text('Show More');\n  } else {\n    var anySecondaryVisible = secondaryPlaceholderWrapper.find('.secondary-placeholder:visible').length > 0;\n    toggleLink.text(anySecondaryVisible ? 'Show Less' : 'Show More');\n  }\n};\n\n/**\r\n * Appends a placeholder item to a list group\r\n * @param {jQuery} listGroup - The list group to append to\r\n * @param {Object} placeholder - The placeholder to append\r\n * @param {string} searchVal - The current search value\r\n * @param {boolean} isSecondary - Whether this is a secondary placeholder\r\n */\nvar appendPlaceholderItem = function appendPlaceholderItem(listGroup, placeholder, searchVal) {\n  var isSecondary = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var showItem = !searchVal || placeholder.display.toLowerCase().includes(searchVal.toLowerCase());\n  var item = $(\"\\n  <div class='list-group-item placeholder-btn\".concat(isSecondary ? ' secondary-placeholder' : '', \"'\\n    data-internal='\").concat(placeholder.internalType, \"'\\n    data-display='\").concat(placeholder.display, \"'\\n    style='display: \").concat(showItem ? 'block' : 'none', \";'>\\n    <i class='\").concat(placeholder.icon, \"'></i> \").concat(placeholder.display, \"\\n    <i class='fas fa-info-circle accordion-info-icon' data-tooltip=\\\"\").concat(placeholder.tooltip, \"\\\" style=\\\"font-size:0.8em; margin-left:5px;\\\"></i>\\n  </div>\\n\"));\n  listGroup.append(item);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZixJQUFJLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ2pCLE1BQU0sR0FBRyxDQUFDO0lBQ3ZHMEMsVUFBVSxDQUFDdkMsSUFBSSxDQUFDd0MsbUJBQW1CLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FBQztFQUNwRTtBQUNKLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFNWixxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXFCQSxDQUFJYSxTQUFTLEVBQUVDLFdBQVcsRUFBRS9DLFNBQVMsRUFBMEI7RUFBQSxJQUF4QmdELFdBQVcsR0FBQS9DLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEtBQUs7RUFDeEYsSUFBTXFDLFFBQVEsR0FBRyxDQUFDdEMsU0FBUyxJQUFJK0MsV0FBVyxDQUFDRSxPQUFPLENBQUNULFdBQVcsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQ3pDLFNBQVMsQ0FBQ3dDLFdBQVcsQ0FBQyxDQUFDLENBQUM7RUFDbEcsSUFBTUUsSUFBSSxHQUFHdEMsQ0FBQyxtREFBQXVCLE1BQUEsQ0FDNkJxQixXQUFXLEdBQUcsd0JBQXdCLEdBQUcsRUFBRSw0QkFBQXJCLE1BQUEsQ0FDckVvQixXQUFXLENBQUNHLFlBQVksMkJBQUF2QixNQUFBLENBQ3pCb0IsV0FBVyxDQUFDRSxPQUFPLDZCQUFBdEIsTUFBQSxDQUNqQlcsUUFBUSxHQUFHLE9BQU8sR0FBRyxNQUFNLHlCQUFBWCxNQUFBLENBQ2pDb0IsV0FBVyxDQUFDSSxJQUFJLGFBQUF4QixNQUFBLENBQVVvQixXQUFXLENBQUNFLE9BQU8sNkVBQUF0QixNQUFBLENBQ1NvQixXQUFXLENBQUNLLE9BQU8sb0VBRXhGLENBQUM7RUFDRU4sU0FBUyxDQUFDaEMsTUFBTSxDQUFDNEIsSUFBSSxDQUFDO0FBQzFCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9wdWJsaWMvanMvY29yZS9wbGFjZWhvbGRlclVJLmpzPzE5MDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0YXRlIGZyb20gJy4vc3RhdGUuanMnO1xyXG5pbXBvcnQgeyBjYXRlZ29yeU9yZGVyLCBhbGxQbGFjZWhvbGRlcnMgfSBmcm9tICcuL3BsYWNlaG9sZGVyRGVmaW5pdGlvbnMuanMnO1xyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIHBsYWNlaG9sZGVyIGFjY29yZGlvbiBkaXNwbGF5IGJhc2VkIG9uIHNlYXJjaFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjb3JkaW9uU2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIGZvciB0aGUgYWNjb3JkaW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBub1Jlc3VsdHNTZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgZm9yIHRoZSBubyByZXN1bHRzIGVsZW1lbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaFZhbCAtIFRoZSBjdXJyZW50IHNlYXJjaCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uID0gKGFjY29yZGlvblNlbGVjdG9yLCBub1Jlc3VsdHNTZWxlY3Rvciwgc2VhcmNoVmFsID0gJycpID0+IHtcclxuICAgIGlmIChub1Jlc3VsdHNTZWxlY3RvciA9PT0gXCIjbm9SZXN1bHRzXCIpIHtcclxuICAgICAgICAkKFwiI3NlYXJjaFF1ZXJ5XCIpLnRleHQoc2VhcmNoVmFsKTtcclxuICAgICAgICAkKFwiI3NlYXJjaFF1ZXJ5QnRuXCIpLnRleHQoc2VhcmNoVmFsKTtcclxuICAgIH0gZWxzZSBpZiAobm9SZXN1bHRzU2VsZWN0b3IgPT09IFwiI21vZGFsTm9SZXN1bHRzXCIpIHtcclxuICAgICAgICAkKFwiI21vZGFsU2VhcmNoUXVlcnlcIikudGV4dChzZWFyY2hWYWwpO1xyXG4gICAgICAgICQoXCIjbW9kYWxTZWFyY2hRdWVyeUJ0blwiKS50ZXh0KHNlYXJjaFZhbCk7XHJcbiAgICB9XHJcbiAgICAkKG5vUmVzdWx0c1NlbGVjdG9yKS5oaWRlKCk7XHJcbiAgICBjb25zdCBhY2NvcmRpb24gPSAkKGFjY29yZGlvblNlbGVjdG9yKTtcclxuICAgIGFjY29yZGlvbi5lbXB0eSgpO1xyXG4gICAgY2F0ZWdvcnlPcmRlci5mb3JFYWNoKGNhdGVnb3J5TmFtZSA9PiB7XHJcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gYWxsUGxhY2Vob2xkZXJzW2NhdGVnb3J5TmFtZV0gfHwgW107XHJcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5Q2FyZCA9IGNyZWF0ZVBsYWNlaG9sZGVyQ2F0ZWdvcnlDYXJkKGNhdGVnb3J5TmFtZSwgYWNjb3JkaW9uU2VsZWN0b3IsIHBsYWNlaG9sZGVycywgc2VhcmNoVmFsKTtcclxuICAgICAgICAgICAgYWNjb3JkaW9uLmFwcGVuZChjYXRlZ29yeUNhcmQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKHN0YXRlLmN1c3RvbVBsYWNlaG9sZGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tQ2FyZCA9IGNyZWF0ZUN1c3RvbVBsYWNlaG9sZGVyQ2F0ZWdvcnlDYXJkKGFjY29yZGlvblNlbGVjdG9yLCBzZWFyY2hWYWwpO1xyXG4gICAgICAgIGFjY29yZGlvbi5hcHBlbmQoY3VzdG9tQ2FyZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VhcmNoVmFsKSB7XHJcbiAgICAgICAgY29uc3QgYW55U2hvd24gPSBhY2NvcmRpb24uZmluZCgnLnBsYWNlaG9sZGVyLWJ0bjp2aXNpYmxlJykubGVuZ3RoID4gMDtcclxuICAgICAgICAkKG5vUmVzdWx0c1NlbGVjdG9yKS50b2dnbGUoIWFueVNob3duKTtcclxuICAgICAgICBhY2NvcmRpb24uZmluZCgnLmNhcmQtaGVhZGVyLCAuc2hvdy1tb3JlLXRvZ2dsZScpLmhpZGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWNjb3JkaW9uLmZpbmQoJy5jYXJkLWhlYWRlciwgLnNob3ctbW9yZS10b2dnbGUnKS5zaG93KCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIGNhdGVnb3J5IGNhcmQgZm9yIHRoZSBwbGFjZWhvbGRlciBhY2NvcmRpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjYXRlZ29yeVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjb3JkaW9uU2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIGZvciB0aGUgYWNjb3JkaW9uXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBsYWNlaG9sZGVycyAtIFRoZSBwbGFjZWhvbGRlcnMgaW4gdGhpcyBjYXRlZ29yeVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoVmFsIC0gVGhlIGN1cnJlbnQgc2VhcmNoIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtqUXVlcnl9IFRoZSBjcmVhdGVkIGNhdGVnb3J5IGNhcmRcclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQbGFjZWhvbGRlckNhdGVnb3J5Q2FyZCA9IChjYXRlZ29yeU5hbWUsIGFjY29yZGlvblNlbGVjdG9yLCBwbGFjZWhvbGRlcnMsIHNlYXJjaFZhbCkgPT4ge1xyXG4gICAgY29uc3Qgc2FuaXRpemVkQ2F0ZWdvcnlOYW1lID0gY2F0ZWdvcnlOYW1lLnJlcGxhY2UoL1xccysvZywgJycpO1xyXG4gICAgY29uc3QgY2FyZCA9ICQoYDxkaXYgY2xhc3M9J2NhcmQnPjwvZGl2PmApO1xyXG4gICAgY2FyZC5hcHBlbmQoY3JlYXRlQ2FyZEhlYWRlcihjYXRlZ29yeU5hbWUsIHNhbml0aXplZENhdGVnb3J5TmFtZSwgYWNjb3JkaW9uU2VsZWN0b3IpKTtcclxuICAgIGNvbnN0IGNvbGxhcHNlRGl2ID0gJChgXHJcbiAgPGRpdiBpZD0nJHtzYW5pdGl6ZWRDYXRlZ29yeU5hbWV9Q29sbGFwc2UnIGNsYXNzPSdjb2xsYXBzZSBzaG93JyBhcmlhLWxhYmVsbGVkYnk9JyR7c2FuaXRpemVkQ2F0ZWdvcnlOYW1lfUhlYWRpbmcnIGRhdGEtcGFyZW50PScke2FjY29yZGlvblNlbGVjdG9yfSc+XHJcbiAgICA8ZGl2IGNsYXNzPSdjYXJkLWJvZHknPjxkaXYgY2xhc3M9J2xpc3QtZ3JvdXAnPjwvZGl2PjwvZGl2PlxyXG4gIDwvZGl2PlxyXG5gKTtcclxuICAgIGNvbnN0IHByaW1hcnlJdGVtcyA9IHBsYWNlaG9sZGVycy5maWx0ZXIocCA9PiBwLmlzUHJpbWFyeSk7XHJcbiAgICBjb25zdCBzZWNvbmRhcnlJdGVtcyA9IHBsYWNlaG9sZGVycy5maWx0ZXIocCA9PiAhcC5pc1ByaW1hcnkpO1xyXG4gICAgcHJpbWFyeUl0ZW1zLmZvckVhY2gocCA9PiBhcHBlbmRQbGFjZWhvbGRlckl0ZW0oY29sbGFwc2VEaXYuZmluZCgnLmxpc3QtZ3JvdXAnKSwgcCwgc2VhcmNoVmFsKSk7XHJcbiAgICBpZiAoc2Vjb25kYXJ5SXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHNlY29uZGFyeVBsYWNlaG9sZGVyV3JhcHBlciA9IGNyZWF0ZVNlY29uZGFyeVBsYWNlaG9sZGVyV3JhcHBlcihzZWNvbmRhcnlJdGVtcywgc2VhcmNoVmFsKTtcclxuICAgICAgICBjb2xsYXBzZURpdi5maW5kKCcubGlzdC1ncm91cCcpLmFwcGVuZChzZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIpO1xyXG4gICAgICAgIGNvbGxhcHNlRGl2LmZpbmQoJy5saXN0LWdyb3VwJykuYXBwZW5kKGNyZWF0ZVNob3dNb3JlVG9nZ2xlKHNhbml0aXplZENhdGVnb3J5TmFtZSkpO1xyXG4gICAgICAgIHVwZGF0ZVNob3dNb3JlVG9nZ2xlVmlzaWJpbGl0eShjb2xsYXBzZURpdiwgc2VhcmNoVmFsLCBzZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIpO1xyXG4gICAgfVxyXG4gICAgY2FyZC5hcHBlbmQoY29sbGFwc2VEaXYpO1xyXG4gICAgcmV0dXJuIGNhcmQ7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIGNhdGVnb3J5IGNhcmQgZm9yIGN1c3RvbSBwbGFjZWhvbGRlcnNcclxuICogQHBhcmFtIHtzdHJpbmd9IGFjY29yZGlvblNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvciBmb3IgdGhlIGFjY29yZGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoVmFsIC0gVGhlIGN1cnJlbnQgc2VhcmNoIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtqUXVlcnl9IFRoZSBjcmVhdGVkIGNhdGVnb3J5IGNhcmRcclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDdXN0b21QbGFjZWhvbGRlckNhdGVnb3J5Q2FyZCA9IChhY2NvcmRpb25TZWxlY3Rvciwgc2VhcmNoVmFsKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gJChgPGRpdiBjbGFzcz0nY2FyZCc+PC9kaXY+YCk7XHJcbiAgICBjYXJkLmFwcGVuZChjcmVhdGVDYXJkSGVhZGVyKCdDdXN0b20gUGxhY2Vob2xkZXJzJywgJ0N1c3RvbVBsYWNlaG9sZGVycycsIGFjY29yZGlvblNlbGVjdG9yKSk7XHJcbiAgICBjb25zdCBjb2xsYXBzZURpdiA9ICQoYFxyXG4gIDxkaXYgaWQ9J0N1c3RvbVBsYWNlaG9sZGVyc0NvbGxhcHNlJyBjbGFzcz0nY29sbGFwc2Ugc2hvdycgYXJpYS1sYWJlbGxlZGJ5PSdDdXN0b21QbGFjZWhvbGRlcnNIZWFkaW5nJyBkYXRhLXBhcmVudD0nJHthY2NvcmRpb25TZWxlY3Rvcn0nPlxyXG4gICAgPGRpdiBjbGFzcz0nY2FyZC1ib2R5Jz48ZGl2IGNsYXNzPSdsaXN0LWdyb3VwJz48L2Rpdj48L2Rpdj5cclxuICA8L2Rpdj5cclxuYCk7XHJcbiAgICBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICBjb25zdCBzaG93SXRlbSA9ICFzZWFyY2hWYWwgfHwgcC50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVmFsLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSAkKGBcclxuICAgIDxkaXYgY2xhc3M9J2xpc3QtZ3JvdXAtaXRlbSBwbGFjZWhvbGRlci1idG4gY3VzdG9tLXBsYWNlaG9sZGVyJ1xyXG4gICAgICBkYXRhLWludGVybmFsPScke3AudHlwZX0nXHJcbiAgICAgIGRhdGEtZGlzcGxheT0nJHtwLnR5cGV9J1xyXG4gICAgICBzdHlsZT0nZGlzcGxheTogJHtzaG93SXRlbSA/ICdibG9jaycgOiAnbm9uZSd9Oyc+XHJcbiAgICAgIDxpIGNsYXNzPSdmYXMgZmEtc3Rhcic+PC9pPiAke3AudHlwZX1cclxuICAgIDwvZGl2PlxyXG4gIGApO1xyXG4gICAgICAgIGNvbGxhcHNlRGl2LmZpbmQoJy5saXN0LWdyb3VwJykuYXBwZW5kKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBjYXJkLmFwcGVuZChjb2xsYXBzZURpdik7XHJcbiAgICByZXR1cm4gY2FyZDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgY2FyZCBoZWFkZXIgZm9yIGEgY2F0ZWdvcnlcclxuICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjYXRlZ29yeVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2FuaXRpemVkQ2F0ZWdvcnlOYW1lIC0gVGhlIHNhbml0aXplZCBuYW1lIG9mIHRoZSBjYXRlZ29yeVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjb3JkaW9uU2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIGZvciB0aGUgYWNjb3JkaW9uXHJcbiAqIEByZXR1cm5zIHtqUXVlcnl9IFRoZSBjcmVhdGVkIGNhcmQgaGVhZGVyXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ2FyZEhlYWRlciA9IChjYXRlZ29yeU5hbWUsIHNhbml0aXplZENhdGVnb3J5TmFtZSwgYWNjb3JkaW9uU2VsZWN0b3IpID0+IHtcclxuICAgIHJldHVybiAkKGBcclxuICA8ZGl2IGNsYXNzPSdjYXJkLWhlYWRlcicgaWQ9JyR7c2FuaXRpemVkQ2F0ZWdvcnlOYW1lfUhlYWRpbmcnPlxyXG4gICAgPGgyIGNsYXNzPSdtYi0wJz5cclxuICAgICAgPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1saW5rIGJ0bi1ibG9jayB0ZXh0LWxlZnQnIHR5cGU9J2J1dHRvbidcclxuICAgICAgICBkYXRhLXRvZ2dsZT0nY29sbGFwc2UnIGRhdGEtdGFyZ2V0PScjJHtzYW5pdGl6ZWRDYXRlZ29yeU5hbWV9Q29sbGFwc2UnXHJcbiAgICAgICAgYXJpYS1leHBhbmRlZD0ndHJ1ZScgYXJpYS1jb250cm9scz0nJHtzYW5pdGl6ZWRDYXRlZ29yeU5hbWV9Q29sbGFwc2UnPlxyXG4gICAgICAgICR7Y2F0ZWdvcnlOYW1lfVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvaDI+XHJcbiAgPC9kaXY+XHJcbmApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSB3cmFwcGVyIGZvciBzZWNvbmRhcnkgcGxhY2Vob2xkZXJzXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHNlY29uZGFyeUl0ZW1zIC0gVGhlIHNlY29uZGFyeSBwbGFjZWhvbGRlciBpdGVtc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoVmFsIC0gVGhlIGN1cnJlbnQgc2VhcmNoIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtqUXVlcnl9IFRoZSBjcmVhdGVkIHdyYXBwZXJcclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIgPSAoc2Vjb25kYXJ5SXRlbXMsIHNlYXJjaFZhbCkgPT4ge1xyXG4gICAgY29uc3QgaGlkZGVuV3JhcHBlciA9ICQoYDxkaXYgY2xhc3M9J3NlY29uZGFyeS1wbGFjZWhvbGRlci13cmFwcGVyJz48L2Rpdj5gKTtcclxuICAgIHNlY29uZGFyeUl0ZW1zLmZvckVhY2gocCA9PiBhcHBlbmRQbGFjZWhvbGRlckl0ZW0oaGlkZGVuV3JhcHBlciwgcCwgc2VhcmNoVmFsLCB0cnVlKSk7XHJcbiAgICByZXR1cm4gaGlkZGVuV3JhcHBlcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgXCJTaG93IE1vcmVcIiB0b2dnbGUgZm9yIGEgY2F0ZWdvcnlcclxuICogQHBhcmFtIHtzdHJpbmd9IHNhbml0aXplZENhdGVnb3J5TmFtZSAtIFRoZSBzYW5pdGl6ZWQgbmFtZSBvZiB0aGUgY2F0ZWdvcnlcclxuICogQHJldHVybnMge2pRdWVyeX0gVGhlIGNyZWF0ZWQgdG9nZ2xlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlU2hvd01vcmVUb2dnbGUgPSAoc2FuaXRpemVkQ2F0ZWdvcnlOYW1lKSA9PiB7XHJcbiAgICByZXR1cm4gJChgXHJcbiAgPGRpdiBjbGFzcz0nc2hvdy1tb3JlLXRvZ2dsZScgZGF0YS1jYXRlZ29yeT0nJHtzYW5pdGl6ZWRDYXRlZ29yeU5hbWV9Jz5cclxuICAgIFNob3cgTW9yZVxyXG4gIDwvZGl2PlxyXG5gKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBcIlNob3cgTW9yZVwiIHRvZ2dsZSBiYXNlZCBvbiBzZWFyY2hcclxuICogQHBhcmFtIHtqUXVlcnl9IGNvbGxhcHNlRGl2IC0gVGhlIGNvbGxhcHNlIGRpdlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoVmFsIC0gVGhlIGN1cnJlbnQgc2VhcmNoIHZhbHVlXHJcbiAqIEBwYXJhbSB7alF1ZXJ5fSBzZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIgLSBUaGUgc2Vjb25kYXJ5IHBsYWNlaG9sZGVyIHdyYXBwZXJcclxuICovXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVTaG93TW9yZVRvZ2dsZVZpc2liaWxpdHkgPSAoY29sbGFwc2VEaXYsIHNlYXJjaFZhbCwgc2Vjb25kYXJ5UGxhY2Vob2xkZXJXcmFwcGVyKSA9PiB7XHJcbiAgICBjb25zdCB0b2dnbGVMaW5rID0gY29sbGFwc2VEaXYuZmluZCgnLnNob3ctbW9yZS10b2dnbGUnKTtcclxuICAgIGlmICghc2VhcmNoVmFsKSB7XHJcbiAgICAgICAgc2Vjb25kYXJ5UGxhY2Vob2xkZXJXcmFwcGVyLmZpbmQoJy5zZWNvbmRhcnktcGxhY2Vob2xkZXInKS5oaWRlKCk7XHJcbiAgICAgICAgdG9nZ2xlTGluay50ZXh0KCdTaG93IE1vcmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IGFueVNlY29uZGFyeVZpc2libGUgPSBzZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIuZmluZCgnLnNlY29uZGFyeS1wbGFjZWhvbGRlcjp2aXNpYmxlJykubGVuZ3RoID4gMDtcclxuICAgICAgICB0b2dnbGVMaW5rLnRleHQoYW55U2Vjb25kYXJ5VmlzaWJsZSA/ICdTaG93IExlc3MnIDogJ1Nob3cgTW9yZScpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFwcGVuZHMgYSBwbGFjZWhvbGRlciBpdGVtIHRvIGEgbGlzdCBncm91cFxyXG4gKiBAcGFyYW0ge2pRdWVyeX0gbGlzdEdyb3VwIC0gVGhlIGxpc3QgZ3JvdXAgdG8gYXBwZW5kIHRvXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbGFjZWhvbGRlciAtIFRoZSBwbGFjZWhvbGRlciB0byBhcHBlbmRcclxuICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaFZhbCAtIFRoZSBjdXJyZW50IHNlYXJjaCB2YWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2Vjb25kYXJ5IC0gV2hldGhlciB0aGlzIGlzIGEgc2Vjb25kYXJ5IHBsYWNlaG9sZGVyXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYXBwZW5kUGxhY2Vob2xkZXJJdGVtID0gKGxpc3RHcm91cCwgcGxhY2Vob2xkZXIsIHNlYXJjaFZhbCwgaXNTZWNvbmRhcnkgPSBmYWxzZSkgPT4ge1xyXG4gICAgY29uc3Qgc2hvd0l0ZW0gPSAhc2VhcmNoVmFsIHx8IHBsYWNlaG9sZGVyLmRpc3BsYXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hWYWwudG9Mb3dlckNhc2UoKSk7XHJcbiAgICBjb25zdCBpdGVtID0gJChgXHJcbiAgPGRpdiBjbGFzcz0nbGlzdC1ncm91cC1pdGVtIHBsYWNlaG9sZGVyLWJ0biR7aXNTZWNvbmRhcnkgPyAnIHNlY29uZGFyeS1wbGFjZWhvbGRlcicgOiAnJ30nXHJcbiAgICBkYXRhLWludGVybmFsPScke3BsYWNlaG9sZGVyLmludGVybmFsVHlwZX0nXHJcbiAgICBkYXRhLWRpc3BsYXk9JyR7cGxhY2Vob2xkZXIuZGlzcGxheX0nXHJcbiAgICBzdHlsZT0nZGlzcGxheTogJHtzaG93SXRlbSA/ICdibG9jaycgOiAnbm9uZSd9Oyc+XHJcbiAgICA8aSBjbGFzcz0nJHtwbGFjZWhvbGRlci5pY29ufSc+PC9pPiAke3BsYWNlaG9sZGVyLmRpc3BsYXl9XHJcbiAgICA8aSBjbGFzcz0nZmFzIGZhLWluZm8tY2lyY2xlIGFjY29yZGlvbi1pbmZvLWljb24nIGRhdGEtdG9vbHRpcD1cIiR7cGxhY2Vob2xkZXIudG9vbHRpcH1cIiBzdHlsZT1cImZvbnQtc2l6ZTowLjhlbTsgbWFyZ2luLWxlZnQ6NXB4O1wiPjwvaT5cclxuICA8L2Rpdj5cclxuYCk7XHJcbiAgICBsaXN0R3JvdXAuYXBwZW5kKGl0ZW0pO1xyXG59OyAiXSwibmFtZXMiOlsic3RhdGUiLCJjYXRlZ29yeU9yZGVyIiwiYWxsUGxhY2Vob2xkZXJzIiwidXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24iLCJhY2NvcmRpb25TZWxlY3RvciIsIm5vUmVzdWx0c1NlbGVjdG9yIiwic2VhcmNoVmFsIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiJCIsInRleHQiLCJoaWRlIiwiYWNjb3JkaW9uIiwiZW1wdHkiLCJmb3JFYWNoIiwiY2F0ZWdvcnlOYW1lIiwicGxhY2Vob2xkZXJzIiwiY2F0ZWdvcnlDYXJkIiwiY3JlYXRlUGxhY2Vob2xkZXJDYXRlZ29yeUNhcmQiLCJhcHBlbmQiLCJjdXN0b21QbGFjZWhvbGRlcnMiLCJjdXN0b21DYXJkIiwiY3JlYXRlQ3VzdG9tUGxhY2Vob2xkZXJDYXRlZ29yeUNhcmQiLCJhbnlTaG93biIsImZpbmQiLCJ0b2dnbGUiLCJzaG93Iiwic2FuaXRpemVkQ2F0ZWdvcnlOYW1lIiwicmVwbGFjZSIsImNhcmQiLCJjcmVhdGVDYXJkSGVhZGVyIiwiY29sbGFwc2VEaXYiLCJjb25jYXQiLCJwcmltYXJ5SXRlbXMiLCJmaWx0ZXIiLCJwIiwiaXNQcmltYXJ5Iiwic2Vjb25kYXJ5SXRlbXMiLCJhcHBlbmRQbGFjZWhvbGRlckl0ZW0iLCJzZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIiLCJjcmVhdGVTZWNvbmRhcnlQbGFjZWhvbGRlcldyYXBwZXIiLCJjcmVhdGVTaG93TW9yZVRvZ2dsZSIsInVwZGF0ZVNob3dNb3JlVG9nZ2xlVmlzaWJpbGl0eSIsInNob3dJdGVtIiwidHlwZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJpdGVtIiwiaGlkZGVuV3JhcHBlciIsInRvZ2dsZUxpbmsiLCJhbnlTZWNvbmRhcnlWaXNpYmxlIiwibGlzdEdyb3VwIiwicGxhY2Vob2xkZXIiLCJpc1NlY29uZGFyeSIsImRpc3BsYXkiLCJpbnRlcm5hbFR5cGUiLCJpY29uIiwidG9vbHRpcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/core/placeholderUI.js\n");

/***/ }),

/***/ "./public/js/core/placeholders.js":
/*!****************************************!*\
  !*** ./public/js/core/placeholders.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERB_TENSES: () => (/* reexport safe */ _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_0__.VERB_TENSES),\n/* harmony export */   addCustomPlaceholder: () => (/* reexport safe */ _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_2__.addCustomPlaceholder),\n/* harmony export */   allPlaceholders: () => (/* reexport safe */ _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_0__.allPlaceholders),\n/* harmony export */   appendPlaceholderItem: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.appendPlaceholderItem),\n/* harmony export */   applyPlaceholderToAllOccurrences: () => (/* reexport safe */ _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_2__.applyPlaceholderToAllOccurrences),\n/* harmony export */   categoryOrder: () => (/* reexport safe */ _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_0__.categoryOrder),\n/* harmony export */   choosePronounTempValue: () => (/* reexport safe */ _pronounFunctions_js__WEBPACK_IMPORTED_MODULE_6__.choosePronounTempValue),\n/* harmony export */   createCardHeader: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.createCardHeader),\n/* harmony export */   createCustomPlaceholderCategoryCard: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.createCustomPlaceholderCategoryCard),\n/* harmony export */   createPlaceholderCategoryCard: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.createPlaceholderCategoryCard),\n/* harmony export */   createSecondaryPlaceholderWrapper: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.createSecondaryPlaceholderWrapper),\n/* harmony export */   createShowMoreToggle: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.createShowMoreToggle),\n/* harmony export */   duplicatePlaceholder: () => (/* reexport safe */ _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_2__.duplicatePlaceholder),\n/* harmony export */   ensureEditorFocus: () => (/* reexport safe */ _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__.ensureEditorFocus),\n/* harmony export */   generateLegacyText: () => (/* reexport safe */ _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__.generateLegacyText),\n/* harmony export */   insertNodeAtCaret: () => (/* reexport safe */ _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__.insertNodeAtCaret),\n/* harmony export */   insertPlaceholder: () => (/* reexport safe */ _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_2__.insertPlaceholder),\n/* harmony export */   insertPlaceholderFromCustom: () => (/* reexport safe */ _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_2__.insertPlaceholderFromCustom),\n/* harmony export */   insertPlaceholderSpan: () => (/* reexport safe */ _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__.insertPlaceholderSpan),\n/* harmony export */   insertPronounPlaceholderSimple: () => (/* reexport safe */ _pronounFunctions_js__WEBPACK_IMPORTED_MODULE_6__.insertPronounPlaceholderSimple),\n/* harmony export */   pickPronounFormAndGroup: () => (/* reexport safe */ _pronounFunctions_js__WEBPACK_IMPORTED_MODULE_6__.pickPronounFormAndGroup),\n/* harmony export */   pickPronounGroup: () => (/* reexport safe */ _pronounFunctions_js__WEBPACK_IMPORTED_MODULE_6__.pickPronounGroup),\n/* harmony export */   showNounNumberSelection: () => (/* reexport safe */ _typeSelectionModals_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection),\n/* harmony export */   showPersonTypeSelection: () => (/* reexport safe */ _typeSelectionModals_js__WEBPACK_IMPORTED_MODULE_5__.showPersonTypeSelection),\n/* harmony export */   showVerbTenseSelection: () => (/* reexport safe */ _typeSelectionModals_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection),\n/* harmony export */   updateExistingPlaceholder: () => (/* reexport safe */ _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__.updateExistingPlaceholder),\n/* harmony export */   updatePlaceholderAccordion: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.updatePlaceholderAccordion),\n/* harmony export */   updateShowMoreToggleVisibility: () => (/* reexport safe */ _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__.updateShowMoreToggleVisibility),\n/* harmony export */   updateVariablesFromEditor: () => (/* reexport safe */ _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__.updateVariablesFromEditor),\n/* harmony export */   updateVariablesList: () => (/* reexport safe */ _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__.updateVariablesList)\n/* harmony export */ });\n/* harmony import */ var _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./placeholderDefinitions.js */ \"./public/js/core/placeholderDefinitions.js\");\n/* harmony import */ var _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./placeholderDOM.js */ \"./public/js/core/placeholderDOM.js\");\n/* harmony import */ var _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placeholderCreation.js */ \"./public/js/core/placeholderCreation.js\");\n/* harmony import */ var _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./placeholderManagement.js */ \"./public/js/core/placeholderManagement.js\");\n/* harmony import */ var _placeholderUI_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./placeholderUI.js */ \"./public/js/core/placeholderUI.js\");\n/* harmony import */ var _typeSelectionModals_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./typeSelectionModals.js */ \"./public/js/core/typeSelectionModals.js\");\n/* harmony import */ var _pronounFunctions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pronounFunctions.js */ \"./public/js/core/pronounFunctions.js\");\n// public/js/core/placeholders.js\n\n// Import from new modules\n\n\n\n\n\n\n\n\n// Re-export all functionality\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvY29yZS9wbGFjZWhvbGRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQzBGO0FBQzRCO0FBQ2tEO0FBQ2pEO0FBQytJO0FBQ2xKO0FBQ3NCOztBQUUxSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JsYW5rYm9vay8uL3B1YmxpYy9qcy9jb3JlL3BsYWNlaG9sZGVycy5qcz9lMDk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9jb3JlL3BsYWNlaG9sZGVycy5qc1xyXG5cclxuLy8gSW1wb3J0IGZyb20gbmV3IG1vZHVsZXNcclxuaW1wb3J0IHsgY2F0ZWdvcnlPcmRlciwgYWxsUGxhY2Vob2xkZXJzLCBWRVJCX1RFTlNFUyB9IGZyb20gJy4vcGxhY2Vob2xkZXJEZWZpbml0aW9ucy5qcyc7XHJcbmltcG9ydCB7IGluc2VydE5vZGVBdENhcmV0LCBlbnN1cmVFZGl0b3JGb2N1cywgaW5zZXJ0UGxhY2Vob2xkZXJTcGFuLCBnZW5lcmF0ZUxlZ2FjeVRleHQgfSBmcm9tICcuL3BsYWNlaG9sZGVyRE9NLmpzJztcclxuaW1wb3J0IHsgZHVwbGljYXRlUGxhY2Vob2xkZXIsIGluc2VydFBsYWNlaG9sZGVyLCBhcHBseVBsYWNlaG9sZGVyVG9BbGxPY2N1cnJlbmNlcywgYWRkQ3VzdG9tUGxhY2Vob2xkZXIsIGluc2VydFBsYWNlaG9sZGVyRnJvbUN1c3RvbSB9IGZyb20gJy4vcGxhY2Vob2xkZXJDcmVhdGlvbi5qcyc7XHJcbmltcG9ydCB7IHVwZGF0ZVZhcmlhYmxlc0xpc3QsIHVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IsIHVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIgfSBmcm9tICcuL3BsYWNlaG9sZGVyTWFuYWdlbWVudC5qcyc7XHJcbmltcG9ydCB7IHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uLCBjcmVhdGVQbGFjZWhvbGRlckNhdGVnb3J5Q2FyZCwgY3JlYXRlQ3VzdG9tUGxhY2Vob2xkZXJDYXRlZ29yeUNhcmQsIGNyZWF0ZUNhcmRIZWFkZXIsIGNyZWF0ZVNlY29uZGFyeVBsYWNlaG9sZGVyV3JhcHBlciwgY3JlYXRlU2hvd01vcmVUb2dnbGUsIHVwZGF0ZVNob3dNb3JlVG9nZ2xlVmlzaWJpbGl0eSwgYXBwZW5kUGxhY2Vob2xkZXJJdGVtIH0gZnJvbSAnLi9wbGFjZWhvbGRlclVJLmpzJztcclxuaW1wb3J0IHsgc2hvd1BlcnNvblR5cGVTZWxlY3Rpb24sIHNob3dOb3VuTnVtYmVyU2VsZWN0aW9uLCBzaG93VmVyYlRlbnNlU2VsZWN0aW9uIH0gZnJvbSAnLi90eXBlU2VsZWN0aW9uTW9kYWxzLmpzJztcclxuaW1wb3J0IHsgaW5zZXJ0UHJvbm91blBsYWNlaG9sZGVyU2ltcGxlLCBwaWNrUHJvbm91bkZvcm1BbmRHcm91cCwgcGlja1Byb25vdW5Hcm91cCwgY2hvb3NlUHJvbm91blRlbXBWYWx1ZSB9IGZyb20gJy4vcHJvbm91bkZ1bmN0aW9ucy5qcyc7XHJcblxyXG4vLyBSZS1leHBvcnQgYWxsIGZ1bmN0aW9uYWxpdHlcclxuZXhwb3J0IHtcclxuICAgIC8vIENvbnN0YW50c1xyXG4gICAgY2F0ZWdvcnlPcmRlcixcclxuICAgIGFsbFBsYWNlaG9sZGVycyxcclxuICAgIFZFUkJfVEVOU0VTLFxyXG4gICAgXHJcbiAgICAvLyBET00gVXRpbGl0aWVzXHJcbiAgICBpbnNlcnROb2RlQXRDYXJldCxcclxuICAgIGVuc3VyZUVkaXRvckZvY3VzLFxyXG4gICAgaW5zZXJ0UGxhY2Vob2xkZXJTcGFuLFxyXG4gICAgZ2VuZXJhdGVMZWdhY3lUZXh0LFxyXG4gICAgXHJcbiAgICAvLyBQbGFjZWhvbGRlciBDcmVhdGlvblxyXG4gICAgZHVwbGljYXRlUGxhY2Vob2xkZXIsXHJcbiAgICBpbnNlcnRQbGFjZWhvbGRlcixcclxuICAgIGFwcGx5UGxhY2Vob2xkZXJUb0FsbE9jY3VycmVuY2VzLFxyXG4gICAgYWRkQ3VzdG9tUGxhY2Vob2xkZXIsXHJcbiAgICBpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20sXHJcbiAgICBcclxuICAgIC8vIFBsYWNlaG9sZGVyIE1hbmFnZW1lbnRcclxuICAgIHVwZGF0ZVZhcmlhYmxlc0xpc3QsXHJcbiAgICB1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yLFxyXG4gICAgdXBkYXRlRXhpc3RpbmdQbGFjZWhvbGRlcixcclxuICAgIFxyXG4gICAgLy8gVUkgRnVuY3Rpb25zXHJcbiAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbixcclxuICAgIGNyZWF0ZVBsYWNlaG9sZGVyQ2F0ZWdvcnlDYXJkLFxyXG4gICAgY3JlYXRlQ3VzdG9tUGxhY2Vob2xkZXJDYXRlZ29yeUNhcmQsXHJcbiAgICBjcmVhdGVDYXJkSGVhZGVyLFxyXG4gICAgY3JlYXRlU2Vjb25kYXJ5UGxhY2Vob2xkZXJXcmFwcGVyLFxyXG4gICAgY3JlYXRlU2hvd01vcmVUb2dnbGUsXHJcbiAgICB1cGRhdGVTaG93TW9yZVRvZ2dsZVZpc2liaWxpdHksXHJcbiAgICBhcHBlbmRQbGFjZWhvbGRlckl0ZW0sXHJcbiAgICBcclxuICAgIC8vIFR5cGUgU2VsZWN0aW9uIE1vZGFsc1xyXG4gICAgc2hvd1BlcnNvblR5cGVTZWxlY3Rpb24sXHJcbiAgICBzaG93Tm91bk51bWJlclNlbGVjdGlvbixcclxuICAgIHNob3dWZXJiVGVuc2VTZWxlY3Rpb24sXHJcbiAgICBcclxuICAgIC8vIFByb25vdW4gRnVuY3Rpb25zXHJcbiAgICBpbnNlcnRQcm9ub3VuUGxhY2Vob2xkZXJTaW1wbGUsXHJcbiAgICBwaWNrUHJvbm91bkZvcm1BbmRHcm91cCxcclxuICAgIHBpY2tQcm9ub3VuR3JvdXAsXHJcbiAgICBjaG9vc2VQcm9ub3VuVGVtcFZhbHVlXHJcbn07ICJdLCJuYW1lcyI6WyJjYXRlZ29yeU9yZGVyIiwiYWxsUGxhY2Vob2xkZXJzIiwiVkVSQl9URU5TRVMiLCJpbnNlcnROb2RlQXRDYXJldCIsImVuc3VyZUVkaXRvckZvY3VzIiwiaW5zZXJ0UGxhY2Vob2xkZXJTcGFuIiwiZ2VuZXJhdGVMZWdhY3lUZXh0IiwiZHVwbGljYXRlUGxhY2Vob2xkZXIiLCJpbnNlcnRQbGFjZWhvbGRlciIsImFwcGx5UGxhY2Vob2xkZXJUb0FsbE9jY3VycmVuY2VzIiwiYWRkQ3VzdG9tUGxhY2Vob2xkZXIiLCJpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20iLCJ1cGRhdGVWYXJpYWJsZXNMaXN0IiwidXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciIsInVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIiLCJ1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbiIsImNyZWF0ZVBsYWNlaG9sZGVyQ2F0ZWdvcnlDYXJkIiwiY3JlYXRlQ3VzdG9tUGxhY2Vob2xkZXJDYXRlZ29yeUNhcmQiLCJjcmVhdGVDYXJkSGVhZGVyIiwiY3JlYXRlU2Vjb25kYXJ5UGxhY2Vob2xkZXJXcmFwcGVyIiwiY3JlYXRlU2hvd01vcmVUb2dnbGUiLCJ1cGRhdGVTaG93TW9yZVRvZ2dsZVZpc2liaWxpdHkiLCJhcHBlbmRQbGFjZWhvbGRlckl0ZW0iLCJzaG93UGVyc29uVHlwZVNlbGVjdGlvbiIsInNob3dOb3VuTnVtYmVyU2VsZWN0aW9uIiwic2hvd1ZlcmJUZW5zZVNlbGVjdGlvbiIsImluc2VydFByb25vdW5QbGFjZWhvbGRlclNpbXBsZSIsInBpY2tQcm9ub3VuRm9ybUFuZEdyb3VwIiwicGlja1Byb25vdW5Hcm91cCIsImNob29zZVByb25vdW5UZW1wVmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/js/core/placeholders.js\n");

/***/ }),

/***/ "./public/js/core/pronounFunctions.js":
/*!********************************************!*\
  !*** ./public/js/core/pronounFunctions.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   choosePronounTempValue: () => (/* binding */ choosePronounTempValue),\n/* harmony export */   insertPronounPlaceholderSimple: () => (/* binding */ insertPronounPlaceholderSimple),\n/* harmony export */   pickPronounFormAndGroup: () => (/* binding */ pickPronounFormAndGroup),\n/* harmony export */   pickPronounGroup: () => (/* binding */ pickPronounGroup)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./placeholderDOM.js */ \"./public/js/core/placeholderDOM.js\");\n/* harmony import */ var _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placeholderManagement.js */ \"./public/js/core/placeholderManagement.js\");\n\n\n\n\n\n/**\r\n * Inserts a pronoun placeholder with a specified form\r\n * @param {string} groupId - The pronoun group ID\r\n * @param {string} form - The pronoun form (subject, object, etc.)\r\n * @param {string} tempValue - The temporary display value\r\n */\nvar insertPronounPlaceholderSimple = function insertPronounPlaceholderSimple(groupId, form, tempValue) {\n  var editor = document.getElementById(\"storyText\");\n  (0,_placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__.ensureEditorFocus)();\n  var sel = window.getSelection();\n  var range = _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange && editor.contains(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange.commonAncestorContainer) ? _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange : sel.rangeCount ? sel.getRangeAt(0) : null;\n  var groupNum = groupId.replace('PronounGroup', '');\n  var formAbbrevMap = {\n    subject: 'SUB',\n    object: 'OBJ',\n    possAdj: 'PSA',\n    possPron: 'PSP',\n    reflexive: 'REF'\n  };\n  var abbrev = formAbbrevMap[form] || form.toUpperCase();\n  var placeholderId = \"PRP\".concat(groupNum).concat(abbrev);\n  if (!_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.some(function (v) {\n    return v.id === placeholderId;\n  })) {\n    var displayType = \"Person (\".concat(form, \")\");\n    _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.push({\n      id: placeholderId,\n      internalType: \"PRONOUN|\".concat(groupId, \"|\").concat(form),\n      officialDisplay: displayType,\n      display: displayType,\n      isCustom: false,\n      order: _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter++,\n      displayOverride: tempValue\n    });\n    (0,_placeholderManagement_js__WEBPACK_IMPORTED_MODULE_2__.updateVariablesList)();\n  }\n  (0,_placeholderDOM_js__WEBPACK_IMPORTED_MODULE_1__.insertPlaceholderSpan)(placeholderId, tempValue, range);\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange = null;\n};\n\n/**\r\n * Shows a modal to pick a pronoun form and group\r\n */\nvar pickPronounFormAndGroup = function pickPronounFormAndGroup() {\n  var forms = [{\n    value: 'subject',\n    text: 'Subject (he, she, they)'\n  }, {\n    value: 'object',\n    text: 'Object (him, her, them)'\n  }, {\n    value: 'possAdj',\n    text: 'Possessive Adj. (his, her, their)'\n  }, {\n    value: 'possPron',\n    text: 'Possessive Pron. (his, hers)'\n  }, {\n    value: 'reflexive',\n    text: 'Reflexive (himself, herself)'\n  }];\n  var html = \"<div class='list-group mb-2'>\";\n  forms.forEach(function (f) {\n    html += \"<button class='list-group-item list-group-item-action pronoun-form-btn' data-form='\".concat(f.value, \"'>\").concat(f.text, \"</button>\");\n  });\n  html += \"</div>\";\n  Swal.fire({\n    title: 'Pick a Pronoun Form',\n    html: html,\n    showCancelButton: true,\n    showConfirmButton: false,\n    didOpen: function didOpen() {\n      var container = Swal.getHtmlContainer();\n      $(container).find('.pronoun-form-btn').on('click', function () {\n        var chosenForm = $(this).data('form');\n        Swal.close();\n        pickPronounGroup(chosenForm);\n      });\n    }\n  });\n};\n\n/**\r\n * Shows a modal to pick a pronoun group\r\n * @param {string} form - The pronoun form\r\n */\nvar pickPronounGroup = function pickPronounGroup(form) {\n  var groupKeys = Object.keys(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups);\n  var html = '';\n  if (groupKeys.length > 0) {\n    html += \"<h5>Existing Pronoun Groups</h5><div class='list-group mb-2'>\";\n    groupKeys.forEach(function (g) {\n      html += \"<button class='list-group-item list-group-item-action pronoun-group-btn' data-group='\".concat(g, \"'>\").concat(g, \"</button>\");\n    });\n    html += \"</div><hr>\";\n  }\n  html += \"<button class='btn btn-sm btn-outline-primary' id='createNewPronounGroupBtn'>Create New Group</button>\";\n  Swal.fire({\n    title: 'Pick a Pronoun Group',\n    html: html,\n    showCancelButton: true,\n    showConfirmButton: false,\n    didOpen: function didOpen() {\n      var container = Swal.getHtmlContainer();\n      $(container).find('.pronoun-group-btn').on('click', function () {\n        var grp = $(this).data('group');\n        Swal.close();\n        if (_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[grp] && _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[grp][form]) {\n          insertPronounPlaceholderSimple(grp, form, _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[grp][form]);\n        } else {\n          choosePronounTempValue(form, grp).then(function (tempValue) {\n            _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[grp] = _state_js__WEBPACK_IMPORTED_MODULE_0__.pronounMapping[tempValue] || {\n              subject: tempValue,\n              object: tempValue,\n              possAdj: tempValue,\n              possPron: tempValue,\n              reflexive: tempValue\n            };\n            insertPronounPlaceholderSimple(grp, form, _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[grp][form]);\n          });\n        }\n      });\n      $(container).find('#createNewPronounGroupBtn').on('click', function () {\n        _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount++;\n        var newGroup = \"PronounGroup\".concat(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount);\n        _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[newGroup] = {};\n        Swal.close();\n        choosePronounTempValue(form, newGroup).then(function (tempValue) {\n          _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[newGroup] = _state_js__WEBPACK_IMPORTED_MODULE_0__.pronounMapping[tempValue] || {\n            subject: tempValue,\n            object: tempValue,\n            possAdj: tempValue,\n            possPron: tempValue,\n            reflexive: tempValue\n          };\n          insertPronounPlaceholderSimple(newGroup, form, _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups[newGroup][form]);\n        });\n      });\n    }\n  });\n};\n\n/**\r\n * Prompts the user to choose a temporary pronoun value\r\n * @param {string} form - The pronoun form\r\n * @param {string} groupId - The pronoun group ID\r\n * @returns {Promise<string>} A promise that resolves with the chosen pronoun\r\n */\nvar choosePronounTempValue = function choosePronounTempValue(form, groupId) {\n  return Swal.fire({\n    title: 'Select Temporary Pronoun',\n    input: 'radio',\n    inputOptions: {\n      'He/Him': 'He/Him',\n      'She/Her': 'She/Her',\n      'They/Them': 'They/Them',\n      'Custom': 'Custom'\n    },\n    inputValidator: function inputValidator(value) {\n      if (!value) return 'You need to choose an option!';\n    }\n  }).then(function (result) {\n    if (result.value === 'Custom') {\n      return Swal.fire({\n        title: 'Enter custom temporary pronoun',\n        input: 'text',\n        inputLabel: 'Temporary pronoun',\n        inputValue: form,\n        showCancelButton: true\n      }).then(function (res) {\n        return res.value || form;\n      });\n    } else {\n      return result.value;\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JsYW5rYm9vay8uL3B1YmxpYy9qcy9jb3JlL3Byb25vdW5GdW5jdGlvbnMuanM/MTIzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RhdGUsIHsgcHJvbm91bk1hcHBpbmcgfSBmcm9tICcuL3N0YXRlLmpzJztcclxuaW1wb3J0IHsgZW5zdXJlRWRpdG9yRm9jdXMgfSBmcm9tICcuL3BsYWNlaG9sZGVyRE9NLmpzJztcclxuaW1wb3J0IHsgaW5zZXJ0UGxhY2Vob2xkZXJTcGFuIH0gZnJvbSAnLi9wbGFjZWhvbGRlckRPTS5qcyc7XHJcbmltcG9ydCB7IHVwZGF0ZVZhcmlhYmxlc0xpc3QgfSBmcm9tICcuL3BsYWNlaG9sZGVyTWFuYWdlbWVudC5qcyc7XHJcblxyXG4vKipcclxuICogSW5zZXJ0cyBhIHByb25vdW4gcGxhY2Vob2xkZXIgd2l0aCBhIHNwZWNpZmllZCBmb3JtXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBncm91cElkIC0gVGhlIHByb25vdW4gZ3JvdXAgSURcclxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm0gLSBUaGUgcHJvbm91biBmb3JtIChzdWJqZWN0LCBvYmplY3QsIGV0Yy4pXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wVmFsdWUgLSBUaGUgdGVtcG9yYXJ5IGRpc3BsYXkgdmFsdWVcclxuICovXHJcbmV4cG9ydCBjb25zdCBpbnNlcnRQcm9ub3VuUGxhY2Vob2xkZXJTaW1wbGUgPSAoZ3JvdXBJZCwgZm9ybSwgdGVtcFZhbHVlKSA9PiB7XHJcbiAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0b3J5VGV4dFwiKTtcclxuICAgIGVuc3VyZUVkaXRvckZvY3VzKCk7XHJcbiAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICBjb25zdCByYW5nZSA9IChzdGF0ZS5sYXN0UmFuZ2UgJiYgZWRpdG9yLmNvbnRhaW5zKHN0YXRlLmxhc3RSYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcikpXHJcbiAgICAgICAgPyBzdGF0ZS5sYXN0UmFuZ2VcclxuICAgICAgICA6IChzZWwucmFuZ2VDb3VudCA/IHNlbC5nZXRSYW5nZUF0KDApIDogbnVsbCk7XHJcbiAgICBjb25zdCBncm91cE51bSA9IGdyb3VwSWQucmVwbGFjZSgnUHJvbm91bkdyb3VwJywgJycpO1xyXG4gICAgY29uc3QgZm9ybUFiYnJldk1hcCA9IHsgc3ViamVjdDogJ1NVQicsIG9iamVjdDogJ09CSicsIHBvc3NBZGo6ICdQU0EnLCBwb3NzUHJvbjogJ1BTUCcsIHJlZmxleGl2ZTogJ1JFRicgfTtcclxuICAgIGNvbnN0IGFiYnJldiA9IGZvcm1BYmJyZXZNYXBbZm9ybV0gfHwgZm9ybS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgY29uc3QgcGxhY2Vob2xkZXJJZCA9IGBQUlAke2dyb3VwTnVtfSR7YWJicmV2fWA7XHJcbiAgICBpZiAoIXN0YXRlLnZhcmlhYmxlcy5zb21lKHYgPT4gdi5pZCA9PT0gcGxhY2Vob2xkZXJJZCkpIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5VHlwZSA9IGBQZXJzb24gKCR7Zm9ybX0pYDtcclxuICAgICAgICBzdGF0ZS52YXJpYWJsZXMucHVzaCh7XHJcbiAgICAgICAgICAgIGlkOiBwbGFjZWhvbGRlcklkLFxyXG4gICAgICAgICAgICBpbnRlcm5hbFR5cGU6IGBQUk9OT1VOfCR7Z3JvdXBJZH18JHtmb3JtfWAsXHJcbiAgICAgICAgICAgIG9mZmljaWFsRGlzcGxheTogZGlzcGxheVR5cGUsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGRpc3BsYXlUeXBlLFxyXG4gICAgICAgICAgICBpc0N1c3RvbTogZmFsc2UsXHJcbiAgICAgICAgICAgIG9yZGVyOiBzdGF0ZS5pbnNlcnRpb25Db3VudGVyKyssXHJcbiAgICAgICAgICAgIGRpc3BsYXlPdmVycmlkZTogdGVtcFZhbHVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdXBkYXRlVmFyaWFibGVzTGlzdCgpO1xyXG4gICAgfVxyXG4gICAgaW5zZXJ0UGxhY2Vob2xkZXJTcGFuKHBsYWNlaG9sZGVySWQsIHRlbXBWYWx1ZSwgcmFuZ2UpO1xyXG4gICAgc3RhdGUubGFzdFJhbmdlID0gbnVsbDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTaG93cyBhIG1vZGFsIHRvIHBpY2sgYSBwcm9ub3VuIGZvcm0gYW5kIGdyb3VwXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcGlja1Byb25vdW5Gb3JtQW5kR3JvdXAgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtcyA9IFtcclxuICAgICAgICB7IHZhbHVlOiAnc3ViamVjdCcsIHRleHQ6ICdTdWJqZWN0IChoZSwgc2hlLCB0aGV5KScgfSxcclxuICAgICAgICB7IHZhbHVlOiAnb2JqZWN0JywgdGV4dDogJ09iamVjdCAoaGltLCBoZXIsIHRoZW0pJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdwb3NzQWRqJywgdGV4dDogJ1Bvc3Nlc3NpdmUgQWRqLiAoaGlzLCBoZXIsIHRoZWlyKScgfSxcclxuICAgICAgICB7IHZhbHVlOiAncG9zc1Byb24nLCB0ZXh0OiAnUG9zc2Vzc2l2ZSBQcm9uLiAoaGlzLCBoZXJzKScgfSxcclxuICAgICAgICB7IHZhbHVlOiAncmVmbGV4aXZlJywgdGV4dDogJ1JlZmxleGl2ZSAoaGltc2VsZiwgaGVyc2VsZiknIH1cclxuICAgIF07XHJcbiAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPSdsaXN0LWdyb3VwIG1iLTInPmA7XHJcbiAgICBmb3Jtcy5mb3JFYWNoKGYgPT4ge1xyXG4gICAgICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9J2xpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uIHByb25vdW4tZm9ybS1idG4nIGRhdGEtZm9ybT0nJHtmLnZhbHVlfSc+JHtmLnRleHR9PC9idXR0b24+YDtcclxuICAgIH0pO1xyXG4gICAgaHRtbCArPSBgPC9kaXY+YDtcclxuICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgdGl0bGU6ICdQaWNrIGEgUHJvbm91biBGb3JtJyxcclxuICAgICAgICBodG1sLFxyXG4gICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLFxyXG4gICAgICAgIGRpZE9wZW46ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gU3dhbC5nZXRIdG1sQ29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICQoY29udGFpbmVyKS5maW5kKCcucHJvbm91bi1mb3JtLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNob3NlbkZvcm0gPSAkKHRoaXMpLmRhdGEoJ2Zvcm0nKTtcclxuICAgICAgICAgICAgICAgIFN3YWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIHBpY2tQcm9ub3VuR3JvdXAoY2hvc2VuRm9ybSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNob3dzIGEgbW9kYWwgdG8gcGljayBhIHByb25vdW4gZ3JvdXBcclxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm0gLSBUaGUgcHJvbm91biBmb3JtXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcGlja1Byb25vdW5Hcm91cCA9IChmb3JtKSA9PiB7XHJcbiAgICBjb25zdCBncm91cEtleXMgPSBPYmplY3Qua2V5cyhzdGF0ZS5wcm9ub3VuR3JvdXBzKTtcclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBpZiAoZ3JvdXBLZXlzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBodG1sICs9IGA8aDU+RXhpc3RpbmcgUHJvbm91biBHcm91cHM8L2g1PjxkaXYgY2xhc3M9J2xpc3QtZ3JvdXAgbWItMic+YDtcclxuICAgICAgICBncm91cEtleXMuZm9yRWFjaChnID0+IHtcclxuICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz0nbGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1hY3Rpb24gcHJvbm91bi1ncm91cC1idG4nIGRhdGEtZ3JvdXA9JyR7Z30nPiR7Z308L2J1dHRvbj5gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGh0bWwgKz0gYDwvZGl2Pjxocj5gO1xyXG4gICAgfVxyXG4gICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1wcmltYXJ5JyBpZD0nY3JlYXRlTmV3UHJvbm91bkdyb3VwQnRuJz5DcmVhdGUgTmV3IEdyb3VwPC9idXR0b24+YDtcclxuICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgdGl0bGU6ICdQaWNrIGEgUHJvbm91biBHcm91cCcsXHJcbiAgICAgICAgaHRtbCxcclxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICBkaWRPcGVuOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFN3YWwuZ2V0SHRtbENvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICAkKGNvbnRhaW5lcikuZmluZCgnLnByb25vdW4tZ3JvdXAtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JwID0gJCh0aGlzKS5kYXRhKCdncm91cCcpO1xyXG4gICAgICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnByb25vdW5Hcm91cHNbZ3JwXSAmJiBzdGF0ZS5wcm9ub3VuR3JvdXBzW2dycF1bZm9ybV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRQcm9ub3VuUGxhY2Vob2xkZXJTaW1wbGUoZ3JwLCBmb3JtLCBzdGF0ZS5wcm9ub3VuR3JvdXBzW2dycF1bZm9ybV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaG9vc2VQcm9ub3VuVGVtcFZhbHVlKGZvcm0sIGdycCkudGhlbih0ZW1wVmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ub3VuR3JvdXBzW2dycF0gPSBwcm9ub3VuTWFwcGluZ1t0ZW1wVmFsdWVdIHx8IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdWJqZWN0OiB0ZW1wVmFsdWUsIG9iamVjdDogdGVtcFZhbHVlLCBwb3NzQWRqOiB0ZW1wVmFsdWUsIHBvc3NQcm9uOiB0ZW1wVmFsdWUsIHJlZmxleGl2ZTogdGVtcFZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFByb25vdW5QbGFjZWhvbGRlclNpbXBsZShncnAsIGZvcm0sIHN0YXRlLnByb25vdW5Hcm91cHNbZ3JwXVtmb3JtXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKGNvbnRhaW5lcikuZmluZCgnI2NyZWF0ZU5ld1Byb25vdW5Hcm91cEJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnByb25vdW5Hcm91cENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdHcm91cCA9IGBQcm9ub3VuR3JvdXAke3N0YXRlLnByb25vdW5Hcm91cENvdW50fWA7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ub3VuR3JvdXBzW25ld0dyb3VwXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgY2hvb3NlUHJvbm91blRlbXBWYWx1ZShmb3JtLCBuZXdHcm91cCkudGhlbih0ZW1wVmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByb25vdW5Hcm91cHNbbmV3R3JvdXBdID0gcHJvbm91bk1hcHBpbmdbdGVtcFZhbHVlXSB8fCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdWJqZWN0OiB0ZW1wVmFsdWUsIG9iamVjdDogdGVtcFZhbHVlLCBwb3NzQWRqOiB0ZW1wVmFsdWUsIHBvc3NQcm9uOiB0ZW1wVmFsdWUsIHJlZmxleGl2ZTogdGVtcFZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UHJvbm91blBsYWNlaG9sZGVyU2ltcGxlKG5ld0dyb3VwLCBmb3JtLCBzdGF0ZS5wcm9ub3VuR3JvdXBzW25ld0dyb3VwXVtmb3JtXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUHJvbXB0cyB0aGUgdXNlciB0byBjaG9vc2UgYSB0ZW1wb3JhcnkgcHJvbm91biB2YWx1ZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybSAtIFRoZSBwcm9ub3VuIGZvcm1cclxuICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwSWQgLSBUaGUgcHJvbm91biBncm91cCBJRFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjaG9zZW4gcHJvbm91blxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNob29zZVByb25vdW5UZW1wVmFsdWUgPSAoZm9ybSwgZ3JvdXBJZCkgPT4ge1xyXG4gICAgcmV0dXJuIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgdGl0bGU6ICdTZWxlY3QgVGVtcG9yYXJ5IFByb25vdW4nLFxyXG4gICAgICAgIGlucHV0OiAncmFkaW8nLFxyXG4gICAgICAgIGlucHV0T3B0aW9uczoge1xyXG4gICAgICAgICAgICAnSGUvSGltJzogJ0hlL0hpbScsXHJcbiAgICAgICAgICAgICdTaGUvSGVyJzogJ1NoZS9IZXInLFxyXG4gICAgICAgICAgICAnVGhleS9UaGVtJzogJ1RoZXkvVGhlbScsXHJcbiAgICAgICAgICAgICdDdXN0b20nOiAnQ3VzdG9tJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5wdXRWYWxpZGF0b3I6ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJ1lvdSBuZWVkIHRvIGNob29zZSBhbiBvcHRpb24hJztcclxuICAgICAgICB9XHJcbiAgICB9KS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSA9PT0gJ0N1c3RvbScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0VudGVyIGN1c3RvbSB0ZW1wb3JhcnkgcHJvbm91bicsXHJcbiAgICAgICAgICAgICAgICBpbnB1dDogJ3RleHQnLFxyXG4gICAgICAgICAgICAgICAgaW5wdXRMYWJlbDogJ1RlbXBvcmFyeSBwcm9ub3VuJyxcclxuICAgICAgICAgICAgICAgIGlucHV0VmFsdWU6IGZvcm0sXHJcbiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlXHJcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy52YWx1ZSB8fCBmb3JtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59OyAiXSwibmFtZXMiOlsic3RhdGUiLCJwcm9ub3VuTWFwcGluZyIsImVuc3VyZUVkaXRvckZvY3VzIiwiaW5zZXJ0UGxhY2Vob2xkZXJTcGFuIiwidXBkYXRlVmFyaWFibGVzTGlzdCIsImluc2VydFByb25vdW5QbGFjZWhvbGRlclNpbXBsZSIsImdyb3VwSWQiLCJmb3JtIiwidGVtcFZhbHVlIiwiZWRpdG9yIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNlbCIsIndpbmRvdyIsImdldFNlbGVjdGlvbiIsInJhbmdlIiwibGFzdFJhbmdlIiwiY29udGFpbnMiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsInJhbmdlQ291bnQiLCJnZXRSYW5nZUF0IiwiZ3JvdXBOdW0iLCJyZXBsYWNlIiwiZm9ybUFiYnJldk1hcCIsInN1YmplY3QiLCJvYmplY3QiLCJwb3NzQWRqIiwicG9zc1Byb24iLCJyZWZsZXhpdmUiLCJhYmJyZXYiLCJ0b1VwcGVyQ2FzZSIsInBsYWNlaG9sZGVySWQiLCJjb25jYXQiLCJ2YXJpYWJsZXMiLCJzb21lIiwidiIsImlkIiwiZGlzcGxheVR5cGUiLCJwdXNoIiwiaW50ZXJuYWxUeXBlIiwib2ZmaWNpYWxEaXNwbGF5IiwiZGlzcGxheSIsImlzQ3VzdG9tIiwib3JkZXIiLCJpbnNlcnRpb25Db3VudGVyIiwiZGlzcGxheU92ZXJyaWRlIiwicGlja1Byb25vdW5Gb3JtQW5kR3JvdXAiLCJmb3JtcyIsInZhbHVlIiwidGV4dCIsImh0bWwiLCJmb3JFYWNoIiwiZiIsIlN3YWwiLCJmaXJlIiwidGl0bGUiLCJzaG93Q2FuY2VsQnV0dG9uIiwic2hvd0NvbmZpcm1CdXR0b24iLCJkaWRPcGVuIiwiY29udGFpbmVyIiwiZ2V0SHRtbENvbnRhaW5lciIsIiQiLCJmaW5kIiwib24iLCJjaG9zZW5Gb3JtIiwiZGF0YSIsImNsb3NlIiwicGlja1Byb25vdW5Hcm91cCIsImdyb3VwS2V5cyIsIk9iamVjdCIsImtleXMiLCJwcm9ub3VuR3JvdXBzIiwibGVuZ3RoIiwiZyIsImdycCIsImNob29zZVByb25vdW5UZW1wVmFsdWUiLCJ0aGVuIiwicHJvbm91bkdyb3VwQ291bnQiLCJuZXdHcm91cCIsImlucHV0IiwiaW5wdXRPcHRpb25zIiwiaW5wdXRWYWxpZGF0b3IiLCJyZXN1bHQiLCJpbnB1dExhYmVsIiwiaW5wdXRWYWx1ZSIsInJlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/core/pronounFunctions.js\n");

/***/ }),

/***/ "./public/js/core/state.js":
/*!*********************************!*\
  !*** ./public/js/core/state.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   pronounMapping: () => (/* binding */ pronounMapping),\n/* harmony export */   resetState: () => (/* binding */ resetState)\n/* harmony export */ });\n// public/js/core/state.js\n\n// Create state singleton object\nvar state = {\n  variables: [],\n  variableCounts: {},\n  insertionCounter: 0,\n  storyText: '',\n  customPlaceholders: [],\n  fillValues: {},\n  pronounGroups: {},\n  pronounGroupCount: 0,\n  lastRange: null,\n  usageTracker: {},\n  placeholderInsertionInProgress: false,\n  storyHasUnsavedChanges: false,\n  fillOrder: 'alphabetical',\n  currentStoryId: null,\n  currentPlaceholderSearch: '',\n  currentModalPlaceholderSearch: '',\n  currentEditingVariable: null,\n  currentPlaceholderElement: null,\n  isEditingPlaceholder: false\n};\n\n// Export the state object as default export\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (state);\n\n// Predefined pronoun mappings\nvar pronounMapping = {\n  \"He/Him\": {\n    subject: \"he\",\n    object: \"him\",\n    possAdj: \"his\",\n    possPron: \"his\",\n    reflexive: \"himself\"\n  },\n  \"She/Her\": {\n    subject: \"she\",\n    object: \"her\",\n    possAdj: \"her\",\n    possPron: \"hers\",\n    reflexive: \"herself\"\n  },\n  \"They/Them\": {\n    subject: \"they\",\n    object: \"them\",\n    possAdj: \"their\",\n    possPron: \"theirs\",\n    reflexive: \"themselves\"\n  }\n};\n\n// Function to reset state to initial values\nfunction resetState() {\n  state.variables = [];\n  state.variableCounts = {};\n  state.insertionCounter = 0;\n  state.storyText = '';\n  state.customPlaceholders = [];\n  state.fillValues = {};\n  state.pronounGroups = {};\n  state.pronounGroupCount = 0;\n  state.lastRange = null;\n  state.usageTracker = {};\n  state.placeholderInsertionInProgress = false;\n  state.storyHasUnsavedChanges = false;\n  state.fillOrder = 'alphabetical';\n  state.currentStoryId = null;\n  state.currentPlaceholderSearch = '';\n  state.currentModalPlaceholderSearch = '';\n  state.currentEditingVariable = null;\n  state.currentPlaceholderElement = null;\n  state.isEditingPlaceholder = false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvY29yZS9zdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQTtBQUNBLElBQU1BLEtBQUssR0FBRztFQUNaQyxTQUFTLEVBQUUsRUFBRTtFQUNiQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCQyxnQkFBZ0IsRUFBRSxDQUFDO0VBQ25CQyxTQUFTLEVBQUUsRUFBRTtFQUNiQyxrQkFBa0IsRUFBRSxFQUFFO0VBQ3RCQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0VBQ2RDLGFBQWEsRUFBRSxDQUFDLENBQUM7RUFDakJDLGlCQUFpQixFQUFFLENBQUM7RUFDcEJDLFNBQVMsRUFBRSxJQUFJO0VBQ2ZDLFlBQVksRUFBRSxDQUFDLENBQUM7RUFDaEJDLDhCQUE4QixFQUFFLEtBQUs7RUFDckNDLHNCQUFzQixFQUFFLEtBQUs7RUFDN0JDLFNBQVMsRUFBRSxjQUFjO0VBQ3pCQyxjQUFjLEVBQUUsSUFBSTtFQUNwQkMsd0JBQXdCLEVBQUUsRUFBRTtFQUM1QkMsNkJBQTZCLEVBQUUsRUFBRTtFQUNqQ0Msc0JBQXNCLEVBQUUsSUFBSTtFQUM1QkMseUJBQXlCLEVBQUUsSUFBSTtFQUMvQkMsb0JBQW9CLEVBQUU7QUFDeEIsQ0FBQzs7QUFFRDtBQUNBLGlFQUFlbkIsS0FBSyxFQUFDOztBQUVyQjtBQUNPLElBQU1vQixjQUFjLEdBQUc7RUFDNUIsUUFBUSxFQUFFO0lBQUVDLE9BQU8sRUFBRSxJQUFJO0lBQUVDLE1BQU0sRUFBRSxLQUFLO0lBQUVDLE9BQU8sRUFBRSxLQUFLO0lBQUVDLFFBQVEsRUFBRSxLQUFLO0lBQUVDLFNBQVMsRUFBRTtFQUFVLENBQUM7RUFDakcsU0FBUyxFQUFFO0lBQUVKLE9BQU8sRUFBRSxLQUFLO0lBQUVDLE1BQU0sRUFBRSxLQUFLO0lBQUVDLE9BQU8sRUFBRSxLQUFLO0lBQUVDLFFBQVEsRUFBRSxNQUFNO0lBQUVDLFNBQVMsRUFBRTtFQUFVLENBQUM7RUFDcEcsV0FBVyxFQUFFO0lBQUVKLE9BQU8sRUFBRSxNQUFNO0lBQUVDLE1BQU0sRUFBRSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxPQUFPO0lBQUVDLFFBQVEsRUFBRSxRQUFRO0lBQUVDLFNBQVMsRUFBRTtFQUFhO0FBQ2hILENBQUM7O0FBRUQ7QUFDTyxTQUFTQyxVQUFVQSxDQUFBLEVBQUc7RUFDM0IxQixLQUFLLENBQUNDLFNBQVMsR0FBRyxFQUFFO0VBQ3BCRCxLQUFLLENBQUNFLGNBQWMsR0FBRyxDQUFDLENBQUM7RUFDekJGLEtBQUssQ0FBQ0csZ0JBQWdCLEdBQUcsQ0FBQztFQUMxQkgsS0FBSyxDQUFDSSxTQUFTLEdBQUcsRUFBRTtFQUNwQkosS0FBSyxDQUFDSyxrQkFBa0IsR0FBRyxFQUFFO0VBQzdCTCxLQUFLLENBQUNNLFVBQVUsR0FBRyxDQUFDLENBQUM7RUFDckJOLEtBQUssQ0FBQ08sYUFBYSxHQUFHLENBQUMsQ0FBQztFQUN4QlAsS0FBSyxDQUFDUSxpQkFBaUIsR0FBRyxDQUFDO0VBQzNCUixLQUFLLENBQUNTLFNBQVMsR0FBRyxJQUFJO0VBQ3RCVCxLQUFLLENBQUNVLFlBQVksR0FBRyxDQUFDLENBQUM7RUFDdkJWLEtBQUssQ0FBQ1csOEJBQThCLEdBQUcsS0FBSztFQUM1Q1gsS0FBSyxDQUFDWSxzQkFBc0IsR0FBRyxLQUFLO0VBQ3BDWixLQUFLLENBQUNhLFNBQVMsR0FBRyxjQUFjO0VBQ2hDYixLQUFLLENBQUNjLGNBQWMsR0FBRyxJQUFJO0VBQzNCZCxLQUFLLENBQUNlLHdCQUF3QixHQUFHLEVBQUU7RUFDbkNmLEtBQUssQ0FBQ2dCLDZCQUE2QixHQUFHLEVBQUU7RUFDeENoQixLQUFLLENBQUNpQixzQkFBc0IsR0FBRyxJQUFJO0VBQ25DakIsS0FBSyxDQUFDa0IseUJBQXlCLEdBQUcsSUFBSTtFQUN0Q2xCLEtBQUssQ0FBQ21CLG9CQUFvQixHQUFHLEtBQUs7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9wdWJsaWMvanMvY29yZS9zdGF0ZS5qcz8zMDEzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9jb3JlL3N0YXRlLmpzXHJcblxyXG4vLyBDcmVhdGUgc3RhdGUgc2luZ2xldG9uIG9iamVjdFxyXG5jb25zdCBzdGF0ZSA9IHtcclxuICB2YXJpYWJsZXM6IFtdLFxyXG4gIHZhcmlhYmxlQ291bnRzOiB7fSxcclxuICBpbnNlcnRpb25Db3VudGVyOiAwLFxyXG4gIHN0b3J5VGV4dDogJycsXHJcbiAgY3VzdG9tUGxhY2Vob2xkZXJzOiBbXSxcclxuICBmaWxsVmFsdWVzOiB7fSxcclxuICBwcm9ub3VuR3JvdXBzOiB7fSxcclxuICBwcm9ub3VuR3JvdXBDb3VudDogMCxcclxuICBsYXN0UmFuZ2U6IG51bGwsXHJcbiAgdXNhZ2VUcmFja2VyOiB7fSxcclxuICBwbGFjZWhvbGRlckluc2VydGlvbkluUHJvZ3Jlc3M6IGZhbHNlLFxyXG4gIHN0b3J5SGFzVW5zYXZlZENoYW5nZXM6IGZhbHNlLFxyXG4gIGZpbGxPcmRlcjogJ2FscGhhYmV0aWNhbCcsXHJcbiAgY3VycmVudFN0b3J5SWQ6IG51bGwsXHJcbiAgY3VycmVudFBsYWNlaG9sZGVyU2VhcmNoOiAnJyxcclxuICBjdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaDogJycsXHJcbiAgY3VycmVudEVkaXRpbmdWYXJpYWJsZTogbnVsbCxcclxuICBjdXJyZW50UGxhY2Vob2xkZXJFbGVtZW50OiBudWxsLFxyXG4gIGlzRWRpdGluZ1BsYWNlaG9sZGVyOiBmYWxzZSxcclxufTtcclxuXHJcbi8vIEV4cG9ydCB0aGUgc3RhdGUgb2JqZWN0IGFzIGRlZmF1bHQgZXhwb3J0XHJcbmV4cG9ydCBkZWZhdWx0IHN0YXRlO1xyXG5cclxuLy8gUHJlZGVmaW5lZCBwcm9ub3VuIG1hcHBpbmdzXHJcbmV4cG9ydCBjb25zdCBwcm9ub3VuTWFwcGluZyA9IHtcclxuICBcIkhlL0hpbVwiOiB7IHN1YmplY3Q6IFwiaGVcIiwgb2JqZWN0OiBcImhpbVwiLCBwb3NzQWRqOiBcImhpc1wiLCBwb3NzUHJvbjogXCJoaXNcIiwgcmVmbGV4aXZlOiBcImhpbXNlbGZcIiB9LFxyXG4gIFwiU2hlL0hlclwiOiB7IHN1YmplY3Q6IFwic2hlXCIsIG9iamVjdDogXCJoZXJcIiwgcG9zc0FkajogXCJoZXJcIiwgcG9zc1Byb246IFwiaGVyc1wiLCByZWZsZXhpdmU6IFwiaGVyc2VsZlwiIH0sXHJcbiAgXCJUaGV5L1RoZW1cIjogeyBzdWJqZWN0OiBcInRoZXlcIiwgb2JqZWN0OiBcInRoZW1cIiwgcG9zc0FkajogXCJ0aGVpclwiLCBwb3NzUHJvbjogXCJ0aGVpcnNcIiwgcmVmbGV4aXZlOiBcInRoZW1zZWx2ZXNcIiB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byByZXNldCBzdGF0ZSB0byBpbml0aWFsIHZhbHVlc1xyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTdGF0ZSgpIHtcclxuICBzdGF0ZS52YXJpYWJsZXMgPSBbXTtcclxuICBzdGF0ZS52YXJpYWJsZUNvdW50cyA9IHt9O1xyXG4gIHN0YXRlLmluc2VydGlvbkNvdW50ZXIgPSAwO1xyXG4gIHN0YXRlLnN0b3J5VGV4dCA9ICcnO1xyXG4gIHN0YXRlLmN1c3RvbVBsYWNlaG9sZGVycyA9IFtdO1xyXG4gIHN0YXRlLmZpbGxWYWx1ZXMgPSB7fTtcclxuICBzdGF0ZS5wcm9ub3VuR3JvdXBzID0ge307XHJcbiAgc3RhdGUucHJvbm91bkdyb3VwQ291bnQgPSAwO1xyXG4gIHN0YXRlLmxhc3RSYW5nZSA9IG51bGw7XHJcbiAgc3RhdGUudXNhZ2VUcmFja2VyID0ge307XHJcbiAgc3RhdGUucGxhY2Vob2xkZXJJbnNlcnRpb25JblByb2dyZXNzID0gZmFsc2U7XHJcbiAgc3RhdGUuc3RvcnlIYXNVbnNhdmVkQ2hhbmdlcyA9IGZhbHNlO1xyXG4gIHN0YXRlLmZpbGxPcmRlciA9ICdhbHBoYWJldGljYWwnO1xyXG4gIHN0YXRlLmN1cnJlbnRTdG9yeUlkID0gbnVsbDtcclxuICBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJTZWFyY2ggPSAnJztcclxuICBzdGF0ZS5jdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaCA9ICcnO1xyXG4gIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUgPSBudWxsO1xyXG4gIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlckVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRlLmlzRWRpdGluZ1BsYWNlaG9sZGVyID0gZmFsc2U7XHJcbn0iXSwibmFtZXMiOlsic3RhdGUiLCJ2YXJpYWJsZXMiLCJ2YXJpYWJsZUNvdW50cyIsImluc2VydGlvbkNvdW50ZXIiLCJzdG9yeVRleHQiLCJjdXN0b21QbGFjZWhvbGRlcnMiLCJmaWxsVmFsdWVzIiwicHJvbm91bkdyb3VwcyIsInByb25vdW5Hcm91cENvdW50IiwibGFzdFJhbmdlIiwidXNhZ2VUcmFja2VyIiwicGxhY2Vob2xkZXJJbnNlcnRpb25JblByb2dyZXNzIiwic3RvcnlIYXNVbnNhdmVkQ2hhbmdlcyIsImZpbGxPcmRlciIsImN1cnJlbnRTdG9yeUlkIiwiY3VycmVudFBsYWNlaG9sZGVyU2VhcmNoIiwiY3VycmVudE1vZGFsUGxhY2Vob2xkZXJTZWFyY2giLCJjdXJyZW50RWRpdGluZ1ZhcmlhYmxlIiwiY3VycmVudFBsYWNlaG9sZGVyRWxlbWVudCIsImlzRWRpdGluZ1BsYWNlaG9sZGVyIiwicHJvbm91bk1hcHBpbmciLCJzdWJqZWN0Iiwib2JqZWN0IiwicG9zc0FkaiIsInBvc3NQcm9uIiwicmVmbGV4aXZlIiwicmVzZXRTdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/core/state.js\n");

/***/ }),

/***/ "./public/js/core/storyProcessor.js":
/*!******************************************!*\
  !*** ./public/js/core/storyProcessor.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFilenameFromTitle: () => (/* binding */ createFilenameFromTitle),\n/* harmony export */   fillPlaceholders: () => (/* binding */ fillPlaceholders),\n/* harmony export */   formatStoryForExport: () => (/* binding */ formatStoryForExport),\n/* harmony export */   loadStoryIntoEditor: () => (/* binding */ loadStoryIntoEditor),\n/* harmony export */   parseStoryFile: () => (/* binding */ parseStoryFile),\n/* harmony export */   resetStoryState: () => (/* binding */ resetStoryState)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _placeholders_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./placeholders.js */ \"./public/js/core/placeholders.js\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n// public/js/core/storyProcessor.js\n\n\n\n/**\r\n * Functions for processing and manipulating story text\r\n */\n\n// Fill in placeholders with user-provided values\nvar fillPlaceholders = function fillPlaceholders(templateText, variables, fillValues, pronounGroups) {\n  console.log(\"========== FILLING PLACEHOLDERS ==========\");\n  console.log(\"Input templateText length:\", (templateText === null || templateText === void 0 ? void 0 : templateText.length) || 0);\n  console.log(\"Available variables:\", (variables === null || variables === void 0 ? void 0 : variables.length) || 0);\n  console.log(\"Fill values:\", fillValues);\n  console.log(\"Placeholder text:\", templateText);\n  if (!templateText) return '';\n\n  // Extract all placeholders from the text\n  var placeholderRegex = /\\{([^}]+)\\}/g;\n  var placeholders = [];\n  var match;\n  while ((match = placeholderRegex.exec(templateText)) !== null) {\n    placeholders.push({\n      fullMatch: match[0],\n      id: match[1]\n    });\n  }\n  console.log(\"Extracted placeholders:\", placeholders.length);\n  placeholders.forEach(function (p) {\n    return console.log(\"- \".concat(p.fullMatch, \" (ID: \").concat(p.id, \")\"));\n  });\n  var result = templateText;\n\n  // First pass: process placeholders with explicit variables\n  var _iterator = _createForOfIteratorHelper(variables),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var variable = _step.value;\n      var placeholder = \"{\".concat(variable.id, \"}\");\n      if (result.includes(placeholder)) {\n        console.log(\"Processing \".concat(placeholder, \"...\"));\n\n        // Handle pronouns specially\n        if (variable.internalType.startsWith('PRONOUN|')) {\n          var parts = variable.internalType.split('|');\n          var groupId = parts[1];\n          var form = parts[2];\n          console.log(\"  Handling pronoun: groupId=\".concat(groupId, \", form=\").concat(form));\n          if (pronounGroups && pronounGroups[groupId] && pronounGroups[groupId][form]) {\n            var pronounValue = pronounGroups[groupId][form];\n            console.log(\"  Found pronoun value: \\\"\".concat(pronounValue, \"\\\"\"));\n            result = result.replace(new RegExp(placeholder, 'g'), pronounValue);\n          } else {\n            console.warn(\"  WARNING: No pronoun value found for group \".concat(groupId, \" form \").concat(form));\n            result = result.replace(new RegExp(placeholder, 'g'), variable.displayOverride || variable.display || '[MISSING PRONOUN]');\n          }\n        }\n        // Handle regular variables\n        else if (fillValues && fillValues[variable.id]) {\n          console.log(\"  Replacing with user-provided value: \\\"\".concat(fillValues[variable.id], \"\\\"\"));\n          result = result.replace(new RegExp(placeholder, 'g'), fillValues[variable.id]);\n        } else {\n          console.warn(\"  WARNING: No fill value for \".concat(variable.id));\n          result = result.replace(new RegExp(placeholder, 'g'), variable.displayOverride || '[MISSING VALUE]');\n        }\n      } else {\n        console.log(\"Placeholder {\".concat(variable.id, \"} not found in text\"));\n      }\n    }\n\n    // Second pass: Check for any remaining placeholders not in the variables list\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var remainingMatch;\n  var remainingRegex = /\\{([^}]+)\\}/g;\n  while ((remainingMatch = remainingRegex.exec(result)) !== null) {\n    var missingId = remainingMatch[1];\n    console.warn(\"WARNING: Found placeholder {\".concat(missingId, \"} that wasn't in the variables list!\"));\n\n    // Try to directly replace from fillValues as a last resort\n    if (fillValues && fillValues[missingId]) {\n      console.log(\"  Replacing directly from fillValues with: \\\"\".concat(fillValues[missingId], \"\\\"\"));\n      result = result.replace(new RegExp(\"\\\\{\".concat(missingId, \"\\\\}\"), 'g'), fillValues[missingId]);\n    } else {\n      console.error(\"  ERROR: No value available for placeholder {\".concat(missingId, \"}\"));\n    }\n  }\n  console.log(\"Final text after replacements:\", result);\n  return result;\n};\n\n// Parse uploaded story text file\nvar parseStoryFile = function parseStoryFile(content) {\n  var titleMatch = content.match(/^Title:\\s*(.*)$/m);\n  var authorMatch = content.match(/^Author:\\s*(.*)$/m);\n  var storyStartIndex = content.indexOf('\\n\\n');\n  var storyContent = storyStartIndex !== -1 ? content.substring(storyStartIndex + 2) : content;\n  return {\n    title: titleMatch ? titleMatch[1] : '',\n    author: authorMatch ? authorMatch[1] : '',\n    content: storyContent\n  };\n};\n\n// Format story for export/download\nvar formatStoryForExport = function formatStoryForExport(title, author, content) {\n  return \"Title: \".concat(title, \"\\nAuthor: \").concat(author, \"\\n\\n\").concat(content);\n};\n\n// Create download filename from title\nvar createFilenameFromTitle = function createFilenameFromTitle(title) {\n  return title ? title.replace(/[^a-z0-9]/gi, '_').toLowerCase() + '.txt' : 'story.txt';\n};\n\n// Reset story state for a new story\nvar resetStoryState = function resetStoryState() {\n  // Clear DOM fields\n  $('#storyTitle').val('');\n  $('#storyAuthor').val('');\n  $('#storyText').html('');\n  $('#storyTags').val('');\n\n  // Reset state variables\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables = [];\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts = {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter = 0;\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders = [];\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups = {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount = 0;\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges = false;\n\n  // Show editor view\n  $('#editor').removeClass('d-none');\n  $('#inputs, #result').addClass('d-none');\n\n  // Update UI\n  (0,_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesFromEditor)();\n};\n\n// Load story data into the editor\nvar loadStoryIntoEditor = function loadStoryIntoEditor(storyData) {\n  $('#storyTitle').val(storyData.title || '');\n  $('#storyAuthor').val(storyData.author || '');\n  $('#storyText').html(storyData.content || '');\n  $('#storyTags').val(storyData.tags ? storyData.tags.join(', ') : '');\n\n  // Reset state with the loaded story's data\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables = storyData.variables || [];\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts = storyData.variableCounts || {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter = 0;\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders = storyData.customPlaceholders || [];\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = storyData.fillValues || {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups = storyData.pronounGroups || {};\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount = storyData.pronounGroupCount || 0;\n  _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges = false;\n\n  // Update UI based on the loaded story\n  (0,_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesFromEditor)();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxJQUFJLEVBQUUsQ0FBQztFQUM3Q0ssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDRSxJQUFJLENBQUNTLFNBQVMsQ0FBQ3hCLE9BQU8sSUFBSSxFQUFFLENBQUM7RUFDN0NhLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsR0FBRyxDQUFDVSxTQUFTLENBQUNDLElBQUksR0FBR0QsU0FBUyxDQUFDQyxJQUFJLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7O0VBRXBFO0VBQ0EvRSxpREFBSyxDQUFDTSxTQUFTLEdBQUd1RSxTQUFTLENBQUN2RSxTQUFTLElBQUksRUFBRTtFQUMzQ04saURBQUssQ0FBQ3FFLGNBQWMsR0FBR1EsU0FBUyxDQUFDUixjQUFjLElBQUksQ0FBQyxDQUFDO0VBQ3JEckUsaURBQUssQ0FBQ3NFLGdCQUFnQixHQUFHLENBQUM7RUFDMUJ0RSxpREFBSyxDQUFDdUUsa0JBQWtCLEdBQUdNLFNBQVMsQ0FBQ04sa0JBQWtCLElBQUksRUFBRTtFQUM3RHZFLGlEQUFLLENBQUNPLFVBQVUsR0FBR3NFLFNBQVMsQ0FBQ3RFLFVBQVUsSUFBSSxDQUFDLENBQUM7RUFDN0NQLGlEQUFLLENBQUNRLGFBQWEsR0FBR3FFLFNBQVMsQ0FBQ3JFLGFBQWEsSUFBSSxDQUFDLENBQUM7RUFDbkRSLGlEQUFLLENBQUN3RSxpQkFBaUIsR0FBR0ssU0FBUyxDQUFDTCxpQkFBaUIsSUFBSSxDQUFDO0VBQzFEeEUsaURBQUssQ0FBQ3lFLHNCQUFzQixHQUFHLEtBQUs7O0VBRXBDO0VBQ0F4RSwyRUFBeUIsQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9wdWJsaWMvanMvY29yZS9zdG9yeVByb2Nlc3Nvci5qcz82MmJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9jb3JlL3N0b3J5UHJvY2Vzc29yLmpzXHJcbmltcG9ydCBzdGF0ZSBmcm9tICcuL3N0YXRlLmpzJztcclxuaW1wb3J0IHsgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciwgYWxsUGxhY2Vob2xkZXJzLCBWRVJCX1RFTlNFUyB9IGZyb20gJy4vcGxhY2Vob2xkZXJzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbnMgZm9yIHByb2Nlc3NpbmcgYW5kIG1hbmlwdWxhdGluZyBzdG9yeSB0ZXh0XHJcbiAqL1xyXG5cclxuLy8gRmlsbCBpbiBwbGFjZWhvbGRlcnMgd2l0aCB1c2VyLXByb3ZpZGVkIHZhbHVlc1xyXG5leHBvcnQgY29uc3QgZmlsbFBsYWNlaG9sZGVycyA9ICh0ZW1wbGF0ZVRleHQsIHZhcmlhYmxlcywgZmlsbFZhbHVlcywgcHJvbm91bkdyb3VwcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT09IEZJTExJTkcgUExBQ0VIT0xERVJTID09PT09PT09PT1cIik7XHJcbiAgICBjb25zb2xlLmxvZyhcIklucHV0IHRlbXBsYXRlVGV4dCBsZW5ndGg6XCIsIHRlbXBsYXRlVGV4dD8ubGVuZ3RoIHx8IDApO1xyXG4gICAgY29uc29sZS5sb2coXCJBdmFpbGFibGUgdmFyaWFibGVzOlwiLCB2YXJpYWJsZXM/Lmxlbmd0aCB8fCAwKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRmlsbCB2YWx1ZXM6XCIsIGZpbGxWYWx1ZXMpO1xyXG4gICAgY29uc29sZS5sb2coXCJQbGFjZWhvbGRlciB0ZXh0OlwiLCB0ZW1wbGF0ZVRleHQpO1xyXG4gICAgXHJcbiAgICBpZiAoIXRlbXBsYXRlVGV4dCkgcmV0dXJuICcnO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IGFsbCBwbGFjZWhvbGRlcnMgZnJvbSB0aGUgdGV4dFxyXG4gICAgY29uc3QgcGxhY2Vob2xkZXJSZWdleCA9IC9cXHsoW159XSspXFx9L2c7XHJcbiAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBbXTtcclxuICAgIGxldCBtYXRjaDtcclxuICAgIHdoaWxlICgobWF0Y2ggPSBwbGFjZWhvbGRlclJlZ2V4LmV4ZWModGVtcGxhdGVUZXh0KSkgIT09IG51bGwpIHtcclxuICAgICAgICBwbGFjZWhvbGRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgIGZ1bGxNYXRjaDogbWF0Y2hbMF0sXHJcbiAgICAgICAgICAgIGlkOiBtYXRjaFsxXVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhcIkV4dHJhY3RlZCBwbGFjZWhvbGRlcnM6XCIsIHBsYWNlaG9sZGVycy5sZW5ndGgpO1xyXG4gICAgcGxhY2Vob2xkZXJzLmZvckVhY2gocCA9PiBjb25zb2xlLmxvZyhgLSAke3AuZnVsbE1hdGNofSAoSUQ6ICR7cC5pZH0pYCkpO1xyXG4gICAgXHJcbiAgICBsZXQgcmVzdWx0ID0gdGVtcGxhdGVUZXh0O1xyXG4gICAgXHJcbiAgICAvLyBGaXJzdCBwYXNzOiBwcm9jZXNzIHBsYWNlaG9sZGVycyB3aXRoIGV4cGxpY2l0IHZhcmlhYmxlc1xyXG4gICAgZm9yIChjb25zdCB2YXJpYWJsZSBvZiB2YXJpYWJsZXMpIHtcclxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGB7JHt2YXJpYWJsZS5pZH19YDtcclxuICAgICAgICBpZiAocmVzdWx0LmluY2x1ZGVzKHBsYWNlaG9sZGVyKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyAke3BsYWNlaG9sZGVyfS4uLmApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gSGFuZGxlIHByb25vdW5zIHNwZWNpYWxseVxyXG4gICAgICAgICAgICBpZiAodmFyaWFibGUuaW50ZXJuYWxUeXBlLnN0YXJ0c1dpdGgoJ1BST05PVU58JykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gdmFyaWFibGUuaW50ZXJuYWxUeXBlLnNwbGl0KCd8Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cElkID0gcGFydHNbMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtID0gcGFydHNbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgICBIYW5kbGluZyBwcm9ub3VuOiBncm91cElkPSR7Z3JvdXBJZH0sIGZvcm09JHtmb3JtfWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvbm91bkdyb3VwcyAmJiBwcm9ub3VuR3JvdXBzW2dyb3VwSWRdICYmIHByb25vdW5Hcm91cHNbZ3JvdXBJZF1bZm9ybV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ub3VuVmFsdWUgPSBwcm9ub3VuR3JvdXBzW2dyb3VwSWRdW2Zvcm1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIEZvdW5kIHByb25vdW4gdmFsdWU6IFwiJHtwcm9ub3VuVmFsdWV9XCJgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShuZXcgUmVnRXhwKHBsYWNlaG9sZGVyLCAnZycpLCBwcm9ub3VuVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCAgV0FSTklORzogTm8gcHJvbm91biB2YWx1ZSBmb3VuZCBmb3IgZ3JvdXAgJHtncm91cElkfSBmb3JtICR7Zm9ybX1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShuZXcgUmVnRXhwKHBsYWNlaG9sZGVyLCAnZycpLCB2YXJpYWJsZS5kaXNwbGF5T3ZlcnJpZGUgfHwgdmFyaWFibGUuZGlzcGxheSB8fCAnW01JU1NJTkcgUFJPTk9VTl0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgLy8gSGFuZGxlIHJlZ3VsYXIgdmFyaWFibGVzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGZpbGxWYWx1ZXMgJiYgZmlsbFZhbHVlc1t2YXJpYWJsZS5pZF0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFJlcGxhY2luZyB3aXRoIHVzZXItcHJvdmlkZWQgdmFsdWU6IFwiJHtmaWxsVmFsdWVzW3ZhcmlhYmxlLmlkXX1cImApO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UobmV3IFJlZ0V4cChwbGFjZWhvbGRlciwgJ2cnKSwgZmlsbFZhbHVlc1t2YXJpYWJsZS5pZF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAgIFdBUk5JTkc6IE5vIGZpbGwgdmFsdWUgZm9yICR7dmFyaWFibGUuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShuZXcgUmVnRXhwKHBsYWNlaG9sZGVyLCAnZycpLCB2YXJpYWJsZS5kaXNwbGF5T3ZlcnJpZGUgfHwgJ1tNSVNTSU5HIFZBTFVFXScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFBsYWNlaG9sZGVyIHske3ZhcmlhYmxlLmlkfX0gbm90IGZvdW5kIGluIHRleHRgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNlY29uZCBwYXNzOiBDaGVjayBmb3IgYW55IHJlbWFpbmluZyBwbGFjZWhvbGRlcnMgbm90IGluIHRoZSB2YXJpYWJsZXMgbGlzdFxyXG4gICAgbGV0IHJlbWFpbmluZ01hdGNoO1xyXG4gICAgY29uc3QgcmVtYWluaW5nUmVnZXggPSAvXFx7KFtefV0rKVxcfS9nO1xyXG4gICAgd2hpbGUgKChyZW1haW5pbmdNYXRjaCA9IHJlbWFpbmluZ1JlZ2V4LmV4ZWMocmVzdWx0KSkgIT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBtaXNzaW5nSWQgPSByZW1haW5pbmdNYXRjaFsxXTtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFdBUk5JTkc6IEZvdW5kIHBsYWNlaG9sZGVyIHske21pc3NpbmdJZH19IHRoYXQgd2Fzbid0IGluIHRoZSB2YXJpYWJsZXMgbGlzdCFgKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgdG8gZGlyZWN0bHkgcmVwbGFjZSBmcm9tIGZpbGxWYWx1ZXMgYXMgYSBsYXN0IHJlc29ydFxyXG4gICAgICAgIGlmIChmaWxsVmFsdWVzICYmIGZpbGxWYWx1ZXNbbWlzc2luZ0lkXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICBSZXBsYWNpbmcgZGlyZWN0bHkgZnJvbSBmaWxsVmFsdWVzIHdpdGg6IFwiJHtmaWxsVmFsdWVzW21pc3NpbmdJZF19XCJgKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UobmV3IFJlZ0V4cChgXFxcXHske21pc3NpbmdJZH1cXFxcfWAsICdnJyksIGZpbGxWYWx1ZXNbbWlzc2luZ0lkXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgICBFUlJPUjogTm8gdmFsdWUgYXZhaWxhYmxlIGZvciBwbGFjZWhvbGRlciB7JHttaXNzaW5nSWR9fWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coXCJGaW5hbCB0ZXh0IGFmdGVyIHJlcGxhY2VtZW50czpcIiwgcmVzdWx0KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG4vLyBQYXJzZSB1cGxvYWRlZCBzdG9yeSB0ZXh0IGZpbGVcclxuZXhwb3J0IGNvbnN0IHBhcnNlU3RvcnlGaWxlID0gKGNvbnRlbnQpID0+IHtcclxuICAgIGNvbnN0IHRpdGxlTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9eVGl0bGU6XFxzKiguKikkL20pO1xyXG4gICAgY29uc3QgYXV0aG9yTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9eQXV0aG9yOlxccyooLiopJC9tKTtcclxuICAgIGNvbnN0IHN0b3J5U3RhcnRJbmRleCA9IGNvbnRlbnQuaW5kZXhPZignXFxuXFxuJyk7XHJcbiAgICBjb25zdCBzdG9yeUNvbnRlbnQgPSBzdG9yeVN0YXJ0SW5kZXggIT09IC0xID8gY29udGVudC5zdWJzdHJpbmcoc3RvcnlTdGFydEluZGV4ICsgMikgOiBjb250ZW50O1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlOiB0aXRsZU1hdGNoID8gdGl0bGVNYXRjaFsxXSA6ICcnLFxyXG4gICAgICAgIGF1dGhvcjogYXV0aG9yTWF0Y2ggPyBhdXRob3JNYXRjaFsxXSA6ICcnLFxyXG4gICAgICAgIGNvbnRlbnQ6IHN0b3J5Q29udGVudFxyXG4gICAgfTtcclxufTtcclxuXHJcbi8vIEZvcm1hdCBzdG9yeSBmb3IgZXhwb3J0L2Rvd25sb2FkXHJcbmV4cG9ydCBjb25zdCBmb3JtYXRTdG9yeUZvckV4cG9ydCA9ICh0aXRsZSwgYXV0aG9yLCBjb250ZW50KSA9PiB7XHJcbiAgICByZXR1cm4gYFRpdGxlOiAke3RpdGxlfVxcbkF1dGhvcjogJHthdXRob3J9XFxuXFxuJHtjb250ZW50fWA7XHJcbn07XHJcblxyXG4vLyBDcmVhdGUgZG93bmxvYWQgZmlsZW5hbWUgZnJvbSB0aXRsZVxyXG5leHBvcnQgY29uc3QgY3JlYXRlRmlsZW5hbWVGcm9tVGl0bGUgPSAodGl0bGUpID0+IHtcclxuICAgIHJldHVybiB0aXRsZSA/IHRpdGxlLnJlcGxhY2UoL1teYS16MC05XS9naSwgJ18nKS50b0xvd2VyQ2FzZSgpICsgJy50eHQnIDogJ3N0b3J5LnR4dCc7XHJcbn07XHJcblxyXG4vLyBSZXNldCBzdG9yeSBzdGF0ZSBmb3IgYSBuZXcgc3RvcnlcclxuZXhwb3J0IGNvbnN0IHJlc2V0U3RvcnlTdGF0ZSA9ICgpID0+IHtcclxuICAgIC8vIENsZWFyIERPTSBmaWVsZHNcclxuICAgICQoJyNzdG9yeVRpdGxlJykudmFsKCcnKTtcclxuICAgICQoJyNzdG9yeUF1dGhvcicpLnZhbCgnJyk7XHJcbiAgICAkKCcjc3RvcnlUZXh0JykuaHRtbCgnJyk7XHJcbiAgICAkKCcjc3RvcnlUYWdzJykudmFsKCcnKTtcclxuICAgIFxyXG4gICAgLy8gUmVzZXQgc3RhdGUgdmFyaWFibGVzXHJcbiAgICBzdGF0ZS52YXJpYWJsZXMgPSBbXTtcclxuICAgIHN0YXRlLnZhcmlhYmxlQ291bnRzID0ge307XHJcbiAgICBzdGF0ZS5pbnNlcnRpb25Db3VudGVyID0gMDtcclxuICAgIHN0YXRlLmN1c3RvbVBsYWNlaG9sZGVycyA9IFtdO1xyXG4gICAgc3RhdGUuZmlsbFZhbHVlcyA9IHt9O1xyXG4gICAgc3RhdGUucHJvbm91bkdyb3VwcyA9IHt9O1xyXG4gICAgc3RhdGUucHJvbm91bkdyb3VwQ291bnQgPSAwO1xyXG4gICAgc3RhdGUuc3RvcnlIYXNVbnNhdmVkQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBTaG93IGVkaXRvciB2aWV3XHJcbiAgICAkKCcjZWRpdG9yJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnI2lucHV0cywgI3Jlc3VsdCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIFVJXHJcbiAgICB1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yKCk7XHJcbn07XHJcblxyXG4vLyBMb2FkIHN0b3J5IGRhdGEgaW50byB0aGUgZWRpdG9yXHJcbmV4cG9ydCBjb25zdCBsb2FkU3RvcnlJbnRvRWRpdG9yID0gKHN0b3J5RGF0YSkgPT4ge1xyXG4gICAgJCgnI3N0b3J5VGl0bGUnKS52YWwoc3RvcnlEYXRhLnRpdGxlIHx8ICcnKTtcclxuICAgICQoJyNzdG9yeUF1dGhvcicpLnZhbChzdG9yeURhdGEuYXV0aG9yIHx8ICcnKTtcclxuICAgICQoJyNzdG9yeVRleHQnKS5odG1sKHN0b3J5RGF0YS5jb250ZW50IHx8ICcnKTtcclxuICAgICQoJyNzdG9yeVRhZ3MnKS52YWwoc3RvcnlEYXRhLnRhZ3MgPyBzdG9yeURhdGEudGFncy5qb2luKCcsICcpIDogJycpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBzdGF0ZSB3aXRoIHRoZSBsb2FkZWQgc3RvcnkncyBkYXRhXHJcbiAgICBzdGF0ZS52YXJpYWJsZXMgPSBzdG9yeURhdGEudmFyaWFibGVzIHx8IFtdO1xyXG4gICAgc3RhdGUudmFyaWFibGVDb3VudHMgPSBzdG9yeURhdGEudmFyaWFibGVDb3VudHMgfHwge307XHJcbiAgICBzdGF0ZS5pbnNlcnRpb25Db3VudGVyID0gMDtcclxuICAgIHN0YXRlLmN1c3RvbVBsYWNlaG9sZGVycyA9IHN0b3J5RGF0YS5jdXN0b21QbGFjZWhvbGRlcnMgfHwgW107XHJcbiAgICBzdGF0ZS5maWxsVmFsdWVzID0gc3RvcnlEYXRhLmZpbGxWYWx1ZXMgfHwge307XHJcbiAgICBzdGF0ZS5wcm9ub3VuR3JvdXBzID0gc3RvcnlEYXRhLnByb25vdW5Hcm91cHMgfHwge307XHJcbiAgICBzdGF0ZS5wcm9ub3VuR3JvdXBDb3VudCA9IHN0b3J5RGF0YS5wcm9ub3VuR3JvdXBDb3VudCB8fCAwO1xyXG4gICAgc3RhdGUuc3RvcnlIYXNVbnNhdmVkQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgVUkgYmFzZWQgb24gdGhlIGxvYWRlZCBzdG9yeVxyXG4gICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcigpO1xyXG59OyJdLCJuYW1lcyI6WyJzdGF0ZSIsInVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IiLCJhbGxQbGFjZWhvbGRlcnMiLCJWRVJCX1RFTlNFUyIsImZpbGxQbGFjZWhvbGRlcnMiLCJ0ZW1wbGF0ZVRleHQiLCJ2YXJpYWJsZXMiLCJmaWxsVmFsdWVzIiwicHJvbm91bkdyb3VwcyIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJwbGFjZWhvbGRlclJlZ2V4IiwicGxhY2Vob2xkZXJzIiwibWF0Y2giLCJleGVjIiwicHVzaCIsImZ1bGxNYXRjaCIsImlkIiwiZm9yRWFjaCIsInAiLCJjb25jYXQiLCJyZXN1bHQiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9zdGVwIiwicyIsIm4iLCJkb25lIiwidmFyaWFibGUiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwiaW5jbHVkZXMiLCJpbnRlcm5hbFR5cGUiLCJzdGFydHNXaXRoIiwicGFydHMiLCJzcGxpdCIsImdyb3VwSWQiLCJmb3JtIiwicHJvbm91blZhbHVlIiwicmVwbGFjZSIsIlJlZ0V4cCIsIndhcm4iLCJkaXNwbGF5T3ZlcnJpZGUiLCJkaXNwbGF5IiwiZXJyIiwiZSIsImYiLCJyZW1haW5pbmdNYXRjaCIsInJlbWFpbmluZ1JlZ2V4IiwibWlzc2luZ0lkIiwiZXJyb3IiLCJwYXJzZVN0b3J5RmlsZSIsImNvbnRlbnQiLCJ0aXRsZU1hdGNoIiwiYXV0aG9yTWF0Y2giLCJzdG9yeVN0YXJ0SW5kZXgiLCJpbmRleE9mIiwic3RvcnlDb250ZW50Iiwic3Vic3RyaW5nIiwidGl0bGUiLCJhdXRob3IiLCJmb3JtYXRTdG9yeUZvckV4cG9ydCIsImNyZWF0ZUZpbGVuYW1lRnJvbVRpdGxlIiwidG9Mb3dlckNhc2UiLCJyZXNldFN0b3J5U3RhdGUiLCIkIiwidmFsIiwiaHRtbCIsInZhcmlhYmxlQ291bnRzIiwiaW5zZXJ0aW9uQ291bnRlciIsImN1c3RvbVBsYWNlaG9sZGVycyIsInByb25vdW5Hcm91cENvdW50Iiwic3RvcnlIYXNVbnNhdmVkQ2hhbmdlcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJsb2FkU3RvcnlJbnRvRWRpdG9yIiwic3RvcnlEYXRhIiwidGFncyIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/js/core/storyProcessor.js\n");

/***/ }),

/***/ "./public/js/core/typeSelectionModals.js":
/*!***********************************************!*\
  !*** ./public/js/core/typeSelectionModals.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   showNounNumberSelection: () => (/* binding */ showNounNumberSelection),\n/* harmony export */   showPersonTypeSelection: () => (/* binding */ showPersonTypeSelection),\n/* harmony export */   showVerbTenseSelection: () => (/* binding */ showVerbTenseSelection)\n/* harmony export */ });\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/typeHelpers.js */ \"./public/js/utils/typeHelpers.js\");\n/* harmony import */ var _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placeholderDefinitions.js */ \"./public/js/core/placeholderDefinitions.js\");\n/* harmony import */ var _placeholderCreation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./placeholderCreation.js */ \"./public/js/core/placeholderCreation.js\");\n/* harmony import */ var _placeholderManagement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./placeholderManagement.js */ \"./public/js/core/placeholderManagement.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n\n\n\n\n\n\n/**\r\n * Shows a modal for selecting person type\r\n * @param {string} baseInternal - The base internal type\r\n * @param {string} baseDisplay - The base display name\r\n */\nvar showPersonTypeSelection = function showPersonTypeSelection(baseInternal, baseDisplay) {\n  var html = \"<div class='list-group'>\\n  <button class='list-group-item list-group-item-action person-type-btn' data-type='common'>\\n    Common (e.g., doctor)\\n  </button>\\n  <button class='list-group-item list-group-item-action person-type-btn' data-type='proper'>\\n    Proper (e.g., Donald Trump)\\n  </button>\\n</div>\";\n  Swal.fire({\n    title: 'Select Person Type',\n    html: html,\n    showCancelButton: true,\n    showConfirmButton: false,\n    allowOutsideClick: false,\n    didOpen: function didOpen() {\n      var container = Swal.getHtmlContainer();\n      $(container).find('.person-type-btn').on('click', function () {\n        var selectedType = $(this).data('type'); // \"common\" or \"proper\"\n        var updatedBaseInternal, updatedBaseDisplay;\n        if (selectedType === \"proper\") {\n          updatedBaseInternal = \"NNP_Person\";\n          updatedBaseDisplay = \"Proper \" + baseDisplay;\n        } else {\n          updatedBaseInternal = \"NN_Person\";\n          updatedBaseDisplay = \"Common \" + baseDisplay;\n        }\n        // Close the current modal...\n        Swal.close();\n        // ...and use a small timeout to ensure it's fully closed before showing the next modal.\n        setTimeout(function () {\n          showNounNumberSelection(updatedBaseInternal, updatedBaseDisplay);\n        }, 100);\n      });\n    }\n  });\n};\n\n/**\r\n * Shows a modal for selecting noun number\r\n * @param {string} baseInternal - The base internal type\r\n * @param {string} baseDisplay - The base display name\r\n */\nvar showNounNumberSelection = function showNounNumberSelection(baseInternal, baseDisplay) {\n  var html = \"<div class='list-group'>\";\n  ['Singular', 'Plural'].forEach(function (f) {\n    html += \"<button class='list-group-item list-group-item-action noun-number-btn' data-form='\".concat(f, \"'>\").concat(f, \"</button>\");\n  });\n  html += \"</div>\";\n  Swal.fire({\n    title: 'Select Number',\n    html: html,\n    showCancelButton: true,\n    showConfirmButton: false,\n    didOpen: function didOpen() {\n      var container = Swal.getHtmlContainer();\n      $(container).find('.noun-number-btn').on('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var selected, finalInternal, finalDisplay;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              selected = $(this).data('form');\n              finalInternal = _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__.TypeHelpers.getNounFinalType(baseInternal, selected);\n              finalDisplay = \"\".concat(baseDisplay, \" (\").concat(selected, \")\");\n              if (!(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder && _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable)) {\n                _context.next = 10;\n                break;\n              }\n              (0,_placeholderManagement_js__WEBPACK_IMPORTED_MODULE_4__.updateExistingPlaceholder)(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable, finalInternal, finalDisplay);\n              _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder = false;\n              _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable = null;\n              Swal.close();\n              _context.next = 13;\n              break;\n            case 10:\n              _context.next = 12;\n              return (0,_placeholderCreation_js__WEBPACK_IMPORTED_MODULE_3__.insertPlaceholder)(finalInternal, finalDisplay, false);\n            case 12:\n              Swal.close();\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      })));\n    }\n  });\n};\n\n/**\r\n * Shows a modal for selecting verb tense\r\n * @param {string} baseInternal - The base internal type\r\n * @param {string} baseDisplay - The base display name\r\n */\nvar showVerbTenseSelection = function showVerbTenseSelection(baseInternal, baseDisplay) {\n  var html = \"<div class='list-group'>\";\n  _placeholderDefinitions_js__WEBPACK_IMPORTED_MODULE_2__.VERB_TENSES.forEach(function (t) {\n    html += \"<button class='list-group-item list-group-item-action verb-tense-btn' data-tense='\".concat(t.value, \"' data-text='\").concat(t.text, \"'>\").concat(t.text, \"</button>\");\n  });\n  html += \"</div>\";\n  Swal.fire({\n    title: 'Select Verb Tense',\n    html: html,\n    showCancelButton: true,\n    showConfirmButton: false,\n    didOpen: function didOpen() {\n      var container = Swal.getHtmlContainer();\n      $(container).find('.verb-tense-btn').on('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var selectedTense, tenseText, finalInternal, finalDisplay;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              selectedTense = $(this).data('tense');\n              tenseText = $(this).data('text');\n              finalInternal = _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__.TypeHelpers.computeFinalVerbType(baseInternal, selectedTense);\n              finalDisplay = \"\".concat(baseDisplay, \" (\").concat(tenseText, \")\");\n              if (!(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder && _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable)) {\n                _context2.next = 11;\n                break;\n              }\n              (0,_placeholderManagement_js__WEBPACK_IMPORTED_MODULE_4__.updateExistingPlaceholder)(_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable, finalInternal, finalDisplay);\n              _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder = false;\n              _state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable = null;\n              Swal.close();\n              _context2.next = 14;\n              break;\n            case 11:\n              _context2.next = 13;\n              return (0,_placeholderCreation_js__WEBPACK_IMPORTED_MODULE_3__.insertPlaceholder)(finalInternal, finalDisplay, false);\n            case 13:\n              Swal.close();\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      })));\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvY29yZS90eXBlU2VsZWN0aW9uTW9kYWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzsrQ0FDQSxxSkFBQUEsbUJBQUEsWUFBQUEsb0JBQUEsV0FBQUMsQ0FBQSxTQUFBQyxDQUFBLEVBQUFELENBQUEsT0FBQUUsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLFNBQUEsRUFBQUMsQ0FBQSxHQUFBSCxDQUFBLENBQUFJLGNBQUEsRUFBQUMsQ0FBQSxHQUFBSixNQUFBLENBQUFLLGNBQUEsY0FBQVAsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsSUFBQUQsQ0FBQSxDQUFBRCxDQUFBLElBQUFFLENBQUEsQ0FBQU8sS0FBQSxLQUFBQyxDQUFBLHdCQUFBQyxNQUFBLEdBQUFBLE1BQUEsT0FBQUMsQ0FBQSxHQUFBRixDQUFBLENBQUFHLFFBQUEsa0JBQUFDLENBQUEsR0FBQUosQ0FBQSxDQUFBSyxhQUFBLHVCQUFBQyxDQUFBLEdBQUFOLENBQUEsQ0FBQU8sV0FBQSw4QkFBQUMsT0FBQWpCLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLFdBQUFDLE1BQUEsQ0FBQUssY0FBQSxDQUFBUCxDQUFBLEVBQUFELENBQUEsSUFBQVMsS0FBQSxFQUFBUCxDQUFBLEVBQUFpQixVQUFBLE1BQUFDLFlBQUEsTUFBQUMsUUFBQSxTQUFBcEIsQ0FBQSxDQUFBRCxDQUFBLFdBQUFrQixNQUFBLG1CQUFBakIsQ0FBQSxJQUFBaUIsTUFBQSxZQUFBQSxPQUFBakIsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsV0FBQUQsQ0FBQSxDQUFBRCxDQUFBLElBQUFFLENBQUEsZ0JBQUFvQixLQUFBckIsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsRUFBQUcsQ0FBQSxRQUFBSyxDQUFBLEdBQUFWLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxTQUFBLFlBQUFtQixTQUFBLEdBQUF2QixDQUFBLEdBQUF1QixTQUFBLEVBQUFYLENBQUEsR0FBQVQsTUFBQSxDQUFBcUIsTUFB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LElBQUE7VUFBQTtRQUFBLEdBQUFxRCxRQUFBO01BQUEsQ0FFcEIsR0FBQztJQUNOO0VBQ0osQ0FBQyxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JsYW5rYm9vay8uL3B1YmxpYy9qcy9jb3JlL3R5cGVTZWxlY3Rpb25Nb2RhbHMuanM/YWRiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RhdGUgZnJvbSAnLi9zdGF0ZS5qcyc7XHJcbmltcG9ydCB7IFR5cGVIZWxwZXJzIH0gZnJvbSAnLi4vdXRpbHMvdHlwZUhlbHBlcnMuanMnO1xyXG5pbXBvcnQgeyBWRVJCX1RFTlNFUyB9IGZyb20gJy4vcGxhY2Vob2xkZXJEZWZpbml0aW9ucy5qcyc7XHJcbmltcG9ydCB7IGluc2VydFBsYWNlaG9sZGVyIH0gZnJvbSAnLi9wbGFjZWhvbGRlckNyZWF0aW9uLmpzJztcclxuaW1wb3J0IHsgdXBkYXRlRXhpc3RpbmdQbGFjZWhvbGRlciB9IGZyb20gJy4vcGxhY2Vob2xkZXJNYW5hZ2VtZW50LmpzJztcclxuXHJcbi8qKlxyXG4gKiBTaG93cyBhIG1vZGFsIGZvciBzZWxlY3RpbmcgcGVyc29uIHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VJbnRlcm5hbCAtIFRoZSBiYXNlIGludGVybmFsIHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VEaXNwbGF5IC0gVGhlIGJhc2UgZGlzcGxheSBuYW1lXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2hvd1BlcnNvblR5cGVTZWxlY3Rpb24gPSAoYmFzZUludGVybmFsLCBiYXNlRGlzcGxheSkgPT4ge1xyXG4gICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz0nbGlzdC1ncm91cCc+XHJcbiAgPGJ1dHRvbiBjbGFzcz0nbGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1hY3Rpb24gcGVyc29uLXR5cGUtYnRuJyBkYXRhLXR5cGU9J2NvbW1vbic+XHJcbiAgICBDb21tb24gKGUuZy4sIGRvY3RvcilcclxuICA8L2J1dHRvbj5cclxuICA8YnV0dG9uIGNsYXNzPSdsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWFjdGlvbiBwZXJzb24tdHlwZS1idG4nIGRhdGEtdHlwZT0ncHJvcGVyJz5cclxuICAgIFByb3BlciAoZS5nLiwgRG9uYWxkIFRydW1wKVxyXG4gIDwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG4gICAgU3dhbC5maXJlKHtcclxuICAgICAgICB0aXRsZTogJ1NlbGVjdCBQZXJzb24gVHlwZScsXHJcbiAgICAgICAgaHRtbCxcclxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsXHJcbiAgICAgICAgZGlkT3BlbjogKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBTd2FsLmdldEh0bWxDb250YWluZXIoKTtcclxuICAgICAgICAgICAgJChjb250YWluZXIpLmZpbmQoJy5wZXJzb24tdHlwZS1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFR5cGUgPSAkKHRoaXMpLmRhdGEoJ3R5cGUnKTsgLy8gXCJjb21tb25cIiBvciBcInByb3BlclwiXHJcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlZEJhc2VJbnRlcm5hbCwgdXBkYXRlZEJhc2VEaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVHlwZSA9PT0gXCJwcm9wZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRCYXNlSW50ZXJuYWwgPSBcIk5OUF9QZXJzb25cIjtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQmFzZURpc3BsYXkgPSBcIlByb3BlciBcIiArIGJhc2VEaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQmFzZUludGVybmFsID0gXCJOTl9QZXJzb25cIjtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQmFzZURpc3BsYXkgPSBcIkNvbW1vbiBcIiArIGJhc2VEaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGN1cnJlbnQgbW9kYWwuLi5cclxuICAgICAgICAgICAgICAgIFN3YWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIC8vIC4uLmFuZCB1c2UgYSBzbWFsbCB0aW1lb3V0IHRvIGVuc3VyZSBpdCdzIGZ1bGx5IGNsb3NlZCBiZWZvcmUgc2hvd2luZyB0aGUgbmV4dCBtb2RhbC5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dOb3VuTnVtYmVyU2VsZWN0aW9uKHVwZGF0ZWRCYXNlSW50ZXJuYWwsIHVwZGF0ZWRCYXNlRGlzcGxheSk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTaG93cyBhIG1vZGFsIGZvciBzZWxlY3Rpbmcgbm91biBudW1iZXJcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VJbnRlcm5hbCAtIFRoZSBiYXNlIGludGVybmFsIHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VEaXNwbGF5IC0gVGhlIGJhc2UgZGlzcGxheSBuYW1lXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2hvd05vdW5OdW1iZXJTZWxlY3Rpb24gPSAoYmFzZUludGVybmFsLCBiYXNlRGlzcGxheSkgPT4ge1xyXG4gICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz0nbGlzdC1ncm91cCc+YDtcclxuICAgIFsnU2luZ3VsYXInLCAnUGx1cmFsJ10uZm9yRWFjaChmID0+IHtcclxuICAgICAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPSdsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWFjdGlvbiBub3VuLW51bWJlci1idG4nIGRhdGEtZm9ybT0nJHtmfSc+JHtmfTwvYnV0dG9uPmA7XHJcbiAgICB9KTtcclxuICAgIGh0bWwgKz0gYDwvZGl2PmA7XHJcbiAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgIHRpdGxlOiAnU2VsZWN0IE51bWJlcicsXHJcbiAgICAgICAgaHRtbCxcclxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICBkaWRPcGVuOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFN3YWwuZ2V0SHRtbENvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICAkKGNvbnRhaW5lcikuZmluZCgnLm5vdW4tbnVtYmVyLWJ0bicpLm9uKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gJCh0aGlzKS5kYXRhKCdmb3JtJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEludGVybmFsID0gVHlwZUhlbHBlcnMuZ2V0Tm91bkZpbmFsVHlwZShiYXNlSW50ZXJuYWwsIHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsRGlzcGxheSA9IGAke2Jhc2VEaXNwbGF5fSAoJHtzZWxlY3RlZH0pYDtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc0VkaXRpbmdQbGFjZWhvbGRlciAmJiBzdGF0ZS5jdXJyZW50RWRpdGluZ1ZhcmlhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRXhpc3RpbmdQbGFjZWhvbGRlcihzdGF0ZS5jdXJyZW50RWRpdGluZ1ZhcmlhYmxlLCBmaW5hbEludGVybmFsLCBmaW5hbERpc3BsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzRWRpdGluZ1BsYWNlaG9sZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudEVkaXRpbmdWYXJpYWJsZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbnNlcnRQbGFjZWhvbGRlcihmaW5hbEludGVybmFsLCBmaW5hbERpc3BsYXksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBTd2FsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNob3dzIGEgbW9kYWwgZm9yIHNlbGVjdGluZyB2ZXJiIHRlbnNlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlSW50ZXJuYWwgLSBUaGUgYmFzZSBpbnRlcm5hbCB0eXBlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlRGlzcGxheSAtIFRoZSBiYXNlIGRpc3BsYXkgbmFtZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNob3dWZXJiVGVuc2VTZWxlY3Rpb24gPSAoYmFzZUludGVybmFsLCBiYXNlRGlzcGxheSkgPT4ge1xyXG4gICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz0nbGlzdC1ncm91cCc+YDtcclxuICAgIFZFUkJfVEVOU0VTLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz0nbGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1hY3Rpb24gdmVyYi10ZW5zZS1idG4nIGRhdGEtdGVuc2U9JyR7dC52YWx1ZX0nIGRhdGEtdGV4dD0nJHt0LnRleHR9Jz4ke3QudGV4dH08L2J1dHRvbj5gO1xyXG4gICAgfSk7XHJcbiAgICBodG1sICs9IGA8L2Rpdj5gO1xyXG4gICAgU3dhbC5maXJlKHtcclxuICAgICAgICB0aXRsZTogJ1NlbGVjdCBWZXJiIFRlbnNlJyxcclxuICAgICAgICBodG1sLFxyXG4gICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLFxyXG4gICAgICAgIGRpZE9wZW46ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gU3dhbC5nZXRIdG1sQ29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICQoY29udGFpbmVyKS5maW5kKCcudmVyYi10ZW5zZS1idG4nKS5vbignY2xpY2snLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFRlbnNlID0gJCh0aGlzKS5kYXRhKCd0ZW5zZScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVuc2VUZXh0ID0gJCh0aGlzKS5kYXRhKCd0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEludGVybmFsID0gVHlwZUhlbHBlcnMuY29tcHV0ZUZpbmFsVmVyYlR5cGUoYmFzZUludGVybmFsLCBzZWxlY3RlZFRlbnNlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsRGlzcGxheSA9IGAke2Jhc2VEaXNwbGF5fSAoJHt0ZW5zZVRleHR9KWA7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaXNFZGl0aW5nUGxhY2Vob2xkZXIgJiYgc3RhdGUuY3VycmVudEVkaXRpbmdWYXJpYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIoc3RhdGUuY3VycmVudEVkaXRpbmdWYXJpYWJsZSwgZmluYWxJbnRlcm5hbCwgZmluYWxEaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0VkaXRpbmdQbGFjZWhvbGRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIFN3YWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW5zZXJ0UGxhY2Vob2xkZXIoZmluYWxJbnRlcm5hbCwgZmluYWxEaXNwbGF5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTsgIl0sIm5hbWVzIjpbIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJlIiwidCIsInIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJuIiwiaGFzT3duUHJvcGVydHkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImkiLCJTeW1ib2wiLCJhIiwiaXRlcmF0b3IiLCJjIiwiYXN5bmNJdGVyYXRvciIsInUiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIndyYXAiLCJHZW5lcmF0b3IiLCJjcmVhdGUiLCJDb250ZXh0IiwibWFrZUludm9rZU1ldGhvZCIsInRyeUNhdGNoIiwidHlwZSIsImFyZyIsImNhbGwiLCJoIiwibCIsImYiLCJzIiwieSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJwIiwiZCIsImdldFByb3RvdHlwZU9mIiwidiIsInZhbHVlcyIsImciLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiX2ludm9rZSIsIkFzeW5jSXRlcmF0b3IiLCJpbnZva2UiLCJfdHlwZW9mIiwicmVzb2x2ZSIsIl9fYXdhaXQiLCJ0aGVuIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJFcnJvciIsImRvbmUiLCJtZXRob2QiLCJkZWxlZ2F0ZSIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsIlR5cGVFcnJvciIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXNOYU4iLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsImtleXMiLCJyZXZlcnNlIiwicG9wIiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJ2YWwiLCJoYW5kbGUiLCJjb21wbGV0ZSIsImZpbmlzaCIsIl9jYXRjaCIsImRlbGVnYXRlWWllbGQiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJzdGF0ZSIsIlR5cGVIZWxwZXJzIiwiVkVSQl9URU5TRVMiLCJpbnNlcnRQbGFjZWhvbGRlciIsInVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIiLCJzaG93UGVyc29uVHlwZVNlbGVjdGlvbiIsImJhc2VJbnRlcm5hbCIsImJhc2VEaXNwbGF5IiwiaHRtbCIsIlN3YWwiLCJmaXJlIiwidGl0bGUiLCJzaG93Q2FuY2VsQnV0dG9uIiwic2hvd0NvbmZpcm1CdXR0b24iLCJhbGxvd091dHNpZGVDbGljayIsImRpZE9wZW4iLCJjb250YWluZXIiLCJnZXRIdG1sQ29udGFpbmVyIiwiJCIsImZpbmQiLCJvbiIsInNlbGVjdGVkVHlwZSIsImRhdGEiLCJ1cGRhdGVkQmFzZUludGVybmFsIiwidXBkYXRlZEJhc2VEaXNwbGF5IiwiY2xvc2UiLCJzZXRUaW1lb3V0Iiwic2hvd05vdW5OdW1iZXJTZWxlY3Rpb24iLCJjb25jYXQiLCJfY2FsbGVlIiwic2VsZWN0ZWQiLCJmaW5hbEludGVybmFsIiwiZmluYWxEaXNwbGF5IiwiX2NhbGxlZSQiLCJfY29udGV4dCIsImdldE5vdW5GaW5hbFR5cGUiLCJpc0VkaXRpbmdQbGFjZWhvbGRlciIsImN1cnJlbnRFZGl0aW5nVmFyaWFibGUiLCJzaG93VmVyYlRlbnNlU2VsZWN0aW9uIiwidGV4dCIsIl9jYWxsZWUyIiwic2VsZWN0ZWRUZW5zZSIsInRlbnNlVGV4dCIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsImNvbXB1dGVGaW5hbFZlcmJUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/core/typeSelectionModals.js\n");

/***/ }),

/***/ "./public/js/data/storage.js":
/*!***********************************!*\
  !*** ./public/js/data/storage.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Storage: () => (/* binding */ Storage)\n/* harmony export */ });\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/placeholders.js */ \"./public/js/core/placeholders.js\");\n/* harmony import */ var _ui_forms_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/forms.js */ \"./public/js/ui/forms.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/utils.js */ \"./public/js/utils/utils.js\");\n// public/js/data/storage.js\n\n\n\n\n\n// Define the base URL for all API calls - UPDATED to be dynamic\nvar API_BASE_URL = function () {\n  // If we're running on localhost with a specific port, use it with port 3000\n  if (window.location.hostname === 'localhost') {\n    return 'http://localhost:3000';\n  }\n  // For all other cases (production), use the same origin with correct port\n  return \"\".concat(window.location.protocol, \"//\").concat(window.location.hostname, \":3000\");\n}();\nconsole.log(\"Using API base URL: \".concat(API_BASE_URL));\nvar Storage = {\n  handleAjaxError: function handleAjaxError(xhr, statusText, errorThrown, customErrorMessage) {\n    var errorMessage = customErrorMessage || 'Failed to perform action';\n    if (xhr.status) {\n      errorMessage += \". Server responded with status: \".concat(xhr.status, \" \").concat(xhr.statusText);\n    } else if (statusText) {\n      errorMessage += \". Status text: \".concat(statusText);\n    } else if (errorThrown) {\n      errorMessage += \". Error: \".concat(errorThrown);\n    }\n    Swal.fire('Error', errorMessage, 'error');\n    console.error(\"AJAX Error:\", errorMessage, xhr);\n  },\n  addCurrentStoryToSavedStories: function addCurrentStoryToSavedStories() {\n    Swal.fire({\n      title: 'Save Story',\n      html: \"\\n              <input type=\\\"text\\\" id=\\\"swalTitle\\\" class=\\\"swal2-input\\\" placeholder=\\\"Story Title\\\" value=\\\"\".concat($('#storyTitle').val(), \"\\\">\\n              <input type=\\\"text\\\" id=\\\"swalAuthor\\\" class=\\\"swal2-input\\\" placeholder=\\\"Author\\\" value=\\\"\").concat($('#storyAuthor').val(), \"\\\">\\n              <input type=\\\"text\\\" id=\\\"swalTags\\\" class=\\\"swal2-input\\\" placeholder=\\\"Tags (comma separated)\\\" value=\\\"\").concat($('#storyTags').val(), \"\\\">\\n              <input type=\\\"password\\\" id=\\\"swalPassword\\\" class=\\\"swal2-input\\\" placeholder=\\\"Password (optional)\\\">\\n              <div id=\\\"preexistingTagsContainer\\\" style=\\\"text-align:left; margin-top:10px;\\\"></div>\\n            \"),\n      didOpen: function didOpen() {\n        // We need to import and call loadPreexistingTags from events.js\n        // This requires proper module handling\n        var container = $('#preexistingTagsContainer');\n        $.ajax({\n          url: \"\".concat(API_BASE_URL, \"/api/gettags\"),\n          method: 'GET',\n          success: function success(tags) {\n            container.empty();\n            if (tags.length > 0) {\n              container.append('<p>Select a tag:</p>');\n              tags.forEach(function (tag) {\n                var btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\n                btn.text(tag);\n                btn.on('click', function () {\n                  var current = $('#swalTags').val();\n                  var tagsArr = current ? current.split(',').map(function (t) {\n                    return t.trim();\n                  }).filter(Boolean) : [];\n                  if (!tagsArr.includes(tag)) {\n                    tagsArr.push(tag);\n                    $('#swalTags').val(tagsArr.join(', '));\n                  }\n                });\n                container.append(btn);\n              });\n            }\n          },\n          error: function error(err) {\n            console.error('Failed to load preexisting tags', err);\n          }\n        });\n      },\n      showCancelButton: true,\n      confirmButtonText: 'Save',\n      preConfirm: function preConfirm() {\n        return {\n          title: document.getElementById('swalTitle').value,\n          author: document.getElementById('swalAuthor').value,\n          tags: document.getElementById('swalTags').value,\n          password: document.getElementById('swalPassword').value\n        };\n      }\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        var data = result.value;\n        // Update fields in the editor\n        $('#storyTitle').val(data.title);\n        $('#storyAuthor').val(data.author);\n        $('#storyTags').val(data.tags);\n        var story = {\n          storyTitle: data.title,\n          storyAuthor: data.author,\n          storyText: $('#storyText').html(),\n          variables: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables,\n          pronounGroups: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups,\n          variableCounts: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts,\n          pronounGroupCount: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount,\n          customPlaceholders: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders,\n          tags: data.tags ? data.tags.split(',').map(function (s) {\n            return s.trim();\n          }) : [],\n          savedAt: new Date().toISOString(),\n          password: data.password && data.password.trim() !== '' ? data.password : null\n        };\n        $.ajax({\n          url: \"\".concat(API_BASE_URL, \"/api/savestory\"),\n          method: 'POST',\n          contentType: 'application/json',\n          data: JSON.stringify(story),\n          success: function success() {\n            Swal.fire({\n              toast: true,\n              position: 'top-end',\n              icon: 'success',\n              title: 'Story saved to site!',\n              showConfirmButton: false,\n              timer: 1500\n            });\n          },\n          error: function error(xhr, statusText, errorThrown) {\n            if (xhr.status === 409) {\n              Swal.fire({\n                title: 'Story exists',\n                text: 'A story with this title already exists. Overwrite?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, overwrite',\n                cancelButtonText: 'No'\n              }).then(function (result) {\n                if (result.isConfirmed) {\n                  // Create a new story object with the overwrite flag\n                  var storyWithOverwrite = {\n                    storyTitle: $('#storyTitle').val(),\n                    storyAuthor: $('#storyAuthor').val(),\n                    storyText: $('#storyText').html(),\n                    variables: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables,\n                    pronounGroups: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups,\n                    variableCounts: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts,\n                    pronounGroupCount: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount,\n                    customPlaceholders: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders,\n                    tags: $('#storyTags').val() ? $('#storyTags').val().split(',').map(function (s) {\n                      return s.trim();\n                    }) : [],\n                    savedAt: new Date().toISOString(),\n                    password: null,\n                    overwrite: true // Add the overwrite flag\n                  };\n                  $.ajax({\n                    url: \"\".concat(API_BASE_URL, \"/api/savestory\"),\n                    method: 'POST',\n                    contentType: 'application/json',\n                    data: JSON.stringify(storyWithOverwrite),\n                    success: function success() {\n                      Swal.fire({\n                        toast: true,\n                        position: 'top-end',\n                        icon: 'success',\n                        title: 'Story overwritten!',\n                        showConfirmButton: false,\n                        timer: 1500\n                      });\n                    },\n                    error: function error(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) {\n                      Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite story');\n                    }\n                  });\n                }\n              });\n            } else {\n              Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save story');\n            }\n          }\n        });\n      }\n    });\n  },\n  addCompletedStoryToSavedStories: function addCompletedStoryToSavedStories() {\n    Swal.fire({\n      title: 'Save Completed Story',\n      html: \"\\n              <input type=\\\"text\\\" id=\\\"swalTitle\\\" class=\\\"swal2-input\\\" placeholder=\\\"Story Title\\\" value=\\\"\".concat($('#displayTitle').text(), \"\\\">\\n              <input type=\\\"text\\\" id=\\\"swalAuthor\\\" class=\\\"swal2-input\\\" placeholder=\\\"Author\\\" value=\\\"\").concat($('#displayAuthor').text(), \"\\\">\\n              <input type=\\\"text\\\" id=\\\"swalTags\\\" class=\\\"swal2-input\\\" placeholder=\\\"Tags (comma separated)\\\" value=\\\"\").concat($('#displayTags').text(), \"\\\">\\n              <input type=\\\"password\\\" id=\\\"swalPassword\\\" class=\\\"swal2-input\\\" placeholder=\\\"Password (optional)\\\">\\n              <div id=\\\"preexistingTagsContainer\\\" style=\\\"text-align:left; margin-top:10px;\\\"></div>\\n            \"),\n      didOpen: function didOpen() {\n        // We need to import and call loadPreexistingTags from events.js\n        // This requires proper module handling\n        var container = $('#preexistingTagsContainer');\n        $.ajax({\n          url: \"\".concat(API_BASE_URL, \"/api/gettags\"),\n          method: 'GET',\n          success: function success(tags) {\n            container.empty();\n            if (tags.length > 0) {\n              container.append('<p>Select a tag:</p>');\n              tags.forEach(function (tag) {\n                var btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\n                btn.text(tag);\n                btn.on('click', function () {\n                  var current = $('#swalTags').val();\n                  var tagsArr = current ? current.split(',').map(function (t) {\n                    return t.trim();\n                  }).filter(Boolean) : [];\n                  if (!tagsArr.includes(tag)) {\n                    tagsArr.push(tag);\n                    $('#swalTags').val(tagsArr.join(', '));\n                  }\n                });\n                container.append(btn);\n              });\n            }\n          },\n          error: function error(err) {\n            console.error('Failed to load preexisting tags', err);\n          }\n        });\n      },\n      showCancelButton: true,\n      confirmButtonText: 'Save',\n      preConfirm: function preConfirm() {\n        return {\n          title: document.getElementById('swalTitle').value,\n          author: document.getElementById('swalAuthor').value,\n          tags: document.getElementById('swalTags').value,\n          password: document.getElementById('swalPassword').value\n        };\n      }\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        var data = result.value;\n        // Update display in the result section\n        $('#displayTitle').text(data.title);\n        $('#displayAuthor').text(data.author);\n        $('#displayTags').text(data.tags);\n        var story = {\n          storyTitle: data.title,\n          storyAuthor: data.author,\n          storyText: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyText,\n          variables: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables,\n          pronounGroups: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups,\n          variableCounts: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts,\n          pronounGroupCount: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount,\n          customPlaceholders: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders,\n          tags: data.tags ? data.tags.split(',').map(function (s) {\n            return s.trim();\n          }) : [],\n          savedAt: new Date().toISOString(),\n          password: data.password && data.password.trim() !== '' ? data.password : null\n        };\n        $.ajax({\n          url: \"\".concat(API_BASE_URL, \"/api/savestory\"),\n          method: 'POST',\n          contentType: 'application/json',\n          data: JSON.stringify(story),\n          success: function success() {\n            Swal.fire({\n              toast: true,\n              position: 'top-end',\n              icon: 'success',\n              title: 'Completed story saved to site!',\n              showConfirmButton: false,\n              timer: 1500\n            });\n          },\n          error: function error(xhr, statusText, errorThrown) {\n            if (xhr.status === 409) {\n              Swal.fire({\n                title: 'Story exists',\n                text: 'A story with this title already exists. Overwrite?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, overwrite',\n                cancelButtonText: 'No'\n              }).then(function (result) {\n                if (result.isConfirmed) {\n                  story.overwrite = true;\n                  $.ajax({\n                    url: \"\".concat(API_BASE_URL, \"/api/savestory\"),\n                    method: 'POST',\n                    contentType: 'application/json',\n                    data: JSON.stringify(story),\n                    success: function success() {\n                      Swal.fire({\n                        toast: true,\n                        position: 'top-end',\n                        icon: 'success',\n                        title: 'Completed story overwritten!',\n                        showConfirmButton: false,\n                        timer: 1500\n                      });\n                    },\n                    error: function error(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) {\n                      Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite completed story');\n                    }\n                  });\n                }\n              });\n            } else {\n              Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save completed story');\n            }\n          }\n        });\n      }\n    });\n  },\n  loadSavedStoriesList: function loadSavedStoriesList() {\n    var tag = $('#filterTag').val();\n    var sort = $('#sortOption').val();\n    $.ajax({\n      url: \"\".concat(API_BASE_URL, \"/api/getstories?tag=\").concat(encodeURIComponent(tag || ''), \"&sort=\").concat(encodeURIComponent(sort || 'date_desc')),\n      method: 'GET',\n      success: function success(stories) {\n        // Store the fetched stories globally for later reference\n        window.savedStories = stories;\n        var $listContainer = $('#savedStoriesList').empty();\n        if (!stories.length) {\n          $listContainer.append('<p>No stories saved yet.</p>');\n          return;\n        }\n        stories.forEach(function (story, index) {\n          var dateObj = new Date(story.savedAt);\n          var dateStr = dateObj.toLocaleDateString() + \" \" + dateObj.toLocaleTimeString();\n          var tags = story.tags && story.tags.length ? story.tags.join(', ') : 'No tags';\n          var ratingDisplay = story.ratingCount ? \"Rating: \".concat(story.rating.toFixed(1), \" (\").concat(story.ratingCount, \" votes)\") : 'No ratings';\n          var lockIndicator = story.locked ? \"<i class=\\\"fas fa-lock\\\" title=\\\"Password Protected\\\"></i> \" : '';\n          var item = $(\"\\n                      <div class=\\\"list-group-item p-2\\\">\\n                        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n                          <div>\\n                            <strong>\".concat(lockIndicator).concat(story.storyTitle || 'Untitled', \"</strong><br>\\n                            <small>\").concat(story.storyAuthor || 'Unknown', \" | \").concat(dateStr, \"</small><br>\\n                            <small>\").concat(tags, \" | \").concat(ratingDisplay, \"</small>\\n                          </div>\\n                          <div>\\n                            <button class=\\\"btn btn-sm btn-secondary editSavedStoryBtn\\\" data-index=\\\"\").concat(index, \"\\\" aria-label=\\\"Edit Story\\\">\\n                              <i class=\\\"fas fa-edit\\\"></i>\\n                            </button>\\n                            <button class=\\\"btn btn-sm btn-success loadSavedStoryBtn\\\" data-index=\\\"\").concat(index, \"\\\" aria-label=\\\"Play Story\\\">\\n                              <i class=\\\"fas fa-play\\\"></i>\\n                            </button>\\n                            <button class=\\\"btn btn-sm btn-danger deleteSavedStoryBtn\\\" data-title=\\\"\").concat(story.storyTitle, \"\\\" aria-label=\\\"Delete Story\\\">\\n                              <i class=\\\"fas fa-trash-alt\\\"></i>\\n                            </button>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    \"));\n          $listContainer.append(item);\n        });\n      },\n      error: function error(xhr, statusText, errorThrown) {\n        Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to load saved stories list');\n      }\n    });\n  },\n  createSavedStoryListItem: function createSavedStoryListItem(story, index, dateStr) {\n    return $(\"\\n            <div class=\\\"list-group-item p-2\\\">\\n              <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n                <div>\\n                  <strong>\".concat(story.storyTitle || 'Untitled', \"</strong><br>\\n                  <small>\").concat(story.storyAuthor || 'Unknown', \" | \").concat(dateStr, \"</small>\\n                </div>\\n                <div>\\n                  <button class=\\\"btn btn-sm btn-secondary editSavedStoryBtn\\\" data-index=\\\"\").concat(index, \"\\\" aria-label=\\\"Edit Story\\\">\\n                    <i class=\\\"fas fa-edit\\\"></i>\\n                  </button>\\n                  <button class=\\\"btn btn-sm btn-success loadSavedStoryBtn\\\" data-index=\\\"\").concat(index, \"\\\" aria-label=\\\"Play Story\\\">\\n                    <i class=\\\"fas fa-play\\\"></i>\\n                  </button>\\n                  <button class=\\\"btn btn-sm btn-danger deleteSavedStoryBtn\\\" data-title=\\\"\").concat(story.storyTitle, \"\\\" aria-label=\\\"Delete Story\\\">\\n                    <i class=\\\"fas fa-trash-alt\\\"></i>\\n                  </button>\\n                </div>\\n              </div>\\n            </div>\\n        \"));\n  },\n  loadSavedStory: function loadSavedStory(index) {\n    var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"edit\";\n    var stories = window.savedStories || [];\n    var story = stories[index];\n    if (!story) {\n      Swal.fire('Error', 'Story not found.', 'error');\n      return;\n    }\n    // NEW: If the story is locked, prompt for the password.\n    if (story.locked) {\n      Swal.fire({\n        title: 'Enter Password',\n        input: 'password',\n        inputPlaceholder: 'Password',\n        showCancelButton: true,\n        inputAttributes: {\n          autocapitalize: 'off',\n          autocorrect: 'off'\n        }\n      }).then(function (result) {\n        if (result.value) {\n          $.ajax({\n            url: \"\".concat(API_BASE_URL, \"/api/unlockstory\"),\n            method: 'POST',\n            contentType: 'application/json',\n            data: JSON.stringify({\n              storyId: story._id,\n              password: result.value\n            }),\n            success: function success(unlockedStory) {\n              Storage.populateEditorWithStory(unlockedStory, mode);\n              _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId = unlockedStory._id || null;\n              $('#displayStoryId').text(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId);\n              Swal.fire({\n                toast: true,\n                position: 'top-end',\n                icon: 'success',\n                title: 'Story loaded!',\n                showConfirmButton: false,\n                timer: 1500\n              });\n            },\n            error: function error(xhr, statusText, errorThrown) {\n              Storage.handleAjaxError(xhr, statusText, errorThrown, 'Incorrect password or failed to unlock story');\n            }\n          });\n        }\n      });\n    } else {\n      Storage.populateEditorWithStory(story, mode);\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId = story._id || null;\n      $('#displayStoryId').text(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId);\n      Swal.fire({\n        toast: true,\n        position: 'top-end',\n        icon: 'success',\n        title: 'Story loaded!',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    }\n  },\n  populateEditorWithStory: function populateEditorWithStory(story, mode) {\n    $('#storyTitle').val(story.storyTitle);\n    $('#storyAuthor').val(story.storyAuthor);\n    $('#storyText').html((0,_utils_utils_js__WEBPACK_IMPORTED_MODULE_3__.decodeHTMLEntities)(story.storyText));\n    // NEW: Populate tags input if editing a story.\n    if (story.tags && story.tags.length) {\n      $('#storyTags').val(story.tags.join(', '));\n    }\n    // Also store rating info in a display area (if desired)\n    if (mode === \"play\" && story.ratingCount) {\n      $('#ratingSection').show();\n    } else {\n      $('#ratingSection').hide();\n    }\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables = [];\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts = {};\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter = 0;\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = story.fillValues || {};\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups = story.pronounGroups || {};\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount = story.pronounGroupCount || 0;\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders = story.customPlaceholders || [];\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesFromEditor)();\n    if (mode === \"edit\") {\n      $('#editor').removeClass('d-none');\n      $('#inputs, #result').addClass('d-none');\n    } else if (mode === \"play\") {\n      (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_2__.buildFillForm)();\n      $('#inputs').removeClass('d-none');\n      $('#editor, #result').addClass('d-none');\n    }\n  },\n  deleteSavedStory: function deleteSavedStory(title) {\n    $.ajax({\n      url: \"\".concat(API_BASE_URL, \"/api/deletestory\"),\n      method: 'DELETE',\n      contentType: 'application/json',\n      data: JSON.stringify({\n        storyTitle: title\n      }),\n      success: function success() {\n        Swal.fire({\n          toast: true,\n          position: 'top-end',\n          icon: 'success',\n          title: 'Story deleted!',\n          showConfirmButton: false,\n          timer: 1500\n        });\n        Storage.loadSavedStoriesList();\n      },\n      error: function error(xhr, statusText, errorThrown) {\n        Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to delete story');\n      }\n    });\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvZGF0YS9zdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDcUM7QUFDK0I7QUFDckI7QUFDZTs7QUFFOUQ7QUFDQSxJQUFNSyxZQUFZLEdBQUksWUFBTTtFQUN4QjtFQUNBLElBQUlDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxRQUFRLEtBQUssV0FBVyxFQUFFO0lBQzFDLE9BQU8sdUJBQXVCO0VBQ2xDO0VBQ0E7RUFDQSxVQUFBQyxNQUFBLENBQVVILE1BQU0sQ0FBQ0MsUUFBUSxDQUFDRyxRQUFRLFFBQUFELE1BQUEsQ0FBS0gsTUFBTSxDQUFDQyxRQUFRLENBQUNDLFFBQVE7QUFDbkUsQ0FBQyxDQUFFLENBQUM7QUFFSkcsT0FBTyxDQUFDQyxHQUFHLHdCQUFBSCxNQUFBLENBQXdCSixZQUFZLENBQUUsQ0FBQztBQUUzQyxJQUFNUSxPQUFPLEdBQUc7RUFDbkJDLGVBQWUsRUFBRSxTQUFqQkEsZUFBZUEsQ0FBR0MsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRUMsa0JBQWtCLEVBQUs7SUFDbkUsSUFBSUMsWUFBWSxHQUFHRCxrQkFBa0IsSUFBSSwwQkFBMEI7SUFDbkUsSUFBSUgsR0FBRyxDQUFDSyxNQUFNLEVBQUU7TUFDWkQsWUFBWSx1Q0FBQVYsTUFBQSxDQUF1Q00sR0FBRyxDQUFDSyxNQUFNLE9BQUFYLE1BQUEsQ0FBSU0sR0FBRyxDQUFDQyxVQUFVLENBQUU7SUFDckYsQ0FBQyxNQUFNLElBQUlBLFVBQVUsRUFBRTtNQUNuQkcsWUFBWSxzQkFBQVYsTUFBQSxDQUFzQk8sVUFBVSxDQUFFO0lBQ2xELENBQUMsTUFBTSxJQUFJQyxXQUFXLEVBQUU7TUFDcEJFLFlBQVksZ0JBQUFWLE1BQUEsQ0FBZ0JRLFdBQVcsQ0FBRTtJQUM3QztJQUNBSSxJQUFJLENBQUNDLElBQUksQ0FBQyxPQUFPLEVBQUVILFlBQVksRUFBRSxPQUFPLENBQUM7SUFDekNSLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLGFBQWEsRUFBRUosWUFBWSxFQUFFSixHQUFHLENBQUM7RUFDbkQsQ0FBQztFQUVEUyw2QkFBNkIsRUFBRSxTQUEvQkEsNkJBQTZCQSxDQUFBLEVBQVE7SUFDakNILElBQUksQ0FBQ0MsSUFBSSxDQUFDO01BQ05HLEtBQUssRUFBRSxZQUFZO01BQ25CQyxJQUFJLHFIQUFBakIsTUFBQSxDQUN1RmtCLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUMscUhBQUFuQixNQUFBLENBQzFCa0IsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxtSUFBQW5CLE1BQUEsQ0FDVGtCLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsb1BBR3pIO01BQ0RDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7UUFDWDtRQUNBO1FBQ0EsSUFBTUMsU0FBUyxHQUFHSCxDQUFDLENBQUMsMkJBQTJCLENBQUM7UUFDaERBLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1VBQ0hDLEdBQUcsS0FBQXZCLE1BQUEsQ0FBS0osWUFBWSxpQkFBYztVQUNsQzRCLE1BQU0sRUFBRSxLQUFLO1VBQ2JDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFHQyxJQUFJLEVBQUs7WUFDZkwsU0FBUyxDQUFDTSxLQUFLLENBQUMsQ0FBQztZQUNqQixJQUFJRCxJQUFJLENBQUNFLE1BQU0sR0FBRyxDQUFDLEVBQUU7Y0FDakJQLFNBQVMsQ0FBQ1EsTUFBTSxDQUFDLHNCQUFzQixDQUFDO2NBQ3hDSCxJQUFJLENBQUNJLE9BQU8sQ0FBQyxVQUFBQyxHQUFHLEVBQUk7Z0JBQ2hCLElBQU1DLEdBQUcsR0FBR2QsQ0FBQyxDQUFDLGtHQUFrRyxDQUFDO2dCQUNqSGMsR0FBRyxDQUFDQyxJQUFJLENBQUNGLEdBQUcsQ0FBQztnQkFDYkMsR0FBRyxDQUFDRSxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07a0JBQ2xCLElBQUlDLE9BQU8sR0FBR2pCLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7a0JBQ2xDLElBQUlpQixPQUFPLEdBQUdELE9BQU8sR0FBR0EsT0FBTyxDQUFDRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxVQUFBQyxDQUFDO29CQUFBLE9BQUlBLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7a0JBQUEsRUFBQyxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7a0JBQ2xGLElBQUksQ0FBQ04sT0FBTyxDQUFDTyxRQUFRLENBQUNaLEdBQUcsQ0FBQyxFQUFFO29CQUN4QkssT0FBTyxDQUFDUSxJQUFJLENBQUNiLEdBQUcsQ0FBQztvQkFDakJiLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0MsR0FBRyxDQUFDaUIsT0FBTyxDQUFDUyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7a0JBQzFDO2dCQUNKLENBQUMsQ0FBQztnQkFDRnhCLFNBQVMsQ0FBQ1EsTUFBTSxDQUFDRyxHQUFHLENBQUM7Y0FDekIsQ0FBQyxDQUFDO1lBQ047VUFDSixDQUFDO1VBQ0RsQixLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR2dDLEdBQUcsRUFBSztZQUNaNUMsT0FBTyxDQUFDWSxLQUFLLENBQUMsaUNBQWlDLEVBQUVnQyxHQUFHLENBQUM7VUFDekQ7UUFDSixDQUFDLENBQUM7TUFDTixDQUFDO01BQ0RDLGdCQUFnQixFQUFFLElBQUk7TUFDdEJDLGlCQUFpQixFQUFFLE1BQU07TUFDekJDLFVBQVUsRUFBRSxTQUFaQSxVQUFVQSxDQUFBLEVBQVE7UUFDZCxPQUFPO1VBQ0hqQyxLQUFLLEVBQUVrQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0MsS0FBSztVQUNqREMsTUFBTSxFQUFFSCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsS0FBSztVQUNuRDFCLElBQUksRUFBRXdCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDQyxLQUFLO1VBQy9DRSxRQUFRLEVBQUVKLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDQztRQUN0RCxDQUFDO01BQ0w7SUFDSixDQUFDLENBQUMsQ0FBQ0csSUFBSSxDQUFDLFVBQUNDLE1BQU0sRUFBSztNQUNoQixJQUFJQSxNQUFNLENBQUNDLFdBQVcsRUFBRTtRQUNwQixJQUFNQyxJQUFJLEdBQUdGLE1BQU0sQ0FBQ0osS0FBSztRQUN6QjtRQUNBbEMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDQyxHQUFHLENBQUN1QyxJQUFJLENBQUMxQyxLQUFLLENBQUM7UUFDaENFLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQ0MsR0FBRyxDQUFDdUMsSUFBSSxDQUFDTCxNQUFNLENBQUM7UUFDbENuQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUNDLEdBQUcsQ0FBQ3VDLElBQUksQ0FBQ2hDLElBQUksQ0FBQztRQUU5QixJQUFNaUMsS0FBSyxHQUFHO1VBQ1ZDLFVBQVUsRUFBRUYsSUFBSSxDQUFDMUMsS0FBSztVQUN0QjZDLFdBQVcsRUFBRUgsSUFBSSxDQUFDTCxNQUFNO1VBQ3hCUyxTQUFTLEVBQUU1QyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUNELElBQUksQ0FBQyxDQUFDO1VBQ2pDOEMsU0FBUyxFQUFFeEUsc0RBQUssQ0FBQ3dFLFNBQVM7VUFDMUJDLGFBQWEsRUFBRXpFLHNEQUFLLENBQUN5RSxhQUFhO1VBQ2xDQyxjQUFjLEVBQUUxRSxzREFBSyxDQUFDMEUsY0FBYztVQUNwQ0MsaUJBQWlCLEVBQUUzRSxzREFBSyxDQUFDMkUsaUJBQWlCO1VBQzFDQyxrQkFBa0IsRUFBRTVFLHNEQUFLLENBQUM0RSxrQkFBa0I7VUFDNUN6QyxJQUFJLEVBQUVnQyxJQUFJLENBQUNoQyxJQUFJLEdBQUdnQyxJQUFJLENBQUNoQyxJQUFJLENBQUNXLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLFVBQUE4QixDQUFDO1lBQUEsT0FBSUEsQ0FBQyxDQUFDNUIsSUFBSSxDQUFDLENBQUM7VUFBQSxFQUFDLEdBQUcsRUFBRTtVQUM5RDZCLE9BQU8sRUFBRSxJQUFJQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQztVQUNqQ2pCLFFBQVEsRUFBRUksSUFBSSxDQUFDSixRQUFRLElBQUlJLElBQUksQ0FBQ0osUUFBUSxDQUFDZCxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBR2tCLElBQUksQ0FBQ0osUUFBUSxHQUFHO1FBQzdFLENBQUM7UUFFRHBDLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1VBQ0hDLEdBQUcsS0FBQXZCLE1BQUEsQ0FBS0osWUFBWSxtQkFBZ0I7VUFDcEM0QixNQUFNLEVBQUUsTUFBTTtVQUNkZ0QsV0FBVyxFQUFFLGtCQUFrQjtVQUMvQmQsSUFBSSxFQUFFZSxJQUFJLENBQUNDLFNBQVMsQ0FBQ2YsS0FBSyxDQUFDO1VBQzNCbEMsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUEsRUFBUTtZQUNYYixJQUFJLENBQUNDLElBQUksQ0FBQztjQUNOOEQsS0FBSyxFQUFFLElBQUk7Y0FDWEMsUUFBUSxFQUFFLFNBQVM7Y0FDbkJDLElBQUksRUFBRSxTQUFTO2NBQ2Y3RCxLQUFLLEVBQUUsc0JBQXNCO2NBQzdCOEQsaUJBQWlCLEVBQUUsS0FBSztjQUN4QkMsS0FBSyxFQUFFO1lBQ1gsQ0FBQyxDQUFDO1VBQ04sQ0FBQztVQUNEakUsS0FBSyxFQUFFLFNBQVBBLEtBQUtBLENBQUdSLEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUs7WUFDckMsSUFBSUYsR0FBRyxDQUFDSyxNQUFNLEtBQUssR0FBRyxFQUFFO2NBQ3BCQyxJQUFJLENBQUNDLElBQUksQ0FBQztnQkFDTkcsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCaUIsSUFBSSxFQUFFLG9EQUFvRDtnQkFDMUQ0QyxJQUFJLEVBQUUsU0FBUztnQkFDZjlCLGdCQUFnQixFQUFFLElBQUk7Z0JBQ3RCQyxpQkFBaUIsRUFBRSxnQkFBZ0I7Z0JBQ25DZ0MsZ0JBQWdCLEVBQUU7Y0FDdEIsQ0FBQyxDQUFDLENBQUN6QixJQUFJLENBQUMsVUFBQ0MsTUFBTSxFQUFLO2dCQUNoQixJQUFJQSxNQUFNLENBQUNDLFdBQVcsRUFBRTtrQkFDcEI7a0JBQ0EsSUFBSXdCLGtCQUFrQixHQUFHO29CQUNyQnJCLFVBQVUsRUFBRTFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7b0JBQ2xDMEMsV0FBVyxFQUFFM0MsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDQyxHQUFHLENBQUMsQ0FBQztvQkFDcEMyQyxTQUFTLEVBQUU1QyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUNELElBQUksQ0FBQyxDQUFDO29CQUNqQzhDLFNBQVMsRUFBRXhFLHNEQUFLLENBQUN3RSxTQUFTO29CQUMxQkMsYUFBYSxFQUFFekUsc0RBQUssQ0FBQ3lFLGFBQWE7b0JBQ2xDQyxjQUFjLEVBQUUxRSxzREFBSyxDQUFDMEUsY0FBYztvQkFDcENDLGlCQUFpQixFQUFFM0Usc0RBQUssQ0FBQzJFLGlCQUFpQjtvQkFDMUNDLGtCQUFrQixFQUFFNUUsc0RBQUssQ0FBQzRFLGtCQUFrQjtvQkFDNUN6QyxJQUFJLEVBQUVSLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBR0QsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDa0IsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHLENBQUMsVUFBQThCLENBQUM7c0JBQUEsT0FBSUEsQ0FBQyxDQUFDNUIsSUFBSSxDQUFDLENBQUM7b0JBQUEsRUFBQyxHQUFHLEVBQUU7b0JBQ3RGNkIsT0FBTyxFQUFFLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO29CQUNqQ2pCLFFBQVEsRUFBRSxJQUFJO29CQUNkNEIsU0FBUyxFQUFFLElBQUksQ0FBRTtrQkFDckIsQ0FBQztrQkFFRGhFLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO29CQUNIQyxHQUFHLEtBQUF2QixNQUFBLENBQUtKLFlBQVksbUJBQWdCO29CQUNwQzRCLE1BQU0sRUFBRSxNQUFNO29CQUNkZ0QsV0FBVyxFQUFFLGtCQUFrQjtvQkFDL0JkLElBQUksRUFBRWUsSUFBSSxDQUFDQyxTQUFTLENBQUNPLGtCQUFrQixDQUFDO29CQUN4Q3hELE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7c0JBQ1hiLElBQUksQ0FBQ0MsSUFBSSxDQUFDO3dCQUNOOEQsS0FBSyxFQUFFLElBQUk7d0JBQ1hDLFFBQVEsRUFBRSxTQUFTO3dCQUNuQkMsSUFBSSxFQUFFLFNBQVM7d0JBQ2Y3RCxLQUFLLEVBQUUsb0JBQW9CO3dCQUMzQjhELGlCQUFpQixFQUFFLEtBQUs7d0JBQ3hCQyxLQUFLLEVBQUU7c0JBQ1gsQ0FBQyxDQUFDO29CQUNOLENBQUM7b0JBQ0RqRSxLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR3FFLFlBQVksRUFBRUMsbUJBQW1CLEVBQUVDLG9CQUFvQixFQUFLO3NCQUNoRWpGLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDOEUsWUFBWSxFQUFFQyxtQkFBbUIsRUFBRUMsb0JBQW9CLEVBQUUsMkJBQTJCLENBQUM7b0JBQ2pIO2tCQUNKLENBQUMsQ0FBQztnQkFDTjtjQUNKLENBQUMsQ0FBQztZQUNOLENBQUMsTUFBTTtjQUNIakYsT0FBTyxDQUFDQyxlQUFlLENBQUNDLEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUUsc0JBQXNCLENBQUM7WUFDakY7VUFDSjtRQUNKLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQztFQUVEOEUsK0JBQStCLEVBQUUsU0FBakNBLCtCQUErQkEsQ0FBQSxFQUFRO0lBQ25DMUUsSUFBSSxDQUFDQyxJQUFJLENBQUM7TUFDTkcsS0FBSyxFQUFFLHNCQUFzQjtNQUM3QkMsSUFBSSxxSEFBQWpCLE1BQUEsQ0FDdUZrQixDQUFDLENBQUMsZUFBZSxDQUFDLENBQUNlLElBQUksQ0FBQyxDQUFDLHFIQUFBakMsTUFBQSxDQUM3QmtCLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDZSxJQUFJLENBQUMsQ0FBQyxtSUFBQWpDLE1BQUEsQ0FDWmtCLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQ2UsSUFBSSxDQUFDLENBQUMsb1BBRzVIO01BQ0RiLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7UUFDWDtRQUNBO1FBQ0EsSUFBTUMsU0FBUyxHQUFHSCxDQUFDLENBQUMsMkJBQTJCLENBQUM7UUFDaERBLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1VBQ0hDLEdBQUcsS0FBQXZCLE1BQUEsQ0FBS0osWUFBWSxpQkFBYztVQUNsQzRCLE1BQU0sRUFBRSxLQUFLO1VBQ2JDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFHQyxJQUFJLEVBQUs7WUFDZkwsU0FBUyxDQUFDTSxLQUFLLENBQUMsQ0FBQztZQUNqQixJQUFJRCxJQUFJLENBQUNFLE1BQU0sR0FBRyxDQUFDLEVBQUU7Y0FDakJQLFNBQVMsQ0FBQ1EsTUFBTSxDQUFDLHNCQUFzQixDQUFDO2NBQ3hDSCxJQUFJLENBQUNJLE9BQU8sQ0FBQyxVQUFBQyxHQUFHLEVBQUk7Z0JBQ2hCLElBQU1DLEdBQUcsR0FBR2QsQ0FBQyxDQUFDLGtHQUFrRyxDQUFDO2dCQUNqSGMsR0FBRyxDQUFDQyxJQUFJLENBQUNGLEdBQUcsQ0FBQztnQkFDYkMsR0FBRyxDQUFDRSxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07a0JBQ2xCLElBQUlDLE9BQU8sR0FBR2pCLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7a0JBQ2xDLElBQUlpQixPQUFPLEdBQUdELE9BQU8sR0FBR0EsT0FBTyxDQUFDRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxVQUFBQyxDQUFDO29CQUFBLE9BQUlBLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7a0JBQUEsRUFBQyxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7a0JBQ2xGLElBQUksQ0FBQ04sT0FBTyxDQUFDTyxRQUFRLENBQUNaLEdBQUcsQ0FBQyxFQUFFO29CQUN4QkssT0FBTyxDQUFDUSxJQUFJLENBQUNiLEdBQUcsQ0FBQztvQkFDakJiLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0MsR0FBRyxDQUFDaUIsT0FBTyxDQUFDUyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7a0JBQzFDO2dCQUNKLENBQUMsQ0FBQztnQkFDRnhCLFNBQVMsQ0FBQ1EsTUFBTSxDQUFDRyxHQUFHLENBQUM7Y0FDekIsQ0FBQyxDQUFDO1lBQ047VUFDSixDQUFDO1VBQ0RsQixLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR2dDLEdBQUcsRUFBSztZQUNaNUMsT0FBTyxDQUFDWSxLQUFLLENBQUMsaUNBQWlDLEVBQUVnQyxHQUFHLENBQUM7VUFDekQ7UUFDSixDQUFDLENBQUM7TUFDTixDQUFDO01BQ0RDLGdCQUFnQixFQUFFLElBQUk7TUFDdEJDLGlCQUFpQixFQUFFLE1BQU07TUFDekJDLFVBQVUsRUFBRSxTQUFaQSxVQUFVQSxDQUFBLEVBQVE7UUFDZCxPQUFPO1VBQ0hqQyxLQUFLLEVBQUVrQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0MsS0FBSztVQUNqREMsTUFBTSxFQUFFSCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsS0FBSztVQUNuRDFCLElBQUksRUFBRXdCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDQyxLQUFLO1VBQy9DRSxRQUFRLEVBQUVKLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDQztRQUN0RCxDQUFDO01BQ0w7SUFDSixDQUFDLENBQUMsQ0FBQ0csSUFBSSxDQUFDLFVBQUNDLE1BQU0sRUFBSztNQUNoQixJQUFJQSxNQUFNLENBQUNDLFdBQVcsRUFBRTtRQUNwQixJQUFNQyxJQUFJLEdBQUdGLE1BQU0sQ0FBQ0osS0FBSztRQUN6QjtRQUNBbEMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDZSxJQUFJLENBQUN5QixJQUFJLENBQUMxQyxLQUFLLENBQUM7UUFDbkNFLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDZSxJQUFJLENBQUN5QixJQUFJLENBQUNMLE1BQU0sQ0FBQztRQUNyQ25DLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQ2UsSUFBSSxDQUFDeUIsSUFBSSxDQUFDaEMsSUFBSSxDQUFDO1FBRWpDLElBQU1pQyxLQUFLLEdBQUc7VUFDVkMsVUFBVSxFQUFFRixJQUFJLENBQUMxQyxLQUFLO1VBQ3RCNkMsV0FBVyxFQUFFSCxJQUFJLENBQUNMLE1BQU07VUFDeEJTLFNBQVMsRUFBRXZFLHNEQUFLLENBQUN1RSxTQUFTO1VBQzFCQyxTQUFTLEVBQUV4RSxzREFBSyxDQUFDd0UsU0FBUztVQUMxQkMsYUFBYSxFQUFFekUsc0RBQUssQ0FBQ3lFLGFBQWE7VUFDbENDLGNBQWMsRUFBRTFFLHNEQUFLLENBQUMwRSxjQUFjO1VBQ3BDQyxpQkFBaUIsRUFBRTNFLHNEQUFLLENBQUMyRSxpQkFBaUI7VUFDMUNDLGtCQUFrQixFQUFFNUUsc0RBQUssQ0FBQzRFLGtCQUFrQjtVQUM1Q3pDLElBQUksRUFBRWdDLElBQUksQ0FBQ2hDLElBQUksR0FBR2dDLElBQUksQ0FBQ2hDLElBQUksQ0FBQ1csS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHLENBQUMsVUFBQThCLENBQUM7WUFBQSxPQUFJQSxDQUFDLENBQUM1QixJQUFJLENBQUMsQ0FBQztVQUFBLEVBQUMsR0FBRyxFQUFFO1VBQzlENkIsT0FBTyxFQUFFLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO1VBQ2pDakIsUUFBUSxFQUFFSSxJQUFJLENBQUNKLFFBQVEsSUFBSUksSUFBSSxDQUFDSixRQUFRLENBQUNkLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHa0IsSUFBSSxDQUFDSixRQUFRLEdBQUc7UUFDN0UsQ0FBQztRQUVEcEMsQ0FBQyxDQUFDSSxJQUFJLENBQUM7VUFDSEMsR0FBRyxLQUFBdkIsTUFBQSxDQUFLSixZQUFZLG1CQUFnQjtVQUNwQzRCLE1BQU0sRUFBRSxNQUFNO1VBQ2RnRCxXQUFXLEVBQUUsa0JBQWtCO1VBQy9CZCxJQUFJLEVBQUVlLElBQUksQ0FBQ0MsU0FBUyxDQUFDZixLQUFLLENBQUM7VUFDM0JsQyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQSxFQUFRO1lBQ1hiLElBQUksQ0FBQ0MsSUFBSSxDQUFDO2NBQ044RCxLQUFLLEVBQUUsSUFBSTtjQUNYQyxRQUFRLEVBQUUsU0FBUztjQUNuQkMsSUFBSSxFQUFFLFNBQVM7Y0FDZjdELEtBQUssRUFBRSxnQ0FBZ0M7Y0FDdkM4RCxpQkFBaUIsRUFBRSxLQUFLO2NBQ3hCQyxLQUFLLEVBQUU7WUFDWCxDQUFDLENBQUM7VUFDTixDQUFDO1VBQ0RqRSxLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR1IsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBSztZQUNyQyxJQUFJRixHQUFHLENBQUNLLE1BQU0sS0FBSyxHQUFHLEVBQUU7Y0FDcEJDLElBQUksQ0FBQ0MsSUFBSSxDQUFDO2dCQUNORyxLQUFLLEVBQUUsY0FBYztnQkFDckJpQixJQUFJLEVBQUUsb0RBQW9EO2dCQUMxRDRDLElBQUksRUFBRSxTQUFTO2dCQUNmOUIsZ0JBQWdCLEVBQUUsSUFBSTtnQkFDdEJDLGlCQUFpQixFQUFFLGdCQUFnQjtnQkFDbkNnQyxnQkFBZ0IsRUFBRTtjQUN0QixDQUFDLENBQUMsQ0FBQ3pCLElBQUksQ0FBQyxVQUFDQyxNQUFNLEVBQUs7Z0JBQ2hCLElBQUlBLE1BQU0sQ0FBQ0MsV0FBVyxFQUFFO2tCQUNwQkUsS0FBSyxDQUFDdUIsU0FBUyxHQUFHLElBQUk7a0JBQ3RCaEUsQ0FBQyxDQUFDSSxJQUFJLENBQUM7b0JBQ0hDLEdBQUcsS0FBQXZCLE1BQUEsQ0FBS0osWUFBWSxtQkFBZ0I7b0JBQ3BDNEIsTUFBTSxFQUFFLE1BQU07b0JBQ2RnRCxXQUFXLEVBQUUsa0JBQWtCO29CQUMvQmQsSUFBSSxFQUFFZSxJQUFJLENBQUNDLFNBQVMsQ0FBQ2YsS0FBSyxDQUFDO29CQUMzQmxDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7c0JBQ1hiLElBQUksQ0FBQ0MsSUFBSSxDQUFDO3dCQUNOOEQsS0FBSyxFQUFFLElBQUk7d0JBQ1hDLFFBQVEsRUFBRSxTQUFTO3dCQUNuQkMsSUFBSSxFQUFFLFNBQVM7d0JBQ2Y3RCxLQUFLLEVBQUUsOEJBQThCO3dCQUNyQzhELGlCQUFpQixFQUFFLEtBQUs7d0JBQ3hCQyxLQUFLLEVBQUU7c0JBQ1gsQ0FBQyxDQUFDO29CQUNOLENBQUM7b0JBQ0RqRSxLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR3FFLFlBQVksRUFBRUMsbUJBQW1CLEVBQUVDLG9CQUFvQixFQUFLO3NCQUNoRWpGLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDOEUsWUFBWSxFQUFFQyxtQkFBbUIsRUFBRUMsb0JBQW9CLEVBQUUscUNBQXFDLENBQUM7b0JBQzNIO2tCQUNKLENBQUMsQ0FBQztnQkFDTjtjQUNKLENBQUMsQ0FBQztZQUNOLENBQUMsTUFBTTtjQUNIakYsT0FBTyxDQUFDQyxlQUFlLENBQUNDLEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUUsZ0NBQWdDLENBQUM7WUFDM0Y7VUFDSjtRQUNKLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQztFQUVEK0Usb0JBQW9CLEVBQUUsU0FBdEJBLG9CQUFvQkEsQ0FBQSxFQUFRO0lBQ3hCLElBQU14RCxHQUFHLEdBQUdiLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7SUFDakMsSUFBTXFFLElBQUksR0FBR3RFLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7SUFDbkNELENBQUMsQ0FBQ0ksSUFBSSxDQUFDO01BQ0hDLEdBQUcsS0FBQXZCLE1BQUEsQ0FBS0osWUFBWSwwQkFBQUksTUFBQSxDQUF1QnlGLGtCQUFrQixDQUFDMUQsR0FBRyxJQUFJLEVBQUUsQ0FBQyxZQUFBL0IsTUFBQSxDQUFTeUYsa0JBQWtCLENBQUNELElBQUksSUFBSSxXQUFXLENBQUMsQ0FBRTtNQUMxSGhFLE1BQU0sRUFBRSxLQUFLO01BQ2JDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFHaUUsT0FBTyxFQUFLO1FBQ2xCO1FBQ0E3RixNQUFNLENBQUM4RixZQUFZLEdBQUdELE9BQU87UUFDN0IsSUFBTUUsY0FBYyxHQUFHMUUsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUNTLEtBQUssQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQytELE9BQU8sQ0FBQzlELE1BQU0sRUFBRTtVQUNqQmdFLGNBQWMsQ0FBQy9ELE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQztVQUNyRDtRQUNKO1FBQ0E2RCxPQUFPLENBQUM1RCxPQUFPLENBQUMsVUFBQzZCLEtBQUssRUFBRWtDLEtBQUssRUFBSztVQUM5QixJQUFNQyxPQUFPLEdBQUcsSUFBSXhCLElBQUksQ0FBQ1gsS0FBSyxDQUFDVSxPQUFPLENBQUM7VUFDdkMsSUFBTTBCLE9BQU8sR0FBR0QsT0FBTyxDQUFDRSxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHRixPQUFPLENBQUNHLGtCQUFrQixDQUFDLENBQUM7VUFDakYsSUFBTXZFLElBQUksR0FBR2lDLEtBQUssQ0FBQ2pDLElBQUksSUFBSWlDLEtBQUssQ0FBQ2pDLElBQUksQ0FBQ0UsTUFBTSxHQUFHK0IsS0FBSyxDQUFDakMsSUFBSSxDQUFDbUIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLFNBQVM7VUFDaEYsSUFBTXFELGFBQWEsR0FBR3ZDLEtBQUssQ0FBQ3dDLFdBQVcsY0FBQW5HLE1BQUEsQ0FBYzJELEtBQUssQ0FBQ3lDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFBckcsTUFBQSxDQUFLMkQsS0FBSyxDQUFDd0MsV0FBVyxlQUFZLFlBQVk7VUFDMUgsSUFBTUcsYUFBYSxHQUFHM0MsS0FBSyxDQUFDNEMsTUFBTSxtRUFBK0QsRUFBRTtVQUNuRyxJQUFNQyxJQUFJLEdBQUd0RixDQUFDLGlPQUFBbEIsTUFBQSxDQUlJc0csYUFBYSxFQUFBdEcsTUFBQSxDQUFHMkQsS0FBSyxDQUFDQyxVQUFVLElBQUksVUFBVSx3REFBQTVELE1BQUEsQ0FDL0MyRCxLQUFLLENBQUNFLFdBQVcsSUFBSSxTQUFTLFNBQUE3RCxNQUFBLENBQU0rRixPQUFPLHVEQUFBL0YsTUFBQSxDQUMzQzBCLElBQUksU0FBQTFCLE1BQUEsQ0FBTWtHLGFBQWEseUxBQUFsRyxNQUFBLENBR3lDNkYsS0FBSyw2T0FBQTdGLE1BQUEsQ0FHUDZGLEtBQUssOE9BQUE3RixNQUFBLENBR0oyRCxLQUFLLENBQUNDLFVBQVUsbVFBTS9GLENBQUM7VUFDRmdDLGNBQWMsQ0FBQy9ELE1BQU0sQ0FBQzJFLElBQUksQ0FBQztRQUMvQixDQUFDLENBQUM7TUFDTixDQUFDO01BQ0QxRixLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR1IsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBSztRQUNyQ0osT0FBTyxDQUFDQyxlQUFlLENBQUNDLEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUUsbUNBQW1DLENBQUM7TUFDOUY7SUFDSixDQUFDLENBQUM7RUFDTixDQUFDO0VBRURpRyx3QkFBd0IsRUFBRSxTQUExQkEsd0JBQXdCQSxDQUFHOUMsS0FBSyxFQUFFa0MsS0FBSyxFQUFFRSxPQUFPLEVBQUs7SUFDakQsT0FBTzdFLENBQUMseUxBQUFsQixNQUFBLENBSVkyRCxLQUFLLENBQUNDLFVBQVUsSUFBSSxVQUFVLDhDQUFBNUQsTUFBQSxDQUMvQjJELEtBQUssQ0FBQ0UsV0FBVyxJQUFJLFNBQVMsU0FBQTdELE1BQUEsQ0FBTStGLE9BQU8sMkpBQUEvRixNQUFBLENBR3FCNkYsS0FBSywrTUFBQTdGLE1BQUEsQ0FHUDZGLEtBQUssZ05BQUE3RixNQUFBLENBR0oyRCxLQUFLLENBQUNDLFVBQVUscU1BTWpHLENBQUM7RUFDTixDQUFDO0VBRUQ4QyxjQUFjLEVBQUUsU0FBaEJBLGNBQWNBLENBQUdiLEtBQUssRUFBb0I7SUFBQSxJQUFsQmMsSUFBSSxHQUFBQyxTQUFBLENBQUFoRixNQUFBLFFBQUFnRixTQUFBLFFBQUFDLFNBQUEsR0FBQUQsU0FBQSxNQUFHLE1BQU07SUFDakMsSUFBTWxCLE9BQU8sR0FBRzdGLE1BQU0sQ0FBQzhGLFlBQVksSUFBSSxFQUFFO0lBQ3pDLElBQU1oQyxLQUFLLEdBQUcrQixPQUFPLENBQUNHLEtBQUssQ0FBQztJQUM1QixJQUFJLENBQUNsQyxLQUFLLEVBQUU7TUFDUi9DLElBQUksQ0FBQ0MsSUFBSSxDQUFDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLENBQUM7TUFDL0M7SUFDSjtJQUNBO0lBQ0EsSUFBSThDLEtBQUssQ0FBQzRDLE1BQU0sRUFBRTtNQUNkM0YsSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFDTkcsS0FBSyxFQUFFLGdCQUFnQjtRQUN2QjhGLEtBQUssRUFBRSxVQUFVO1FBQ2pCQyxnQkFBZ0IsRUFBRSxVQUFVO1FBQzVCaEUsZ0JBQWdCLEVBQUUsSUFBSTtRQUN0QmlFLGVBQWUsRUFBRTtVQUFFQyxjQUFjLEVBQUUsS0FBSztVQUFFQyxXQUFXLEVBQUU7UUFBTTtNQUNqRSxDQUFDLENBQUMsQ0FBQzNELElBQUksQ0FBQyxVQUFBQyxNQUFNLEVBQUk7UUFDZCxJQUFJQSxNQUFNLENBQUNKLEtBQUssRUFBRTtVQUNkbEMsQ0FBQyxDQUFDSSxJQUFJLENBQUM7WUFDSEMsR0FBRyxLQUFBdkIsTUFBQSxDQUFLSixZQUFZLHFCQUFrQjtZQUN0QzRCLE1BQU0sRUFBRSxNQUFNO1lBQ2RnRCxXQUFXLEVBQUUsa0JBQWtCO1lBQy9CZCxJQUFJLEVBQUVlLElBQUksQ0FBQ0MsU0FBUyxDQUFDO2NBQUV5QyxPQUFPLEVBQUV4RCxLQUFLLENBQUN5RCxHQUFHO2NBQUU5RCxRQUFRLEVBQUVFLE1BQU0sQ0FBQ0o7WUFBTSxDQUFDLENBQUM7WUFDcEUzQixPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBRzRGLGFBQWEsRUFBSztjQUN4QmpILE9BQU8sQ0FBQ2tILHVCQUF1QixDQUFDRCxhQUFhLEVBQUVWLElBQUksQ0FBQztjQUNwRHBILHNEQUFLLENBQUNnSSxjQUFjLEdBQUdGLGFBQWEsQ0FBQ0QsR0FBRyxJQUFJLElBQUk7Y0FDaERsRyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQ2UsSUFBSSxDQUFDMUMsc0RBQUssQ0FBQ2dJLGNBQWMsQ0FBQztjQUMvQzNHLElBQUksQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFOEQsS0FBSyxFQUFFLElBQUk7Z0JBQUVDLFFBQVEsRUFBRSxTQUFTO2dCQUFFQyxJQUFJLEVBQUUsU0FBUztnQkFBRTdELEtBQUssRUFBRSxlQUFlO2dCQUFFOEQsaUJBQWlCLEVBQUUsS0FBSztnQkFBRUMsS0FBSyxFQUFFO2NBQUssQ0FBQyxDQUFDO1lBQ25JLENBQUM7WUFDRGpFLEtBQUssRUFBRSxTQUFQQSxLQUFLQSxDQUFHUixHQUFHLEVBQUVDLFVBQVUsRUFBRUMsV0FBVyxFQUFLO2NBQ3JDSixPQUFPLENBQUNDLGVBQWUsQ0FBQ0MsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRSw4Q0FBOEMsQ0FBQztZQUN6RztVQUNKLENBQUMsQ0FBQztRQUNOO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxNQUFNO01BQ0hKLE9BQU8sQ0FBQ2tILHVCQUF1QixDQUFDM0QsS0FBSyxFQUFFZ0QsSUFBSSxDQUFDO01BQzVDcEgsc0RBQUssQ0FBQ2dJLGNBQWMsR0FBRzVELEtBQUssQ0FBQ3lELEdBQUcsSUFBSSxJQUFJO01BQ3hDbEcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUNlLElBQUksQ0FBQzFDLHNEQUFLLENBQUNnSSxjQUFjLENBQUM7TUFDL0MzRyxJQUFJLENBQUNDLElBQUksQ0FBQztRQUFFOEQsS0FBSyxFQUFFLElBQUk7UUFBRUMsUUFBUSxFQUFFLFNBQVM7UUFBRUMsSUFBSSxFQUFFLFNBQVM7UUFBRTdELEtBQUssRUFBRSxlQUFlO1FBQUU4RCxpQkFBaUIsRUFBRSxLQUFLO1FBQUVDLEtBQUssRUFBRTtNQUFLLENBQUMsQ0FBQztJQUNuSTtFQUNKLENBQUM7RUFFRHVDLHVCQUF1QixFQUFFLFNBQXpCQSx1QkFBdUJBLENBQUczRCxLQUFLLEVBQUVnRCxJQUFJLEVBQUs7SUFDdEN6RixDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNDLEdBQUcsQ0FBQ3dDLEtBQUssQ0FBQ0MsVUFBVSxDQUFDO0lBQ3RDMUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDQyxHQUFHLENBQUN3QyxLQUFLLENBQUNFLFdBQVcsQ0FBQztJQUN4QzNDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0QsSUFBSSxDQUFDdEIsbUVBQWtCLENBQUNnRSxLQUFLLENBQUNHLFNBQVMsQ0FBQyxDQUFDO0lBQ3pEO0lBQ0EsSUFBSUgsS0FBSyxDQUFDakMsSUFBSSxJQUFJaUMsS0FBSyxDQUFDakMsSUFBSSxDQUFDRSxNQUFNLEVBQUU7TUFDakNWLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0MsR0FBRyxDQUFDd0MsS0FBSyxDQUFDakMsSUFBSSxDQUFDbUIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlDO0lBQ0E7SUFDQSxJQUFJOEQsSUFBSSxLQUFLLE1BQU0sSUFBSWhELEtBQUssQ0FBQ3dDLFdBQVcsRUFBRTtNQUN0Q2pGLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDc0csSUFBSSxDQUFDLENBQUM7SUFDOUIsQ0FBQyxNQUFNO01BQ0h0RyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ3VHLElBQUksQ0FBQyxDQUFDO0lBQzlCO0lBQ0FsSSxzREFBSyxDQUFDd0UsU0FBUyxHQUFHLEVBQUU7SUFDcEJ4RSxzREFBSyxDQUFDMEUsY0FBYyxHQUFHLENBQUMsQ0FBQztJQUN6QjFFLHNEQUFLLENBQUNtSSxnQkFBZ0IsR0FBRyxDQUFDO0lBQzFCbkksc0RBQUssQ0FBQ29JLFVBQVUsR0FBR2hFLEtBQUssQ0FBQ2dFLFVBQVUsSUFBSSxDQUFDLENBQUM7SUFDekNwSSxzREFBSyxDQUFDeUUsYUFBYSxHQUFHTCxLQUFLLENBQUNLLGFBQWEsSUFBSSxDQUFDLENBQUM7SUFDL0N6RSxzREFBSyxDQUFDMkUsaUJBQWlCLEdBQUdQLEtBQUssQ0FBQ08saUJBQWlCLElBQUksQ0FBQztJQUN0RDNFLHNEQUFLLENBQUM0RSxrQkFBa0IsR0FBR1IsS0FBSyxDQUFDUSxrQkFBa0IsSUFBSSxFQUFFO0lBQ3pEM0UsZ0ZBQXlCLENBQUMsQ0FBQztJQUMzQixJQUFJbUgsSUFBSSxLQUFLLE1BQU0sRUFBRTtNQUNqQnpGLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQzBHLFdBQVcsQ0FBQyxRQUFRLENBQUM7TUFDbEMxRyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQzJHLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDNUMsQ0FBQyxNQUFNLElBQUlsQixJQUFJLEtBQUssTUFBTSxFQUFFO01BQ3hCbEgsMkRBQWEsQ0FBQyxDQUFDO01BQ2Z5QixDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMwRyxXQUFXLENBQUMsUUFBUSxDQUFDO01BQ2xDMUcsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMyRyxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQzVDO0VBQ0osQ0FBQztFQUVEQyxnQkFBZ0IsRUFBRSxTQUFsQkEsZ0JBQWdCQSxDQUFHOUcsS0FBSyxFQUFLO0lBQ3pCRSxDQUFDLENBQUNJLElBQUksQ0FBQztNQUNIQyxHQUFHLEtBQUF2QixNQUFBLENBQUtKLFlBQVkscUJBQWtCO01BQ3RDNEIsTUFBTSxFQUFFLFFBQVE7TUFDaEJnRCxXQUFXLEVBQUUsa0JBQWtCO01BQy9CZCxJQUFJLEVBQUVlLElBQUksQ0FBQ0MsU0FBUyxDQUFDO1FBQUVkLFVBQVUsRUFBRTVDO01BQU0sQ0FBQyxDQUFDO01BQzNDUyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQSxFQUFRO1FBQ1hiLElBQUksQ0FBQ0MsSUFBSSxDQUFDO1VBQ044RCxLQUFLLEVBQUUsSUFBSTtVQUNYQyxRQUFRLEVBQUUsU0FBUztVQUNuQkMsSUFBSSxFQUFFLFNBQVM7VUFDZjdELEtBQUssRUFBRSxnQkFBZ0I7VUFDdkI4RCxpQkFBaUIsRUFBRSxLQUFLO1VBQ3hCQyxLQUFLLEVBQUU7UUFDWCxDQUFDLENBQUM7UUFDRjNFLE9BQU8sQ0FBQ21GLG9CQUFvQixDQUFDLENBQUM7TUFDbEMsQ0FBQztNQUNEekUsS0FBSyxFQUFFLFNBQVBBLEtBQUtBLENBQUdSLEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUs7UUFDckNKLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDQyxHQUFHLEVBQUVDLFVBQVUsRUFBRUMsV0FBVyxFQUFFLHdCQUF3QixDQUFDO01BQ25GO0lBQ0osQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL2RhdGEvc3RvcmFnZS5qcz9hMWE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9kYXRhL3N0b3JhZ2UuanNcclxuaW1wb3J0IHN0YXRlIGZyb20gJy4uL2NvcmUvc3RhdGUuanMnO1xyXG5pbXBvcnQgeyB1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yIH0gZnJvbSAnLi4vY29yZS9wbGFjZWhvbGRlcnMuanMnO1xyXG5pbXBvcnQgeyBidWlsZEZpbGxGb3JtIH0gZnJvbSAnLi4vdWkvZm9ybXMuanMnO1xyXG5pbXBvcnQgeyBVdGlscywgZGVjb2RlSFRNTEVudGl0aWVzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnO1xyXG5cclxuLy8gRGVmaW5lIHRoZSBiYXNlIFVSTCBmb3IgYWxsIEFQSSBjYWxscyAtIFVQREFURUQgdG8gYmUgZHluYW1pY1xyXG5jb25zdCBBUElfQkFTRV9VUkwgPSAoKCkgPT4ge1xyXG4gICAgLy8gSWYgd2UncmUgcnVubmluZyBvbiBsb2NhbGhvc3Qgd2l0aCBhIHNwZWNpZmljIHBvcnQsIHVzZSBpdCB3aXRoIHBvcnQgMzAwMFxyXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcpIHtcclxuICAgICAgICByZXR1cm4gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XHJcbiAgICB9XHJcbiAgICAvLyBGb3IgYWxsIG90aGVyIGNhc2VzIChwcm9kdWN0aW9uKSwgdXNlIHRoZSBzYW1lIG9yaWdpbiB3aXRoIGNvcnJlY3QgcG9ydFxyXG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0vLyR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfTozMDAwYDtcclxufSkoKTtcclxuXHJcbmNvbnNvbGUubG9nKGBVc2luZyBBUEkgYmFzZSBVUkw6ICR7QVBJX0JBU0VfVVJMfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IFN0b3JhZ2UgPSB7XHJcbiAgICBoYW5kbGVBamF4RXJyb3I6ICh4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duLCBjdXN0b21FcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gY3VzdG9tRXJyb3JNZXNzYWdlIHx8ICdGYWlsZWQgdG8gcGVyZm9ybSBhY3Rpb24nO1xyXG4gICAgICAgIGlmICh4aHIuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgLiBTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzOiAke3hoci5zdGF0dXN9ICR7eGhyLnN0YXR1c1RleHR9YDtcclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1c1RleHQpIHtcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9IGAuIFN0YXR1cyB0ZXh0OiAke3N0YXR1c1RleHR9YDtcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgLiBFcnJvcjogJHtlcnJvclRocm93bn1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBTd2FsLmZpcmUoJ0Vycm9yJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQUpBWCBFcnJvcjpcIiwgZXJyb3JNZXNzYWdlLCB4aHIpO1xyXG4gICAgfSxcclxuICAgIFxyXG4gICAgYWRkQ3VycmVudFN0b3J5VG9TYXZlZFN0b3JpZXM6ICgpID0+IHtcclxuICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICB0aXRsZTogJ1NhdmUgU3RvcnknLFxyXG4gICAgICAgICAgICBodG1sOiBgXHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJzd2FsVGl0bGVcIiBjbGFzcz1cInN3YWwyLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJTdG9yeSBUaXRsZVwiIHZhbHVlPVwiJHskKCcjc3RvcnlUaXRsZScpLnZhbCgpfVwiPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwic3dhbEF1dGhvclwiIGNsYXNzPVwic3dhbDItaW5wdXRcIiBwbGFjZWhvbGRlcj1cIkF1dGhvclwiIHZhbHVlPVwiJHskKCcjc3RvcnlBdXRob3InKS52YWwoKX1cIj5cclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInN3YWxUYWdzXCIgY2xhc3M9XCJzd2FsMi1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiVGFncyAoY29tbWEgc2VwYXJhdGVkKVwiIHZhbHVlPVwiJHskKCcjc3RvcnlUYWdzJykudmFsKCl9XCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwic3dhbFBhc3N3b3JkXCIgY2xhc3M9XCJzd2FsMi1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmQgKG9wdGlvbmFsKVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJwcmVleGlzdGluZ1RhZ3NDb250YWluZXJcIiBzdHlsZT1cInRleHQtYWxpZ246bGVmdDsgbWFyZ2luLXRvcDoxMHB4O1wiPjwvZGl2PlxyXG4gICAgICAgICAgICBgLFxyXG4gICAgICAgICAgICBkaWRPcGVuOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGltcG9ydCBhbmQgY2FsbCBsb2FkUHJlZXhpc3RpbmdUYWdzIGZyb20gZXZlbnRzLmpzXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHJlcXVpcmVzIHByb3BlciBtb2R1bGUgaGFuZGxpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoJyNwcmVleGlzdGluZ1RhZ3NDb250YWluZXInKTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtBUElfQkFTRV9VUkx9L2FwaS9nZXR0YWdzYCxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICh0YWdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKCc8cD5TZWxlY3QgYSB0YWc6PC9wPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnRuID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtLTEgcHJlZXhpc3RpbmctdGFnLWJ0blwiPjwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0KHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSAkKCcjc3dhbFRhZ3MnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ3NBcnIgPSBjdXJyZW50ID8gY3VycmVudC5zcGxpdCgnLCcpLm1hcCh0ID0+IHQudHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdzQXJyLmluY2x1ZGVzKHRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NBcnIucHVzaCh0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N3YWxUYWdzJykudmFsKHRhZ3NBcnIuam9pbignLCAnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGJ0bik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcHJlZXhpc3RpbmcgdGFncycsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU2F2ZScsXHJcbiAgICAgICAgICAgIHByZUNvbmZpcm06ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsVGl0bGUnKS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsQXV0aG9yJykudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3YWxUYWdzJykudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsUGFzc3dvcmQnKS52YWx1ZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGZpZWxkcyBpbiB0aGUgZWRpdG9yXHJcbiAgICAgICAgICAgICAgICAkKCcjc3RvcnlUaXRsZScpLnZhbChkYXRhLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgICQoJyNzdG9yeUF1dGhvcicpLnZhbChkYXRhLmF1dGhvcik7XHJcbiAgICAgICAgICAgICAgICAkKCcjc3RvcnlUYWdzJykudmFsKGRhdGEudGFncyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3J5VGl0bGU6IGRhdGEudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcnlBdXRob3I6IGRhdGEuYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b3J5VGV4dDogJCgnI3N0b3J5VGV4dCcpLmh0bWwoKSxcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHN0YXRlLnZhcmlhYmxlcyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBzOiBzdGF0ZS5wcm9ub3VuR3JvdXBzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlQ291bnRzOiBzdGF0ZS52YXJpYWJsZUNvdW50cywgICBcclxuICAgICAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBDb3VudDogc3RhdGUucHJvbm91bkdyb3VwQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXJzOiBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnczogZGF0YS50YWdzID8gZGF0YS50YWdzLnNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpIDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkICYmIGRhdGEucGFzc3dvcmQudHJpbSgpICE9PSAnJyA/IGRhdGEucGFzc3dvcmQgOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2F2ZXN0b3J5YCxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHN0b3J5KSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N0b3J5IHNhdmVkIHRvIHNpdGUhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICh4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9yeSBleGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBIHN0b3J5IHdpdGggdGhpcyB0aXRsZSBhbHJlYWR5IGV4aXN0cy4gT3ZlcndyaXRlPycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIG92ZXJ3cml0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ05vJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgc3Rvcnkgb2JqZWN0IHdpdGggdGhlIG92ZXJ3cml0ZSBmbGFnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdG9yeVdpdGhPdmVyd3JpdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yeVRpdGxlOiAkKCcjc3RvcnlUaXRsZScpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcnlBdXRob3I6ICQoJyNzdG9yeUF1dGhvcicpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcnlUZXh0OiAkKCcjc3RvcnlUZXh0JykuaHRtbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiBzdGF0ZS52YXJpYWJsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBzOiBzdGF0ZS5wcm9ub3VuR3JvdXBzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVDb3VudHM6IHN0YXRlLnZhcmlhYmxlQ291bnRzLCAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbm91bkdyb3VwQ291bnQ6IHN0YXRlLnByb25vdW5Hcm91cENvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXJzOiBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiAkKCcjc3RvcnlUYWdzJykudmFsKCkgPyAkKCcjc3RvcnlUYWdzJykudmFsKCkuc3BsaXQoJywnKS5tYXAocyA9PiBzLnRyaW0oKSkgOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcndyaXRlOiB0cnVlICAvLyBBZGQgdGhlIG92ZXJ3cml0ZSBmbGFnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtBUElfQkFTRV9VUkx9L2FwaS9zYXZlc3RvcnlgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc3RvcnlXaXRoT3ZlcndyaXRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N0b3J5IG92ZXJ3cml0dGVuIScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDE1MDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogKHhock92ZXJ3cml0ZSwgc3RhdHVzVGV4dE92ZXJ3cml0ZSwgZXJyb3JUaHJvd25PdmVyd3JpdGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdG9yYWdlLmhhbmRsZUFqYXhFcnJvcih4aHJPdmVyd3JpdGUsIHN0YXR1c1RleHRPdmVyd3JpdGUsIGVycm9yVGhyb3duT3ZlcndyaXRlLCAnRmFpbGVkIHRvIG92ZXJ3cml0ZSBzdG9yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0b3JhZ2UuaGFuZGxlQWpheEVycm9yKHhociwgc3RhdHVzVGV4dCwgZXJyb3JUaHJvd24sICdGYWlsZWQgdG8gc2F2ZSBzdG9yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGFkZENvbXBsZXRlZFN0b3J5VG9TYXZlZFN0b3JpZXM6ICgpID0+IHtcclxuICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICB0aXRsZTogJ1NhdmUgQ29tcGxldGVkIFN0b3J5JyxcclxuICAgICAgICAgICAgaHRtbDogYFxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwic3dhbFRpdGxlXCIgY2xhc3M9XCJzd2FsMi1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiU3RvcnkgVGl0bGVcIiB2YWx1ZT1cIiR7JCgnI2Rpc3BsYXlUaXRsZScpLnRleHQoKX1cIj5cclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInN3YWxBdXRob3JcIiBjbGFzcz1cInN3YWwyLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJBdXRob3JcIiB2YWx1ZT1cIiR7JCgnI2Rpc3BsYXlBdXRob3InKS50ZXh0KCl9XCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJzd2FsVGFnc1wiIGNsYXNzPVwic3dhbDItaW5wdXRcIiBwbGFjZWhvbGRlcj1cIlRhZ3MgKGNvbW1hIHNlcGFyYXRlZClcIiB2YWx1ZT1cIiR7JCgnI2Rpc3BsYXlUYWdzJykudGV4dCgpfVwiPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cInN3YWxQYXNzd29yZFwiIGNsYXNzPVwic3dhbDItaW5wdXRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkIChvcHRpb25hbClcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGlkPVwicHJlZXhpc3RpbmdUYWdzQ29udGFpbmVyXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmxlZnQ7IG1hcmdpbi10b3A6MTBweDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgYCxcclxuICAgICAgICAgICAgZGlkT3BlbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBpbXBvcnQgYW5kIGNhbGwgbG9hZFByZWV4aXN0aW5nVGFncyBmcm9tIGV2ZW50cy5qc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyByZXF1aXJlcyBwcm9wZXIgbW9kdWxlIGhhbmRsaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSAkKCcjcHJlZXhpc3RpbmdUYWdzQ29udGFpbmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX0JBU0VfVVJMfS9hcGkvZ2V0dGFnc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAodGFncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZCgnPHA+U2VsZWN0IGEgdGFnOjwvcD4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkgbS0xIHByZWV4aXN0aW5nLXRhZy1idG5cIj48L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG4udGV4dCh0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50ID0gJCgnI3N3YWxUYWdzJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YWdzQXJyID0gY3VycmVudCA/IGN1cnJlbnQuc3BsaXQoJywnKS5tYXAodCA9PiB0LnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFnc0Fyci5pbmNsdWRlcyh0YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzQXJyLnB1c2godGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzd2FsVGFncycpLnZhbCh0YWdzQXJyLmpvaW4oJywgJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChidG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHByZWV4aXN0aW5nIHRhZ3MnLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1NhdmUnLFxyXG4gICAgICAgICAgICBwcmVDb25maXJtOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dhbFRpdGxlJykudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dhbEF1dGhvcicpLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsVGFncycpLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dhbFBhc3N3b3JkJykudmFsdWVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBkaXNwbGF5IGluIHRoZSByZXN1bHQgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgJCgnI2Rpc3BsYXlUaXRsZScpLnRleHQoZGF0YS50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGlzcGxheUF1dGhvcicpLnRleHQoZGF0YS5hdXRob3IpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2Rpc3BsYXlUYWdzJykudGV4dChkYXRhLnRhZ3MpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yeSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdG9yeVRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b3J5QXV0aG9yOiBkYXRhLmF1dGhvcixcclxuICAgICAgICAgICAgICAgICAgICBzdG9yeVRleHQ6IHN0YXRlLnN0b3J5VGV4dCxcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHN0YXRlLnZhcmlhYmxlcyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBzOiBzdGF0ZS5wcm9ub3VuR3JvdXBzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlQ291bnRzOiBzdGF0ZS52YXJpYWJsZUNvdW50cyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBDb3VudDogc3RhdGUucHJvbm91bkdyb3VwQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXJzOiBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnczogZGF0YS50YWdzID8gZGF0YS50YWdzLnNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpIDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkICYmIGRhdGEucGFzc3dvcmQudHJpbSgpICE9PSAnJyA/IGRhdGEucGFzc3dvcmQgOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2F2ZXN0b3J5YCxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHN0b3J5KSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbXBsZXRlZCBzdG9yeSBzYXZlZCB0byBzaXRlIScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAoeGhyLCBzdGF0dXNUZXh0LCBlcnJvclRocm93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gNDA5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3RvcnkgZXhpc3RzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQSBzdG9yeSB3aXRoIHRoaXMgdGl0bGUgYWxyZWFkeSBleGlzdHMuIE92ZXJ3cml0ZT8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBvdmVyd3JpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdObydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rvcnkub3ZlcndyaXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2F2ZXN0b3J5YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHN0b3J5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbXBsZXRlZCBzdG9yeSBvdmVyd3JpdHRlbiEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICh4aHJPdmVyd3JpdGUsIHN0YXR1c1RleHRPdmVyd3JpdGUsIGVycm9yVGhyb3duT3ZlcndyaXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZS5oYW5kbGVBamF4RXJyb3IoeGhyT3ZlcndyaXRlLCBzdGF0dXNUZXh0T3ZlcndyaXRlLCBlcnJvclRocm93bk92ZXJ3cml0ZSwgJ0ZhaWxlZCB0byBvdmVyd3JpdGUgY29tcGxldGVkIHN0b3J5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZS5oYW5kbGVBamF4RXJyb3IoeGhyLCBzdGF0dXNUZXh0LCBlcnJvclRocm93biwgJ0ZhaWxlZCB0byBzYXZlIGNvbXBsZXRlZCBzdG9yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGxvYWRTYXZlZFN0b3JpZXNMaXN0OiAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFnID0gJCgnI2ZpbHRlclRhZycpLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IHNvcnQgPSAkKCcjc29ydE9wdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7QVBJX0JBU0VfVVJMfS9hcGkvZ2V0c3Rvcmllcz90YWc9JHtlbmNvZGVVUklDb21wb25lbnQodGFnIHx8ICcnKX0mc29ydD0ke2VuY29kZVVSSUNvbXBvbmVudChzb3J0IHx8ICdkYXRlX2Rlc2MnKX1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoc3RvcmllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGZldGNoZWQgc3RvcmllcyBnbG9iYWxseSBmb3IgbGF0ZXIgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2F2ZWRTdG9yaWVzID0gc3RvcmllcztcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRsaXN0Q29udGFpbmVyID0gJCgnI3NhdmVkU3Rvcmllc0xpc3QnKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yaWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsaXN0Q29udGFpbmVyLmFwcGVuZCgnPHA+Tm8gc3RvcmllcyBzYXZlZCB5ZXQuPC9wPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0b3JpZXMuZm9yRWFjaCgoc3RvcnksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZU9iaiA9IG5ldyBEYXRlKHN0b3J5LnNhdmVkQXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSBkYXRlT2JqLnRvTG9jYWxlRGF0ZVN0cmluZygpICsgXCIgXCIgKyBkYXRlT2JqLnRvTG9jYWxlVGltZVN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBzdG9yeS50YWdzICYmIHN0b3J5LnRhZ3MubGVuZ3RoID8gc3RvcnkudGFncy5qb2luKCcsICcpIDogJ05vIHRhZ3MnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZ0Rpc3BsYXkgPSBzdG9yeS5yYXRpbmdDb3VudCA/IGBSYXRpbmc6ICR7c3RvcnkucmF0aW5nLnRvRml4ZWQoMSl9ICgke3N0b3J5LnJhdGluZ0NvdW50fSB2b3RlcylgIDogJ05vIHJhdGluZ3MnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2tJbmRpY2F0b3IgPSBzdG9yeS5sb2NrZWQgPyBgPGkgY2xhc3M9XCJmYXMgZmEtbG9ja1wiIHRpdGxlPVwiUGFzc3dvcmQgUHJvdGVjdGVkXCI+PC9pPiBgIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9ICQoYFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz4ke2xvY2tJbmRpY2F0b3J9JHtzdG9yeS5zdG9yeVRpdGxlIHx8ICdVbnRpdGxlZCd9PC9zdHJvbmc+PGJyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPiR7c3Rvcnkuc3RvcnlBdXRob3IgfHwgJ1Vua25vd24nfSB8ICR7ZGF0ZVN0cn08L3NtYWxsPjxicj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD4ke3RhZ3N9IHwgJHtyYXRpbmdEaXNwbGF5fTwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zZWNvbmRhcnkgZWRpdFNhdmVkU3RvcnlCdG5cIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIiBhcmlhLWxhYmVsPVwiRWRpdCBTdG9yeVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1lZGl0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBsb2FkU2F2ZWRTdG9yeUJ0blwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiIGFyaWEtbGFiZWw9XCJQbGF5IFN0b3J5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXIgZGVsZXRlU2F2ZWRTdG9yeUJ0blwiIGRhdGEtdGl0bGU9XCIke3N0b3J5LnN0b3J5VGl0bGV9XCIgYXJpYS1sYWJlbD1cIkRlbGV0ZSBTdG9yeVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS10cmFzaC1hbHRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgICAgICAgICAkbGlzdENvbnRhaW5lci5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6ICh4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBTdG9yYWdlLmhhbmRsZUFqYXhFcnJvcih4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duLCAnRmFpbGVkIHRvIGxvYWQgc2F2ZWQgc3RvcmllcyBsaXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGNyZWF0ZVNhdmVkU3RvcnlMaXN0SXRlbTogKHN0b3J5LCBpbmRleCwgZGF0ZVN0cikgPT4ge1xyXG4gICAgICAgIHJldHVybiAkKGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBwLTJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz4ke3N0b3J5LnN0b3J5VGl0bGUgfHwgJ1VudGl0bGVkJ308L3N0cm9uZz48YnI+XHJcbiAgICAgICAgICAgICAgICAgIDxzbWFsbD4ke3N0b3J5LnN0b3J5QXV0aG9yIHx8ICdVbmtub3duJ30gfCAke2RhdGVTdHJ9PC9zbWFsbD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXNlY29uZGFyeSBlZGl0U2F2ZWRTdG9yeUJ0blwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiIGFyaWEtbGFiZWw9XCJFZGl0IFN0b3J5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZWRpdFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIGxvYWRTYXZlZFN0b3J5QnRuXCIgZGF0YS1pbmRleD1cIiR7aW5kZXh9XCIgYXJpYS1sYWJlbD1cIlBsYXkgU3RvcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1wbGF5XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWRhbmdlciBkZWxldGVTYXZlZFN0b3J5QnRuXCIgZGF0YS10aXRsZT1cIiR7c3Rvcnkuc3RvcnlUaXRsZX1cIiBhcmlhLWxhYmVsPVwiRGVsZXRlIFN0b3J5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgKTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGxvYWRTYXZlZFN0b3J5OiAoaW5kZXgsIG1vZGUgPSBcImVkaXRcIikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0b3JpZXMgPSB3aW5kb3cuc2F2ZWRTdG9yaWVzIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IHN0b3J5ID0gc3Rvcmllc1tpbmRleF07XHJcbiAgICAgICAgaWYgKCFzdG9yeSkge1xyXG4gICAgICAgICAgICBTd2FsLmZpcmUoJ0Vycm9yJywgJ1N0b3J5IG5vdCBmb3VuZC4nLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBORVc6IElmIHRoZSBzdG9yeSBpcyBsb2NrZWQsIHByb21wdCBmb3IgdGhlIHBhc3N3b3JkLlxyXG4gICAgICAgIGlmIChzdG9yeS5sb2NrZWQpIHtcclxuICAgICAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnRW50ZXIgUGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgaW5wdXQ6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgICBpbnB1dFBsYWNlaG9sZGVyOiAnUGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlucHV0QXR0cmlidXRlczogeyBhdXRvY2FwaXRhbGl6ZTogJ29mZicsIGF1dG9jb3JyZWN0OiAnb2ZmJyB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke0FQSV9CQVNFX1VSTH0vYXBpL3VubG9ja3N0b3J5YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsgc3RvcnlJZDogc3RvcnkuX2lkLCBwYXNzd29yZDogcmVzdWx0LnZhbHVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAodW5sb2NrZWRTdG9yeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZS5wb3B1bGF0ZUVkaXRvcldpdGhTdG9yeSh1bmxvY2tlZFN0b3J5LCBtb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRTdG9yeUlkID0gdW5sb2NrZWRTdG9yeS5faWQgfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNkaXNwbGF5U3RvcnlJZCcpLnRleHQoc3RhdGUuY3VycmVudFN0b3J5SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsgdG9hc3Q6IHRydWUsIHBvc2l0aW9uOiAndG9wLWVuZCcsIGljb246ICdzdWNjZXNzJywgdGl0bGU6ICdTdG9yeSBsb2FkZWQhJywgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLCB0aW1lcjogMTUwMCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICh4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdG9yYWdlLmhhbmRsZUFqYXhFcnJvcih4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duLCAnSW5jb3JyZWN0IHBhc3N3b3JkIG9yIGZhaWxlZCB0byB1bmxvY2sgc3RvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBTdG9yYWdlLnBvcHVsYXRlRWRpdG9yV2l0aFN0b3J5KHN0b3J5LCBtb2RlKTtcclxuICAgICAgICAgICAgc3RhdGUuY3VycmVudFN0b3J5SWQgPSBzdG9yeS5faWQgfHwgbnVsbDtcclxuICAgICAgICAgICAgJCgnI2Rpc3BsYXlTdG9yeUlkJykudGV4dChzdGF0ZS5jdXJyZW50U3RvcnlJZCk7XHJcbiAgICAgICAgICAgIFN3YWwuZmlyZSh7IHRvYXN0OiB0cnVlLCBwb3NpdGlvbjogJ3RvcC1lbmQnLCBpY29uOiAnc3VjY2VzcycsIHRpdGxlOiAnU3RvcnkgbG9hZGVkIScsIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwgdGltZXI6IDE1MDAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwb3B1bGF0ZUVkaXRvcldpdGhTdG9yeTogKHN0b3J5LCBtb2RlKSA9PiB7XHJcbiAgICAgICAgJCgnI3N0b3J5VGl0bGUnKS52YWwoc3Rvcnkuc3RvcnlUaXRsZSk7XHJcbiAgICAgICAgJCgnI3N0b3J5QXV0aG9yJykudmFsKHN0b3J5LnN0b3J5QXV0aG9yKTtcclxuICAgICAgICAkKCcjc3RvcnlUZXh0JykuaHRtbChkZWNvZGVIVE1MRW50aXRpZXMoc3Rvcnkuc3RvcnlUZXh0KSk7XHJcbiAgICAgICAgLy8gTkVXOiBQb3B1bGF0ZSB0YWdzIGlucHV0IGlmIGVkaXRpbmcgYSBzdG9yeS5cclxuICAgICAgICBpZiAoc3RvcnkudGFncyAmJiBzdG9yeS50YWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkKCcjc3RvcnlUYWdzJykudmFsKHN0b3J5LnRhZ3Muam9pbignLCAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFsc28gc3RvcmUgcmF0aW5nIGluZm8gaW4gYSBkaXNwbGF5IGFyZWEgKGlmIGRlc2lyZWQpXHJcbiAgICAgICAgaWYgKG1vZGUgPT09IFwicGxheVwiICYmIHN0b3J5LnJhdGluZ0NvdW50KSB7XHJcbiAgICAgICAgICAgICQoJyNyYXRpbmdTZWN0aW9uJykuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNyYXRpbmdTZWN0aW9uJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGF0ZS52YXJpYWJsZXMgPSBbXTtcclxuICAgICAgICBzdGF0ZS52YXJpYWJsZUNvdW50cyA9IHt9O1xyXG4gICAgICAgIHN0YXRlLmluc2VydGlvbkNvdW50ZXIgPSAwO1xyXG4gICAgICAgIHN0YXRlLmZpbGxWYWx1ZXMgPSBzdG9yeS5maWxsVmFsdWVzIHx8IHt9O1xyXG4gICAgICAgIHN0YXRlLnByb25vdW5Hcm91cHMgPSBzdG9yeS5wcm9ub3VuR3JvdXBzIHx8IHt9O1xyXG4gICAgICAgIHN0YXRlLnByb25vdW5Hcm91cENvdW50ID0gc3RvcnkucHJvbm91bkdyb3VwQ291bnQgfHwgMDtcclxuICAgICAgICBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMgPSBzdG9yeS5jdXN0b21QbGFjZWhvbGRlcnMgfHwgW107XHJcbiAgICAgICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcigpO1xyXG4gICAgICAgIGlmIChtb2RlID09PSBcImVkaXRcIikge1xyXG4gICAgICAgICAgICAkKCcjZWRpdG9yJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAkKCcjaW5wdXRzLCAjcmVzdWx0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJwbGF5XCIpIHtcclxuICAgICAgICAgICAgYnVpbGRGaWxsRm9ybSgpO1xyXG4gICAgICAgICAgICAkKCcjaW5wdXRzJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAkKCcjZWRpdG9yLCAjcmVzdWx0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBcclxuICAgIGRlbGV0ZVNhdmVkU3Rvcnk6ICh0aXRsZSkgPT4ge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7QVBJX0JBU0VfVVJMfS9hcGkvZGVsZXRlc3RvcnlgLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IHN0b3J5VGl0bGU6IHRpdGxlIH0pLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3RvcnkgZGVsZXRlZCEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3JpZXNMaXN0KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiAoeGhyLCBzdGF0dXNUZXh0LCBlcnJvclRocm93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgU3RvcmFnZS5oYW5kbGVBamF4RXJyb3IoeGhyLCBzdGF0dXNUZXh0LCBlcnJvclRocm93biwgJ0ZhaWxlZCB0byBkZWxldGUgc3RvcnknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59OyJdLCJuYW1lcyI6WyJzdGF0ZSIsInVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IiLCJidWlsZEZpbGxGb3JtIiwiVXRpbHMiLCJkZWNvZGVIVE1MRW50aXRpZXMiLCJBUElfQkFTRV9VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY29uY2F0IiwicHJvdG9jb2wiLCJjb25zb2xlIiwibG9nIiwiU3RvcmFnZSIsImhhbmRsZUFqYXhFcnJvciIsInhociIsInN0YXR1c1RleHQiLCJlcnJvclRocm93biIsImN1c3RvbUVycm9yTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsInN0YXR1cyIsIlN3YWwiLCJmaXJlIiwiZXJyb3IiLCJhZGRDdXJyZW50U3RvcnlUb1NhdmVkU3RvcmllcyIsInRpdGxlIiwiaHRtbCIsIiQiLCJ2YWwiLCJkaWRPcGVuIiwiY29udGFpbmVyIiwiYWpheCIsInVybCIsIm1ldGhvZCIsInN1Y2Nlc3MiLCJ0YWdzIiwiZW1wdHkiLCJsZW5ndGgiLCJhcHBlbmQiLCJmb3JFYWNoIiwidGFnIiwiYnRuIiwidGV4dCIsIm9uIiwiY3VycmVudCIsInRhZ3NBcnIiLCJzcGxpdCIsIm1hcCIsInQiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsImluY2x1ZGVzIiwicHVzaCIsImpvaW4iLCJlcnIiLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvblRleHQiLCJwcmVDb25maXJtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiYXV0aG9yIiwicGFzc3dvcmQiLCJ0aGVuIiwicmVzdWx0IiwiaXNDb25maXJtZWQiLCJkYXRhIiwic3RvcnkiLCJzdG9yeVRpdGxlIiwic3RvcnlBdXRob3IiLCJzdG9yeVRleHQiLCJ2YXJpYWJsZXMiLCJwcm9ub3VuR3JvdXBzIiwidmFyaWFibGVDb3VudHMiLCJwcm9ub3VuR3JvdXBDb3VudCIsImN1c3RvbVBsYWNlaG9sZGVycyIsInMiLCJzYXZlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY29udGVudFR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwidG9hc3QiLCJwb3NpdGlvbiIsImljb24iLCJzaG93Q29uZmlybUJ1dHRvbiIsInRpbWVyIiwiY2FuY2VsQnV0dG9uVGV4dCIsInN0b3J5V2l0aE92ZXJ3cml0ZSIsIm92ZXJ3cml0ZSIsInhock92ZXJ3cml0ZSIsInN0YXR1c1RleHRPdmVyd3JpdGUiLCJlcnJvclRocm93bk92ZXJ3cml0ZSIsImFkZENvbXBsZXRlZFN0b3J5VG9TYXZlZFN0b3JpZXMiLCJsb2FkU2F2ZWRTdG9yaWVzTGlzdCIsInNvcnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdG9yaWVzIiwic2F2ZWRTdG9yaWVzIiwiJGxpc3RDb250YWluZXIiLCJpbmRleCIsImRhdGVPYmoiLCJkYXRlU3RyIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwicmF0aW5nRGlzcGxheSIsInJhdGluZ0NvdW50IiwicmF0aW5nIiwidG9GaXhlZCIsImxvY2tJbmRpY2F0b3IiLCJsb2NrZWQiLCJpdGVtIiwiY3JlYXRlU2F2ZWRTdG9yeUxpc3RJdGVtIiwibG9hZFNhdmVkU3RvcnkiLCJtb2RlIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiaW5wdXQiLCJpbnB1dFBsYWNlaG9sZGVyIiwiaW5wdXRBdHRyaWJ1dGVzIiwiYXV0b2NhcGl0YWxpemUiLCJhdXRvY29ycmVjdCIsInN0b3J5SWQiLCJfaWQiLCJ1bmxvY2tlZFN0b3J5IiwicG9wdWxhdGVFZGl0b3JXaXRoU3RvcnkiLCJjdXJyZW50U3RvcnlJZCIsInNob3ciLCJoaWRlIiwiaW5zZXJ0aW9uQ291bnRlciIsImZpbGxWYWx1ZXMiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZGVsZXRlU2F2ZWRTdG9yeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/data/storage.js\n");

/***/ }),

/***/ "./public/js/handlers/events.js":
/*!**************************************!*\
  !*** ./public/js/handlers/events.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initEvents: () => (/* binding */ initEvents)\n/* harmony export */ });\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _data_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/storage.js */ \"./public/js/data/storage.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/utils.js */ \"./public/js/utils/utils.js\");\n/* harmony import */ var _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/StringUtils.js */ \"./public/js/utils/StringUtils.js\");\n/* harmony import */ var _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/typeHelpers.js */ \"./public/js/utils/typeHelpers.js\");\n/* harmony import */ var _core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/placeholders.js */ \"./public/js/core/placeholders.js\");\n/* harmony import */ var _ui_forms_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/forms.js */ \"./public/js/ui/forms.js\");\n/* harmony import */ var _core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/storyProcessor.js */ \"./public/js/core/storyProcessor.js\");\n/* harmony import */ var _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/domUtils.js */ \"./public/js/utils/domUtils.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _ui_notifications_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/notifications.js */ \"./public/js/ui/notifications.js\");\n// public/js/handlers/events.js\n\n\n\n\n\n\n\n\n\n // Ensure Swal is imported if used\n\n\n// Handle placeholder button click\nvar handlePlaceholderClick = function handlePlaceholderClick(internalType, displayName) {\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder && _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable) {\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateExistingPlaceholder)(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable, internalType, displayName);\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder = false;\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable = null;\n    $('#placeholderModal').modal('hide');\n  } else {\n    if (internalType === \"PRONOUN\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.pickPronounFormAndGroup)();\n      $('#placeholderSearch').val('');\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n      return;\n    }\n    if (internalType.startsWith(\"NN\")) {\n      if (internalType === \"NN_Person\") {\n        (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showPersonTypeSelection)(internalType, displayName);\n        $('#placeholderSearch').val('');\n        (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n        return;\n      }\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection)(internalType, displayName);\n      $('#placeholderSearch').val('');\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n      return;\n    }\n    if (internalType.startsWith(\"VB\") || internalType === \"MD\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection)(internalType, displayName);\n      $('#placeholderSearch').val('');\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n      return;\n    }\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.insertPlaceholder)(internalType, displayName, false);\n    $('#placeholderSearch').val('');\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n  }\n};\n\n// Handle create new story button click\nvar handleCreateNewStory = function handleCreateNewStory(e) {\n  e.preventDefault();\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges) {\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Unsaved changes',\n      text: 'Your story has unsaved changes. Would you like to save it to the site before starting a new one?',\n      showDenyButton: true,\n      confirmButtonText: 'Save and start new',\n      denyButtonText: 'Discard changes'\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.addCurrentStoryToSavedStories();\n        setTimeout(_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState, 1000);\n      } else if (result.isDenied) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n          title: 'Are you sure?',\n          text: 'This will discard your current unsaved story.',\n          confirmButtonText: 'Yes, start new'\n        }).then(function (res) {\n          if (res.isConfirmed) (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState)();\n        });\n      }\n    });\n  } else {\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Are you sure?',\n      text: 'This will discard your current story.',\n      confirmButtonText: 'Yes, start new'\n    }).then(function (res) {\n      if (res.isConfirmed) (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState)();\n    });\n  }\n};\n\n// Handle generate story button click\nvar handleGenerateStory = function handleGenerateStory() {\n  // Use the form validation function from forms.js\n  if (!(0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.validateInputForm)()) {\n    return; // Validation failed\n  }\n\n  // Collect values from the input form\n  var inputForm = document.getElementById('inputForm');\n  var inputs = inputForm.querySelectorAll('input[type=\"text\"]');\n\n  // Reset fillValues\n  _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = {};\n\n  // Populate fillValues with the values from the input fields\n  inputs.forEach(function (input) {\n    var id = input.getAttribute('data-id');\n    if (id && input.value.trim() !== '') {\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues[id] = input.value.trim();\n      console.log(\"Collected input value for \".concat(id, \": \\\"\").concat(input.value.trim(), \"\\\"\"));\n    }\n  });\n\n  // Generate the final story with replacements\n  var _final = (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.generateLegacyText)();\n  _final = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.fillPlaceholders)(_final, _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables, _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues, _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups);\n\n  // Update the result display\n  $('#finalStory').text(_final);\n  $('#displayTitle').text($('#storyTitle').val());\n  $('#displayAuthor').text($('#storyAuthor').val());\n  $('#displayTags').text($('#storyTags').val());\n  $('#result').removeClass('d-none');\n  $('#inputs').addClass('d-none');\n};\n\n// Handle save story to site button\nvar handleSaveStoryToSite = function handleSaveStoryToSite() {\n  sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n    title: 'Save Story',\n    html: \"\\n          <input type=\\\"text\\\" id=\\\"swalTitle\\\" class=\\\"swal2-input\\\" placeholder=\\\"Story Title\\\" value=\\\"\".concat($('#storyTitle').val(), \"\\\">\\n          <input type=\\\"text\\\" id=\\\"swalAuthor\\\" class=\\\"swal2-input\\\" placeholder=\\\"Author\\\" value=\\\"\").concat($('#storyAuthor').val(), \"\\\">\\n          <input type=\\\"text\\\" id=\\\"swalTags\\\" class=\\\"swal2-input\\\" placeholder=\\\"Tags (comma separated)\\\" value=\\\"\").concat($('#storyTags').val(), \"\\\">\\n          <input type=\\\"password\\\" id=\\\"swalPassword\\\" class=\\\"swal2-input\\\" placeholder=\\\"Password (optional)\\\">\\n          <div id=\\\"preexistingTagsContainer\\\" style=\\\"text-align:left; margin-top:10px;\\\"></div>\\n        \"),\n    didOpen: function didOpen() {\n      loadPreexistingTags();\n    },\n    showCancelButton: true,\n    confirmButtonText: 'Save',\n    preConfirm: function preConfirm() {\n      return {\n        title: document.getElementById('swalTitle').value,\n        author: document.getElementById('swalAuthor').value,\n        tags: document.getElementById('swalTags').value,\n        password: document.getElementById('swalPassword').value\n      };\n    }\n  }).then(function (result) {\n    if (result.isConfirmed) {\n      var data = result.value;\n      // Update fields in the editor\n      $('#storyTitle').val(data.title);\n      $('#storyAuthor').val(data.author);\n      $('#storyTags').val(data.tags);\n      var story = {\n        storyTitle: data.title,\n        storyAuthor: data.author,\n        storyText: $('#storyText').html(),\n        variables: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables,\n        pronounGroups: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups,\n        variableCounts: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts,\n        pronounGroupCount: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount,\n        customPlaceholders: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders,\n        tags: data.tags ? data.tags.split(',').map(function (s) {\n          return s.trim();\n        }) : [],\n        savedAt: new Date().toISOString(),\n        password: data.password && data.password.trim() !== '' ? data.password : null\n      };\n      $.ajax({\n        url: '/api/savestory',\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify(story),\n        success: function success() {\n          sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n            toast: true,\n            position: 'top-end',\n            icon: 'success',\n            title: 'Story saved to site!',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        },\n        error: function error(xhr, statusText, errorThrown) {\n          if (xhr.status === 409) {\n            sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n              title: 'Story exists',\n              text: 'A story with this title already exists. Overwrite?',\n              icon: 'warning',\n              showCancelButton: true,\n              confirmButtonText: 'Yes, overwrite',\n              cancelButtonText: 'No'\n            }).then(function (result) {\n              if (result.isConfirmed) {\n                story.overwrite = true;\n                $.ajax({\n                  url: '/api/savestory',\n                  method: 'POST',\n                  contentType: 'application/json',\n                  data: JSON.stringify(story),\n                  success: function success() {\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n                      toast: true,\n                      position: 'top-end',\n                      icon: 'success',\n                      title: 'Story overwritten!',\n                      showConfirmButton: false,\n                      timer: 1500\n                    });\n                  },\n                  error: function error(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) {\n                    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite story');\n                  }\n                });\n              }\n            });\n          } else {\n            _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save story');\n          }\n        }\n      });\n    }\n  });\n};\n\n// Load preexisting tags for tag selector\nvar loadPreexistingTags = function loadPreexistingTags() {\n  $.ajax({\n    url: '/api/gettags',\n    method: 'GET',\n    success: function success(tags) {\n      var container = $('#preexistingTagsContainer');\n      container.empty();\n      if (tags.length > 0) {\n        container.append('<p>Select a tag:</p>');\n        tags.forEach(function (tag) {\n          var btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\n          btn.text(tag);\n          btn.on('click', function () {\n            var current = $('#swalTags').val();\n            var tagsArr = current ? current.split(',').map(function (t) {\n              return t.trim();\n            }).filter(Boolean) : [];\n            if (!tagsArr.includes(tag)) {\n              tagsArr.push(tag);\n              $('#swalTags').val(tagsArr.join(', '));\n            }\n          });\n          container.append(btn);\n        });\n      }\n    },\n    error: function error(err) {\n      console.error('Failed to load preexisting tags', err);\n    }\n  });\n};\n\n// Attach all event handlers\nvar initEvents = function initEvents() {\n  // Placeholder button click handler\n  $(document).on('click', '.placeholder-btn', function () {\n    var internalType = $(this).data('internal');\n    var displayName = $(this).data('display');\n    handlePlaceholderClick(internalType, displayName);\n  });\n\n  // Fill info icon click handler\n  $(document).on('click', '.fill-info-icon', function (e) {\n    e.stopPropagation();\n    var type = $(e.currentTarget).data('type');\n    var tooltip = _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_4__.TypeHelpers.getTooltipForType(type);\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast(tooltip, 'info');\n  });\n\n  // Add accordion info icon click handler\n  $(document).on('click', '.accordion-info-icon', function (e) {\n    e.stopPropagation();\n    var tooltip = $(e.currentTarget).data('tooltip');\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast(tooltip, 'info');\n  });\n\n  // Show more toggle event handler\n  $(document).on('click', '.show-more-toggle', function () {\n    var parentList = $(this).closest('.list-group');\n    var hiddenItems = parentList.find('.secondary-placeholder-wrapper .secondary-placeholder');\n    var link = $(this);\n    link.text(link.text() === 'Show More' ? 'Show Less' : 'Show More');\n    hiddenItems.toggle();\n  });\n\n  // Add copy to clipboard handler\n  $('#copyStory').on('click', function () {\n    var finalText = $('#finalStory').text();\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.copyToClipboard(finalText);\n  });\n\n  // Selection changes\n  document.addEventListener('selectionchange', function () {\n    var editor = document.getElementById(\"storyText\");\n    var sel = window.getSelection();\n    if (sel.rangeCount > 0 && editor.contains(sel.anchorNode)) {\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange = sel.getRangeAt(0);\n    }\n  });\n\n  // Attach search handlers with a reduced debounce delay (50ms)\n  $('#placeholderSearch').on('input', _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__.Utils.debounce(function () {\n    var searchVal = $(this).val();\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', searchVal);\n    $('#addCustomPlaceholderBtn').text('Add \"' + searchVal + '\"');\n  }, 50));\n  $('#modalPlaceholderSearch').on('input', _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__.Utils.debounce(function () {\n    var searchVal = $(this).val();\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', searchVal);\n    $('#modalAddCustomPlaceholderBtn').text('Add \"' + searchVal + '\"');\n  }, 50));\n\n  // Init accordions\n  (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n  (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n\n  // Filter tag input handler\n  $('#filterTag').on('input', _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__.Utils.debounce(function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n  }, 300));\n\n  // Sort option change handler\n  $('#sortOption').on('change', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n  });\n\n  // Alphabetical order button\n  $('#alphabeticalOrderBtn').on('click', function () {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillOrder = 'alphabetical';\n    $(this).removeClass('btn-outline-secondary').addClass('btn-outline-primary');\n    $('#randomOrderBtn').removeClass('btn-outline-primary').addClass('btn-outline-secondary');\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n  });\n\n  // Random order button\n  $('#randomOrderBtn').on('click', function () {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillOrder = 'random';\n    $(this).removeClass('btn-outline-secondary').addClass('btn-outline-primary');\n    $('#alphabeticalOrderBtn').removeClass('btn-outline-primary').addClass('btn-outline-secondary');\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n  });\n\n  // Tag autocomplete\n  $(\"#filterTag\").autocomplete({\n    source: function source(request, response) {\n      $.ajax({\n        url: '/api/gettags',\n        method: 'GET',\n        dataType: 'json',\n        success: function success(tags) {\n          var filteredTags = $.ui.autocomplete.filter(tags, request.term);\n          response(filteredTags);\n        },\n        error: function error(err) {\n          console.error('Failed to load tags for autocomplete', err);\n          response([]);\n        }\n      });\n    },\n    minLength: 1,\n    select: function select(event, ui) {\n      $(\"#filterTag\").val(ui.item.value);\n      $(\"#applyFilters\").click();\n      return false;\n    }\n  });\n\n  // Apply filters button\n  $('#applyFilters').on('click', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n  });\n\n  // Share story button\n  $('#shareStory').on('click', function () {\n    var finalText = $('#finalStory').text();\n    var title = $('#displayTitle').text();\n    var author = $('#displayAuthor').text();\n    var content = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.formatStoryForExport)(title, author, finalText);\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.copyToClipboard(content).then(function (success) {\n      if (success) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast('Story copied to clipboard!');\n      } else {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('Copy Failed', 'Failed to copy story. Please copy manually.');\n      }\n    });\n  });\n\n  // Story editor input event\n  $('#storyText').on('input', function () {\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateVariablesFromEditor)();\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges = true;\n  });\n\n  // Upload story button\n  $('#uploadStoryBtn').on('click', function () {\n    $('#uploadStory').click();\n  });\n  $('#uploadStory').on('change', function () {\n    var file = this.files[0];\n    if (!file) return;\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      var content = e.target.result;\n      var storyData = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.parseStoryFile)(content);\n      $('#storyTitle').val(storyData.title);\n      $('#storyAuthor').val(storyData.author);\n      $('#storyText').html(storyData.content);\n\n      // Reset state\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables = [];\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts = {};\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter = 0;\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount = 0;\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups = {};\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = {};\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders = [];\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateVariablesFromEditor)();\n    };\n    reader.readAsText(file);\n  });\n\n  // Start game button\n  $('#startGame').on('click', function () {\n    var content = $('#storyText').html();\n    if (!content.trim()) {\n      _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('Empty Story', 'Please write a story before continuing.');\n      return;\n    }\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateVariablesFromEditor)();\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyText = (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.generateLegacyText)();\n    if (!_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.length) {\n      _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('No Placeholders', 'No placeholders found in the story.');\n      return;\n    }\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n    $('#inputs').removeClass('d-none');\n    $('#editor').addClass('d-none');\n  });\n\n  // Generate story button\n  $('#generateStory').on('click', handleGenerateStory);\n\n  // Create new story buttons\n  $('#createNewStory2, #createNewStory').on('click', handleCreateNewStory);\n\n  // Story editing flow buttons\n  $('#editStoryEntries').on('click', function () {\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n    $('#result').addClass('d-none');\n    $('#inputs').removeClass('d-none');\n  });\n  $('#backToEditor, #backToEditor2').on('click', function () {\n    $('#result, #inputs').addClass('d-none');\n    $('#editor').removeClass('d-none');\n  });\n\n  // Save story to site button\n  $('#saveStoryToSite').on('click', handleSaveStoryToSite);\n\n  // Download story button\n  $('#downloadStory').on('click', function () {\n    var finalText = $('#finalStory').text();\n    var title = $('#displayTitle').text();\n    var author = $('#displayAuthor').text();\n    var content = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.formatStoryForExport)(title, author, finalText);\n    var fileName = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.createFilenameFromTitle)(title);\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.downloadTextFile(content, fileName);\n  });\n\n  // Save completed story button\n  $('#saveCompletedStory').on('click', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.addCompletedStoryToSavedStories();\n  });\n\n  // Saved stories buttons\n  $('#mySavedStoriesBtn').on('click', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n    $('#savedStoriesModal').modal('show');\n  });\n  $(document).on('click', '.loadSavedStoryBtn', function () {\n    var index = $(this).data('index');\n    $('#savedStoriesModal').modal('hide');\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStory(index, \"play\");\n  });\n  $(document).on('click', '.editSavedStoryBtn', function () {\n    var index = $(this).data('index');\n    $('#savedStoriesModal').modal('hide');\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStory(index, \"edit\");\n  });\n  $(document).on('click', '.deleteSavedStoryBtn', function () {\n    var title = $(this).data('title');\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Delete Story?',\n      text: 'Are you sure you want to delete this saved story?',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(function (result) {\n      if (result.isConfirmed) _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.deleteSavedStory(title);\n    });\n  });\n\n  // Rating submission\n  $('#submitRating').on('click', function () {\n    var rating = parseInt($('#storyRating').val(), 10);\n    if (!_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId) {\n      _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('Error', 'Story ID not found.');\n      return;\n    }\n    $.ajax({\n      url: '/api/rateStory',\n      method: 'POST',\n      contentType: 'application/json',\n      data: JSON.stringify({\n        storyId: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId,\n        rating: rating\n      }),\n      success: function success(data) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast(\"Thank you for rating! New average: \".concat(data.rating.toFixed(1), \" (\").concat(data.ratingCount, \" votes)\"));\n      },\n      error: function error(xhr, statusText, errorThrown) {\n        _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to rate story');\n      }\n    });\n  });\n\n  // Editor key handling for placeholders\n  $('#storyText').on('keydown', function (e) {\n    var sel = window.getSelection();\n    if (sel.rangeCount) {\n      var range = sel.getRangeAt(0);\n      if (e.key === \"ArrowRight\") {\n        var node = sel.anchorNode;\n        if (node.nodeType === Node.TEXT_NODE && node.parentNode.classList.contains('placeholder')) {\n          if (sel.anchorOffset >= node.nodeValue.length) {\n            e.preventDefault();\n            var placeholder = node.parentNode;\n            var newRange = document.createRange();\n            newRange.setStartAfter(placeholder);\n            newRange.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(newRange);\n          }\n        }\n      }\n      if (e.key === \"Backspace\") {\n        var _node = sel.anchorNode;\n        if (_node.nodeType === Node.TEXT_NODE && _node.parentNode.classList.contains('placeholder') && sel.anchorOffset === 0) {\n          e.preventDefault();\n          var _placeholder = _node.parentNode;\n          var _newRange = document.createRange();\n          _newRange.setStartBefore(_placeholder);\n          _newRange.collapse(true);\n          sel.removeAllRanges();\n          sel.addRange(_newRange);\n        }\n      }\n    }\n  });\n\n  // Add placeholder button\n  $('#addPlaceholderBtn').on('click', function () {\n    $('#placeholderModal').modal('show');\n  });\n\n  // Click handler for existing placeholders\n  document.getElementById('existingPlaceholdersContainer').addEventListener('click', function (e) {\n    var btn = e.target.closest('.placeholder-item');\n    if (!btn) return;\n    var id = btn.getAttribute('data-id');\n    var variable = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.find(function (v) {\n      return v.id === id;\n    });\n    if (variable) (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.duplicatePlaceholder)(variable);\n  });\n\n  // Add custom placeholder button\n  $('#addCustomPlaceholderBtn').on('click', function () {\n    var raw = $('#placeholderSearch').val();\n    var usage = $('input[name=\"customPlaceholderType\"]:checked').val() || \"generic\";\n    if (usage === \"noun\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"noun\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection)(\"NN_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else if (usage === \"verb\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"verb\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection)(\"VB_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw);\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.insertPlaceholderFromCustom)(raw);\n    }\n    $('#placeholderSearch').val('');\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n  });\n\n  // Modal add custom placeholder button\n  $('#modalAddCustomPlaceholderBtn').on('click', function () {\n    var raw = $('#modalPlaceholderSearch').val();\n    var usage = $('input[name=\"modalCustomPlaceholderType\"]:checked').val() || \"generic\";\n    if (usage === \"noun\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"noun\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection)(\"NN_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else if (usage === \"verb\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"verb\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection)(\"VB_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw);\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.insertPlaceholderFromCustom)(raw);\n    }\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n    $('#placeholderModal').modal('hide');\n    $('#modalPlaceholderSearch').val('');\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n  });\n\n  // Search modal placeholder input\n  $('#modalPlaceholderSearchInput').on('input', function () {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch = $(this).val().trim().toLowerCase();\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n  });\n\n  // The remaining initialization code follows\n  // ... existing code ...\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHNEQUFLLENBQUNxSyw2QkFBNkIsQ0FBQztFQUNwSCxDQUFDLENBQUM7O0VBRUY7RUFDQXBJLENBQUMsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDZ0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFZO0lBQ3REakksc0RBQUssQ0FBQ3FLLDZCQUE2QixHQUFHcEksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDRSxHQUFHLENBQUMsQ0FBQyxDQUFDZ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ2lLLFdBQVcsQ0FBQyxDQUFDO0lBQ3hFL04saUZBQTBCLENBQUMsNEJBQTRCLEVBQUUsaUJBQWlCLEVBQUVMLHNEQUFLLENBQUNxSyw2QkFBNkIsQ0FBQztFQUNwSCxDQUFDLENBQUM7O0VBRUY7RUFDQTtBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9wdWJsaWMvanMvaGFuZGxlcnMvZXZlbnRzLmpzPzFlY2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcHVibGljL2pzL2hhbmRsZXJzL2V2ZW50cy5qc1xyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi4vY29yZS9zdGF0ZS5qcyc7XHJcbmltcG9ydCB7IFN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL3N0b3JhZ2UuanMnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi91dGlscy9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCB7IFR5cGVIZWxwZXJzIH0gZnJvbSAnLi4vdXRpbHMvdHlwZUhlbHBlcnMuanMnO1xyXG5pbXBvcnQgeyBcclxuICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uLCBcclxuICAgIHVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IsIFxyXG4gICAgZ2VuZXJhdGVMZWdhY3lUZXh0LFxyXG4gICAgYWRkQ3VzdG9tUGxhY2Vob2xkZXIsXHJcbiAgICBzaG93Tm91bk51bWJlclNlbGVjdGlvbixcclxuICAgIHNob3dWZXJiVGVuc2VTZWxlY3Rpb24sXHJcbiAgICBpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20sXHJcbiAgICBwaWNrUHJvbm91bkZvcm1BbmRHcm91cCxcclxuICAgIHVwZGF0ZVZhcmlhYmxlc0xpc3QsXHJcbiAgICBkdXBsaWNhdGVQbGFjZWhvbGRlcixcclxuICAgIHVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIsXHJcbiAgICBpbnNlcnRQbGFjZWhvbGRlcixcclxuICAgIHNob3dQZXJzb25UeXBlU2VsZWN0aW9uXHJcbn0gZnJvbSAnLi4vY29yZS9wbGFjZWhvbGRlcnMuanMnO1xyXG5pbXBvcnQgeyBidWlsZEZpbGxGb3JtLCB2YWxpZGF0ZUlucHV0Rm9ybSB9IGZyb20gJy4uL3VpL2Zvcm1zLmpzJztcclxuaW1wb3J0IHsgXHJcbiAgICBmaWxsUGxhY2Vob2xkZXJzLCBcclxuICAgIHBhcnNlU3RvcnlGaWxlLCBcclxuICAgIGZvcm1hdFN0b3J5Rm9yRXhwb3J0LCBcclxuICAgIGNyZWF0ZUZpbGVuYW1lRnJvbVRpdGxlLFxyXG4gICAgcmVzZXRTdG9yeVN0YXRlXHJcbn0gZnJvbSAnLi4vY29yZS9zdG9yeVByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJy4uL3V0aWxzL2RvbVV0aWxzLmpzJztcclxuaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOyAvLyBFbnN1cmUgU3dhbCBpcyBpbXBvcnRlZCBpZiB1c2VkXHJcbmltcG9ydCB7IHNob3dUb2FzdCB9IGZyb20gJy4uL3VpL25vdGlmaWNhdGlvbnMuanMnO1xyXG5cclxuLy8gSGFuZGxlIHBsYWNlaG9sZGVyIGJ1dHRvbiBjbGlja1xyXG5jb25zdCBoYW5kbGVQbGFjZWhvbGRlckNsaWNrID0gKGludGVybmFsVHlwZSwgZGlzcGxheU5hbWUpID0+IHtcclxuICAgIGlmIChzdGF0ZS5pc0VkaXRpbmdQbGFjZWhvbGRlciAmJiBzdGF0ZS5jdXJyZW50RWRpdGluZ1ZhcmlhYmxlKSB7XHJcbiAgICAgICAgdXBkYXRlRXhpc3RpbmdQbGFjZWhvbGRlcihzdGF0ZS5jdXJyZW50RWRpdGluZ1ZhcmlhYmxlLCBpbnRlcm5hbFR5cGUsIGRpc3BsYXlOYW1lKTtcclxuICAgICAgICBzdGF0ZS5pc0VkaXRpbmdQbGFjZWhvbGRlciA9IGZhbHNlO1xyXG4gICAgICAgIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUgPSBudWxsO1xyXG4gICAgICAgICQoJyNwbGFjZWhvbGRlck1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGludGVybmFsVHlwZSA9PT0gXCJQUk9OT1VOXCIpIHtcclxuICAgICAgICAgICAgcGlja1Byb25vdW5Gb3JtQW5kR3JvdXAoKTtcclxuICAgICAgICAgICAgJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykudmFsKCcnKTtcclxuICAgICAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNwbGFjZWhvbGRlckFjY29yZGlvbicsICcjbm9SZXN1bHRzJywgc3RhdGUuY3VycmVudFBsYWNlaG9sZGVyU2VhcmNoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW50ZXJuYWxUeXBlLnN0YXJ0c1dpdGgoXCJOTlwiKSkge1xyXG4gICAgICAgICAgICBpZiAoaW50ZXJuYWxUeXBlID09PSBcIk5OX1BlcnNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93UGVyc29uVHlwZVNlbGVjdGlvbihpbnRlcm5hbFR5cGUsIGRpc3BsYXlOYW1lKTtcclxuICAgICAgICAgICAgICAgICQoJyNwbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI3BsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNub1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJTZWFyY2gpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNob3dOb3VuTnVtYmVyU2VsZWN0aW9uKGludGVybmFsVHlwZSwgZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgICAkKCcjcGxhY2Vob2xkZXJTZWFyY2gnKS52YWwoJycpO1xyXG4gICAgICAgICAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI3BsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNub1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJTZWFyY2gpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW50ZXJuYWxUeXBlLnN0YXJ0c1dpdGgoXCJWQlwiKSB8fCBpbnRlcm5hbFR5cGUgPT09IFwiTURcIikge1xyXG4gICAgICAgICAgICBzaG93VmVyYlRlbnNlU2VsZWN0aW9uKGludGVybmFsVHlwZSwgZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgICAkKCcjcGxhY2Vob2xkZXJTZWFyY2gnKS52YWwoJycpO1xyXG4gICAgICAgICAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI3BsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNub1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJTZWFyY2gpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc2VydFBsYWNlaG9sZGVyKGludGVybmFsVHlwZSwgZGlzcGxheU5hbWUsIGZhbHNlKTtcclxuICAgICAgICAkKCcjcGxhY2Vob2xkZXJTZWFyY2gnKS52YWwoJycpO1xyXG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjcGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI25vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBIYW5kbGUgY3JlYXRlIG5ldyBzdG9yeSBidXR0b24gY2xpY2tcclxuY29uc3QgaGFuZGxlQ3JlYXRlTmV3U3RvcnkgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKHN0YXRlLnN0b3J5SGFzVW5zYXZlZENoYW5nZXMpIHtcclxuICAgICAgICBkb21VdGlscy5jb25maXJtRGlhbG9nKHtcclxuICAgICAgICAgICAgdGl0bGU6ICdVbnNhdmVkIGNoYW5nZXMnLFxyXG4gICAgICAgICAgICB0ZXh0OiAnWW91ciBzdG9yeSBoYXMgdW5zYXZlZCBjaGFuZ2VzLiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIGl0IHRvIHRoZSBzaXRlIGJlZm9yZSBzdGFydGluZyBhIG5ldyBvbmU/JyxcclxuICAgICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU2F2ZSBhbmQgc3RhcnQgbmV3JyxcclxuICAgICAgICAgICAgZGVueUJ1dHRvblRleHQ6ICdEaXNjYXJkIGNoYW5nZXMnXHJcbiAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcclxuICAgICAgICAgICAgICAgIFN0b3JhZ2UuYWRkQ3VycmVudFN0b3J5VG9TYXZlZFN0b3JpZXMoKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzZXRTdG9yeVN0YXRlLCAxMDAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuaXNEZW5pZWQpIHtcclxuICAgICAgICAgICAgICAgIGRvbVV0aWxzLmNvbmZpcm1EaWFsb2coe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1RoaXMgd2lsbCBkaXNjYXJkIHlvdXIgY3VycmVudCB1bnNhdmVkIHN0b3J5LicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIHN0YXJ0IG5ldydcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaXNDb25maXJtZWQpIHJlc2V0U3RvcnlTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9tVXRpbHMuY29uZmlybURpYWxvZyh7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXHJcbiAgICAgICAgICAgIHRleHQ6ICdUaGlzIHdpbGwgZGlzY2FyZCB5b3VyIGN1cnJlbnQgc3RvcnkuJyxcclxuICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIHN0YXJ0IG5ldydcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5pc0NvbmZpcm1lZCkgcmVzZXRTdG9yeVN0YXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBIYW5kbGUgZ2VuZXJhdGUgc3RvcnkgYnV0dG9uIGNsaWNrXHJcbmNvbnN0IGhhbmRsZUdlbmVyYXRlU3RvcnkgPSAoKSA9PiB7XHJcbiAgICAvLyBVc2UgdGhlIGZvcm0gdmFsaWRhdGlvbiBmdW5jdGlvbiBmcm9tIGZvcm1zLmpzXHJcbiAgICBpZiAoIXZhbGlkYXRlSW5wdXRGb3JtKCkpIHtcclxuICAgICAgICByZXR1cm47IC8vIFZhbGlkYXRpb24gZmFpbGVkXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENvbGxlY3QgdmFsdWVzIGZyb20gdGhlIGlucHV0IGZvcm1cclxuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dEZvcm0nKTtcclxuICAgIGNvbnN0IGlucHV0cyA9IGlucHV0Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBmaWxsVmFsdWVzXHJcbiAgICBzdGF0ZS5maWxsVmFsdWVzID0ge307XHJcbiAgICBcclxuICAgIC8vIFBvcHVsYXRlIGZpbGxWYWx1ZXMgd2l0aCB0aGUgdmFsdWVzIGZyb20gdGhlIGlucHV0IGZpZWxkc1xyXG4gICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgaWYgKGlkICYmIGlucHV0LnZhbHVlLnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgICAgICAgc3RhdGUuZmlsbFZhbHVlc1tpZF0gPSBpbnB1dC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb2xsZWN0ZWQgaW5wdXQgdmFsdWUgZm9yICR7aWR9OiBcIiR7aW5wdXQudmFsdWUudHJpbSgpfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEdlbmVyYXRlIHRoZSBmaW5hbCBzdG9yeSB3aXRoIHJlcGxhY2VtZW50c1xyXG4gICAgbGV0IGZpbmFsID0gZ2VuZXJhdGVMZWdhY3lUZXh0KCk7XHJcbiAgICBmaW5hbCA9IGZpbGxQbGFjZWhvbGRlcnMoZmluYWwsIHN0YXRlLnZhcmlhYmxlcywgc3RhdGUuZmlsbFZhbHVlcywgc3RhdGUucHJvbm91bkdyb3Vwcyk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSB0aGUgcmVzdWx0IGRpc3BsYXlcclxuICAgICQoJyNmaW5hbFN0b3J5JykudGV4dChmaW5hbCk7XHJcbiAgICAkKCcjZGlzcGxheVRpdGxlJykudGV4dCgkKCcjc3RvcnlUaXRsZScpLnZhbCgpKTtcclxuICAgICQoJyNkaXNwbGF5QXV0aG9yJykudGV4dCgkKCcjc3RvcnlBdXRob3InKS52YWwoKSk7XHJcbiAgICAkKCcjZGlzcGxheVRhZ3MnKS50ZXh0KCQoJyNzdG9yeVRhZ3MnKS52YWwoKSk7XHJcbiAgICAkKCcjcmVzdWx0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnI2lucHV0cycpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxufTtcclxuXHJcbi8vIEhhbmRsZSBzYXZlIHN0b3J5IHRvIHNpdGUgYnV0dG9uXHJcbmNvbnN0IGhhbmRsZVNhdmVTdG9yeVRvU2l0ZSA9ICgpID0+IHtcclxuICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgdGl0bGU6ICdTYXZlIFN0b3J5JyxcclxuICAgICAgICBodG1sOiBgXHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInN3YWxUaXRsZVwiIGNsYXNzPVwic3dhbDItaW5wdXRcIiBwbGFjZWhvbGRlcj1cIlN0b3J5IFRpdGxlXCIgdmFsdWU9XCIkeyQoJyNzdG9yeVRpdGxlJykudmFsKCl9XCI+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInN3YWxBdXRob3JcIiBjbGFzcz1cInN3YWwyLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJBdXRob3JcIiB2YWx1ZT1cIiR7JCgnI3N0b3J5QXV0aG9yJykudmFsKCl9XCI+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInN3YWxUYWdzXCIgY2xhc3M9XCJzd2FsMi1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiVGFncyAoY29tbWEgc2VwYXJhdGVkKVwiIHZhbHVlPVwiJHskKCcjc3RvcnlUYWdzJykudmFsKCl9XCI+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJzd2FsUGFzc3dvcmRcIiBjbGFzcz1cInN3YWwyLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZCAob3B0aW9uYWwpXCI+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwicHJlZXhpc3RpbmdUYWdzQ29udGFpbmVyXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmxlZnQ7IG1hcmdpbi10b3A6MTBweDtcIj48L2Rpdj5cclxuICAgICAgICBgLFxyXG4gICAgICAgIGRpZE9wZW46ICgpID0+IHtcclxuICAgICAgICAgIGxvYWRQcmVleGlzdGluZ1RhZ3MoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdTYXZlJyxcclxuICAgICAgICBwcmVDb25maXJtOiAoKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXRsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3YWxUaXRsZScpLnZhbHVlLFxyXG4gICAgICAgICAgICBhdXRob3I6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsQXV0aG9yJykudmFsdWUsXHJcbiAgICAgICAgICAgIHRhZ3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsVGFncycpLnZhbHVlLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3YWxQYXNzd29yZCcpLnZhbHVlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdC52YWx1ZTtcclxuICAgICAgICAgICAgLy8gVXBkYXRlIGZpZWxkcyBpbiB0aGUgZWRpdG9yXHJcbiAgICAgICAgICAgICQoJyNzdG9yeVRpdGxlJykudmFsKGRhdGEudGl0bGUpO1xyXG4gICAgICAgICAgICAkKCcjc3RvcnlBdXRob3InKS52YWwoZGF0YS5hdXRob3IpO1xyXG4gICAgICAgICAgICAkKCcjc3RvcnlUYWdzJykudmFsKGRhdGEudGFncyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgc3RvcnkgPSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yeVRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc3RvcnlBdXRob3I6IGRhdGEuYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgc3RvcnlUZXh0OiAkKCcjc3RvcnlUZXh0JykuaHRtbCgpLFxyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBzdGF0ZS52YXJpYWJsZXMsXHJcbiAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBzOiBzdGF0ZS5wcm9ub3VuR3JvdXBzLFxyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVDb3VudHM6IHN0YXRlLnZhcmlhYmxlQ291bnRzLFxyXG4gICAgICAgICAgICAgICAgcHJvbm91bkdyb3VwQ291bnQ6IHN0YXRlLnByb25vdW5Hcm91cENvdW50LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXJzOiBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBkYXRhLnRhZ3MgPyBkYXRhLnRhZ3Muc3BsaXQoJywnKS5tYXAocyA9PiBzLnRyaW0oKSkgOiBbXSxcclxuICAgICAgICAgICAgICAgIHNhdmVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkICYmIGRhdGEucGFzc3dvcmQudHJpbSgpICE9PSAnJyA/IGRhdGEucGFzc3dvcmQgOiBudWxsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS9zYXZlc3RvcnknLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc3RvcnkpLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3Rvcnkgc2F2ZWQgdG8gc2l0ZSEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6ICh4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwOSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9yeSBleGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0Egc3Rvcnkgd2l0aCB0aGlzIHRpdGxlIGFscmVhZHkgZXhpc3RzLiBPdmVyd3JpdGU/JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcywgb3ZlcndyaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdObydcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rvcnkub3ZlcndyaXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3NhdmVzdG9yeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShzdG9yeSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9yeSBvdmVyd3JpdHRlbiEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoeGhyT3ZlcndyaXRlLCBzdGF0dXNUZXh0T3ZlcndyaXRlLCBlcnJvclRocm93bk92ZXJ3cml0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZS5oYW5kbGVBamF4RXJyb3IoeGhyT3ZlcndyaXRlLCBzdGF0dXNUZXh0T3ZlcndyaXRlLCBlcnJvclRocm93bk92ZXJ3cml0ZSwgJ0ZhaWxlZCB0byBvdmVyd3JpdGUgc3RvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdG9yYWdlLmhhbmRsZUFqYXhFcnJvcih4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duLCAnRmFpbGVkIHRvIHNhdmUgc3RvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8gTG9hZCBwcmVleGlzdGluZyB0YWdzIGZvciB0YWcgc2VsZWN0b3JcclxuY29uc3QgbG9hZFByZWV4aXN0aW5nVGFncyA9ICgpID0+IHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnL2FwaS9nZXR0YWdzJyxcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIHN1Y2Nlc3M6ICh0YWdzKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSAkKCcjcHJlZXhpc3RpbmdUYWdzQ29udGFpbmVyJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgICAgICBpZiAodGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKCc8cD5TZWxlY3QgYSB0YWc6PC9wPicpO1xyXG4gICAgICAgICAgICAgICAgdGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnRuID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtLTEgcHJlZXhpc3RpbmctdGFnLWJ0blwiPjwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0KHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSAkKCcjc3dhbFRhZ3MnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ3NBcnIgPSBjdXJyZW50ID8gY3VycmVudC5zcGxpdCgnLCcpLm1hcCh0ID0+IHQudHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdzQXJyLmluY2x1ZGVzKHRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NBcnIucHVzaCh0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N3YWxUYWdzJykudmFsKHRhZ3NBcnIuam9pbignLCAnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGJ0bik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcHJlZXhpc3RpbmcgdGFncycsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyBBdHRhY2ggYWxsIGV2ZW50IGhhbmRsZXJzXHJcbmV4cG9ydCBjb25zdCBpbml0RXZlbnRzID0gKCkgPT4ge1xyXG4gICAgLy8gUGxhY2Vob2xkZXIgYnV0dG9uIGNsaWNrIGhhbmRsZXJcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucGxhY2Vob2xkZXItYnRuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJuYWxUeXBlID0gJCh0aGlzKS5kYXRhKCdpbnRlcm5hbCcpO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gJCh0aGlzKS5kYXRhKCdkaXNwbGF5Jyk7XHJcbiAgICAgICAgaGFuZGxlUGxhY2Vob2xkZXJDbGljayhpbnRlcm5hbFR5cGUsIGRpc3BsYXlOYW1lKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBGaWxsIGluZm8gaWNvbiBjbGljayBoYW5kbGVyXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmZpbGwtaW5mby1pY29uJywgKGUpID0+IHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgndHlwZScpO1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBUeXBlSGVscGVycy5nZXRUb29sdGlwRm9yVHlwZSh0eXBlKTtcclxuICAgICAgICBkb21VdGlscy5zaG93VG9hc3QodG9vbHRpcCwgJ2luZm8nKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBBZGQgYWNjb3JkaW9uIGluZm8gaWNvbiBjbGljayBoYW5kbGVyXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFjY29yZGlvbi1pbmZvLWljb24nLCAoZSkgPT4ge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCd0b29sdGlwJyk7XHJcbiAgICAgICAgZG9tVXRpbHMuc2hvd1RvYXN0KHRvb2x0aXAsICdpbmZvJyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gU2hvdyBtb3JlIHRvZ2dsZSBldmVudCBoYW5kbGVyXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNob3ctbW9yZS10b2dnbGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50TGlzdCA9ICQodGhpcykuY2xvc2VzdCgnLmxpc3QtZ3JvdXAnKTtcclxuICAgICAgICBjb25zdCBoaWRkZW5JdGVtcyA9IHBhcmVudExpc3QuZmluZCgnLnNlY29uZGFyeS1wbGFjZWhvbGRlci13cmFwcGVyIC5zZWNvbmRhcnktcGxhY2Vob2xkZXInKTtcclxuICAgICAgICBjb25zdCBsaW5rID0gJCh0aGlzKTtcclxuICAgICAgICBsaW5rLnRleHQobGluay50ZXh0KCkgPT09ICdTaG93IE1vcmUnID8gJ1Nob3cgTGVzcycgOiAnU2hvdyBNb3JlJyk7XHJcbiAgICAgICAgaGlkZGVuSXRlbXMudG9nZ2xlKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQWRkIGNvcHkgdG8gY2xpcGJvYXJkIGhhbmRsZXJcclxuICAgICQoJyNjb3B5U3RvcnknKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmluYWxUZXh0ID0gJCgnI2ZpbmFsU3RvcnknKS50ZXh0KCk7XHJcbiAgICAgICAgZG9tVXRpbHMuY29weVRvQ2xpcGJvYXJkKGZpbmFsVGV4dCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZWxlY3Rpb24gY2hhbmdlc1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVkaXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RvcnlUZXh0XCIpO1xyXG4gICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoc2VsLnJhbmdlQ291bnQgPiAwICYmIGVkaXRvci5jb250YWlucyhzZWwuYW5jaG9yTm9kZSkpIHtcclxuICAgICAgICAgICAgc3RhdGUubGFzdFJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQXR0YWNoIHNlYXJjaCBoYW5kbGVycyB3aXRoIGEgcmVkdWNlZCBkZWJvdW5jZSBkZWxheSAoNTBtcylcclxuICAgICQoJyNwbGFjZWhvbGRlclNlYXJjaCcpLm9uKCdpbnB1dCcsIFV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjcGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI25vUmVzdWx0cycsIHNlYXJjaFZhbCk7XHJcbiAgICAgICAgJCgnI2FkZEN1c3RvbVBsYWNlaG9sZGVyQnRuJykudGV4dCgnQWRkIFwiJyArIHNlYXJjaFZhbCArICdcIicpO1xyXG4gICAgfSwgNTApKTtcclxuXHJcbiAgICAkKCcjbW9kYWxQbGFjZWhvbGRlclNlYXJjaCcpLm9uKCdpbnB1dCcsIFV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjbW9kYWxQbGFjZWhvbGRlckFjY29yZGlvbicsICcjbW9kYWxOb1Jlc3VsdHMnLCBzZWFyY2hWYWwpO1xyXG4gICAgICAgICQoJyNtb2RhbEFkZEN1c3RvbVBsYWNlaG9sZGVyQnRuJykudGV4dCgnQWRkIFwiJyArIHNlYXJjaFZhbCArICdcIicpO1xyXG4gICAgfSwgNTApKTtcclxuXHJcbiAgICAvLyBJbml0IGFjY29yZGlvbnNcclxuICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjcGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI25vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCk7XHJcbiAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI21vZGFsUGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI21vZGFsTm9SZXN1bHRzJywgc3RhdGUuY3VycmVudE1vZGFsUGxhY2Vob2xkZXJTZWFyY2gpO1xyXG4gICAgXHJcbiAgICAvLyBGaWx0ZXIgdGFnIGlucHV0IGhhbmRsZXJcclxuICAgICQoJyNmaWx0ZXJUYWcnKS5vbignaW5wdXQnLCBVdGlscy5kZWJvdW5jZSgoKSA9PiB7XHJcbiAgICAgICAgU3RvcmFnZS5sb2FkU2F2ZWRTdG9yaWVzTGlzdCgpO1xyXG4gICAgfSwgMzAwKSk7XHJcblxyXG4gICAgLy8gU29ydCBvcHRpb24gY2hhbmdlIGhhbmRsZXJcclxuICAgICQoJyNzb3J0T3B0aW9uJykub24oJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3JpZXNMaXN0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBbHBoYWJldGljYWwgb3JkZXIgYnV0dG9uXHJcbiAgICAkKCcjYWxwaGFiZXRpY2FsT3JkZXJCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3RhdGUuZmlsbE9yZGVyID0gJ2FscGhhYmV0aWNhbCc7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYnRuLW91dGxpbmUtc2Vjb25kYXJ5JykuYWRkQ2xhc3MoJ2J0bi1vdXRsaW5lLXByaW1hcnknKTtcclxuICAgICAgICAkKCcjcmFuZG9tT3JkZXJCdG4nKS5yZW1vdmVDbGFzcygnYnRuLW91dGxpbmUtcHJpbWFyeScpLmFkZENsYXNzKCdidG4tb3V0bGluZS1zZWNvbmRhcnknKTtcclxuICAgICAgICBidWlsZEZpbGxGb3JtKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSYW5kb20gb3JkZXIgYnV0dG9uXHJcbiAgICAkKCcjcmFuZG9tT3JkZXJCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3RhdGUuZmlsbE9yZGVyID0gJ3JhbmRvbSc7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYnRuLW91dGxpbmUtc2Vjb25kYXJ5JykuYWRkQ2xhc3MoJ2J0bi1vdXRsaW5lLXByaW1hcnknKTtcclxuICAgICAgICAkKCcjYWxwaGFiZXRpY2FsT3JkZXJCdG4nKS5yZW1vdmVDbGFzcygnYnRuLW91dGxpbmUtcHJpbWFyeScpLmFkZENsYXNzKCdidG4tb3V0bGluZS1zZWNvbmRhcnknKTtcclxuICAgICAgICBidWlsZEZpbGxGb3JtKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUYWcgYXV0b2NvbXBsZXRlXHJcbiAgICAkKFwiI2ZpbHRlclRhZ1wiKS5hdXRvY29tcGxldGUoe1xyXG4gICAgICAgIHNvdXJjZTogZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL2dldHRhZ3MnLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAodGFncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkVGFncyA9ICQudWkuYXV0b2NvbXBsZXRlLmZpbHRlcih0YWdzLCByZXF1ZXN0LnRlcm0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlKGZpbHRlcmVkVGFncyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB0YWdzIGZvciBhdXRvY29tcGxldGUnLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlKFtdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtaW5MZW5ndGg6IDEsXHJcbiAgICAgICAgc2VsZWN0OiAoZXZlbnQsIHVpKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjZmlsdGVyVGFnXCIpLnZhbCh1aS5pdGVtLnZhbHVlKTtcclxuICAgICAgICAgICAgJChcIiNhcHBseUZpbHRlcnNcIikuY2xpY2soKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFwcGx5IGZpbHRlcnMgYnV0dG9uXHJcbiAgICAkKCcjYXBwbHlGaWx0ZXJzJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIFN0b3JhZ2UubG9hZFNhdmVkU3Rvcmllc0xpc3QoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNoYXJlIHN0b3J5IGJ1dHRvblxyXG4gICAgJCgnI3NoYXJlU3RvcnknKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmluYWxUZXh0ID0gJCgnI2ZpbmFsU3RvcnknKS50ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSAkKCcjZGlzcGxheVRpdGxlJykudGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGF1dGhvciA9ICQoJyNkaXNwbGF5QXV0aG9yJykudGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXRTdG9yeUZvckV4cG9ydCh0aXRsZSwgYXV0aG9yLCBmaW5hbFRleHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRvbVV0aWxzLmNvcHlUb0NsaXBib2FyZChjb250ZW50KVxyXG4gICAgICAgICAgICAudGhlbihzdWNjZXNzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2hvd1RvYXN0KCdTdG9yeSBjb3BpZWQgdG8gY2xpcGJvYXJkIScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zaG93RXJyb3IoJ0NvcHkgRmFpbGVkJywgJ0ZhaWxlZCB0byBjb3B5IHN0b3J5LiBQbGVhc2UgY29weSBtYW51YWxseS4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTdG9yeSBlZGl0b3IgaW5wdXQgZXZlbnRcclxuICAgICQoJyNzdG9yeVRleHQnKS5vbignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcigpO1xyXG4gICAgICAgIHN0YXRlLnN0b3J5SGFzVW5zYXZlZENoYW5nZXMgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXBsb2FkIHN0b3J5IGJ1dHRvblxyXG4gICAgJCgnI3VwbG9hZFN0b3J5QnRuJykub24oJ2NsaWNrJywgKCkgPT4geyBcclxuICAgICAgICAkKCcjdXBsb2FkU3RvcnknKS5jbGljaygpOyBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcjdXBsb2FkU3RvcnknKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3J5RGF0YSA9IHBhcnNlU3RvcnlGaWxlKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJCgnI3N0b3J5VGl0bGUnKS52YWwoc3RvcnlEYXRhLnRpdGxlKTtcclxuICAgICAgICAgICAgJCgnI3N0b3J5QXV0aG9yJykudmFsKHN0b3J5RGF0YS5hdXRob3IpO1xyXG4gICAgICAgICAgICAkKCcjc3RvcnlUZXh0JykuaHRtbChzdG9yeURhdGEuY29udGVudCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBSZXNldCBzdGF0ZVxyXG4gICAgICAgICAgICBzdGF0ZS52YXJpYWJsZXMgPSBbXTtcclxuICAgICAgICAgICAgc3RhdGUudmFyaWFibGVDb3VudHMgPSB7fTtcclxuICAgICAgICAgICAgc3RhdGUuaW5zZXJ0aW9uQ291bnRlciA9IDA7XHJcbiAgICAgICAgICAgIHN0YXRlLnByb25vdW5Hcm91cENvdW50ID0gMDtcclxuICAgICAgICAgICAgc3RhdGUucHJvbm91bkdyb3VwcyA9IHt9O1xyXG4gICAgICAgICAgICBzdGF0ZS5maWxsVmFsdWVzID0ge307XHJcbiAgICAgICAgICAgIHN0YXRlLmN1c3RvbVBsYWNlaG9sZGVycyA9IFtdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTdGFydCBnYW1lIGJ1dHRvblxyXG4gICAgJCgnI3N0YXJ0R2FtZScpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gJCgnI3N0b3J5VGV4dCcpLmh0bWwoKTtcclxuICAgICAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSB7XHJcbiAgICAgICAgICAgIGRvbVV0aWxzLnNob3dFcnJvcignRW1wdHkgU3RvcnknLCAnUGxlYXNlIHdyaXRlIGEgc3RvcnkgYmVmb3JlIGNvbnRpbnVpbmcuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcigpO1xyXG4gICAgICAgIHN0YXRlLnN0b3J5VGV4dCA9IGdlbmVyYXRlTGVnYWN5VGV4dCgpO1xyXG4gICAgICAgIGlmICghc3RhdGUudmFyaWFibGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBkb21VdGlscy5zaG93RXJyb3IoJ05vIFBsYWNlaG9sZGVycycsICdObyBwbGFjZWhvbGRlcnMgZm91bmQgaW4gdGhlIHN0b3J5LicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ1aWxkRmlsbEZvcm0oKTtcclxuICAgICAgICAkKCcjaW5wdXRzJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICQoJyNlZGl0b3InKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBzdG9yeSBidXR0b25cclxuICAgICQoJyNnZW5lcmF0ZVN0b3J5Jykub24oJ2NsaWNrJywgaGFuZGxlR2VuZXJhdGVTdG9yeSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIG5ldyBzdG9yeSBidXR0b25zXHJcbiAgICAkKCcjY3JlYXRlTmV3U3RvcnkyLCAjY3JlYXRlTmV3U3RvcnknKS5vbignY2xpY2snLCBoYW5kbGVDcmVhdGVOZXdTdG9yeSk7XHJcblxyXG4gICAgLy8gU3RvcnkgZWRpdGluZyBmbG93IGJ1dHRvbnNcclxuICAgICQoJyNlZGl0U3RvcnlFbnRyaWVzJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGJ1aWxkRmlsbEZvcm0oKTtcclxuICAgICAgICAkKCcjcmVzdWx0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICQoJyNpbnB1dHMnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJCgnI2JhY2tUb0VkaXRvciwgI2JhY2tUb0VkaXRvcjInKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgJCgnI3Jlc3VsdCwgI2lucHV0cycpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkKCcjZWRpdG9yJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2F2ZSBzdG9yeSB0byBzaXRlIGJ1dHRvblxyXG4gICAgJCgnI3NhdmVTdG9yeVRvU2l0ZScpLm9uKCdjbGljaycsIGhhbmRsZVNhdmVTdG9yeVRvU2l0ZSk7XHJcblxyXG4gICAgLy8gRG93bmxvYWQgc3RvcnkgYnV0dG9uXHJcbiAgICAkKCcjZG93bmxvYWRTdG9yeScpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBmaW5hbFRleHQgPSAkKCcjZmluYWxTdG9yeScpLnRleHQoKTtcclxuICAgICAgICBjb25zdCB0aXRsZSA9ICQoJyNkaXNwbGF5VGl0bGUnKS50ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgYXV0aG9yID0gJCgnI2Rpc3BsYXlBdXRob3InKS50ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZvcm1hdFN0b3J5Rm9yRXhwb3J0KHRpdGxlLCBhdXRob3IsIGZpbmFsVGV4dCk7XHJcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBjcmVhdGVGaWxlbmFtZUZyb21UaXRsZSh0aXRsZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZG9tVXRpbHMuZG93bmxvYWRUZXh0RmlsZShjb250ZW50LCBmaWxlTmFtZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTYXZlIGNvbXBsZXRlZCBzdG9yeSBidXR0b25cclxuICAgICQoJyNzYXZlQ29tcGxldGVkU3RvcnknKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgU3RvcmFnZS5hZGRDb21wbGV0ZWRTdG9yeVRvU2F2ZWRTdG9yaWVzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTYXZlZCBzdG9yaWVzIGJ1dHRvbnNcclxuICAgICQoJyNteVNhdmVkU3Rvcmllc0J0bicpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3JpZXNMaXN0KCk7XHJcbiAgICAgICAgJCgnI3NhdmVkU3Rvcmllc01vZGFsJykubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmxvYWRTYXZlZFN0b3J5QnRuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gJCh0aGlzKS5kYXRhKCdpbmRleCcpO1xyXG4gICAgICAgICQoJyNzYXZlZFN0b3JpZXNNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgU3RvcmFnZS5sb2FkU2F2ZWRTdG9yeShpbmRleCwgXCJwbGF5XCIpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZWRpdFNhdmVkU3RvcnlCdG4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSAkKHRoaXMpLmRhdGEoJ2luZGV4Jyk7XHJcbiAgICAgICAgJCgnI3NhdmVkU3Rvcmllc01vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3J5KGluZGV4LCBcImVkaXRcIik7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kZWxldGVTYXZlZFN0b3J5QnRuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gJCh0aGlzKS5kYXRhKCd0aXRsZScpO1xyXG4gICAgICAgIGRvbVV0aWxzLmNvbmZpcm1EaWFsb2coe1xyXG4gICAgICAgICAgICB0aXRsZTogJ0RlbGV0ZSBTdG9yeT8nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHNhdmVkIHN0b3J5PycsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkZWxldGUgaXQhJ1xyXG4gICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSBTdG9yYWdlLmRlbGV0ZVNhdmVkU3RvcnkodGl0bGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmF0aW5nIHN1Ym1pc3Npb25cclxuICAgICQoJyNzdWJtaXRSYXRpbmcnKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmF0aW5nID0gcGFyc2VJbnQoJCgnI3N0b3J5UmF0aW5nJykudmFsKCksIDEwKTtcclxuICAgICAgICBpZiAoIXN0YXRlLmN1cnJlbnRTdG9yeUlkKSB7XHJcbiAgICAgICAgICAgIGRvbVV0aWxzLnNob3dFcnJvcignRXJyb3InLCAnU3RvcnkgSUQgbm90IGZvdW5kLicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJy9hcGkvcmF0ZVN0b3J5JyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsgc3RvcnlJZDogc3RhdGUuY3VycmVudFN0b3J5SWQsIHJhdGluZyB9KSxcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNob3dUb2FzdChgVGhhbmsgeW91IGZvciByYXRpbmchIE5ldyBhdmVyYWdlOiAke2RhdGEucmF0aW5nLnRvRml4ZWQoMSl9ICgke2RhdGEucmF0aW5nQ291bnR9IHZvdGVzKWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogKHhociwgc3RhdHVzVGV4dCwgZXJyb3JUaHJvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIFN0b3JhZ2UuaGFuZGxlQWpheEVycm9yKHhociwgc3RhdHVzVGV4dCwgZXJyb3JUaHJvd24sICdGYWlsZWQgdG8gcmF0ZSBzdG9yeScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFZGl0b3Iga2V5IGhhbmRsaW5nIGZvciBwbGFjZWhvbGRlcnNcclxuICAgICQoJyNzdG9yeVRleHQnKS5vbigna2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIGlmIChzZWwucmFuZ2VDb3VudCkge1xyXG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBzZWwuYW5jaG9yTm9kZTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiBub2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbGFjZWhvbGRlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbC5hbmNob3JPZmZzZXQgPj0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3UmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZXRTdGFydEFmdGVyKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKG5ld1JhbmdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkJhY2tzcGFjZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHNlbC5hbmNob3JOb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmIG5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYWNlaG9sZGVyJykgJiYgc2VsLmFuY2hvck9mZnNldCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2Vob2xkZXIgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZXRTdGFydEJlZm9yZShwbGFjZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShuZXdSYW5nZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgcGxhY2Vob2xkZXIgYnV0dG9uXHJcbiAgICAkKCcjYWRkUGxhY2Vob2xkZXJCdG4nKS5vbignY2xpY2snLCAoKSA9PiB7IFxyXG4gICAgICAgICQoJyNwbGFjZWhvbGRlck1vZGFsJykubW9kYWwoJ3Nob3cnKTsgXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbGljayBoYW5kbGVyIGZvciBleGlzdGluZyBwbGFjZWhvbGRlcnNcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGlzdGluZ1BsYWNlaG9sZGVyc0NvbnRhaW5lcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCcucGxhY2Vob2xkZXItaXRlbScpO1xyXG4gICAgICAgIGlmICghYnRuKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaWQgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGUgPSBzdGF0ZS52YXJpYWJsZXMuZmluZCh2ID0+IHYuaWQgPT09IGlkKTtcclxuICAgICAgICBpZiAodmFyaWFibGUpIGR1cGxpY2F0ZVBsYWNlaG9sZGVyKHZhcmlhYmxlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBjdXN0b20gcGxhY2Vob2xkZXIgYnV0dG9uXHJcbiAgICAkKCcjYWRkQ3VzdG9tUGxhY2Vob2xkZXJCdG4nKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmF3ID0gJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykudmFsKCk7XHJcbiAgICAgICAgY29uc3QgdXNhZ2UgPSAkKCdpbnB1dFtuYW1lPVwiY3VzdG9tUGxhY2Vob2xkZXJUeXBlXCJdOmNoZWNrZWQnKS52YWwoKSB8fCBcImdlbmVyaWNcIjtcclxuICAgICAgICBpZiAodXNhZ2UgPT09IFwibm91blwiKSB7XHJcbiAgICAgICAgICAgIGFkZEN1c3RvbVBsYWNlaG9sZGVyKHJhdywgXCJub3VuXCIpO1xyXG4gICAgICAgICAgICBzaG93Tm91bk51bWJlclNlbGVjdGlvbihcIk5OX1wiICsgU3RyaW5nVXRpbHMucGFzY2FsQ2FzZShyYXcpLCBTdHJpbmdVdGlscy5uYXR1cmFsRGlzcGxheShyYXcpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHVzYWdlID09PSBcInZlcmJcIikge1xyXG4gICAgICAgICAgICBhZGRDdXN0b21QbGFjZWhvbGRlcihyYXcsIFwidmVyYlwiKTtcclxuICAgICAgICAgICAgc2hvd1ZlcmJUZW5zZVNlbGVjdGlvbihcIlZCX1wiICsgU3RyaW5nVXRpbHMucGFzY2FsQ2FzZShyYXcpLCBTdHJpbmdVdGlscy5uYXR1cmFsRGlzcGxheShyYXcpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhZGRDdXN0b21QbGFjZWhvbGRlcihyYXcpO1xyXG4gICAgICAgICAgICBpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20ocmF3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykudmFsKCcnKTtcclxuICAgICAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI3BsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNub1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJTZWFyY2gpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTW9kYWwgYWRkIGN1c3RvbSBwbGFjZWhvbGRlciBidXR0b25cclxuICAgICQoJyNtb2RhbEFkZEN1c3RvbVBsYWNlaG9sZGVyQnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJhdyA9ICQoJyNtb2RhbFBsYWNlaG9sZGVyU2VhcmNoJykudmFsKCk7XHJcbiAgICAgICAgY29uc3QgdXNhZ2UgPSAkKCdpbnB1dFtuYW1lPVwibW9kYWxDdXN0b21QbGFjZWhvbGRlclR5cGVcIl06Y2hlY2tlZCcpLnZhbCgpIHx8IFwiZ2VuZXJpY1wiO1xyXG4gICAgICAgIGlmICh1c2FnZSA9PT0gXCJub3VuXCIpIHtcclxuICAgICAgICAgICAgYWRkQ3VzdG9tUGxhY2Vob2xkZXIocmF3LCBcIm5vdW5cIik7XHJcbiAgICAgICAgICAgIHNob3dOb3VuTnVtYmVyU2VsZWN0aW9uKFwiTk5fXCIgKyBTdHJpbmdVdGlscy5wYXNjYWxDYXNlKHJhdyksIFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KHJhdykpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodXNhZ2UgPT09IFwidmVyYlwiKSB7XHJcbiAgICAgICAgICAgIGFkZEN1c3RvbVBsYWNlaG9sZGVyKHJhdywgXCJ2ZXJiXCIpO1xyXG4gICAgICAgICAgICBzaG93VmVyYlRlbnNlU2VsZWN0aW9uKFwiVkJfXCIgKyBTdHJpbmdVdGlscy5wYXNjYWxDYXNlKHJhdyksIFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KHJhdykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFkZEN1c3RvbVBsYWNlaG9sZGVyKHJhdyk7XHJcbiAgICAgICAgICAgIGluc2VydFBsYWNlaG9sZGVyRnJvbUN1c3RvbShyYXcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI21vZGFsUGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI21vZGFsTm9SZXN1bHRzJywgc3RhdGUuY3VycmVudE1vZGFsUGxhY2Vob2xkZXJTZWFyY2gpO1xyXG4gICAgICAgICQoJyNwbGFjZWhvbGRlck1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAkKCcjbW9kYWxQbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgnJyk7XHJcbiAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNtb2RhbFBsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNtb2RhbE5vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRNb2RhbFBsYWNlaG9sZGVyU2VhcmNoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNlYXJjaCBtb2RhbCBwbGFjZWhvbGRlciBpbnB1dFxyXG4gICAgJCgnI21vZGFsUGxhY2Vob2xkZXJTZWFyY2hJbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdGF0ZS5jdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaCA9ICQodGhpcykudmFsKCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNtb2RhbFBsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNtb2RhbE5vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRNb2RhbFBsYWNlaG9sZGVyU2VhcmNoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRoZSByZW1haW5pbmcgaW5pdGlhbGl6YXRpb24gY29kZSBmb2xsb3dzXHJcbiAgICAvLyAuLi4gZXhpc3RpbmcgY29kZSAuLi5cclxufTsiXSwibmFtZXMiOlsic3RhdGUiLCJTdG9yYWdlIiwiVXRpbHMiLCJTdHJpbmdVdGlscyIsIlR5cGVIZWxwZXJzIiwidXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24iLCJ1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yIiwiZ2VuZXJhdGVMZWdhY3lUZXh0IiwiYWRkQ3VzdG9tUGxhY2Vob2xkZXIiLCJzaG93Tm91bk51bWJlclNlbGVjdGlvbiIsInNob3dWZXJiVGVuc2VTZWxlY3Rpb24iLCJpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20iLCJwaWNrUHJvbm91bkZvcm1BbmRHcm91cCIsInVwZGF0ZVZhcmlhYmxlc0xpc3QiLCJkdXBsaWNhdGVQbGFjZWhvbGRlciIsInVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIiLCJpbnNlcnRQbGFjZWhvbGRlciIsInNob3dQZXJzb25UeXBlU2VsZWN0aW9uIiwiYnVpbGRGaWxsRm9ybSIsInZhbGlkYXRlSW5wdXRGb3JtIiwiZmlsbFBsYWNlaG9sZGVycyIsInBhcnNlU3RvcnlGaWxlIiwiZm9ybWF0U3RvcnlGb3JFeHBvcnQiLCJjcmVhdGVGaWxlbmFtZUZyb21UaXRsZSIsInJlc2V0U3RvcnlTdGF0ZSIsImRvbVV0aWxzIiwiU3dhbCIsInNob3dUb2FzdCIsImhhbmRsZVBsYWNlaG9sZGVyQ2xpY2siLCJpbnRlcm5hbFR5cGUiLCJkaXNwbGF5TmFtZSIsImlzRWRpdGluZ1BsYWNlaG9sZGVyIiwiY3VycmVudEVkaXRpbmdWYXJpYWJsZSIsIiQiLCJtb2RhbCIsInZhbCIsImN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCIsInN0YXJ0c1dpdGgiLCJoYW5kbGVDcmVhdGVOZXdTdG9yeSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3J5SGFzVW5zYXZlZENoYW5nZXMiLCJjb25maXJtRGlhbG9nIiwidGl0bGUiLCJ0ZXh0Iiwic2hvd0RlbnlCdXR0b24iLCJjb25maXJtQnV0dG9uVGV4dCIsImRlbnlCdXR0b25UZXh0IiwidGhlbiIsInJlc3VsdCIsImlzQ29uZmlybWVkIiwiYWRkQ3VycmVudFN0b3J5VG9TYXZlZFN0b3JpZXMiLCJzZXRUaW1lb3V0IiwiaXNEZW5pZWQiLCJyZXMiLCJoYW5kbGVHZW5lcmF0ZVN0b3J5IiwiaW5wdXRGb3JtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWxsVmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsInRyaW0iLCJjb25zb2xlIiwibG9nIiwiY29uY2F0IiwiZmluYWwiLCJ2YXJpYWJsZXMiLCJwcm9ub3VuR3JvdXBzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImhhbmRsZVNhdmVTdG9yeVRvU2l0ZSIsImZpcmUiLCJodG1sIiwiZGlkT3BlbiIsImxvYWRQcmVleGlzdGluZ1RhZ3MiLCJzaG93Q2FuY2VsQnV0dG9uIiwicHJlQ29uZmlybSIsImF1dGhvciIsInRhZ3MiLCJwYXNzd29yZCIsImRhdGEiLCJzdG9yeSIsInN0b3J5VGl0bGUiLCJzdG9yeUF1dGhvciIsInN0b3J5VGV4dCIsInZhcmlhYmxlQ291bnRzIiwicHJvbm91bkdyb3VwQ291bnQiLCJjdXN0b21QbGFjZWhvbGRlcnMiLCJzcGxpdCIsIm1hcCIsInMiLCJzYXZlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJ0b2FzdCIsInBvc2l0aW9uIiwiaWNvbiIsInNob3dDb25maXJtQnV0dG9uIiwidGltZXIiLCJlcnJvciIsInhociIsInN0YXR1c1RleHQiLCJlcnJvclRocm93biIsInN0YXR1cyIsImNhbmNlbEJ1dHRvblRleHQiLCJvdmVyd3JpdGUiLCJ4aHJPdmVyd3JpdGUiLCJzdGF0dXNUZXh0T3ZlcndyaXRlIiwiZXJyb3JUaHJvd25PdmVyd3JpdGUiLCJoYW5kbGVBamF4RXJyb3IiLCJjb250YWluZXIiLCJlbXB0eSIsImxlbmd0aCIsImFwcGVuZCIsInRhZyIsImJ0biIsIm9uIiwiY3VycmVudCIsInRhZ3NBcnIiLCJ0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImluY2x1ZGVzIiwicHVzaCIsImpvaW4iLCJlcnIiLCJpbml0RXZlbnRzIiwic3RvcFByb3BhZ2F0aW9uIiwidHlwZSIsImN1cnJlbnRUYXJnZXQiLCJ0b29sdGlwIiwiZ2V0VG9vbHRpcEZvclR5cGUiLCJwYXJlbnRMaXN0IiwiY2xvc2VzdCIsImhpZGRlbkl0ZW1zIiwiZmluZCIsImxpbmsiLCJ0b2dnbGUiLCJmaW5hbFRleHQiLCJjb3B5VG9DbGlwYm9hcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWRpdG9yIiwic2VsIiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImNvbnRhaW5zIiwiYW5jaG9yTm9kZSIsImxhc3RSYW5nZSIsImdldFJhbmdlQXQiLCJkZWJvdW5jZSIsInNlYXJjaFZhbCIsImN1cnJlbnRNb2RhbFBsYWNlaG9sZGVyU2VhcmNoIiwibG9hZFNhdmVkU3Rvcmllc0xpc3QiLCJmaWxsT3JkZXIiLCJhdXRvY29tcGxldGUiLCJzb3VyY2UiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJkYXRhVHlwZSIsImZpbHRlcmVkVGFncyIsInVpIiwidGVybSIsIm1pbkxlbmd0aCIsInNlbGVjdCIsImV2ZW50IiwiaXRlbSIsImNsaWNrIiwiY29udGVudCIsInNob3dFcnJvciIsImZpbGUiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJ0YXJnZXQiLCJzdG9yeURhdGEiLCJpbnNlcnRpb25Db3VudGVyIiwicmVhZEFzVGV4dCIsImZpbGVOYW1lIiwiZG93bmxvYWRUZXh0RmlsZSIsImFkZENvbXBsZXRlZFN0b3J5VG9TYXZlZFN0b3JpZXMiLCJpbmRleCIsImxvYWRTYXZlZFN0b3J5IiwiZGVsZXRlU2F2ZWRTdG9yeSIsInJhdGluZyIsInBhcnNlSW50IiwiY3VycmVudFN0b3J5SWQiLCJzdG9yeUlkIiwidG9GaXhlZCIsInJhdGluZ0NvdW50IiwicmFuZ2UiLCJrZXkiLCJub2RlIiwibm9kZVR5cGUiLCJOb2RlIiwiVEVYVF9OT0RFIiwicGFyZW50Tm9kZSIsImNsYXNzTGlzdCIsImFuY2hvck9mZnNldCIsIm5vZGVWYWx1ZSIsInBsYWNlaG9sZGVyIiwibmV3UmFuZ2UiLCJjcmVhdGVSYW5nZSIsInNldFN0YXJ0QWZ0ZXIiLCJjb2xsYXBzZSIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwic2V0U3RhcnRCZWZvcmUiLCJ2YXJpYWJsZSIsInYiLCJyYXciLCJ1c2FnZSIsInBhc2NhbENhc2UiLCJuYXR1cmFsRGlzcGxheSIsInRvTG93ZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/handlers/events.js\n");

/***/ }),

/***/ "./public/js/main.js":
/*!***************************!*\
  !*** ./public/js/main.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/utils.js */ \"./public/js/utils/utils.js\");\n/* harmony import */ var _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/typeHelpers.js */ \"./public/js/utils/typeHelpers.js\");\n/* harmony import */ var _data_storage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data/storage.js */ \"./public/js/data/storage.js\");\n/* harmony import */ var _core_placeholders_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/placeholders.js */ \"./public/js/core/placeholders.js\");\n/* harmony import */ var _ui_forms_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ui/forms.js */ \"./public/js/ui/forms.js\");\n/* harmony import */ var _ui_menu_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ui/menu.js */ \"./public/js/ui/menu.js\");\n/* harmony import */ var _handlers_events_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./handlers/events.js */ \"./public/js/handlers/events.js\");\n/* harmony import */ var _core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/storyProcessor.js */ \"./public/js/core/storyProcessor.js\");\n/* harmony import */ var _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/domUtils.js */ \"./public/js/utils/domUtils.js\");\n// public/js/main.js\n\n\n\n\n\n\n\n\n\n\n\n(function () {\n  \"use strict\";\n\n  // Make Utils and decodeHTMLEntities available on window for legacy code\n  window.Utils = _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils;\n  window.decodeHTMLEntities = _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__.decodeHTMLEntities;\n\n  // ====================================================\n  // EVENT HANDLERS & DOCUMENT READY\n  // ====================================================\n  $(document).ready(function () {\n    // Initialize the application\n    (0,_ui_menu_js__WEBPACK_IMPORTED_MODULE_6__.initMenus)();\n    (0,_handlers_events_js__WEBPACK_IMPORTED_MODULE_7__.initEvents)();\n\n    // Set a flag to indicate that the app has loaded\n    window.appLoaded = true;\n  });\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvbWFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVvRTtBQUNQO0FBQ1I7QUFDVDtBQWtCWjtBQUNjO0FBUXhCO0FBQzRCO0FBTWhCO0FBQ2M7QUFFaEQsQ0FBQyxZQUFZO0VBQ1QsWUFBWTs7RUFFWjtFQUNBb0MsTUFBTSxDQUFDakMsS0FBSyxHQUFHQSxrREFBSztFQUNwQmlDLE1BQU0sQ0FBQ2hDLGtCQUFrQixHQUFHQSwrREFBa0I7O0VBRTlDO0VBQ0E7RUFDQTtFQUNBaUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLFlBQU07SUFDcEI7SUFDQVosc0RBQVMsQ0FBQyxDQUFDO0lBQ1hHLCtEQUFVLENBQUMsQ0FBQzs7SUFFWjtJQUNBTSxNQUFNLENBQUNJLFNBQVMsR0FBRyxJQUFJO0VBQzNCLENBQUMsQ0FBQztBQUNOLENBQUMsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL21haW4uanM/Y2VhZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwdWJsaWMvanMvbWFpbi5qc1xyXG5cclxuaW1wb3J0IHN0YXRlLCB7IHJlc2V0U3RhdGUsIHByb25vdW5NYXBwaW5nIH0gZnJvbSAnLi9jb3JlL3N0YXRlLmpzJztcclxuaW1wb3J0IHsgVXRpbHMsIGRlY29kZUhUTUxFbnRpdGllcyB9IGZyb20gJy4vdXRpbHMvdXRpbHMuanMnO1xyXG5pbXBvcnQgeyBUeXBlSGVscGVycyB9IGZyb20gJy4vdXRpbHMvdHlwZUhlbHBlcnMuanMnO1xyXG5pbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAnLi9kYXRhL3N0b3JhZ2UuanMnO1xyXG5pbXBvcnQgeyBcclxuICAgIGNhdGVnb3J5T3JkZXIsIFxyXG4gICAgYWxsUGxhY2Vob2xkZXJzLFxyXG4gICAgaW5zZXJ0UGxhY2Vob2xkZXIsXHJcbiAgICB1cGRhdGVWYXJpYWJsZXNMaXN0LFxyXG4gICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcixcclxuICAgIGdlbmVyYXRlTGVnYWN5VGV4dCxcclxuICAgIHNob3dOb3VuTnVtYmVyU2VsZWN0aW9uLFxyXG4gICAgc2hvd1ZlcmJUZW5zZVNlbGVjdGlvbixcclxuICAgIHNob3dQZXJzb25UeXBlU2VsZWN0aW9uLFxyXG4gICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24sXHJcbiAgICBwaWNrUHJvbm91bkZvcm1BbmRHcm91cCxcclxuICAgIGluc2VydFByb25vdW5QbGFjZWhvbGRlclNpbXBsZSxcclxuICAgIGNob29zZVByb25vdW5UZW1wVmFsdWUsXHJcbiAgICB1cGRhdGVFeGlzdGluZ1BsYWNlaG9sZGVyLFxyXG4gICAgYWRkQ3VzdG9tUGxhY2Vob2xkZXIsXHJcbiAgICBpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b21cclxufSBmcm9tICcuL2NvcmUvcGxhY2Vob2xkZXJzLmpzJztcclxuaW1wb3J0IHsgYnVpbGRGaWxsRm9ybSB9IGZyb20gJy4vdWkvZm9ybXMuanMnO1xyXG5pbXBvcnQgeyBcclxuICAgIHBvc2l0aW9uTWVudSwgXHJcbiAgICBoaWRlTWVudSwgXHJcbiAgICBoaWRlQWxsTWVudXMsXHJcbiAgICBpbml0TWVudXMsXHJcbiAgICBoYW5kbGVUZXh0U2VsZWN0aW9uLFxyXG4gICAgaGFuZGxlUGxhY2Vob2xkZXJDbGlja1xyXG59IGZyb20gJy4vdWkvbWVudS5qcyc7XHJcbmltcG9ydCB7IGluaXRFdmVudHMgfSBmcm9tICcuL2hhbmRsZXJzL2V2ZW50cy5qcyc7XHJcbmltcG9ydCB7IFxyXG4gICAgZmlsbFBsYWNlaG9sZGVycyxcclxuICAgIHJlc2V0U3RvcnlTdGF0ZSxcclxuICAgIGZvcm1hdFN0b3J5Rm9yRXhwb3J0LFxyXG4gICAgY3JlYXRlRmlsZW5hbWVGcm9tVGl0bGVcclxufSBmcm9tICcuL2NvcmUvc3RvcnlQcm9jZXNzb3IuanMnO1xyXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICcuL3V0aWxzL2RvbVV0aWxzLmpzJztcclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAvLyBNYWtlIFV0aWxzIGFuZCBkZWNvZGVIVE1MRW50aXRpZXMgYXZhaWxhYmxlIG9uIHdpbmRvdyBmb3IgbGVnYWN5IGNvZGVcclxuICAgIHdpbmRvdy5VdGlscyA9IFV0aWxzO1xyXG4gICAgd2luZG93LmRlY29kZUhUTUxFbnRpdGllcyA9IGRlY29kZUhUTUxFbnRpdGllcztcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyBFVkVOVCBIQU5ETEVSUyAmIERPQ1VNRU5UIFJFQURZXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb25cclxuICAgICAgICBpbml0TWVudXMoKTtcclxuICAgICAgICBpbml0RXZlbnRzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IGEgZmxhZyB0byBpbmRpY2F0ZSB0aGF0IHRoZSBhcHAgaGFzIGxvYWRlZFxyXG4gICAgICAgIHdpbmRvdy5hcHBMb2FkZWQgPSB0cnVlO1xyXG4gICAgfSk7XHJcbn0pKCk7Il0sIm5hbWVzIjpbInN0YXRlIiwicmVzZXRTdGF0ZSIsInByb25vdW5NYXBwaW5nIiwiVXRpbHMiLCJkZWNvZGVIVE1MRW50aXRpZXMiLCJUeXBlSGVscGVycyIsIlN0b3JhZ2UiLCJjYXRlZ29yeU9yZGVyIiwiYWxsUGxhY2Vob2xkZXJzIiwiaW5zZXJ0UGxhY2Vob2xkZXIiLCJ1cGRhdGVWYXJpYWJsZXNMaXN0IiwidXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciIsImdlbmVyYXRlTGVnYWN5VGV4dCIsInNob3dOb3VuTnVtYmVyU2VsZWN0aW9uIiwic2hvd1ZlcmJUZW5zZVNlbGVjdGlvbiIsInNob3dQZXJzb25UeXBlU2VsZWN0aW9uIiwidXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24iLCJwaWNrUHJvbm91bkZvcm1BbmRHcm91cCIsImluc2VydFByb25vdW5QbGFjZWhvbGRlclNpbXBsZSIsImNob29zZVByb25vdW5UZW1wVmFsdWUiLCJ1cGRhdGVFeGlzdGluZ1BsYWNlaG9sZGVyIiwiYWRkQ3VzdG9tUGxhY2Vob2xkZXIiLCJpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20iLCJidWlsZEZpbGxGb3JtIiwicG9zaXRpb25NZW51IiwiaGlkZU1lbnUiLCJoaWRlQWxsTWVudXMiLCJpbml0TWVudXMiLCJoYW5kbGVUZXh0U2VsZWN0aW9uIiwiaGFuZGxlUGxhY2Vob2xkZXJDbGljayIsImluaXRFdmVudHMiLCJmaWxsUGxhY2Vob2xkZXJzIiwicmVzZXRTdG9yeVN0YXRlIiwiZm9ybWF0U3RvcnlGb3JFeHBvcnQiLCJjcmVhdGVGaWxlbmFtZUZyb21UaXRsZSIsImRvbVV0aWxzIiwid2luZG93IiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJhcHBMb2FkZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/js/main.js\n");

/***/ }),

/***/ "./public/js/ui/forms.js":
/*!*******************************!*\
  !*** ./public/js/ui/forms.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildFillForm: () => (/* binding */ buildFillForm),\n/* harmony export */   createInputRow: () => (/* binding */ createInputRow),\n/* harmony export */   validateInputForm: () => (/* binding */ validateInputForm)\n/* harmony export */ });\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/typeHelpers.js */ \"./public/js/utils/typeHelpers.js\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n// public/js/ui/forms.js\n\n\n\n// ====================================================\n// BUILD THE FILL-IN-THE-BLANK FORM\n// ====================================================\nvar buildFillForm = function buildFillForm() {\n  var form = $('#inputForm').empty();\n  appendPronounGroupsToForm(form);\n  appendNonPronounVariablesToForm(form);\n};\nvar appendPronounGroupsToForm = function appendPronounGroupsToForm(form) {\n  var groupSet = getPronounGroups();\n  var sortedGroups = Array.from(groupSet).sort(function (a, b) {\n    return a.localeCompare(b);\n  });\n  if (sortedGroups.length > 0) {\n    form.append(\"<h4>Pronouns</h4>\");\n    sortedGroups.forEach(function (g) {\n      var block = createPronounGroupBlock(g);\n      form.append(block);\n    });\n    form.on('change', \"input[type='radio']\", handlePronounChoiceChange);\n  }\n};\nvar getPronounGroups = function getPronounGroups() {\n  var groupSet = new Set();\n  var _iterator = _createForOfIteratorHelper(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var v = _step.value;\n      if (v.internalType.startsWith('PRONOUN|')) {\n        var parts = v.internalType.split('|');\n        groupSet.add(parts[1]);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return groupSet;\n};\nvar createPronounGroupBlock = function createPronounGroupBlock(groupName) {\n  var block = $(\"\\n      <div class='form-group'>\\n        <label id='\".concat(groupName, \"-label' title=\\\"Hover to see internal ID\\\">\\n          \").concat(groupName, \" - Person (select pronoun)\\n          <i class=\\\"fas fa-info-circle fill-info-icon\\\" data-type=\\\"\").concat(groupName, \"\\\" style=\\\"font-size:0.8em; margin-left:5px;\\\"></i>\\n        </label>\\n      </div>\\n    \"));\n  var radios = \"\\n      <div class='form-check'>\\n        <input type='radio' class='form-check-input' name='\".concat(groupName, \"-choice' value='HeHim'>\\n        <label class='form-check-label'>He/Him</label>\\n      </div>\\n      <div class='form-check'>\\n        <input type='radio' class='form-check-input' name='\").concat(groupName, \"-choice' value='SheHer'>\\n        <label class='form-check-label'>She/Her</label>\\n      </div>\\n      <div class='form-check'>\\n        <input type='radio' class='form-check-input' name='\").concat(groupName, \"-choice' value='TheyThem'>\\n        <label class='form-check-label'>They/Them</label>\\n      </div>\\n      <div class='form-check mb-2'>\\n        <input type='radio' class='form-check-input' name='\").concat(groupName, \"-choice' value='Custom'>\\n        <label class='form-check-label'>Custom</label>\\n      </div>\\n      <input type='text' class='form-control form-control-sm d-none' id='\").concat(groupName, \"-custom'\\n        placeholder='comma-separated: subject, object, possAdj, possPron, reflexive'>\\n    \");\n  block.append(radios);\n  return block;\n};\nvar handlePronounChoiceChange = function handlePronounChoiceChange() {\n  var groupName = $(this).attr('name').replace('-choice', '');\n  if ($(this).val() === 'Custom') {\n    $(\"#\".concat(groupName, \"-custom\")).removeClass('d-none');\n  } else {\n    $(\"#\".concat(groupName, \"-custom\")).addClass('d-none');\n  }\n};\nvar appendNonPronounVariablesToForm = function appendNonPronounVariablesToForm(form) {\n  var nonPronounVars = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.filter(function (v) {\n    return !v.internalType.startsWith('PRONOUN|');\n  });\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillOrder === 'alphabetical') {\n    nonPronounVars.sort(function (a, b) {\n      return a.officialDisplay.localeCompare(b.officialDisplay);\n    });\n  } else if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillOrder === 'random') {\n    nonPronounVars.sort(function () {\n      return Math.random() - 0.5;\n    });\n  }\n  nonPronounVars.forEach(function (variable) {\n    var groupRow = createInputRow(variable);\n    form.append(groupRow);\n  });\n};\nvar createInputRow = function createInputRow(variable) {\n  var inputRow = document.createElement(\"div\");\n  inputRow.className = \"form-group mb-3\";\n  console.log(\"Creating input row for variable: \".concat(variable.id), variable);\n\n  // Create standardized display label (remove any text within parentheses and trim)\n  var displayLabel = variable.officialDisplay.replace(/\\s*\\([^)]*\\)/g, '').trim();\n\n  // Create the label element\n  var label = document.createElement(\"label\");\n  label.htmlFor = variable.id;\n  label.textContent = variable.officialDisplay;\n  label.className = \"form-label\";\n\n  // Create the input element\n  var input = document.createElement(\"input\");\n  input.type = \"text\";\n  input.className = \"form-control\";\n  input.id = variable.id;\n  input.setAttribute(\"data-id\", variable.id);\n  input.setAttribute(\"data-label\", variable.officialDisplay);\n  input.setAttribute(\"data-display\", displayLabel);\n  input.setAttribute(\"data-type\", variable.internalType.split('|')[0]);\n  input.setAttribute(\"placeholder\", displayLabel);\n\n  // If we have existing values, use them\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues && _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues[variable.id]) {\n    input.value = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues[variable.id];\n    console.log(\"Pre-filling \".concat(variable.id, \" with existing value: \\\"\").concat(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues[variable.id], \"\\\"\"));\n  }\n\n  // Add elements to the row\n  inputRow.appendChild(label);\n  inputRow.appendChild(input);\n  return inputRow;\n};\n\n// Add the missing validateInputForm function to forms.js\n\nvar validateInputForm = function validateInputForm(formData) {\n  // If no formData is provided, this is being called from handleGenerateStory\n  // to validate the entire form before generating the story\n  if (!formData) {\n    // Check if we have any filled values that need validation\n    // Return valid for basic story generation\n    return {\n      valid: true\n    };\n  }\n\n  // Input validation logic for placeholders/variables\n  if (!formData.display || formData.display.trim() === '') {\n    return {\n      valid: false,\n      message: 'Display name is required'\n    };\n  }\n  if (!formData.internalType || formData.internalType.trim() === '') {\n    return {\n      valid: false,\n      message: 'Internal type is required'\n    };\n  }\n  return {\n    valid: true\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvdWkvZm9ybXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNxQztBQUNpQjs7QUFFdEQ7QUFDQTtBQUNBO0FBQ08sSUFBTUUsYUFBYSxHQUFHLFNBQWhCQSxhQUFhQSxDQUFBLEVBQVM7RUFDL0IsSUFBTUMsSUFBSSxHQUFHQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUNDLEtBQUssQ0FBQyxDQUFDO0VBQ3BDQyx5QkFBeUIsQ0FBQ0gsSUFBSSxDQUFDO0VBQy9CSSwrQkFBK0IsQ0FBQ0osSUFBSSxDQUFDO0FBQ3pDLENBQUM7QUFFRCxJQUFNRyx5QkFBeUIsR0FBRyxTQUE1QkEseUJBQXlCQSxDQUFJSCxJQUFJLEVBQUs7RUFDeEMsSUFBTUssUUFBUSxHQUFHQyxnQkFBZ0IsQ0FBQyxDQUFDO0VBQ25DLElBQU1DLFlBQVksR0FBR0MsS0FBSyxDQUFDQyxJQUFJLENBQUNKLFFBQVEsQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBQ0MsQ0FBQyxFQUFFQyxDQUFDO0lBQUEsT0FBS0QsQ0FBQyxDQUFDRSxhQUFhLENBQUNELENBQUMsQ0FBQztFQUFBLEVBQUM7RUFDNUUsSUFBSUwsWUFBWSxDQUFDTyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQ3pCZCxJQUFJLENBQUNlLE1BQU0sb0JBQW9CLENBQUM7SUFDaENSLFlBQVksQ0FBQ1MsT0FBTyxDQUFDLFVBQUFDLENBQUMsRUFBSTtNQUN0QixJQUFNQyxLQUFLLEdBQUdDLHVCQUF1QixDQUFDRixDQUFDLENBQUM7TUFDeENqQixJQUFJLENBQUNlLE1BQU0sQ0FBQ0csS0FBSyxDQUFDO0lBQ3RCLENBQUMsQ0FBQztJQUNGbEIsSUFBSSxDQUFDb0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxxQkFBcUIsRUFBRUMseUJBQXlCLENBQUM7RUFDdkU7QUFDSixDQUFDO0FBRUQsSUFBTWYsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFnQkEsQ0FBQSxFQUFTO0VBQzNCLElBQU1ELFFBQVEsR0FBRyxJQUFJaUIsR0FBRyxDQUFDLENBQUM7RUFBQyxJQUFBQyxTQUFBLEdBQUFDLDBCQUFBLENBQ1gzQixzREFBSyxDQUFDNEIsU0FBUztJQUFBQyxLQUFBO0VBQUE7SUFBL0IsS0FBQUgsU0FBQSxDQUFBSSxDQUFBLE1BQUFELEtBQUEsR0FBQUgsU0FBQSxDQUFBSyxDQUFBLElBQUFDLElBQUEsR0FBaUM7TUFBQSxJQUF0QkMsQ0FBQyxHQUFBSixLQUFBLENBQUFLLEtBQUE7TUFDUixJQUFJRCxDQUFDLENBQUNFLFlBQVksQ0FBQ0MsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQ3ZDLElBQU1DLEtBQUssR0FBR0osQ0FBQyxDQUFDRSxZQUFZLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDdkM5QixRQUFRLENBQUMrQixHQUFHLENBQUNGLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMxQjtJQUNKO0VBQUMsU0FBQUcsR0FBQTtJQUFBZCxTQUFBLENBQUFlLENBQUEsQ0FBQUQsR0FBQTtFQUFBO0lBQUFkLFNBQUEsQ0FBQWdCLENBQUE7RUFBQTtFQUNELE9BQU9sQyxRQUFRO0FBQ25CLENBQUM7QUFFRCxJQUFNYyx1QkFBdUIsR0FBRyxTQUExQkEsdUJBQXVCQSxDQUFJcUIsU0FBUyxFQUFLO0VBQzNDLElBQU10QixLQUFLLEdBQUdqQixDQUFDLHlEQUFBd0MsTUFBQSxDQUVFRCxTQUFTLDZEQUFBQyxNQUFBLENBQ2xCRCxTQUFTLHVHQUFBQyxNQUFBLENBQytDRCxTQUFTLDhGQUd4RSxDQUFDO0VBQ0YsSUFBTUUsTUFBTSxtR0FBQUQsTUFBQSxDQUU2Q0QsU0FBUyxnTUFBQUMsTUFBQSxDQUlURCxTQUFTLGtNQUFBQyxNQUFBLENBSVRELFNBQVMsMk1BQUFDLE1BQUEsQ0FJVEQsU0FBUywrS0FBQUMsTUFBQSxDQUdLRCxTQUFTLDBHQUUvRTtFQUNEdEIsS0FBSyxDQUFDSCxNQUFNLENBQUMyQixNQUFNLENBQUM7RUFDcEIsT0FBT3hCLEtBQUs7QUFDaEIsQ0FBQztBQUVELElBQU1HLHlCQUF5QixHQUFHLFNBQTVCQSx5QkFBeUJBLENBQUEsRUFBZTtFQUMxQyxJQUFNbUIsU0FBUyxHQUFHdkMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDMEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDQyxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztFQUM3RCxJQUFJM0MsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDNEMsR0FBRyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUU7SUFDNUI1QyxDQUFDLEtBQUF3QyxNQUFBLENBQUtELFNBQVMsWUFBUyxDQUFDLENBQUNNLFdBQVcsQ0FBQyxRQUFRLENBQUM7RUFDbkQsQ0FBQyxNQUFNO0lBQ0g3QyxDQUFDLEtBQUF3QyxNQUFBLENBQUtELFNBQVMsWUFBUyxDQUFDLENBQUNPLFFBQVEsQ0FBQyxRQUFRLENBQUM7RUFDaEQ7QUFDSixDQUFDO0FBRUQsSUFBTTNDLCtCQUErQixHQUFHLFNBQWxDQSwrQkFBK0JBLENBQUlKLElBQUksRUFBSztFQUM5QyxJQUFJZ0QsY0FBYyxHQUFHbkQsc0RBQUssQ0FBQzRCLFNBQVMsQ0FBQ3dCLE1BQU0sQ0FBQyxVQUFBbkIsQ0FBQztJQUFBLE9BQUksQ0FBQ0EsQ0FBQyxDQUFDRSxZQUFZLENBQUNDLFVBQVUsQ0FBQyxVQUFVLENBQUM7RUFBQSxFQUFDO0VBQ3hGLElBQUlwQyxzREFBSyxDQUFDcUQsU0FBUyxLQUFLLGNBQWMsRUFBRTtJQUNwQ0YsY0FBYyxDQUFDdEMsSUFBSSxDQUFDLFVBQUNDLENBQUMsRUFBRUMsQ0FBQztNQUFBLE9BQUtELENBQUMsQ0FBQ3dDLGVBQWUsQ0FBQ3RDLGFBQWEsQ0FBQ0QsQ0FBQyxDQUFDdUMsZUFBZSxDQUFDO0lBQUEsRUFBQztFQUNyRixDQUFDLE1BQU0sSUFBSXRELHNEQUFLLENBQUNxRCxTQUFTLEtBQUssUUFBUSxFQUFFO0lBQ3JDRixjQUFjLENBQUN0QyxJQUFJLENBQUM7TUFBQSxPQUFNMEMsSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUc7SUFBQSxFQUFDO0VBQ2xEO0VBQ0FMLGNBQWMsQ0FBQ2hDLE9BQU8sQ0FBQyxVQUFBc0MsUUFBUSxFQUFJO0lBQy9CLElBQU1DLFFBQVEsR0FBR0MsY0FBYyxDQUFDRixRQUFRLENBQUM7SUFDekN0RCxJQUFJLENBQUNlLE1BQU0sQ0FBQ3dDLFFBQVEsQ0FBQztFQUN6QixDQUFDLENBQUM7QUFDTixDQUFDO0FBRU0sSUFBTUMsY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFJRixRQUFRLEVBQUs7RUFDeEMsSUFBTUcsUUFBUSxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyxLQUFLLENBQUM7RUFDOUNGLFFBQVEsQ0FBQ0csU0FBUyxHQUFHLGlCQUFpQjtFQUV0Q0MsT0FBTyxDQUFDQyxHQUFHLHFDQUFBckIsTUFBQSxDQUFxQ2EsUUFBUSxDQUFDUyxFQUFFLEdBQUlULFFBQVEsQ0FBQzs7RUFFeEU7RUFDQSxJQUFNVSxZQUFZLEdBQUdWLFFBQVEsQ0FBQ0gsZUFBZSxDQUFDUCxPQUFPLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDcUIsSUFBSSxDQUFDLENBQUM7O0VBRWpGO0VBQ0EsSUFBTUMsS0FBSyxHQUFHUixRQUFRLENBQUNDLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDN0NPLEtBQUssQ0FBQ0MsT0FBTyxHQUFHYixRQUFRLENBQUNTLEVBQUU7RUFDM0JHLEtBQUssQ0FBQ0UsV0FBVyxHQUFHZCxRQUFRLENBQUNILGVBQWU7RUFDNUNlLEtBQUssQ0FBQ04sU0FBUyxHQUFHLFlBQVk7O0VBRTlCO0VBQ0EsSUFBTVMsS0FBSyxHQUFHWCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDN0NVLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLE1BQU07RUFDbkJELEtBQUssQ0FBQ1QsU0FBUyxHQUFHLGNBQWM7RUFDaENTLEtBQUssQ0FBQ04sRUFBRSxHQUFHVCxRQUFRLENBQUNTLEVBQUU7RUFDdEJNLEtBQUssQ0FBQ0UsWUFBWSxDQUFDLFNBQVMsRUFBRWpCLFFBQVEsQ0FBQ1MsRUFBRSxDQUFDO0VBQzFDTSxLQUFLLENBQUNFLFlBQVksQ0FBQyxZQUFZLEVBQUVqQixRQUFRLENBQUNILGVBQWUsQ0FBQztFQUMxRGtCLEtBQUssQ0FBQ0UsWUFBWSxDQUFDLGNBQWMsRUFBRVAsWUFBWSxDQUFDO0VBQ2hESyxLQUFLLENBQUNFLFlBQVksQ0FBQyxXQUFXLEVBQUVqQixRQUFRLENBQUN0QixZQUFZLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNwRWtDLEtBQUssQ0FBQ0UsWUFBWSxDQUFDLGFBQWEsRUFBRVAsWUFBWSxDQUFDOztFQUUvQztFQUNBLElBQUluRSxzREFBSyxDQUFDMkUsVUFBVSxJQUFJM0Usc0RBQUssQ0FBQzJFLFVBQVUsQ0FBQ2xCLFFBQVEsQ0FBQ1MsRUFBRSxDQUFDLEVBQUU7SUFDbkRNLEtBQUssQ0FBQ3RDLEtBQUssR0FBR2xDLHNEQUFLLENBQUMyRSxVQUFVLENBQUNsQixRQUFRLENBQUNTLEVBQUUsQ0FBQztJQUMzQ0YsT0FBTyxDQUFDQyxHQUFHLGdCQUFBckIsTUFBQSxDQUFnQmEsUUFBUSxDQUFDUyxFQUFFLDhCQUFBdEIsTUFBQSxDQUEwQjVDLHNEQUFLLENBQUMyRSxVQUFVLENBQUNsQixRQUFRLENBQUNTLEVBQUUsQ0FBQyxPQUFHLENBQUM7RUFDckc7O0VBRUE7RUFDQU4sUUFBUSxDQUFDZ0IsV0FBVyxDQUFDUCxLQUFLLENBQUM7RUFDM0JULFFBQVEsQ0FBQ2dCLFdBQVcsQ0FBQ0osS0FBSyxDQUFDO0VBRTNCLE9BQU9aLFFBQVE7QUFDbkIsQ0FBQzs7QUFFRDs7QUFFTyxJQUFNaUIsaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFpQkEsQ0FBSUMsUUFBUSxFQUFLO0VBQzdDO0VBQ0E7RUFDQSxJQUFJLENBQUNBLFFBQVEsRUFBRTtJQUNiO0lBQ0E7SUFDQSxPQUFPO01BQUVDLEtBQUssRUFBRTtJQUFLLENBQUM7RUFDeEI7O0VBRUE7RUFDQSxJQUFJLENBQUNELFFBQVEsQ0FBQ0UsT0FBTyxJQUFJRixRQUFRLENBQUNFLE9BQU8sQ0FBQ1osSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDdkQsT0FBTztNQUFFVyxLQUFLLEVBQUUsS0FBSztNQUFFRSxPQUFPLEVBQUU7SUFBMkIsQ0FBQztFQUM5RDtFQUVBLElBQUksQ0FBQ0gsUUFBUSxDQUFDM0MsWUFBWSxJQUFJMkMsUUFBUSxDQUFDM0MsWUFBWSxDQUFDaUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDakUsT0FBTztNQUFFVyxLQUFLLEVBQUUsS0FBSztNQUFFRSxPQUFPLEVBQUU7SUFBNEIsQ0FBQztFQUMvRDtFQUVBLE9BQU87SUFBRUYsS0FBSyxFQUFFO0VBQUssQ0FBQztBQUN4QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL3VpL2Zvcm1zLmpzPzFiY2EiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcHVibGljL2pzL3VpL2Zvcm1zLmpzXHJcbmltcG9ydCBzdGF0ZSBmcm9tICcuLi9jb3JlL3N0YXRlLmpzJztcclxuaW1wb3J0IHsgVHlwZUhlbHBlcnMgfSBmcm9tICcuLi91dGlscy90eXBlSGVscGVycy5qcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEJVSUxEIFRIRSBGSUxMLUlOLVRIRS1CTEFOSyBGT1JNXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGNvbnN0IGJ1aWxkRmlsbEZvcm0gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtID0gJCgnI2lucHV0Rm9ybScpLmVtcHR5KCk7XHJcbiAgICBhcHBlbmRQcm9ub3VuR3JvdXBzVG9Gb3JtKGZvcm0pO1xyXG4gICAgYXBwZW5kTm9uUHJvbm91blZhcmlhYmxlc1RvRm9ybShmb3JtKTtcclxufTtcclxuXHJcbmNvbnN0IGFwcGVuZFByb25vdW5Hcm91cHNUb0Zvcm0gPSAoZm9ybSkgPT4ge1xyXG4gICAgY29uc3QgZ3JvdXBTZXQgPSBnZXRQcm9ub3VuR3JvdXBzKCk7XHJcbiAgICBjb25zdCBzb3J0ZWRHcm91cHMgPSBBcnJheS5mcm9tKGdyb3VwU2V0KS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xyXG4gICAgaWYgKHNvcnRlZEdyb3Vwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZm9ybS5hcHBlbmQoYDxoND5Qcm9ub3VuczwvaDQ+YCk7XHJcbiAgICAgICAgc29ydGVkR3JvdXBzLmZvckVhY2goZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gY3JlYXRlUHJvbm91bkdyb3VwQmxvY2soZyk7XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKGJsb2NrKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBmb3JtLm9uKCdjaGFuZ2UnLCBcImlucHV0W3R5cGU9J3JhZGlvJ11cIiwgaGFuZGxlUHJvbm91bkNob2ljZUNoYW5nZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRQcm9ub3VuR3JvdXBzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZ3JvdXBTZXQgPSBuZXcgU2V0KCk7XHJcbiAgICBmb3IgKGNvbnN0IHYgb2Ygc3RhdGUudmFyaWFibGVzKSB7XHJcbiAgICAgICAgaWYgKHYuaW50ZXJuYWxUeXBlLnN0YXJ0c1dpdGgoJ1BST05PVU58JykpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSB2LmludGVybmFsVHlwZS5zcGxpdCgnfCcpO1xyXG4gICAgICAgICAgICBncm91cFNldC5hZGQocGFydHNbMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBncm91cFNldDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVByb25vdW5Hcm91cEJsb2NrID0gKGdyb3VwTmFtZSkgPT4ge1xyXG4gICAgY29uc3QgYmxvY2sgPSAkKGBcclxuICAgICAgPGRpdiBjbGFzcz0nZm9ybS1ncm91cCc+XHJcbiAgICAgICAgPGxhYmVsIGlkPScke2dyb3VwTmFtZX0tbGFiZWwnIHRpdGxlPVwiSG92ZXIgdG8gc2VlIGludGVybmFsIElEXCI+XHJcbiAgICAgICAgICAke2dyb3VwTmFtZX0gLSBQZXJzb24gKHNlbGVjdCBwcm9ub3VuKVxyXG4gICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGUgZmlsbC1pbmZvLWljb25cIiBkYXRhLXR5cGU9XCIke2dyb3VwTmFtZX1cIiBzdHlsZT1cImZvbnQtc2l6ZTowLjhlbTsgbWFyZ2luLWxlZnQ6NXB4O1wiPjwvaT5cclxuICAgICAgICA8L2xhYmVsPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGApO1xyXG4gICAgY29uc3QgcmFkaW9zID0gYFxyXG4gICAgICA8ZGl2IGNsYXNzPSdmb3JtLWNoZWNrJz5cclxuICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIGNsYXNzPSdmb3JtLWNoZWNrLWlucHV0JyBuYW1lPScke2dyb3VwTmFtZX0tY2hvaWNlJyB2YWx1ZT0nSGVIaW0nPlxyXG4gICAgICAgIDxsYWJlbCBjbGFzcz0nZm9ybS1jaGVjay1sYWJlbCc+SGUvSGltPC9sYWJlbD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9J2Zvcm0tY2hlY2snPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgY2xhc3M9J2Zvcm0tY2hlY2staW5wdXQnIG5hbWU9JyR7Z3JvdXBOYW1lfS1jaG9pY2UnIHZhbHVlPSdTaGVIZXInPlxyXG4gICAgICAgIDxsYWJlbCBjbGFzcz0nZm9ybS1jaGVjay1sYWJlbCc+U2hlL0hlcjwvbGFiZWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPSdmb3JtLWNoZWNrJz5cclxuICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIGNsYXNzPSdmb3JtLWNoZWNrLWlucHV0JyBuYW1lPScke2dyb3VwTmFtZX0tY2hvaWNlJyB2YWx1ZT0nVGhleVRoZW0nPlxyXG4gICAgICAgIDxsYWJlbCBjbGFzcz0nZm9ybS1jaGVjay1sYWJlbCc+VGhleS9UaGVtPC9sYWJlbD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9J2Zvcm0tY2hlY2sgbWItMic+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyBjbGFzcz0nZm9ybS1jaGVjay1pbnB1dCcgbmFtZT0nJHtncm91cE5hbWV9LWNob2ljZScgdmFsdWU9J0N1c3RvbSc+XHJcbiAgICAgICAgPGxhYmVsIGNsYXNzPSdmb3JtLWNoZWNrLWxhYmVsJz5DdXN0b208L2xhYmVsPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGlucHV0IHR5cGU9J3RleHQnIGNsYXNzPSdmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLXNtIGQtbm9uZScgaWQ9JyR7Z3JvdXBOYW1lfS1jdXN0b20nXHJcbiAgICAgICAgcGxhY2Vob2xkZXI9J2NvbW1hLXNlcGFyYXRlZDogc3ViamVjdCwgb2JqZWN0LCBwb3NzQWRqLCBwb3NzUHJvbiwgcmVmbGV4aXZlJz5cclxuICAgIGA7XHJcbiAgICBibG9jay5hcHBlbmQocmFkaW9zKTtcclxuICAgIHJldHVybiBibG9jaztcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVByb25vdW5DaG9pY2VDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBncm91cE5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKS5yZXBsYWNlKCctY2hvaWNlJywgJycpO1xyXG4gICAgaWYgKCQodGhpcykudmFsKCkgPT09ICdDdXN0b20nKSB7XHJcbiAgICAgICAgJChgIyR7Z3JvdXBOYW1lfS1jdXN0b21gKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoYCMke2dyb3VwTmFtZX0tY3VzdG9tYCkuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgYXBwZW5kTm9uUHJvbm91blZhcmlhYmxlc1RvRm9ybSA9IChmb3JtKSA9PiB7XHJcbiAgICBsZXQgbm9uUHJvbm91blZhcnMgPSBzdGF0ZS52YXJpYWJsZXMuZmlsdGVyKHYgPT4gIXYuaW50ZXJuYWxUeXBlLnN0YXJ0c1dpdGgoJ1BST05PVU58JykpO1xyXG4gICAgaWYgKHN0YXRlLmZpbGxPcmRlciA9PT0gJ2FscGhhYmV0aWNhbCcpIHtcclxuICAgICAgICBub25Qcm9ub3VuVmFycy5zb3J0KChhLCBiKSA9PiBhLm9mZmljaWFsRGlzcGxheS5sb2NhbGVDb21wYXJlKGIub2ZmaWNpYWxEaXNwbGF5KSk7XHJcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmZpbGxPcmRlciA9PT0gJ3JhbmRvbScpIHtcclxuICAgICAgICBub25Qcm9ub3VuVmFycy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgfVxyXG4gICAgbm9uUHJvbm91blZhcnMuZm9yRWFjaCh2YXJpYWJsZSA9PiB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBSb3cgPSBjcmVhdGVJbnB1dFJvdyh2YXJpYWJsZSk7XHJcbiAgICAgICAgZm9ybS5hcHBlbmQoZ3JvdXBSb3cpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlSW5wdXRSb3cgPSAodmFyaWFibGUpID0+IHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZm9ybS1ncm91cCBtYi0zXCI7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBDcmVhdGluZyBpbnB1dCByb3cgZm9yIHZhcmlhYmxlOiAke3ZhcmlhYmxlLmlkfWAsIHZhcmlhYmxlKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIHN0YW5kYXJkaXplZCBkaXNwbGF5IGxhYmVsIChyZW1vdmUgYW55IHRleHQgd2l0aGluIHBhcmVudGhlc2VzIGFuZCB0cmltKVxyXG4gICAgY29uc3QgZGlzcGxheUxhYmVsID0gdmFyaWFibGUub2ZmaWNpYWxEaXNwbGF5LnJlcGxhY2UoL1xccypcXChbXildKlxcKS9nLCAnJykudHJpbSgpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgdGhlIGxhYmVsIGVsZW1lbnRcclxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgbGFiZWwuaHRtbEZvciA9IHZhcmlhYmxlLmlkO1xyXG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSB2YXJpYWJsZS5vZmZpY2lhbERpc3BsYXk7XHJcbiAgICBsYWJlbC5jbGFzc05hbWUgPSBcImZvcm0tbGFiZWxcIjtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIHRoZSBpbnB1dCBlbGVtZW50XHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIGlucHV0LnR5cGUgPSBcInRleHRcIjtcclxuICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiZm9ybS1jb250cm9sXCI7XHJcbiAgICBpbnB1dC5pZCA9IHZhcmlhYmxlLmlkO1xyXG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCB2YXJpYWJsZS5pZCk7IFxyXG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiZGF0YS1sYWJlbFwiLCB2YXJpYWJsZS5vZmZpY2lhbERpc3BsYXkpO1xyXG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiZGF0YS1kaXNwbGF5XCIsIGRpc3BsYXlMYWJlbCk7XHJcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgdmFyaWFibGUuaW50ZXJuYWxUeXBlLnNwbGl0KCd8JylbMF0pO1xyXG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgZGlzcGxheUxhYmVsKTtcclxuICAgIFxyXG4gICAgLy8gSWYgd2UgaGF2ZSBleGlzdGluZyB2YWx1ZXMsIHVzZSB0aGVtXHJcbiAgICBpZiAoc3RhdGUuZmlsbFZhbHVlcyAmJiBzdGF0ZS5maWxsVmFsdWVzW3ZhcmlhYmxlLmlkXSkge1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gc3RhdGUuZmlsbFZhbHVlc1t2YXJpYWJsZS5pZF07XHJcbiAgICAgICAgY29uc29sZS5sb2coYFByZS1maWxsaW5nICR7dmFyaWFibGUuaWR9IHdpdGggZXhpc3RpbmcgdmFsdWU6IFwiJHtzdGF0ZS5maWxsVmFsdWVzW3ZhcmlhYmxlLmlkXX1cImApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBBZGQgZWxlbWVudHMgdG8gdGhlIHJvd1xyXG4gICAgaW5wdXRSb3cuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgaW5wdXRSb3cuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gaW5wdXRSb3c7XHJcbn07XHJcblxyXG4vLyBBZGQgdGhlIG1pc3NpbmcgdmFsaWRhdGVJbnB1dEZvcm0gZnVuY3Rpb24gdG8gZm9ybXMuanNcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUlucHV0Rm9ybSA9IChmb3JtRGF0YSkgPT4ge1xyXG4gIC8vIElmIG5vIGZvcm1EYXRhIGlzIHByb3ZpZGVkLCB0aGlzIGlzIGJlaW5nIGNhbGxlZCBmcm9tIGhhbmRsZUdlbmVyYXRlU3RvcnlcclxuICAvLyB0byB2YWxpZGF0ZSB0aGUgZW50aXJlIGZvcm0gYmVmb3JlIGdlbmVyYXRpbmcgdGhlIHN0b3J5XHJcbiAgaWYgKCFmb3JtRGF0YSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhbnkgZmlsbGVkIHZhbHVlcyB0aGF0IG5lZWQgdmFsaWRhdGlvblxyXG4gICAgLy8gUmV0dXJuIHZhbGlkIGZvciBiYXNpYyBzdG9yeSBnZW5lcmF0aW9uXHJcbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSB9O1xyXG4gIH1cclxuICBcclxuICAvLyBJbnB1dCB2YWxpZGF0aW9uIGxvZ2ljIGZvciBwbGFjZWhvbGRlcnMvdmFyaWFibGVzXHJcbiAgaWYgKCFmb3JtRGF0YS5kaXNwbGF5IHx8IGZvcm1EYXRhLmRpc3BsYXkudHJpbSgpID09PSAnJykge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnRGlzcGxheSBuYW1lIGlzIHJlcXVpcmVkJyB9O1xyXG4gIH1cclxuICBcclxuICBpZiAoIWZvcm1EYXRhLmludGVybmFsVHlwZSB8fCBmb3JtRGF0YS5pbnRlcm5hbFR5cGUudHJpbSgpID09PSAnJykge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnSW50ZXJuYWwgdHlwZSBpcyByZXF1aXJlZCcgfTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUgfTtcclxufTsiXSwibmFtZXMiOlsic3RhdGUiLCJUeXBlSGVscGVycyIsImJ1aWxkRmlsbEZvcm0iLCJmb3JtIiwiJCIsImVtcHR5IiwiYXBwZW5kUHJvbm91bkdyb3Vwc1RvRm9ybSIsImFwcGVuZE5vblByb25vdW5WYXJpYWJsZXNUb0Zvcm0iLCJncm91cFNldCIsImdldFByb25vdW5Hcm91cHMiLCJzb3J0ZWRHcm91cHMiLCJBcnJheSIsImZyb20iLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwibGVuZ3RoIiwiYXBwZW5kIiwiZm9yRWFjaCIsImciLCJibG9jayIsImNyZWF0ZVByb25vdW5Hcm91cEJsb2NrIiwib24iLCJoYW5kbGVQcm9ub3VuQ2hvaWNlQ2hhbmdlIiwiU2V0IiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJ2YXJpYWJsZXMiLCJfc3RlcCIsInMiLCJuIiwiZG9uZSIsInYiLCJ2YWx1ZSIsImludGVybmFsVHlwZSIsInN0YXJ0c1dpdGgiLCJwYXJ0cyIsInNwbGl0IiwiYWRkIiwiZXJyIiwiZSIsImYiLCJncm91cE5hbWUiLCJjb25jYXQiLCJyYWRpb3MiLCJhdHRyIiwicmVwbGFjZSIsInZhbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJub25Qcm9ub3VuVmFycyIsImZpbHRlciIsImZpbGxPcmRlciIsIm9mZmljaWFsRGlzcGxheSIsIk1hdGgiLCJyYW5kb20iLCJ2YXJpYWJsZSIsImdyb3VwUm93IiwiY3JlYXRlSW5wdXRSb3ciLCJpbnB1dFJvdyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImRpc3BsYXlMYWJlbCIsInRyaW0iLCJsYWJlbCIsImh0bWxGb3IiLCJ0ZXh0Q29udGVudCIsImlucHV0IiwidHlwZSIsInNldEF0dHJpYnV0ZSIsImZpbGxWYWx1ZXMiLCJhcHBlbmRDaGlsZCIsInZhbGlkYXRlSW5wdXRGb3JtIiwiZm9ybURhdGEiLCJ2YWxpZCIsImRpc3BsYXkiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/ui/forms.js\n");

/***/ }),

/***/ "./public/js/ui/menu.js":
/*!******************************!*\
  !*** ./public/js/ui/menu.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPlaceholderEditMenu: () => (/* binding */ getPlaceholderEditMenu),\n/* harmony export */   getSelectionMenu: () => (/* binding */ getSelectionMenu),\n/* harmony export */   handleDeletePlaceholder: () => (/* binding */ handleDeletePlaceholder),\n/* harmony export */   handleEditOverride: () => (/* binding */ handleEditOverride),\n/* harmony export */   handleEditPlaceholder: () => (/* binding */ handleEditPlaceholder),\n/* harmony export */   handleNewPlaceholder: () => (/* binding */ handleNewPlaceholder),\n/* harmony export */   handlePlaceholderClick: () => (/* binding */ handlePlaceholderClick),\n/* harmony export */   handleReusePlaceholder: () => (/* binding */ handleReusePlaceholder),\n/* harmony export */   handleTextSelection: () => (/* binding */ handleTextSelection),\n/* harmony export */   hideAllMenus: () => (/* binding */ hideAllMenus),\n/* harmony export */   hideMenu: () => (/* binding */ hideMenu),\n/* harmony export */   initMenuSystem: () => (/* binding */ initMenuSystem),\n/* harmony export */   initMenus: () => (/* binding */ initMenus),\n/* harmony export */   positionMenu: () => (/* binding */ positionMenu)\n/* harmony export */ });\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/placeholders.js */ \"./public/js/core/placeholders.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n// Start of Selection\n// public/js/ui/menu.js\n\n\n\n// Menu element references\nvar selectionMenu;\nvar placeholderEditMenu;\n\n// Helper function to position menu near an element\nvar positionMenu = function positionMenu(menu, rect) {\n  menu.style.display = 'block';\n  var menuWidth = menu.offsetWidth;\n  var menuHeight = menu.offsetHeight;\n  var offset = 5;\n  var desiredTop = rect.bottom + offset + menuHeight <= window.innerHeight ? window.scrollY + rect.bottom + offset : window.scrollY + rect.top - menuHeight - offset;\n  var desiredLeft = window.scrollX + rect.left + rect.width / 2 - menuWidth / 2;\n  desiredLeft = Math.max(window.scrollX + 5, Math.min(desiredLeft, window.scrollX + window.innerWidth - menuWidth - 5));\n  menu.style.top = desiredTop + 'px';\n  menu.style.left = desiredLeft + 'px';\n};\n\n// Hide a menu\nvar hideMenu = function hideMenu(menu) {\n  menu.style.display = 'none';\n};\n\n// Hide all menus\nvar hideAllMenus = function hideAllMenus() {\n  hideMenu(selectionMenu);\n  hideMenu(placeholderEditMenu);\n};\n\n// Reset current editing state\nvar resetCurrentEditing = function resetCurrentEditing() {\n  _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable = null;\n  _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement = null;\n};\n\n// Initialize the context menus\nvar initMenus = function initMenus() {\n  // Create selection menu for text selections\n  selectionMenu = document.createElement('div');\n  selectionMenu.id = 'textSelectionMenu';\n  Object.assign(selectionMenu.style, {\n    position: 'absolute',\n    display: 'none',\n    zIndex: '1000',\n    background: '#fff',\n    border: '1px solid #ccc',\n    padding: '5px',\n    borderRadius: '4px',\n    boxShadow: '0px 2px 4px rgba(0,0,0,0.2)'\n  });\n  selectionMenu.innerHTML = \"\\n        <button id=\\\"newPlaceholderBtn\\\" class=\\\"btn btn-sm btn-primary\\\">New Placeholder</button>\\n        <button id=\\\"reusePlaceholderBtn\\\" class=\\\"btn btn-sm btn-secondary\\\">Reuse Placeholder</button>\\n      \";\n  document.body.appendChild(selectionMenu);\n\n  // Create placeholder edit menu for modifying existing placeholders\n  placeholderEditMenu = document.createElement('div');\n  placeholderEditMenu.id = 'placeholderEditMenu';\n  Object.assign(placeholderEditMenu.style, {\n    position: 'absolute',\n    display: 'none',\n    zIndex: '1000',\n    background: '#fff',\n    border: '1px solid #ccc',\n    padding: '5px',\n    borderRadius: '4px',\n    boxShadow: '0px 2px 4px rgba(0,0,0,0.2)'\n  });\n  placeholderEditMenu.innerHTML = \"\\n        <button id=\\\"editPlaceholderBtn\\\" class=\\\"btn btn-sm btn-primary\\\">Change Placeholder</button>\\n        <button id=\\\"editOverrideBtn\\\" class=\\\"btn btn-sm btn-secondary\\\">Change Override</button>\\n        <button id=\\\"deletePlaceholderBtn\\\" class=\\\"btn btn-sm btn-danger\\\">Delete</button>\\n      \";\n  document.body.appendChild(placeholderEditMenu);\n\n  // Attach event listeners\n  attachMenuEventListeners();\n};\n\n// Handle text selection to show the selection menu\nvar handleTextSelection = function handleTextSelection() {\n  setTimeout(function () {\n    var sel = window.getSelection();\n    if (sel && sel.toString().trim().length > 0) {\n      if (sel.anchorNode && sel.anchorNode.parentNode && !sel.anchorNode.parentNode.classList.contains('placeholder')) {\n        _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange = sel.getRangeAt(0);\n        var rect = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange.getBoundingClientRect();\n        positionMenu(selectionMenu, rect);\n      }\n    } else {\n      hideMenu(selectionMenu);\n    }\n  }, 0);\n};\n\n// Show the placeholder edit menu when a placeholder is clicked\nvar handlePlaceholderClick = function handlePlaceholderClick(e) {\n  if (e.target.classList.contains('placeholder')) {\n    // Stop propagation so that other handlers (e.g. selection menu) do not interfere\n    e.stopPropagation();\n    // Find the corresponding variable using the data-id attribute\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.find(function (v) {\n      return v.id === e.target.getAttribute('data-id');\n    });\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement = e.target;\n    // Position the placeholder edit menu near the clicked element\n    positionMenu(placeholderEditMenu, e.target.getBoundingClientRect());\n  }\n};\n\n// Handle delete button click in placeholder edit menu\nvar handleDeletePlaceholder = function handleDeletePlaceholder() {\n  hideMenu(placeholderEditMenu);\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement) {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement.remove();\n  }\n  // Update the variables in the editor after deletion\n  if (typeof _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesFromEditor === 'function') {\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesFromEditor)();\n  }\n  resetCurrentEditing();\n};\n\n// Handle edit placeholder button click\nvar handleEditPlaceholder = function handleEditPlaceholder() {\n  hideMenu(placeholderEditMenu);\n  _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder = true;\n  // Open the modal so the user can select a new placeholder type\n  $('#placeholderModal').modal('show');\n  resetCurrentEditing();\n};\n\n// Handle edit override button click\nvar handleEditOverride = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var _yield$Swal$fire, newOverride;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          hideMenu(placeholderEditMenu);\n          _context.next = 3;\n          return Swal.fire({\n            title: 'Change Override',\n            input: 'text',\n            inputLabel: 'Enter new override text',\n            inputValue: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement ? _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement.textContent : ''\n          });\n        case 3:\n          _yield$Swal$fire = _context.sent;\n          newOverride = _yield$Swal$fire.value;\n          if (newOverride !== undefined) {\n            if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement) {\n              _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderElement.textContent = newOverride;\n            }\n            if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable) {\n              _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable.displayOverride = newOverride;\n            }\n            if (typeof _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesList === 'function') {\n              (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.updateVariablesList)();\n            }\n          }\n          resetCurrentEditing();\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function handleEditOverride() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// Handle \"New Placeholder\" button click\nvar handleNewPlaceholder = function handleNewPlaceholder() {\n  hideMenu(selectionMenu);\n  $('#placeholderModal').modal('show');\n};\n\n// Handle \"Reuse Placeholder\" button click\nvar handleReusePlaceholder = function handleReusePlaceholder() {\n  hideMenu(selectionMenu);\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.length === 0) {\n    Swal.fire('No existing placeholders', 'There are no placeholders to reuse yet.', 'info');\n    return;\n  }\n  var sortedVariables = _toConsumableArray(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables).sort(function (a, b) {\n    return (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].usageTracker[b.id] || 0) - (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].usageTracker[a.id] || 0) || a.order - b.order;\n  });\n  var html = \"<div id=\\\"reusePlaceholderContainer\\\" style=\\\"display: flex; flex-wrap: wrap;\\\">\";\n  sortedVariables.forEach(function (v) {\n    var displayText = v.displayOverride || v.officialDisplay;\n    html += \"<button type=\\\"button\\\" \\n                       class=\\\"btn btn-outline-secondary btn-sm m-1 reuse-placeholder-btn\\\" \\n                       data-id=\\\"\".concat(v.id, \"\\\" \\n                       title=\\\"\").concat(v.id, \"\\\">\\n                 \").concat(displayText, \"\\n               </button>\");\n  });\n  html += \"</div>\";\n  Swal.fire({\n    title: 'Select a placeholder to reuse',\n    html: html,\n    showCancelButton: true,\n    showConfirmButton: false,\n    didOpen: function didOpen() {\n      var container = Swal.getHtmlContainer();\n      var btns = container.querySelectorAll('.reuse-placeholder-btn');\n      btns.forEach(function (button) {\n        button.addEventListener('click', function () {\n          var id = button.getAttribute('data-id');\n          var variable = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.find(function (v) {\n            return v.id === id;\n          });\n          if (variable) (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.duplicatePlaceholder)(variable);\n          Swal.close();\n        });\n      });\n    }\n  });\n};\n\n// Attach event listeners to the menu elements\nvar attachMenuEventListeners = function attachMenuEventListeners() {\n  // Click outside menus to close them\n  document.addEventListener('click', function (e) {\n    if (!selectionMenu.contains(e.target) && !placeholderEditMenu.contains(e.target)) {\n      hideAllMenus();\n    }\n  });\n\n  // Text selection events\n  document.getElementById('storyText').addEventListener('mouseup', handleTextSelection);\n\n  // Placeholder click events\n  document.getElementById('storyText').addEventListener('click', handlePlaceholderClick);\n\n  // Menu button event handlers\n  document.getElementById('newPlaceholderBtn').addEventListener('click', handleNewPlaceholder);\n  document.getElementById('reusePlaceholderBtn').addEventListener('click', handleReusePlaceholder);\n  document.getElementById('editPlaceholderBtn').addEventListener('click', handleEditPlaceholder);\n  document.getElementById('editOverrideBtn').addEventListener('click', handleEditOverride);\n  document.getElementById('deletePlaceholderBtn').addEventListener('click', handleDeletePlaceholder);\n};\n\n// Export menu elements for external access if needed\nvar getSelectionMenu = function getSelectionMenu() {\n  return selectionMenu;\n};\nvar getPlaceholderEditMenu = function getPlaceholderEditMenu() {\n  return placeholderEditMenu;\n};\n\n// Export the initialization of menus to be called from main.js\nvar initMenuSystem = function initMenuSystem() {\n  // Create menus if they don't exist yet\n  if (!selectionMenu || !placeholderEditMenu) {\n    initMenus();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxJQUFNaUgsY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFBLEVBQVM7RUFDaEM7RUFDQSxJQUFJLENBQUNsSCxhQUFhLElBQUksQ0FBQ0MsbUJBQW1CLEVBQUU7SUFDMUM4QixTQUFTLENBQUMsQ0FBQztFQUNiO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JsYW5rYm9vay8uL3B1YmxpYy9qcy91aS9tZW51LmpzP2NlZjEiXSwic291cmNlc0NvbnRlbnQiOlsiICAgIC8vIFN0YXJ0IG9mIFNlbGVjdGlvblxyXG4gICAgLy8gcHVibGljL2pzL3VpL21lbnUuanNcclxuICAgIGltcG9ydCBzdGF0ZSBmcm9tICcuLi9jb3JlL3N0YXRlLmpzJztcclxuICAgIGltcG9ydCB7IGR1cGxpY2F0ZVBsYWNlaG9sZGVyLCBpbnNlcnRQbGFjZWhvbGRlciwgdXBkYXRlVmFyaWFibGVzTGlzdCwgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciB9IGZyb20gJy4uL2NvcmUvcGxhY2Vob2xkZXJzLmpzJztcclxuICAgIFxyXG4gICAgLy8gTWVudSBlbGVtZW50IHJlZmVyZW5jZXNcclxuICAgIGxldCBzZWxlY3Rpb25NZW51O1xyXG4gICAgbGV0IHBsYWNlaG9sZGVyRWRpdE1lbnU7XHJcbiAgICBcclxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBwb3NpdGlvbiBtZW51IG5lYXIgYW4gZWxlbWVudFxyXG4gICAgZXhwb3J0IGNvbnN0IHBvc2l0aW9uTWVudSA9IChtZW51LCByZWN0KSA9PiB7XHJcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBjb25zdCBtZW51V2lkdGggPSBtZW51Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IG1lbnVIZWlnaHQgPSBtZW51Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSA1O1xyXG4gICAgICAgIGxldCBkZXNpcmVkVG9wID0gKHJlY3QuYm90dG9tICsgb2Zmc2V0ICsgbWVudUhlaWdodCA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpXHJcbiAgICAgICAgICAgID8gd2luZG93LnNjcm9sbFkgKyByZWN0LmJvdHRvbSArIG9mZnNldFxyXG4gICAgICAgICAgICA6IHdpbmRvdy5zY3JvbGxZICsgcmVjdC50b3AgLSBtZW51SGVpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgIGxldCBkZXNpcmVkTGVmdCA9IHdpbmRvdy5zY3JvbGxYICsgcmVjdC5sZWZ0ICsgKHJlY3Qud2lkdGggLyAyKSAtIChtZW51V2lkdGggLyAyKTtcclxuICAgICAgICBkZXNpcmVkTGVmdCA9IE1hdGgubWF4KHdpbmRvdy5zY3JvbGxYICsgNSwgTWF0aC5taW4oZGVzaXJlZExlZnQsIHdpbmRvdy5zY3JvbGxYICsgd2luZG93LmlubmVyV2lkdGggLSBtZW51V2lkdGggLSA1KSk7XHJcbiAgICAgICAgbWVudS5zdHlsZS50b3AgPSBkZXNpcmVkVG9wICsgJ3B4JztcclxuICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSBkZXNpcmVkTGVmdCArICdweCc7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBIaWRlIGEgbWVudVxyXG4gICAgZXhwb3J0IGNvbnN0IGhpZGVNZW51ID0gKG1lbnUpID0+IHsgXHJcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyBcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEhpZGUgYWxsIG1lbnVzXHJcbiAgICBleHBvcnQgY29uc3QgaGlkZUFsbE1lbnVzID0gKCkgPT4geyBcclxuICAgICAgICBoaWRlTWVudShzZWxlY3Rpb25NZW51KTsgXHJcbiAgICAgICAgaGlkZU1lbnUocGxhY2Vob2xkZXJFZGl0TWVudSk7IFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gUmVzZXQgY3VycmVudCBlZGl0aW5nIHN0YXRlXHJcbiAgICBjb25zdCByZXNldEN1cnJlbnRFZGl0aW5nID0gKCkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUgPSBudWxsO1xyXG4gICAgICAgIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlckVsZW1lbnQgPSBudWxsO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgY29udGV4dCBtZW51c1xyXG4gICAgZXhwb3J0IGNvbnN0IGluaXRNZW51cyA9ICgpID0+IHtcclxuICAgICAgICAvLyBDcmVhdGUgc2VsZWN0aW9uIG1lbnUgZm9yIHRleHQgc2VsZWN0aW9uc1xyXG4gICAgICAgIHNlbGVjdGlvbk1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzZWxlY3Rpb25NZW51LmlkID0gJ3RleHRTZWxlY3Rpb25NZW51JztcclxuICAgICAgICBPYmplY3QuYXNzaWduKHNlbGVjdGlvbk1lbnUuc3R5bGUsIHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcclxuICAgICAgICAgICAgekluZGV4OiAnMTAwMCcsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiAnNXB4JyxcclxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgYm94U2hhZG93OiAnMHB4IDJweCA0cHggcmdiYSgwLDAsMCwwLjIpJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGVjdGlvbk1lbnUuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxidXR0b24gaWQ9XCJuZXdQbGFjZWhvbGRlckJ0blwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeVwiPk5ldyBQbGFjZWhvbGRlcjwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gaWQ9XCJyZXVzZVBsYWNlaG9sZGVyQnRuXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zZWNvbmRhcnlcIj5SZXVzZSBQbGFjZWhvbGRlcjwvYnV0dG9uPlxyXG4gICAgICBgO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2VsZWN0aW9uTWVudSk7XHJcbiAgICBcclxuICAgICAgICAvLyBDcmVhdGUgcGxhY2Vob2xkZXIgZWRpdCBtZW51IGZvciBtb2RpZnlpbmcgZXhpc3RpbmcgcGxhY2Vob2xkZXJzXHJcbiAgICAgICAgcGxhY2Vob2xkZXJFZGl0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHBsYWNlaG9sZGVyRWRpdE1lbnUuaWQgPSAncGxhY2Vob2xkZXJFZGl0TWVudSc7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihwbGFjZWhvbGRlckVkaXRNZW51LnN0eWxlLCB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXHJcbiAgICAgICAgICAgIHpJbmRleDogJzEwMDAnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXHJcbiAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjY2NjJyxcclxuICAgICAgICAgICAgcGFkZGluZzogJzVweCcsXHJcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgIGJveFNoYWRvdzogJzBweCAycHggNHB4IHJnYmEoMCwwLDAsMC4yKSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGFjZWhvbGRlckVkaXRNZW51LmlubmVySFRNTCA9IGBcclxuICAgICAgICA8YnV0dG9uIGlkPVwiZWRpdFBsYWNlaG9sZGVyQnRuXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCI+Q2hhbmdlIFBsYWNlaG9sZGVyPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvbiBpZD1cImVkaXRPdmVycmlkZUJ0blwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5XCI+Q2hhbmdlIE92ZXJyaWRlPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvbiBpZD1cImRlbGV0ZVBsYWNlaG9sZGVyQnRuXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcIj5EZWxldGU8L2J1dHRvbj5cclxuICAgICAgYDtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyRWRpdE1lbnUpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIGF0dGFjaE1lbnVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHRleHQgc2VsZWN0aW9uIHRvIHNob3cgdGhlIHNlbGVjdGlvbiBtZW51XHJcbiAgICBleHBvcnQgY29uc3QgaGFuZGxlVGV4dFNlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoc2VsICYmIHNlbC50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsLmFuY2hvck5vZGUgJiYgc2VsLmFuY2hvck5vZGUucGFyZW50Tm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFzZWwuYW5jaG9yTm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygncGxhY2Vob2xkZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmxhc3RSYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBzdGF0ZS5sYXN0UmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25NZW51KHNlbGVjdGlvbk1lbnUsIHJlY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGlkZU1lbnUoc2VsZWN0aW9uTWVudSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAwKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFNob3cgdGhlIHBsYWNlaG9sZGVyIGVkaXQgbWVudSB3aGVuIGEgcGxhY2Vob2xkZXIgaXMgY2xpY2tlZFxyXG4gICAgZXhwb3J0IGNvbnN0IGhhbmRsZVBsYWNlaG9sZGVyQ2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYWNlaG9sZGVyJykpIHtcclxuICAgICAgICAgICAgLy8gU3RvcCBwcm9wYWdhdGlvbiBzbyB0aGF0IG90aGVyIGhhbmRsZXJzIChlLmcuIHNlbGVjdGlvbiBtZW51KSBkbyBub3QgaW50ZXJmZXJlXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgdmFyaWFibGUgdXNpbmcgdGhlIGRhdGEtaWQgYXR0cmlidXRlXHJcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUgPSBzdGF0ZS52YXJpYWJsZXMuZmluZCh2ID0+IHYuaWQgPT09IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcclxuICAgICAgICAgICAgc3RhdGUuY3VycmVudFBsYWNlaG9sZGVyRWxlbWVudCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAvLyBQb3NpdGlvbiB0aGUgcGxhY2Vob2xkZXIgZWRpdCBtZW51IG5lYXIgdGhlIGNsaWNrZWQgZWxlbWVudFxyXG4gICAgICAgICAgICBwb3NpdGlvbk1lbnUocGxhY2Vob2xkZXJFZGl0TWVudSwgZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBkZWxldGUgYnV0dG9uIGNsaWNrIGluIHBsYWNlaG9sZGVyIGVkaXQgbWVudVxyXG4gICAgZXhwb3J0IGNvbnN0IGhhbmRsZURlbGV0ZVBsYWNlaG9sZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGhpZGVNZW51KHBsYWNlaG9sZGVyRWRpdE1lbnUpO1xyXG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlckVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdmFyaWFibGVzIGluIHRoZSBlZGl0b3IgYWZ0ZXIgZGVsZXRpb25cclxuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXNldEN1cnJlbnRFZGl0aW5nKCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgZWRpdCBwbGFjZWhvbGRlciBidXR0b24gY2xpY2tcclxuICAgIGV4cG9ydCBjb25zdCBoYW5kbGVFZGl0UGxhY2Vob2xkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaGlkZU1lbnUocGxhY2Vob2xkZXJFZGl0TWVudSk7XHJcbiAgICAgICAgc3RhdGUuaXNFZGl0aW5nUGxhY2Vob2xkZXIgPSB0cnVlO1xyXG4gICAgICAgIC8vIE9wZW4gdGhlIG1vZGFsIHNvIHRoZSB1c2VyIGNhbiBzZWxlY3QgYSBuZXcgcGxhY2Vob2xkZXIgdHlwZVxyXG4gICAgICAgICQoJyNwbGFjZWhvbGRlck1vZGFsJykubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICByZXNldEN1cnJlbnRFZGl0aW5nKCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgZWRpdCBvdmVycmlkZSBidXR0b24gY2xpY2tcclxuICAgIGV4cG9ydCBjb25zdCBoYW5kbGVFZGl0T3ZlcnJpZGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgaGlkZU1lbnUocGxhY2Vob2xkZXJFZGl0TWVudSk7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogbmV3T3ZlcnJpZGUgfSA9IGF3YWl0IFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlIE92ZXJyaWRlJyxcclxuICAgICAgICAgICAgaW5wdXQ6ICd0ZXh0JyxcclxuICAgICAgICAgICAgaW5wdXRMYWJlbDogJ0VudGVyIG5ldyBvdmVycmlkZSB0ZXh0JyxcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZTogc3RhdGUuY3VycmVudFBsYWNlaG9sZGVyRWxlbWVudCA/IHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlckVsZW1lbnQudGV4dENvbnRlbnQgOiAnJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChuZXdPdmVycmlkZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJFbGVtZW50LnRleHRDb250ZW50ID0gbmV3T3ZlcnJpZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUuZGlzcGxheU92ZXJyaWRlID0gbmV3T3ZlcnJpZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cGRhdGVWYXJpYWJsZXNMaXN0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVWYXJpYWJsZXNMaXN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzZXRDdXJyZW50RWRpdGluZygpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIFwiTmV3IFBsYWNlaG9sZGVyXCIgYnV0dG9uIGNsaWNrXHJcbiAgICBleHBvcnQgY29uc3QgaGFuZGxlTmV3UGxhY2Vob2xkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaGlkZU1lbnUoc2VsZWN0aW9uTWVudSk7XHJcbiAgICAgICAgJCgnI3BsYWNlaG9sZGVyTW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIFwiUmV1c2UgUGxhY2Vob2xkZXJcIiBidXR0b24gY2xpY2tcclxuICAgIGV4cG9ydCBjb25zdCBoYW5kbGVSZXVzZVBsYWNlaG9sZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGhpZGVNZW51KHNlbGVjdGlvbk1lbnUpO1xyXG4gICAgICAgIGlmIChzdGF0ZS52YXJpYWJsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIFN3YWwuZmlyZSgnTm8gZXhpc3RpbmcgcGxhY2Vob2xkZXJzJywgJ1RoZXJlIGFyZSBubyBwbGFjZWhvbGRlcnMgdG8gcmV1c2UgeWV0LicsICdpbmZvJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc29ydGVkVmFyaWFibGVzID0gWy4uLnN0YXRlLnZhcmlhYmxlc10uc29ydCgoYSwgYikgPT5cclxuICAgICAgICAgICAgKHN0YXRlLnVzYWdlVHJhY2tlcltiLmlkXSB8fCAwKSAtIChzdGF0ZS51c2FnZVRyYWNrZXJbYS5pZF0gfHwgMCkgfHwgYS5vcmRlciAtIGIub3JkZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgaWQ9XCJyZXVzZVBsYWNlaG9sZGVyQ29udGFpbmVyXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBmbGV4LXdyYXA6IHdyYXA7XCI+YDtcclxuICAgICAgICBzb3J0ZWRWYXJpYWJsZXMuZm9yRWFjaCh2ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGlzcGxheVRleHQgPSB2LmRpc3BsYXlPdmVycmlkZSB8fCB2Lm9mZmljaWFsRGlzcGxheTtcclxuICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbSBtLTEgcmV1c2UtcGxhY2Vob2xkZXItYnRuXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1pZD1cIiR7di5pZH1cIiBcclxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIiR7di5pZH1cIj5cclxuICAgICAgICAgICAgICAgICAke2Rpc3BsYXlUZXh0fVxyXG4gICAgICAgICAgICAgICA8L2J1dHRvbj5gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGh0bWwgKz0gYDwvZGl2PmA7XHJcbiAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgICAgdGl0bGU6ICdTZWxlY3QgYSBwbGFjZWhvbGRlciB0byByZXVzZScsXHJcbiAgICAgICAgICAgIGh0bWwsXHJcbiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgZGlkT3BlbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gU3dhbC5nZXRIdG1sQ29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidG5zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXVzZS1wbGFjZWhvbGRlci1idG4nKTtcclxuICAgICAgICAgICAgICAgIGJ0bnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gc3RhdGUudmFyaWFibGVzLmZpbmQodiA9PiB2LmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZSkgZHVwbGljYXRlUGxhY2Vob2xkZXIodmFyaWFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gQXR0YWNoIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgbWVudSBlbGVtZW50c1xyXG4gICAgY29uc3QgYXR0YWNoTWVudUV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIENsaWNrIG91dHNpZGUgbWVudXMgdG8gY2xvc2UgdGhlbVxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb25NZW51LmNvbnRhaW5zKGUudGFyZ2V0KSAmJiAhcGxhY2Vob2xkZXJFZGl0TWVudS5jb250YWlucyhlLnRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIGhpZGVBbGxNZW51cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAvLyBUZXh0IHNlbGVjdGlvbiBldmVudHNcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcnlUZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZVRleHRTZWxlY3Rpb24pO1xyXG4gICAgXHJcbiAgICAgICAgLy8gUGxhY2Vob2xkZXIgY2xpY2sgZXZlbnRzXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3J5VGV4dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUGxhY2Vob2xkZXJDbGljayk7XHJcbiAgICBcclxuICAgICAgICAvLyBNZW51IGJ1dHRvbiBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdQbGFjZWhvbGRlckJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmV3UGxhY2Vob2xkZXIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXVzZVBsYWNlaG9sZGVyQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZXVzZVBsYWNlaG9sZGVyKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBsYWNlaG9sZGVyQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVFZGl0UGxhY2Vob2xkZXIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0T3ZlcnJpZGVCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUVkaXRPdmVycmlkZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZVBsYWNlaG9sZGVyQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEZWxldGVQbGFjZWhvbGRlcik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBFeHBvcnQgbWVudSBlbGVtZW50cyBmb3IgZXh0ZXJuYWwgYWNjZXNzIGlmIG5lZWRlZFxyXG4gICAgZXhwb3J0IGNvbnN0IGdldFNlbGVjdGlvbk1lbnUgPSAoKSA9PiBzZWxlY3Rpb25NZW51O1xyXG4gICAgZXhwb3J0IGNvbnN0IGdldFBsYWNlaG9sZGVyRWRpdE1lbnUgPSAoKSA9PiBwbGFjZWhvbGRlckVkaXRNZW51O1xyXG4gICAgXHJcbiAgICAvLyBFeHBvcnQgdGhlIGluaXRpYWxpemF0aW9uIG9mIG1lbnVzIHRvIGJlIGNhbGxlZCBmcm9tIG1haW4uanNcclxuICAgIGV4cG9ydCBjb25zdCBpbml0TWVudVN5c3RlbSA9ICgpID0+IHtcclxuICAgICAgICAvLyBDcmVhdGUgbWVudXMgaWYgdGhleSBkb24ndCBleGlzdCB5ZXRcclxuICAgICAgICBpZiAoIXNlbGVjdGlvbk1lbnUgfHwgIXBsYWNlaG9sZGVyRWRpdE1lbnUpIHtcclxuICAgICAgICAgIGluaXRNZW51cygpO1xyXG4gICAgICAgIH1cclxuICAgIH07Il0sIm5hbWVzIjpbIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJlIiwidCIsInIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJuIiwiaGFzT3duUHJvcGVydHkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImkiLCJTeW1ib2wiLCJhIiwiaXRlcmF0b3IiLCJjIiwiYXN5bmNJdGVyYXRvciIsInUiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIndyYXAiLCJHZW5lcmF0b3IiLCJjcmVhdGUiLCJDb250ZXh0IiwibWFrZUludm9rZU1ldGhvZCIsInRyeUNhdGNoIiwidHlwZSIsImFyZyIsImNhbGwiLCJoIiwibCIsImYiLCJzIiwieSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJwIiwiZCIsImdldFByb3RvdHlwZU9mIiwidiIsInZhbHVlcyIsImciLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiX2ludm9rZSIsIkFzeW5jSXRlcmF0b3IiLCJpbnZva2UiLCJfdHlwZW9mIiwicmVzb2x2ZSIsIl9fYXdhaXQiLCJ0aGVuIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJFcnJvciIsImRvbmUiLCJtZXRob2QiLCJkZWxlZ2F0ZSIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsIlR5cGVFcnJvciIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXNOYU4iLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsImtleXMiLCJyZXZlcnNlIiwicG9wIiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJ2YWwiLCJoYW5kbGUiLCJjb21wbGV0ZSIsImZpbmlzaCIsIl9jYXRjaCIsImRlbGVnYXRlWWllbGQiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJzdGF0ZSIsImR1cGxpY2F0ZVBsYWNlaG9sZGVyIiwiaW5zZXJ0UGxhY2Vob2xkZXIiLCJ1cGRhdGVWYXJpYWJsZXNMaXN0IiwidXBkYXRlVmFyaWFibGVzRnJvbUVkaXRvciIsInNlbGVjdGlvbk1lbnUiLCJwbGFjZWhvbGRlckVkaXRNZW51IiwicG9zaXRpb25NZW51IiwibWVudSIsInJlY3QiLCJzdHlsZSIsImRpc3BsYXkiLCJtZW51V2lkdGgiLCJvZmZzZXRXaWR0aCIsIm1lbnVIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXQiLCJkZXNpcmVkVG9wIiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxZIiwidG9wIiwiZGVzaXJlZExlZnQiLCJzY3JvbGxYIiwibGVmdCIsIndpZHRoIiwiTWF0aCIsIm1heCIsIm1pbiIsImlubmVyV2lkdGgiLCJoaWRlTWVudSIsImhpZGVBbGxNZW51cyIsInJlc2V0Q3VycmVudEVkaXRpbmciLCJjdXJyZW50RWRpdGluZ1ZhcmlhYmxlIiwiY3VycmVudFBsYWNlaG9sZGVyRWxlbWVudCIsImluaXRNZW51cyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlkIiwiYXNzaWduIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsImlubmVySFRNTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImF0dGFjaE1lbnVFdmVudExpc3RlbmVycyIsImhhbmRsZVRleHRTZWxlY3Rpb24iLCJzZXRUaW1lb3V0Iiwic2VsIiwiZ2V0U2VsZWN0aW9uIiwidG9TdHJpbmciLCJ0cmltIiwiYW5jaG9yTm9kZSIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImxhc3RSYW5nZSIsImdldFJhbmdlQXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoYW5kbGVQbGFjZWhvbGRlckNsaWNrIiwidGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwidmFyaWFibGVzIiwiZmluZCIsImdldEF0dHJpYnV0ZSIsImhhbmRsZURlbGV0ZVBsYWNlaG9sZGVyIiwicmVtb3ZlIiwiaGFuZGxlRWRpdFBsYWNlaG9sZGVyIiwiaXNFZGl0aW5nUGxhY2Vob2xkZXIiLCIkIiwibW9kYWwiLCJoYW5kbGVFZGl0T3ZlcnJpZGUiLCJfcmVmIiwiX2NhbGxlZSIsIl95aWVsZCRTd2FsJGZpcmUiLCJuZXdPdmVycmlkZSIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJTd2FsIiwiZmlyZSIsInRpdGxlIiwiaW5wdXQiLCJpbnB1dExhYmVsIiwiaW5wdXRWYWx1ZSIsInRleHRDb250ZW50IiwidW5kZWZpbmVkIiwiZGlzcGxheU92ZXJyaWRlIiwiaGFuZGxlTmV3UGxhY2Vob2xkZXIiLCJoYW5kbGVSZXVzZVBsYWNlaG9sZGVyIiwic29ydGVkVmFyaWFibGVzIiwiX3RvQ29uc3VtYWJsZUFycmF5Iiwic29ydCIsImIiLCJ1c2FnZVRyYWNrZXIiLCJvcmRlciIsImh0bWwiLCJkaXNwbGF5VGV4dCIsIm9mZmljaWFsRGlzcGxheSIsImNvbmNhdCIsInNob3dDYW5jZWxCdXR0b24iLCJzaG93Q29uZmlybUJ1dHRvbiIsImRpZE9wZW4iLCJjb250YWluZXIiLCJnZXRIdG1sQ29udGFpbmVyIiwiYnRucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwidmFyaWFibGUiLCJjbG9zZSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0U2VsZWN0aW9uTWVudSIsImdldFBsYWNlaG9sZGVyRWRpdE1lbnUiLCJpbml0TWVudVN5c3RlbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/ui/menu.js\n");

/***/ }),

/***/ "./public/js/ui/notifications.js":
/*!***************************************!*\
  !*** ./public/js/ui/notifications.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   showError: () => (/* binding */ showError),\n/* harmony export */   showToast: () => (/* binding */ showToast)\n/* harmony export */ });\n/**\r\n * Utility functions for showing notifications to the user\r\n */\n\n/**\r\n * Shows a toast notification to the user\r\n * @param {string} message - The message to display\r\n * @param {string} type - The type of notification (success, error, warning, info)\r\n * @param {number} duration - How long to show the notification in ms\r\n */\nvar showToast = function showToast(message) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';\n  var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3000;\n  if (typeof Swal !== 'undefined') {\n    // If SweetAlert2 is available\n    Swal.fire({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: duration,\n      timerProgressBar: true,\n      icon: type,\n      title: message\n    });\n  } else {\n    // Fallback to alert if SweetAlert is not available\n    console.log(\"\".concat(type.toUpperCase(), \": \").concat(message));\n    if (type === 'error') {\n      alert(message);\n    }\n  }\n};\n\n/**\r\n * Shows an error notification with a title and message\r\n * @param {string} title - The error title\r\n * @param {string} message - The error message\r\n */\nvar showError = function showError(title, message) {\n  if (typeof Swal !== 'undefined') {\n    Swal.fire({\n      icon: 'error',\n      title: title,\n      text: message\n    });\n  } else {\n    console.error(\"\".concat(title, \": \").concat(message));\n    alert(\"\".concat(title, \": \").concat(message));\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvdWkvbm90aWZpY2F0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFNQSxTQUFTLEdBQUcsU0FBWkEsU0FBU0EsQ0FBSUMsT0FBTyxFQUF3QztFQUFBLElBQXRDQyxJQUFJLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLFNBQVM7RUFBQSxJQUFFRyxRQUFRLEdBQUFILFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLElBQUk7RUFDaEUsSUFBSSxPQUFPSSxJQUFJLEtBQUssV0FBVyxFQUFFO0lBQzdCO0lBQ0FBLElBQUksQ0FBQ0MsSUFBSSxDQUFDO01BQ05DLEtBQUssRUFBRSxJQUFJO01BQ1hDLFFBQVEsRUFBRSxTQUFTO01BQ25CQyxpQkFBaUIsRUFBRSxLQUFLO01BQ3hCQyxLQUFLLEVBQUVOLFFBQVE7TUFDZk8sZ0JBQWdCLEVBQUUsSUFBSTtNQUN0QkMsSUFBSSxFQUFFWixJQUFJO01BQ1ZhLEtBQUssRUFBRWQ7SUFDWCxDQUFDLENBQUM7RUFDTixDQUFDLE1BQU07SUFDSDtJQUNBZSxPQUFPLENBQUNDLEdBQUcsSUFBQUMsTUFBQSxDQUFJaEIsSUFBSSxDQUFDaUIsV0FBVyxDQUFDLENBQUMsUUFBQUQsTUFBQSxDQUFLakIsT0FBTyxDQUFFLENBQUM7SUFDaEQsSUFBSUMsSUFBSSxLQUFLLE9BQU8sRUFBRTtNQUNsQmtCLEtBQUssQ0FBQ25CLE9BQU8sQ0FBQztJQUNsQjtFQUNKO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBTW9CLFNBQVMsR0FBRyxTQUFaQSxTQUFTQSxDQUFJTixLQUFLLEVBQUVkLE9BQU8sRUFBSztFQUN6QyxJQUFJLE9BQU9NLElBQUksS0FBSyxXQUFXLEVBQUU7SUFDN0JBLElBQUksQ0FBQ0MsSUFBSSxDQUFDO01BQ05NLElBQUksRUFBRSxPQUFPO01BQ2JDLEtBQUssRUFBRUEsS0FBSztNQUNaTyxJQUFJLEVBQUVyQjtJQUNWLENBQUMsQ0FBQztFQUNOLENBQUMsTUFBTTtJQUNIZSxPQUFPLENBQUNPLEtBQUssSUFBQUwsTUFBQSxDQUFJSCxLQUFLLFFBQUFHLE1BQUEsQ0FBS2pCLE9BQU8sQ0FBRSxDQUFDO0lBQ3JDbUIsS0FBSyxJQUFBRixNQUFBLENBQUlILEtBQUssUUFBQUcsTUFBQSxDQUFLakIsT0FBTyxDQUFFLENBQUM7RUFDakM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL3VpL25vdGlmaWNhdGlvbnMuanM/NDZlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHNob3dpbmcgbm90aWZpY2F0aW9ucyB0byB0aGUgdXNlclxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTaG93cyBhIHRvYXN0IG5vdGlmaWNhdGlvbiB0byB0aGUgdXNlclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIGRpc3BsYXlcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBub3RpZmljYXRpb24gKHN1Y2Nlc3MsIGVycm9yLCB3YXJuaW5nLCBpbmZvKVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBIb3cgbG9uZyB0byBzaG93IHRoZSBub3RpZmljYXRpb24gaW4gbXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSwgdHlwZSA9ICdzdWNjZXNzJywgZHVyYXRpb24gPSAzMDAwKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIFN3YWwgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gSWYgU3dlZXRBbGVydDIgaXMgYXZhaWxhYmxlXHJcbiAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgICAgdG9hc3Q6IHRydWUsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsXHJcbiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgdGltZXI6IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICAgICAgICBpY29uOiB0eXBlLFxyXG4gICAgICAgICAgICB0aXRsZTogbWVzc2FnZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBGYWxsYmFjayB0byBhbGVydCBpZiBTd2VldEFsZXJ0IGlzIG5vdCBhdmFpbGFibGVcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0eXBlLnRvVXBwZXJDYXNlKCl9OiAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgYWxlcnQobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNob3dzIGFuIGVycm9yIG5vdGlmaWNhdGlvbiB3aXRoIGEgdGl0bGUgYW5kIG1lc3NhZ2VcclxuICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIC0gVGhlIGVycm9yIHRpdGxlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2VcclxuICovXHJcbmV4cG9ydCBjb25zdCBzaG93RXJyb3IgPSAodGl0bGUsIG1lc3NhZ2UpID0+IHtcclxuICAgIGlmICh0eXBlb2YgU3dhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICBpY29uOiAnZXJyb3InLFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2VcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aXRsZX06ICR7bWVzc2FnZX1gKTtcclxuICAgICAgICBhbGVydChgJHt0aXRsZX06ICR7bWVzc2FnZX1gKTtcclxuICAgIH1cclxufTsgIl0sIm5hbWVzIjpbInNob3dUb2FzdCIsIm1lc3NhZ2UiLCJ0eXBlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZHVyYXRpb24iLCJTd2FsIiwiZmlyZSIsInRvYXN0IiwicG9zaXRpb24iLCJzaG93Q29uZmlybUJ1dHRvbiIsInRpbWVyIiwidGltZXJQcm9ncmVzc0JhciIsImljb24iLCJ0aXRsZSIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJ0b1VwcGVyQ2FzZSIsImFsZXJ0Iiwic2hvd0Vycm9yIiwidGV4dCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/ui/notifications.js\n");

/***/ }),

/***/ "./public/js/utils/StringUtils.js":
/*!****************************************!*\
  !*** ./public/js/utils/StringUtils.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StringUtils: () => (/* binding */ StringUtils),\n/* harmony export */   decodeHTMLEntities: () => (/* binding */ decodeHTMLEntities)\n/* harmony export */ });\n/**\r\n * A dedicated module for string manipulation utilities\r\n */\nvar StringUtils = {\n  /**\r\n   * Converts a string to title case (first letter of each word capitalized)\r\n   */\n  toTitleCase: function toTitleCase(str) {\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n    });\n  },\n  /**\r\n   * Capitalizes the first letter of a string\r\n   */\n  capitalize: function capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n  },\n  /**\r\n   * Converts a string to PascalCase\r\n   */\n  pascalCase: function pascalCase(str) {\n    return str.toLowerCase().split(/\\s+/).map(function (word) {\n      return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n    }).join('');\n  },\n  /**\r\n   * Converts camelCase or PascalCase to a natural display format with spaces\r\n   */\n  naturalDisplay: function naturalDisplay(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1 $2');\n  },\n  /**\r\n   * Removes all characters except alphanumerics and underscores\r\n   */\n  sanitizeString: function sanitizeString(str) {\n    return str.replace(/[^a-zA-Z0-9_]/g, '');\n  },\n  /**\r\n   * Extracts a subtype from a string by removing prefix and trailing numbers\r\n   */\n  extractSubtype: function extractSubtype(type, prefixLength) {\n    var sub = type.substring(prefixLength);\n    if (sub.startsWith(\"_\")) sub = sub.substring(1);\n    return sub.replace(/\\d+$/, '');\n  }\n};\n\n/**\r\n * Decodes HTML entities in a string\r\n */\nvar decodeHTMLEntities = function decodeHTMLEntities(text) {\n  var textarea = document.createElement(\"textarea\");\n  textarea.innerHTML = text;\n  return textarea.value;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvdXRpbHMvU3RyaW5nVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTyxJQUFNQSxXQUFXLEdBQUc7RUFDekI7QUFDRjtBQUNBO0VBQ0VDLFdBQVcsRUFBRSxTQUFiQSxXQUFXQSxDQUFHQyxHQUFHO0lBQUEsT0FDZkEsR0FBRyxDQUFDQyxPQUFPLENBQUMsUUFBUSxFQUFFLFVBQUNDLEdBQUc7TUFBQSxPQUFLQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0lBQUEsRUFBQztFQUFBO0VBRTNGO0FBQ0Y7QUFDQTtFQUNFQyxVQUFVLEVBQUUsU0FBWkEsVUFBVUEsQ0FBR1AsR0FBRztJQUFBLE9BQUtBLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQyxHQUFHSixHQUFHLENBQUNRLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQ0YsV0FBVyxDQUFDLENBQUM7RUFBQTtFQUU3RTtBQUNGO0FBQ0E7RUFDRUcsVUFBVSxFQUFFLFNBQVpBLFVBQVVBLENBQUdULEdBQUc7SUFBQSxPQUFLQSxHQUFHLENBQUNNLFdBQVcsQ0FBQyxDQUFDLENBQUNJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLFVBQUFDLElBQUk7TUFBQSxPQUFJQSxJQUFJLENBQUNULE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsR0FBR1EsSUFBSSxDQUFDSixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNGLFdBQVcsQ0FBQyxDQUFDO0lBQUEsRUFBQyxDQUFDTyxJQUFJLENBQUMsRUFBRSxDQUFDO0VBQUE7RUFFcEk7QUFDRjtBQUNBO0VBQ0VDLGNBQWMsRUFBRSxTQUFoQkEsY0FBY0EsQ0FBR2QsR0FBRztJQUFBLE9BQUtBLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlCQUFpQixFQUFFLE9BQU8sQ0FBQztFQUFBO0VBRWhFO0FBQ0Y7QUFDQTtFQUNFYyxjQUFjLEVBQUUsU0FBaEJBLGNBQWNBLENBQUdmLEdBQUc7SUFBQSxPQUFLQSxHQUFHLENBQUNDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUM7RUFBQTtFQUUxRDtBQUNGO0FBQ0E7RUFDRWUsY0FBYyxFQUFFLFNBQWhCQSxjQUFjQSxDQUFHQyxJQUFJLEVBQUVDLFlBQVksRUFBSztJQUN0QyxJQUFJQyxHQUFHLEdBQUdGLElBQUksQ0FBQ0csU0FBUyxDQUFDRixZQUFZLENBQUM7SUFDdEMsSUFBSUMsR0FBRyxDQUFDRSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUVGLEdBQUcsR0FBR0EsR0FBRyxDQUFDQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQy9DLE9BQU9ELEdBQUcsQ0FBQ2xCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO0VBQ2hDO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDTyxJQUFNcUIsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFrQkEsQ0FBSUMsSUFBSSxFQUFLO0VBQzFDLElBQU1DLFFBQVEsR0FBR0MsUUFBUSxDQUFDQyxhQUFhLENBQUMsVUFBVSxDQUFDO0VBQ25ERixRQUFRLENBQUNHLFNBQVMsR0FBR0osSUFBSTtFQUN6QixPQUFPQyxRQUFRLENBQUNJLEtBQUs7QUFDdkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JsYW5rYm9vay8uL3B1YmxpYy9qcy91dGlscy9TdHJpbmdVdGlscy5qcz9lZDQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBIGRlZGljYXRlZCBtb2R1bGUgZm9yIHN0cmluZyBtYW5pcHVsYXRpb24gdXRpbGl0aWVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgU3RyaW5nVXRpbHMgPSB7XHJcbiAgLyoqXHJcbiAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gdGl0bGUgY2FzZSAoZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZCBjYXBpdGFsaXplZClcclxuICAgKi9cclxuICB0b1RpdGxlQ2FzZTogKHN0cikgPT5cclxuICAgIHN0ci5yZXBsYWNlKC9cXHdcXFMqL2csICh0eHQpID0+IHR4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR4dC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKSksXHJcbiAgXHJcbiAgLyoqXHJcbiAgICogQ2FwaXRhbGl6ZXMgdGhlIGZpcnN0IGxldHRlciBvZiBhIHN0cmluZ1xyXG4gICAqL1xyXG4gIGNhcGl0YWxpemU6IChzdHIpID0+IHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKS50b0xvd2VyQ2FzZSgpLFxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIFBhc2NhbENhc2VcclxuICAgKi9cclxuICBwYXNjYWxDYXNlOiAoc3RyKSA9PiBzdHIudG9Mb3dlckNhc2UoKS5zcGxpdCgvXFxzKy8pLm1hcCh3b3JkID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkpLmpvaW4oJycpLFxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlIHRvIGEgbmF0dXJhbCBkaXNwbGF5IGZvcm1hdCB3aXRoIHNwYWNlc1xyXG4gICAqL1xyXG4gIG5hdHVyYWxEaXNwbGF5OiAoc3RyKSA9PiBzdHIucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxICQyJyksXHJcbiAgXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlcyBhbGwgY2hhcmFjdGVycyBleGNlcHQgYWxwaGFudW1lcmljcyBhbmQgdW5kZXJzY29yZXNcclxuICAgKi9cclxuICBzYW5pdGl6ZVN0cmluZzogKHN0cikgPT4gc3RyLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgJycpLFxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIEV4dHJhY3RzIGEgc3VidHlwZSBmcm9tIGEgc3RyaW5nIGJ5IHJlbW92aW5nIHByZWZpeCBhbmQgdHJhaWxpbmcgbnVtYmVyc1xyXG4gICAqL1xyXG4gIGV4dHJhY3RTdWJ0eXBlOiAodHlwZSwgcHJlZml4TGVuZ3RoKSA9PiB7XHJcbiAgICBsZXQgc3ViID0gdHlwZS5zdWJzdHJpbmcocHJlZml4TGVuZ3RoKTtcclxuICAgIGlmIChzdWIuc3RhcnRzV2l0aChcIl9cIikpIHN1YiA9IHN1Yi5zdWJzdHJpbmcoMSk7XHJcbiAgICByZXR1cm4gc3ViLnJlcGxhY2UoL1xcZCskLywgJycpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBEZWNvZGVzIEhUTUwgZW50aXRpZXMgaW4gYSBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBjb25zdCBkZWNvZGVIVE1MRW50aXRpZXMgPSAodGV4dCkgPT4ge1xyXG4gIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG4gIHRleHRhcmVhLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgcmV0dXJuIHRleHRhcmVhLnZhbHVlO1xyXG59OyAiXSwibmFtZXMiOlsiU3RyaW5nVXRpbHMiLCJ0b1RpdGxlQ2FzZSIsInN0ciIsInJlcGxhY2UiLCJ0eHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsInRvTG93ZXJDYXNlIiwiY2FwaXRhbGl6ZSIsInNsaWNlIiwicGFzY2FsQ2FzZSIsInNwbGl0IiwibWFwIiwid29yZCIsImpvaW4iLCJuYXR1cmFsRGlzcGxheSIsInNhbml0aXplU3RyaW5nIiwiZXh0cmFjdFN1YnR5cGUiLCJ0eXBlIiwicHJlZml4TGVuZ3RoIiwic3ViIiwic3Vic3RyaW5nIiwic3RhcnRzV2l0aCIsImRlY29kZUhUTUxFbnRpdGllcyIsInRleHQiLCJ0ZXh0YXJlYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/utils/StringUtils.js\n");

/***/ }),

/***/ "./public/js/utils/domUtils.js":
/*!*************************************!*\
  !*** ./public/js/utils/domUtils.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearForm: () => (/* binding */ clearForm),\n/* harmony export */   confirmDialog: () => (/* binding */ confirmDialog),\n/* harmony export */   copyToClipboard: () => (/* binding */ copyToClipboard),\n/* harmony export */   createElement: () => (/* binding */ createElement),\n/* harmony export */   downloadTextFile: () => (/* binding */ downloadTextFile),\n/* harmony export */   getElementValue: () => (/* binding */ getElementValue),\n/* harmony export */   getFormData: () => (/* binding */ getFormData),\n/* harmony export */   setElementValue: () => (/* binding */ setElementValue),\n/* harmony export */   showError: () => (/* reexport safe */ _ui_notifications_js__WEBPACK_IMPORTED_MODULE_0__.showError),\n/* harmony export */   showToast: () => (/* reexport safe */ _ui_notifications_js__WEBPACK_IMPORTED_MODULE_0__.showToast),\n/* harmony export */   showView: () => (/* binding */ showView),\n/* harmony export */   toggleClass: () => (/* binding */ toggleClass),\n/* harmony export */   toggleVisibility: () => (/* binding */ toggleVisibility)\n/* harmony export */ });\n/* harmony import */ var _ui_notifications_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ui/notifications.js */ \"./public/js/ui/notifications.js\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// public/js/utils/domUtils.js\n\n/**\r\n * DOM utility functions for working with the story editor and UI\r\n */\n\n// Import the notification functions instead of duplicating them\n\n\n// Re-export them to maintain compatibility\n\n\n// Show a confirmation dialog using SweetAlert\nvar confirmDialog = function confirmDialog(options) {\n  var defaultOptions = {\n    title: 'Are you sure?',\n    text: 'This action cannot be undone.',\n    icon: 'warning',\n    showCancelButton: true,\n    confirmButtonText: 'Yes',\n    cancelButtonText: 'No'\n  };\n  var finalOptions = _objectSpread(_objectSpread({}, defaultOptions), options);\n  return Swal.fire(finalOptions);\n};\n\n// Toggle element visibility\nvar toggleVisibility = function toggleVisibility(selector, isVisible) {\n  var element = typeof selector === 'string' ? document.querySelector(selector) : selector;\n  if (element) {\n    element.style.display = isVisible ? '' : 'none';\n  }\n};\n\n// Toggle class on element\nvar toggleClass = function toggleClass(selector, className, shouldAdd) {\n  var element = typeof selector === 'string' ? document.querySelector(selector) : selector;\n  if (element) {\n    if (shouldAdd) {\n      element.classList.add(className);\n    } else {\n      element.classList.remove(className);\n    }\n  }\n};\n\n// Show/hide multiple elements by class\nvar showView = function showView(viewName) {\n  // Hide all view containers\n  document.querySelectorAll('.view-container').forEach(function (el) {\n    el.classList.add('d-none');\n  });\n\n  // Show the requested view\n  document.getElementById(viewName).classList.remove('d-none');\n};\n\n// Create element with attributes and content\nvar createElement = function createElement(tag) {\n  var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var element = document.createElement(tag);\n\n  // Set attributes\n  for (var _i = 0, _Object$entries = Object.entries(attributes); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      key = _Object$entries$_i[0],\n      value = _Object$entries$_i[1];\n    if (key === 'className') {\n      element.className = value;\n    } else if (key === 'style' && _typeof(value) === 'object') {\n      Object.assign(element.style, value);\n    } else if (key.startsWith('on') && typeof value === 'function') {\n      var eventName = key.substring(2).toLowerCase();\n      element.addEventListener(eventName, value);\n    } else if (key === 'html') {\n      element.innerHTML = value;\n    } else if (key === 'text') {\n      element.textContent = value;\n    } else {\n      element.setAttribute(key, value);\n    }\n  }\n\n  // Append children\n  children.forEach(function (child) {\n    if (typeof child === 'string') {\n      element.appendChild(document.createTextNode(child));\n    } else if (child instanceof Node) {\n      element.appendChild(child);\n    }\n  });\n  return element;\n};\n\n// Get DOM element value safely (with default)\nvar getElementValue = function getElementValue(selector) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var element = document.querySelector(selector);\n  if (!element) return defaultValue;\n  if (element.type === 'checkbox') {\n    return element.checked;\n  } else if (element.type === 'radio') {\n    var checkedEl = document.querySelector(\"\".concat(selector, \":checked\"));\n    return checkedEl ? checkedEl.value : defaultValue;\n  } else {\n    return element.value || defaultValue;\n  }\n};\n\n// Set DOM element value safely\nvar setElementValue = function setElementValue(selector, value) {\n  var element = document.querySelector(selector);\n  if (!element) return;\n  if (element.type === 'checkbox') {\n    element.checked = !!value;\n  } else if (element.type === 'radio') {\n    var radio = document.querySelector(\"\".concat(selector, \"[value=\\\"\").concat(value, \"\\\"]\"));\n    if (radio) radio.checked = true;\n  } else {\n    element.value = value;\n  }\n};\n\n// Get form data as object\nvar getFormData = function getFormData(formSelector) {\n  var form = document.querySelector(formSelector);\n  if (!form) return {};\n  var formData = new FormData(form);\n  var data = {};\n  var _iterator = _createForOfIteratorHelper(formData.entries()),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      data[key] = value;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return data;\n};\n\n// Clear form fields\nvar clearForm = function clearForm(formSelector) {\n  var form = document.querySelector(formSelector);\n  if (!form) return;\n  form.reset();\n\n  // Also clear any custom fields that might not be cleared by reset\n  form.querySelectorAll('input:not([type=\"submit\"]):not([type=\"button\"]):not([type=\"reset\"]), textarea, select').forEach(function (el) {\n    if (el.type === 'checkbox' || el.type === 'radio') {\n      el.checked = false;\n    } else {\n      el.value = '';\n    }\n  });\n};\n\n// Fallback method for copying text to clipboard\nvar fallbackCopyTextToClipboard = function fallbackCopyTextToClipboard(text) {\n  var textarea = document.createElement('textarea');\n  textarea.value = text;\n  textarea.style.position = 'fixed';\n  textarea.style.top = '-9999px';\n  document.body.appendChild(textarea);\n  textarea.focus();\n  textarea.select();\n  try {\n    var successful = document.execCommand('copy');\n    document.body.removeChild(textarea);\n    return successful;\n  } catch (err) {\n    document.body.removeChild(textarea);\n    return false;\n  }\n};\n\n// Copy text to clipboard with notification\nvar copyToClipboard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(text) {\n    var showNotification,\n      success,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          showNotification = _args.length > 1 && _args[1] !== undefined ? _args[1] : true;\n          success = false;\n          if (!(navigator.clipboard && navigator.clipboard.writeText)) {\n            _context.next = 15;\n            break;\n          }\n          _context.prev = 3;\n          _context.next = 6;\n          return navigator.clipboard.writeText(text);\n        case 6:\n          success = true;\n          _context.next = 13;\n          break;\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](3);\n          console.error('Error copying text: ', _context.t0);\n          success = fallbackCopyTextToClipboard(text);\n        case 13:\n          _context.next = 16;\n          break;\n        case 15:\n          success = fallbackCopyTextToClipboard(text);\n        case 16:\n          if (success && showNotification) {\n            (0,_ui_notifications_js__WEBPACK_IMPORTED_MODULE_0__.showToast)('Copied to clipboard!');\n          }\n          return _context.abrupt(\"return\", success);\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 9]]);\n  }));\n  return function copyToClipboard(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// Download text as file\nvar downloadTextFile = function downloadTextFile(content, filename) {\n  var blob = new Blob([content], {\n    type: 'text/plain;charset=utf-8'\n  });\n  var url = URL.createObjectURL(blob);\n  var a = document.createElement('a');\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n  return true;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNabk8sQ0FBQyxDQUFDdU8sUUFBUSxHQUFHUCxRQUFRO0VBQ3JCbkYsUUFBUSxDQUFDNEQsSUFBSSxDQUFDekIsV0FBVyxDQUFDaEwsQ0FBQyxDQUFDO0VBQzVCQSxDQUFDLENBQUN3TyxLQUFLLENBQUMsQ0FBQztFQUNUM0YsUUFBUSxDQUFDNEQsSUFBSSxDQUFDSyxXQUFXLENBQUM5TSxDQUFDLENBQUM7RUFDNUJvTyxHQUFHLENBQUNLLGVBQWUsQ0FBQ04sR0FBRyxDQUFDO0VBQ3hCLE9BQU8sSUFBSTtBQUNiLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFua2Jvb2svLi9wdWJsaWMvanMvdXRpbHMvZG9tVXRpbHMuanM/MWRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwdWJsaWMvanMvdXRpbHMvZG9tVXRpbHMuanNcclxuXHJcbi8qKlxyXG4gKiBET00gdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgc3RvcnkgZWRpdG9yIGFuZCBVSVxyXG4gKi9cclxuXHJcbi8vIEltcG9ydCB0aGUgbm90aWZpY2F0aW9uIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIGR1cGxpY2F0aW5nIHRoZW1cclxuaW1wb3J0IHsgc2hvd1RvYXN0LCBzaG93RXJyb3IgfSBmcm9tICcuLi91aS9ub3RpZmljYXRpb25zLmpzJztcclxuXHJcbi8vIFJlLWV4cG9ydCB0aGVtIHRvIG1haW50YWluIGNvbXBhdGliaWxpdHlcclxuZXhwb3J0IHsgc2hvd1RvYXN0LCBzaG93RXJyb3IgfTtcclxuXHJcbi8vIFNob3cgYSBjb25maXJtYXRpb24gZGlhbG9nIHVzaW5nIFN3ZWV0QWxlcnRcclxuZXhwb3J0IGNvbnN0IGNvbmZpcm1EaWFsb2cgPSAob3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcclxuICAgIHRleHQ6ICdUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLicsXHJcbiAgICBpY29uOiAnd2FybmluZycsXHJcbiAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxyXG4gICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMnLFxyXG4gICAgY2FuY2VsQnV0dG9uVGV4dDogJ05vJ1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgZmluYWxPcHRpb25zID0geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xyXG4gIHJldHVybiBTd2FsLmZpcmUoZmluYWxPcHRpb25zKTtcclxufTtcclxuXHJcbi8vIFRvZ2dsZSBlbGVtZW50IHZpc2liaWxpdHlcclxuZXhwb3J0IGNvbnN0IHRvZ2dsZVZpc2liaWxpdHkgPSAoc2VsZWN0b3IsIGlzVmlzaWJsZSkgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBzZWxlY3RvcjtcclxuICBpZiAoZWxlbWVudCkge1xyXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gaXNWaXNpYmxlID8gJycgOiAnbm9uZSc7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gVG9nZ2xlIGNsYXNzIG9uIGVsZW1lbnRcclxuZXhwb3J0IGNvbnN0IHRvZ2dsZUNsYXNzID0gKHNlbGVjdG9yLCBjbGFzc05hbWUsIHNob3VsZEFkZCkgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBzZWxlY3RvcjtcclxuICBpZiAoZWxlbWVudCkge1xyXG4gICAgaWYgKHNob3VsZEFkZCkge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vIFNob3cvaGlkZSBtdWx0aXBsZSBlbGVtZW50cyBieSBjbGFzc1xyXG5leHBvcnQgY29uc3Qgc2hvd1ZpZXcgPSAodmlld05hbWUpID0+IHtcclxuICAvLyBIaWRlIGFsbCB2aWV3IGNvbnRhaW5lcnNcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmlldy1jb250YWluZXInKS5mb3JFYWNoKGVsID0+IHtcclxuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIFNob3cgdGhlIHJlcXVlc3RlZCB2aWV3XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmlld05hbWUpLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG59O1xyXG5cclxuLy8gQ3JlYXRlIGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGVzIGFuZCBjb250ZW50XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVFbGVtZW50ID0gKHRhZywgYXR0cmlidXRlcyA9IHt9LCBjaGlsZHJlbiA9IFtdKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICBcclxuICAvLyBTZXQgYXR0cmlidXRlc1xyXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XHJcbiAgICBpZiAoa2V5ID09PSAnY2xhc3NOYW1lJykge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHZhbHVlKTtcclxuICAgIH0gZWxzZSBpZiAoa2V5LnN0YXJ0c1dpdGgoJ29uJykgJiYgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGtleS5zdWJzdHJpbmcoMikudG9Mb3dlckNhc2UoKTtcclxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdodG1sJykge1xyXG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICd0ZXh0Jykge1xyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQXBwZW5kIGNoaWxkcmVuXHJcbiAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJykge1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkKSk7XHJcbiAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgTm9kZSkge1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICByZXR1cm4gZWxlbWVudDtcclxufTtcclxuXHJcbi8vIEdldCBET00gZWxlbWVudCB2YWx1ZSBzYWZlbHkgKHdpdGggZGVmYXVsdClcclxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRWYWx1ZSA9IChzZWxlY3RvciwgZGVmYXVsdFZhbHVlID0gJycpID0+IHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgaWYgKCFlbGVtZW50KSByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gIFxyXG4gIGlmIChlbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcpIHtcclxuICAgIHJldHVybiBlbGVtZW50LmNoZWNrZWQ7XHJcbiAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09ICdyYWRpbycpIHtcclxuICAgIGNvbnN0IGNoZWNrZWRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7c2VsZWN0b3J9OmNoZWNrZWRgKTtcclxuICAgIHJldHVybiBjaGVja2VkRWwgPyBjaGVja2VkRWwudmFsdWUgOiBkZWZhdWx0VmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBlbGVtZW50LnZhbHVlIHx8IGRlZmF1bHRWYWx1ZTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBTZXQgRE9NIGVsZW1lbnQgdmFsdWUgc2FmZWx5XHJcbmV4cG9ydCBjb25zdCBzZXRFbGVtZW50VmFsdWUgPSAoc2VsZWN0b3IsIHZhbHVlKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG4gIFxyXG4gIGlmIChlbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcpIHtcclxuICAgIGVsZW1lbnQuY2hlY2tlZCA9ICEhdmFsdWU7XHJcbiAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09ICdyYWRpbycpIHtcclxuICAgIGNvbnN0IHJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtzZWxlY3Rvcn1bdmFsdWU9XCIke3ZhbHVlfVwiXWApO1xyXG4gICAgaWYgKHJhZGlvKSByYWRpby5jaGVja2VkID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCBmb3JtIGRhdGEgYXMgb2JqZWN0XHJcbmV4cG9ydCBjb25zdCBnZXRGb3JtRGF0YSA9IChmb3JtU2VsZWN0b3IpID0+IHtcclxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xyXG4gIGlmICghZm9ybSkgcmV0dXJuIHt9O1xyXG4gIFxyXG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xyXG4gIGNvbnN0IGRhdGEgPSB7fTtcclxuICBcclxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcclxuICAgIGRhdGFba2V5XSA9IHZhbHVlO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gZGF0YTtcclxufTtcclxuXHJcbi8vIENsZWFyIGZvcm0gZmllbGRzXHJcbmV4cG9ydCBjb25zdCBjbGVhckZvcm0gPSAoZm9ybVNlbGVjdG9yKSA9PiB7XHJcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcclxuICBpZiAoIWZvcm0pIHJldHVybjtcclxuICBcclxuICBmb3JtLnJlc2V0KCk7XHJcbiAgXHJcbiAgLy8gQWxzbyBjbGVhciBhbnkgY3VzdG9tIGZpZWxkcyB0aGF0IG1pZ2h0IG5vdCBiZSBjbGVhcmVkIGJ5IHJlc2V0XHJcbiAgZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpub3QoW3R5cGU9XCJzdWJtaXRcIl0pOm5vdChbdHlwZT1cImJ1dHRvblwiXSk6bm90KFt0eXBlPVwicmVzZXRcIl0pLCB0ZXh0YXJlYSwgc2VsZWN0JykuZm9yRWFjaChlbCA9PiB7XHJcbiAgICBpZiAoZWwudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbC50eXBlID09PSAncmFkaW8nKSB7XHJcbiAgICAgIGVsLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBGYWxsYmFjayBtZXRob2QgZm9yIGNvcHlpbmcgdGV4dCB0byBjbGlwYm9hcmRcclxuY29uc3QgZmFsbGJhY2tDb3B5VGV4dFRvQ2xpcGJvYXJkID0gKHRleHQpID0+IHtcclxuICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgdGV4dGFyZWEudmFsdWUgPSB0ZXh0O1xyXG4gIHRleHRhcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuICB0ZXh0YXJlYS5zdHlsZS50b3AgPSAnLTk5OTlweCc7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XHJcbiAgdGV4dGFyZWEuZm9jdXMoKTtcclxuICB0ZXh0YXJlYS5zZWxlY3QoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRhcmVhKTtcclxuICAgIHJldHVybiBzdWNjZXNzZnVsO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gQ29weSB0ZXh0IHRvIGNsaXBib2FyZCB3aXRoIG5vdGlmaWNhdGlvblxyXG5leHBvcnQgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gYXN5bmMgKHRleHQsIHNob3dOb3RpZmljYXRpb24gPSB0cnVlKSA9PiB7XHJcbiAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcclxuICBcclxuICBpZiAobmF2aWdhdG9yLmNsaXBib2FyZCAmJiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XHJcbiAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvcHlpbmcgdGV4dDogJywgZXJyKTtcclxuICAgICAgc3VjY2VzcyA9IGZhbGxiYWNrQ29weVRleHRUb0NsaXBib2FyZCh0ZXh0KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgc3VjY2VzcyA9IGZhbGxiYWNrQ29weVRleHRUb0NsaXBib2FyZCh0ZXh0KTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKHN1Y2Nlc3MgJiYgc2hvd05vdGlmaWNhdGlvbikge1xyXG4gICAgc2hvd1RvYXN0KCdDb3BpZWQgdG8gY2xpcGJvYXJkIScpO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gc3VjY2VzcztcclxufTtcclxuXHJcbi8vIERvd25sb2FkIHRleHQgYXMgZmlsZVxyXG5leHBvcnQgY29uc3QgZG93bmxvYWRUZXh0RmlsZSA9IChjb250ZW50LCBmaWxlbmFtZSkgPT4ge1xyXG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcgfSk7XHJcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gIGEuaHJlZiA9IHVybDtcclxuICBhLmRvd25sb2FkID0gZmlsZW5hbWU7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcclxuICBhLmNsaWNrKCk7XHJcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcclxuICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJfcmVnZW5lcmF0b3JSdW50aW1lIiwiZSIsInQiLCJyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwibiIsImhhc093blByb3BlcnR5IiwibyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJpIiwiU3ltYm9sIiwiYSIsIml0ZXJhdG9yIiwiYyIsImFzeW5jSXRlcmF0b3IiLCJ1IiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ3cmFwIiwiR2VuZXJhdG9yIiwiY3JlYXRlIiwiQ29udGV4dCIsIm1ha2VJbnZva2VNZXRob2QiLCJ0cnlDYXRjaCIsInR5cGUiLCJhcmciLCJjYWxsIiwiaCIsImwiLCJmIiwicyIsInkiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwicCIsImQiLCJnZXRQcm90b3R5cGVPZiIsInYiLCJ2YWx1ZXMiLCJnIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIl9pbnZva2UiLCJBc3luY0l0ZXJhdG9yIiwiaW52b2tlIiwiX3R5cGVvZiIsInJlc29sdmUiLCJfX2F3YWl0IiwidGhlbiIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiRXJyb3IiLCJkb25lIiwibWV0aG9kIiwiZGVsZWdhdGUiLCJtYXliZUludm9rZURlbGVnYXRlIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJUeXBlRXJyb3IiLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsImlzTmFOIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJrZXlzIiwicmV2ZXJzZSIsInBvcCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJydmFsIiwiaGFuZGxlIiwiY29tcGxldGUiLCJmaW5pc2giLCJfY2F0Y2giLCJkZWxlZ2F0ZVlpZWxkIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9uZXh0IiwiX3Rocm93IiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJBcnJheSIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbiIsIkYiLCJfc2xpY2VkVG9BcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJfYXJyYXlMaWtlVG9BcnJheSIsInRvU3RyaW5nIiwiZnJvbSIsInRlc3QiLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX29iamVjdFNwcmVhZCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX3RvUHJvcGVydHlLZXkiLCJfdG9QcmltaXRpdmUiLCJ0b1ByaW1pdGl2ZSIsIlN0cmluZyIsIk51bWJlciIsInNob3dUb2FzdCIsInNob3dFcnJvciIsImNvbmZpcm1EaWFsb2ciLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJ0aXRsZSIsInRleHQiLCJpY29uIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2FuY2VsQnV0dG9uVGV4dCIsImZpbmFsT3B0aW9ucyIsIlN3YWwiLCJmaXJlIiwidG9nZ2xlVmlzaWJpbGl0eSIsInNlbGVjdG9yIiwiaXNWaXNpYmxlIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiZGlzcGxheSIsInRvZ2dsZUNsYXNzIiwiY2xhc3NOYW1lIiwic2hvdWxkQWRkIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic2hvd1ZpZXciLCJ2aWV3TmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsInRhZyIsImF0dHJpYnV0ZXMiLCJ1bmRlZmluZWQiLCJjaGlsZHJlbiIsIl9pIiwiX09iamVjdCRlbnRyaWVzIiwiZW50cmllcyIsIl9PYmplY3QkZW50cmllcyRfaSIsImtleSIsImFzc2lnbiIsInN0YXJ0c1dpdGgiLCJldmVudE5hbWUiLCJzdWJzdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIk5vZGUiLCJnZXRFbGVtZW50VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJjaGVja2VkIiwiY2hlY2tlZEVsIiwiY29uY2F0Iiwic2V0RWxlbWVudFZhbHVlIiwicmFkaW8iLCJnZXRGb3JtRGF0YSIsImZvcm1TZWxlY3RvciIsImZvcm0iLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZGF0YSIsIl9pdGVyYXRvciIsIl9zdGVwIiwiX3N0ZXAkdmFsdWUiLCJlcnIiLCJjbGVhckZvcm0iLCJmYWxsYmFja0NvcHlUZXh0VG9DbGlwYm9hcmQiLCJ0ZXh0YXJlYSIsInBvc2l0aW9uIiwidG9wIiwiYm9keSIsImZvY3VzIiwic2VsZWN0Iiwic3VjY2Vzc2Z1bCIsImV4ZWNDb21tYW5kIiwicmVtb3ZlQ2hpbGQiLCJjb3B5VG9DbGlwYm9hcmQiLCJfcmVmIiwiX2NhbGxlZSIsInNob3dOb3RpZmljYXRpb24iLCJzdWNjZXNzIiwiX2FyZ3MiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidDAiLCJjb25zb2xlIiwiZXJyb3IiLCJfeCIsImRvd25sb2FkVGV4dEZpbGUiLCJjb250ZW50IiwiZmlsZW5hbWUiLCJibG9iIiwiQmxvYiIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhyZWYiLCJkb3dubG9hZCIsImNsaWNrIiwicmV2b2tlT2JqZWN0VVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/utils/domUtils.js\n");

/***/ }),

/***/ "./public/js/utils/typeHelpers.js":
/*!****************************************!*\
  !*** ./public/js/utils/typeHelpers.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeHelpers: () => (/* binding */ TypeHelpers)\n/* harmony export */ });\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/placeholders.js */ \"./public/js/core/placeholders.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./public/js/utils/utils.js\");\n/* harmony import */ var _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StringUtils.js */ \"./public/js/utils/StringUtils.js\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n// public/js/utils/typeHelpers.js\n\n\n\n\n\nvar TypeHelpers = {\n  // Helper functions for naturalizeType\n  _extractSubtype: function _extractSubtype(type, prefixLength) {\n    return _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.extractSubtype(type, prefixLength);\n  },\n  _formatNounType: function _formatNounType(sub, nounType, isPlural, isProper) {\n    if (sub.toLowerCase() === \"person\") {\n      return \"Person (\".concat(isProper ? 'proper' : 'common', \", \").concat(isPlural ? 'plural' : 'singular', \")\");\n    }\n    var displayText = _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.toTitleCase(_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(sub || (isProper ? \"Proper Noun\" : \"Common Noun\")));\n    return \"\".concat(displayText, \" (\").concat(isPlural ? 'Plural' : 'Singular', \")\");\n  },\n  naturalizeType: function naturalizeType(type) {\n    // Handle noun patterns (NNP/NNPS/NN/NNS)\n    if (type.startsWith(\"NNP\") || type.startsWith(\"NN\")) {\n      var isProper = type.startsWith(\"NNP\");\n      var isPlural = type.startsWith(\"NNS\") || type.startsWith(\"NNPS\");\n      var prefixLength = isProper ? isPlural ? 4 : 3 : isPlural ? 3 : 2;\n      var sub = TypeHelpers._extractSubtype(type, prefixLength);\n      return TypeHelpers._formatNounType(sub, type, isPlural, isProper);\n    }\n    if (type === \"Onomatopoeia\") return \"Onomatopoeia\";\n\n    // Handle modal verbs\n    if (type.startsWith(\"MD_\")) {\n      var tense = type.substring(3);\n      var tenseNatural = \"\";\n      switch (tense) {\n        case \"VB\":\n          tenseNatural = \"Base (run)\";\n          break;\n        case \"VBP\":\n          tenseNatural = \"Present (I walk)\";\n          break;\n        case \"VBZ\":\n          tenseNatural = \"3rd Person (he leaves)\";\n          break;\n        case \"VBD\":\n          tenseNatural = \"Past (slept)\";\n          break;\n        case \"VBG\":\n          tenseNatural = \"Gerund (crying)\";\n          break;\n        case \"VBN\":\n          tenseNatural = \"Past Participle (eaten)\";\n          break;\n        default:\n          tenseNatural = tense;\n      }\n      return \"Modal Verb (\" + tenseNatural + \")\";\n    }\n\n    // Handle verb tenses\n    var verbTenseMap = {\n      \"VBZ\": \"3rd Person (he leaves)\",\n      \"VBD\": \"Past Tense (slept)\",\n      \"VBG\": \"Gerund (crying)\",\n      \"VBN\": \"Past Participle (eaten)\",\n      \"VBP\": \"Present (I walk)\"\n    };\n    for (var _tense in verbTenseMap) {\n      if (type.startsWith(_tense)) {\n        var remainder = type.substring(_tense.length);\n        var category = remainder.startsWith(\"_\") ? remainder.substring(1) : \"\";\n        return category ? _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.toTitleCase(category) + \" Verb (\" + verbTenseMap[_tense] + \")\" : \"Verb (\" + verbTenseMap[_tense] + \")\";\n      }\n    }\n\n    // Handle base verb form\n    if (type.startsWith(\"VB\")) {\n      var rest = type.substring(2).replace(/^_+/, \"\");\n      return rest ? _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.toTitleCase(rest) + \" Verb (Base Form)\" : \"Verb (Base Form)\";\n    }\n\n    // Handle adjectives and other types\n    if (type.startsWith(\"JJ_\")) {\n      return _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.toTitleCase(_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(type.substring(3)));\n    }\n    if (type.startsWith(\"JJS_\")) {\n      var _sub = type.substring(4);\n      if (_sub.toLowerCase() === \"ordinal\") {\n        return \"Ordinal Number\";\n      }\n      return _StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.toTitleCase(_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(_sub)) + \" Superlative Adjective\";\n    }\n\n    // Handle standard part-of-speech abbreviations\n    var posMap = {\n      \"JJ\": \"Adjective\",\n      \"JJR\": \"Comparative Adjective\",\n      \"JJS\": \"Superlative Adjective\",\n      \"RB\": \"Adverb\",\n      \"RBR\": \"Comparative Adverb\",\n      \"RBS\": \"Superlative Adverb\",\n      \"WRB\": \"WH-adverb\",\n      \"CC\": \"Coordinating Conjunction\",\n      \"PDT\": \"Pre-determiner\",\n      \"WDT\": \"WH-determiner\",\n      \"FW\": \"Foreign Word\",\n      \"Number\": \"Number\",\n      \"Exclamation\": \"Exclamation\"\n    };\n    return posMap[type] || type;\n  },\n  getTooltipForType: function getTooltipForType(type) {\n    var normalizedType = type.trim().toLowerCase();\n    for (var category in _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders) {\n      var _iterator = _createForOfIteratorHelper(_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders[category]),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          if (p.internalType.trim().toLowerCase() === normalizedType) {\n            return p.tooltip;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    var verbTensePrefixes = [\"VBZ\", \"VBD\", \"VBG\", \"VBN\", \"VBP\"];\n    for (var _i = 0, _verbTensePrefixes = verbTensePrefixes; _i < _verbTensePrefixes.length; _i++) {\n      var prefix = _verbTensePrefixes[_i];\n      if (normalizedType.startsWith(prefix.toLowerCase() + \"_\")) {\n        var baseType = \"vb_\" + normalizedType.substring(prefix.length + 1);\n        for (var _category in _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders) {\n          var _iterator2 = _createForOfIteratorHelper(_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders[_category]),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _p = _step2.value;\n              if (_p.internalType.trim().toLowerCase() === baseType) {\n                return _p.tooltip;\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      }\n    }\n    return \"No additional info available.\";\n  },\n  getOriginalDisplayForType: function getOriginalDisplayForType(type) {\n    for (var category in _core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders) {\n      var _iterator3 = _createForOfIteratorHelper(_core_placeholders_js__WEBPACK_IMPORTED_MODULE_1__.allPlaceholders[category]),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var p = _step3.value;\n          if (p.internalType === type) {\n            return p.display;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n    return type.startsWith(\"NN\") ? TypeHelpers.naturalizeType(type) : type;\n  },\n  guessTypeFromId: function guessTypeFromId(id) {\n    var base = id.replace(/\\d+$/, '');\n    var custom = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders.find(function (p) {\n      return p.type === base;\n    });\n    if (custom) return custom.type;\n    var pronounFixedRe = /^PRP(\\d+)(SUB|OBJ|PSA|PSP|REF)$/;\n    if (pronounFixedRe.test(id)) {\n      var match = id.match(pronounFixedRe);\n      var groupNum = match[1];\n      var abbrev = match[2];\n      var formMapReverse = {\n        SUB: \"subject\",\n        OBJ: \"object\",\n        PSA: \"possAdj\",\n        PSP: \"possPron\",\n        REF: \"reflexive\"\n      };\n      return \"PRONOUN|PronounGroup\".concat(groupNum, \"|\").concat(formMapReverse[abbrev]);\n    }\n    var pronounRe = /^([A-Za-z0-9]+)_(subject|object|possAdj|possPron|reflexive)$/;\n    if (pronounRe.test(base)) {\n      var m = base.match(pronounRe);\n      return \"PRONOUN|\".concat(m[1], \"|\").concat(m[2]);\n    }\n    return TypeHelpers.naturalizeType(base);\n  },\n  getNounFinalType: function getNounFinalType(baseInternal, number) {\n    var baseTag = \"\",\n      extra = \"\";\n    if (baseInternal.indexOf(\"_\") !== -1) {\n      var parts = baseInternal.split(\"_\");\n      baseTag = parts[0];\n      extra = parts.slice(1).join(\"_\");\n    } else {\n      baseTag = baseInternal;\n    }\n    var finalTag = baseTag === \"NN\" ? number === \"Singular\" ? \"NN\" : \"NNS\" : baseTag === \"NNP\" ? number === \"Singular\" ? \"NNP\" : \"NNPS\" : number === \"Singular\" ? baseTag : baseTag + \"S\";\n    return extra ? finalTag + \"_\" + extra : finalTag;\n  },\n  computeFinalVerbType: function computeFinalVerbType(baseInternal, tenseTag) {\n    if (baseInternal === \"MD\") return \"MD_\" + tenseTag;\n    var parts = baseInternal.split(\"_\");\n    var baseCategory = parts.slice(1).join(\"_\");\n    return baseCategory ? tenseTag + \"_\" + baseCategory : tenseTag;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDQyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQzdDLE9BQU9JLFlBQVksR0FBR0QsUUFBUSxHQUFHLEdBQUcsR0FBR0MsWUFBWSxHQUFHRCxRQUFRO0VBQ2xFO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JsYW5rYm9vay8uL3B1YmxpYy9qcy91dGlscy90eXBlSGVscGVycy5qcz9lZTE3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy91dGlscy90eXBlSGVscGVycy5qc1xyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi4vY29yZS9zdGF0ZS5qcyc7XHJcbmltcG9ydCB7IHByb25vdW5NYXBwaW5nIH0gZnJvbSAnLi4vY29yZS9zdGF0ZS5qcyc7XHJcbmltcG9ydCB7IGFsbFBsYWNlaG9sZGVycyB9IGZyb20gJy4uL2NvcmUvcGxhY2Vob2xkZXJzLmpzJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuL1N0cmluZ1V0aWxzLmpzJztcclxuXHJcbmV4cG9ydCBjb25zdCBUeXBlSGVscGVycyA9IHtcclxuICAgIC8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIG5hdHVyYWxpemVUeXBlXHJcbiAgICBfZXh0cmFjdFN1YnR5cGU6ICh0eXBlLCBwcmVmaXhMZW5ndGgpID0+IHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuZXh0cmFjdFN1YnR5cGUodHlwZSwgcHJlZml4TGVuZ3RoKTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIF9mb3JtYXROb3VuVHlwZTogKHN1Yiwgbm91blR5cGUsIGlzUGx1cmFsLCBpc1Byb3BlcikgPT4ge1xyXG4gICAgICAgIGlmIChzdWIudG9Mb3dlckNhc2UoKSA9PT0gXCJwZXJzb25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gYFBlcnNvbiAoJHtpc1Byb3BlciA/ICdwcm9wZXInIDogJ2NvbW1vbid9LCAke2lzUGx1cmFsID8gJ3BsdXJhbCcgOiAnc2luZ3VsYXInfSlgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaXNwbGF5VGV4dCA9IFN0cmluZ1V0aWxzLnRvVGl0bGVDYXNlKFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KHN1YiB8fCAoaXNQcm9wZXIgPyBcIlByb3BlciBOb3VuXCIgOiBcIkNvbW1vbiBOb3VuXCIpKSk7XHJcbiAgICAgICAgcmV0dXJuIGAke2Rpc3BsYXlUZXh0fSAoJHtpc1BsdXJhbCA/ICdQbHVyYWwnIDogJ1Npbmd1bGFyJ30pYDtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIG5hdHVyYWxpemVUeXBlOiAodHlwZSkgPT4ge1xyXG4gICAgICAgIC8vIEhhbmRsZSBub3VuIHBhdHRlcm5zIChOTlAvTk5QUy9OTi9OTlMpXHJcbiAgICAgICAgaWYgKHR5cGUuc3RhcnRzV2l0aChcIk5OUFwiKSB8fCB0eXBlLnN0YXJ0c1dpdGgoXCJOTlwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpc1Byb3BlciA9IHR5cGUuc3RhcnRzV2l0aChcIk5OUFwiKTtcclxuICAgICAgICAgICAgY29uc3QgaXNQbHVyYWwgPSB0eXBlLnN0YXJ0c1dpdGgoXCJOTlNcIikgfHwgdHlwZS5zdGFydHNXaXRoKFwiTk5QU1wiKTtcclxuICAgICAgICAgICAgY29uc3QgcHJlZml4TGVuZ3RoID0gaXNQcm9wZXIgPyAoaXNQbHVyYWwgPyA0IDogMykgOiAoaXNQbHVyYWwgPyAzIDogMik7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YiA9IFR5cGVIZWxwZXJzLl9leHRyYWN0U3VidHlwZSh0eXBlLCBwcmVmaXhMZW5ndGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gVHlwZUhlbHBlcnMuX2Zvcm1hdE5vdW5UeXBlKHN1YiwgdHlwZSwgaXNQbHVyYWwsIGlzUHJvcGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiT25vbWF0b3BvZWlhXCIpIHJldHVybiBcIk9ub21hdG9wb2VpYVwiO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEhhbmRsZSBtb2RhbCB2ZXJic1xyXG4gICAgICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoXCJNRF9cIikpIHtcclxuICAgICAgICAgICAgbGV0IHRlbnNlID0gdHlwZS5zdWJzdHJpbmcoMyk7XHJcbiAgICAgICAgICAgIGxldCB0ZW5zZU5hdHVyYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRlbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVkJcIjogdGVuc2VOYXR1cmFsID0gXCJCYXNlIChydW4pXCI7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlZCUFwiOiB0ZW5zZU5hdHVyYWwgPSBcIlByZXNlbnQgKEkgd2FsaylcIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVkJaXCI6IHRlbnNlTmF0dXJhbCA9IFwiM3JkIFBlcnNvbiAoaGUgbGVhdmVzKVwiOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJWQkRcIjogdGVuc2VOYXR1cmFsID0gXCJQYXN0IChzbGVwdClcIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVkJHXCI6IHRlbnNlTmF0dXJhbCA9IFwiR2VydW5kIChjcnlpbmcpXCI7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlZCTlwiOiB0ZW5zZU5hdHVyYWwgPSBcIlBhc3QgUGFydGljaXBsZSAoZWF0ZW4pXCI7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGVuc2VOYXR1cmFsID0gdGVuc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFwiTW9kYWwgVmVyYiAoXCIgKyB0ZW5zZU5hdHVyYWwgKyBcIilcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFuZGxlIHZlcmIgdGVuc2VzXHJcbiAgICAgICAgY29uc3QgdmVyYlRlbnNlTWFwID0ge1xyXG4gICAgICAgICAgICBcIlZCWlwiOiBcIjNyZCBQZXJzb24gKGhlIGxlYXZlcylcIixcclxuICAgICAgICAgICAgXCJWQkRcIjogXCJQYXN0IFRlbnNlIChzbGVwdClcIixcclxuICAgICAgICAgICAgXCJWQkdcIjogXCJHZXJ1bmQgKGNyeWluZylcIixcclxuICAgICAgICAgICAgXCJWQk5cIjogXCJQYXN0IFBhcnRpY2lwbGUgKGVhdGVuKVwiLFxyXG4gICAgICAgICAgICBcIlZCUFwiOiBcIlByZXNlbnQgKEkgd2FsaylcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgdGVuc2UgaW4gdmVyYlRlbnNlTWFwKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgodGVuc2UpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVtYWluZGVyID0gdHlwZS5zdWJzdHJpbmcodGVuc2UubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yeSA9IHJlbWFpbmRlci5zdGFydHNXaXRoKFwiX1wiKSA/IHJlbWFpbmRlci5zdWJzdHJpbmcoMSkgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmdVdGlscy50b1RpdGxlQ2FzZShjYXRlZ29yeSkgKyBcIiBWZXJiIChcIiArIHZlcmJUZW5zZU1hcFt0ZW5zZV0gKyBcIilcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCJWZXJiIChcIiArIHZlcmJUZW5zZU1hcFt0ZW5zZV0gKyBcIilcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgYmFzZSB2ZXJiIGZvcm1cclxuICAgICAgICBpZiAodHlwZS5zdGFydHNXaXRoKFwiVkJcIikpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3QgPSB0eXBlLnN1YnN0cmluZygyKS5yZXBsYWNlKC9eXysvLCBcIlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3QgPyBTdHJpbmdVdGlscy50b1RpdGxlQ2FzZShyZXN0KSArIFwiIFZlcmIgKEJhc2UgRm9ybSlcIiA6IFwiVmVyYiAoQmFzZSBGb3JtKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgYWRqZWN0aXZlcyBhbmQgb3RoZXIgdHlwZXNcclxuICAgICAgICBpZiAodHlwZS5zdGFydHNXaXRoKFwiSkpfXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy50b1RpdGxlQ2FzZShTdHJpbmdVdGlscy5uYXR1cmFsRGlzcGxheSh0eXBlLnN1YnN0cmluZygzKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZS5zdGFydHNXaXRoKFwiSkpTX1wiKSkge1xyXG4gICAgICAgICAgICBsZXQgc3ViID0gdHlwZS5zdWJzdHJpbmcoNCk7XHJcbiAgICAgICAgICAgIGlmIChzdWIudG9Mb3dlckNhc2UoKSA9PT0gXCJvcmRpbmFsXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIk9yZGluYWwgTnVtYmVyXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLnRvVGl0bGVDYXNlKFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KHN1YikpICsgXCIgU3VwZXJsYXRpdmUgQWRqZWN0aXZlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEhhbmRsZSBzdGFuZGFyZCBwYXJ0LW9mLXNwZWVjaCBhYmJyZXZpYXRpb25zXHJcbiAgICAgICAgY29uc3QgcG9zTWFwID0ge1xyXG4gICAgICAgICAgICBcIkpKXCI6IFwiQWRqZWN0aXZlXCIsXHJcbiAgICAgICAgICAgIFwiSkpSXCI6IFwiQ29tcGFyYXRpdmUgQWRqZWN0aXZlXCIsXHJcbiAgICAgICAgICAgIFwiSkpTXCI6IFwiU3VwZXJsYXRpdmUgQWRqZWN0aXZlXCIsXHJcbiAgICAgICAgICAgIFwiUkJcIjogXCJBZHZlcmJcIixcclxuICAgICAgICAgICAgXCJSQlJcIjogXCJDb21wYXJhdGl2ZSBBZHZlcmJcIixcclxuICAgICAgICAgICAgXCJSQlNcIjogXCJTdXBlcmxhdGl2ZSBBZHZlcmJcIixcclxuICAgICAgICAgICAgXCJXUkJcIjogXCJXSC1hZHZlcmJcIixcclxuICAgICAgICAgICAgXCJDQ1wiOiBcIkNvb3JkaW5hdGluZyBDb25qdW5jdGlvblwiLFxyXG4gICAgICAgICAgICBcIlBEVFwiOiBcIlByZS1kZXRlcm1pbmVyXCIsXHJcbiAgICAgICAgICAgIFwiV0RUXCI6IFwiV0gtZGV0ZXJtaW5lclwiLFxyXG4gICAgICAgICAgICBcIkZXXCI6IFwiRm9yZWlnbiBXb3JkXCIsXHJcbiAgICAgICAgICAgIFwiTnVtYmVyXCI6IFwiTnVtYmVyXCIsXHJcbiAgICAgICAgICAgIFwiRXhjbGFtYXRpb25cIjogXCJFeGNsYW1hdGlvblwiXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcG9zTWFwW3R5cGVdIHx8IHR5cGU7XHJcbiAgICB9LFxyXG4gICAgZ2V0VG9vbHRpcEZvclR5cGU6ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFR5cGUgPSB0eXBlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5IGluIGFsbFBsYWNlaG9sZGVycykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwIG9mIGFsbFBsYWNlaG9sZGVyc1tjYXRlZ29yeV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwLmludGVybmFsVHlwZS50cmltKCkudG9Mb3dlckNhc2UoKSA9PT0gbm9ybWFsaXplZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC50b29sdGlwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZlcmJUZW5zZVByZWZpeGVzID0gW1wiVkJaXCIsIFwiVkJEXCIsIFwiVkJHXCIsIFwiVkJOXCIsIFwiVkJQXCJdO1xyXG4gICAgICAgIGZvciAobGV0IHByZWZpeCBvZiB2ZXJiVGVuc2VQcmVmaXhlcykge1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFR5cGUuc3RhcnRzV2l0aChwcmVmaXgudG9Mb3dlckNhc2UoKSArIFwiX1wiKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVR5cGUgPSBcInZiX1wiICsgbm9ybWFsaXplZFR5cGUuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGggKyAxKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGNhdGVnb3J5IGluIGFsbFBsYWNlaG9sZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHAgb2YgYWxsUGxhY2Vob2xkZXJzW2NhdGVnb3J5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5pbnRlcm5hbFR5cGUudHJpbSgpLnRvTG93ZXJDYXNlKCkgPT09IGJhc2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC50b29sdGlwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIk5vIGFkZGl0aW9uYWwgaW5mbyBhdmFpbGFibGUuXCI7XHJcbiAgICB9LFxyXG4gICAgZ2V0T3JpZ2luYWxEaXNwbGF5Rm9yVHlwZTogKHR5cGUpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBjYXRlZ29yeSBpbiBhbGxQbGFjZWhvbGRlcnMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBhbGxQbGFjZWhvbGRlcnNbY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocC5pbnRlcm5hbFR5cGUgPT09IHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5kaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlLnN0YXJ0c1dpdGgoXCJOTlwiKSA/IFR5cGVIZWxwZXJzLm5hdHVyYWxpemVUeXBlKHR5cGUpIDogdHlwZTtcclxuICAgIH0sXHJcbiAgICBndWVzc1R5cGVGcm9tSWQ6IChpZCkgPT4ge1xyXG4gICAgICAgIGxldCBiYXNlID0gaWQucmVwbGFjZSgvXFxkKyQvLCAnJyk7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tID0gc3RhdGUuY3VzdG9tUGxhY2Vob2xkZXJzLmZpbmQocCA9PiBwLnR5cGUgPT09IGJhc2UpO1xyXG4gICAgICAgIGlmIChjdXN0b20pIHJldHVybiBjdXN0b20udHlwZTtcclxuICAgICAgICBjb25zdCBwcm9ub3VuRml4ZWRSZSA9IC9eUFJQKFxcZCspKFNVQnxPQkp8UFNBfFBTUHxSRUYpJC87XHJcbiAgICAgICAgaWYgKHByb25vdW5GaXhlZFJlLnRlc3QoaWQpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gaWQubWF0Y2gocHJvbm91bkZpeGVkUmUpO1xyXG4gICAgICAgICAgICBjb25zdCBncm91cE51bSA9IG1hdGNoWzFdO1xyXG4gICAgICAgICAgICBjb25zdCBhYmJyZXYgPSBtYXRjaFsyXTtcclxuICAgICAgICAgICAgY29uc3QgZm9ybU1hcFJldmVyc2UgPSB7IFNVQjogXCJzdWJqZWN0XCIsIE9CSjogXCJvYmplY3RcIiwgUFNBOiBcInBvc3NBZGpcIiwgUFNQOiBcInBvc3NQcm9uXCIsIFJFRjogXCJyZWZsZXhpdmVcIiB9O1xyXG4gICAgICAgICAgICByZXR1cm4gYFBST05PVU58UHJvbm91bkdyb3VwJHtncm91cE51bX18JHtmb3JtTWFwUmV2ZXJzZVthYmJyZXZdfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByb25vdW5SZSA9IC9eKFtBLVphLXowLTldKylfKHN1YmplY3R8b2JqZWN0fHBvc3NBZGp8cG9zc1Byb258cmVmbGV4aXZlKSQvO1xyXG4gICAgICAgIGlmIChwcm9ub3VuUmUudGVzdChiYXNlKSkge1xyXG4gICAgICAgICAgICBjb25zdCBtID0gYmFzZS5tYXRjaChwcm9ub3VuUmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gYFBST05PVU58JHttWzFdfXwke21bMl19YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFR5cGVIZWxwZXJzLm5hdHVyYWxpemVUeXBlKGJhc2UpO1xyXG4gICAgfSxcclxuICAgIGdldE5vdW5GaW5hbFR5cGU6IChiYXNlSW50ZXJuYWwsIG51bWJlcikgPT4ge1xyXG4gICAgICAgIGxldCBiYXNlVGFnID0gXCJcIiwgZXh0cmEgPSBcIlwiO1xyXG4gICAgICAgIGlmIChiYXNlSW50ZXJuYWwuaW5kZXhPZihcIl9cIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gYmFzZUludGVybmFsLnNwbGl0KFwiX1wiKTtcclxuICAgICAgICAgICAgYmFzZVRhZyA9IHBhcnRzWzBdO1xyXG4gICAgICAgICAgICBleHRyYSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oXCJfXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJhc2VUYWcgPSBiYXNlSW50ZXJuYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBmaW5hbFRhZyA9IGJhc2VUYWcgPT09IFwiTk5cIiA/IChudW1iZXIgPT09IFwiU2luZ3VsYXJcIiA/IFwiTk5cIiA6IFwiTk5TXCIpXHJcbiAgICAgICAgICAgIDogYmFzZVRhZyA9PT0gXCJOTlBcIiA/IChudW1iZXIgPT09IFwiU2luZ3VsYXJcIiA/IFwiTk5QXCIgOiBcIk5OUFNcIilcclxuICAgICAgICAgICAgICAgIDogKG51bWJlciA9PT0gXCJTaW5ndWxhclwiID8gYmFzZVRhZyA6IGJhc2VUYWcgKyBcIlNcIik7XHJcbiAgICAgICAgcmV0dXJuIGV4dHJhID8gZmluYWxUYWcgKyBcIl9cIiArIGV4dHJhIDogZmluYWxUYWc7XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZUZpbmFsVmVyYlR5cGU6IChiYXNlSW50ZXJuYWwsIHRlbnNlVGFnKSA9PiB7XHJcbiAgICAgICAgaWYgKGJhc2VJbnRlcm5hbCA9PT0gXCJNRFwiKSByZXR1cm4gXCJNRF9cIiArIHRlbnNlVGFnO1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gYmFzZUludGVybmFsLnNwbGl0KFwiX1wiKTtcclxuICAgICAgICBjb25zdCBiYXNlQ2F0ZWdvcnkgPSBwYXJ0cy5zbGljZSgxKS5qb2luKFwiX1wiKTtcclxuICAgICAgICByZXR1cm4gYmFzZUNhdGVnb3J5ID8gdGVuc2VUYWcgKyBcIl9cIiArIGJhc2VDYXRlZ29yeSA6IHRlbnNlVGFnO1xyXG4gICAgfVxyXG59OyJdLCJuYW1lcyI6WyJzdGF0ZSIsInByb25vdW5NYXBwaW5nIiwiYWxsUGxhY2Vob2xkZXJzIiwiVXRpbHMiLCJTdHJpbmdVdGlscyIsIlR5cGVIZWxwZXJzIiwiX2V4dHJhY3RTdWJ0eXBlIiwidHlwZSIsInByZWZpeExlbmd0aCIsImV4dHJhY3RTdWJ0eXBlIiwiX2Zvcm1hdE5vdW5UeXBlIiwic3ViIiwibm91blR5cGUiLCJpc1BsdXJhbCIsImlzUHJvcGVyIiwidG9Mb3dlckNhc2UiLCJjb25jYXQiLCJkaXNwbGF5VGV4dCIsInRvVGl0bGVDYXNlIiwibmF0dXJhbERpc3BsYXkiLCJuYXR1cmFsaXplVHlwZSIsInN0YXJ0c1dpdGgiLCJ0ZW5zZSIsInN1YnN0cmluZyIsInRlbnNlTmF0dXJhbCIsInZlcmJUZW5zZU1hcCIsInJlbWFpbmRlciIsImxlbmd0aCIsImNhdGVnb3J5IiwicmVzdCIsInJlcGxhY2UiLCJwb3NNYXAiLCJnZXRUb29sdGlwRm9yVHlwZSIsIm5vcm1hbGl6ZWRUeXBlIiwidHJpbSIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3N0ZXAiLCJzIiwibiIsImRvbmUiLCJwIiwidmFsdWUiLCJpbnRlcm5hbFR5cGUiLCJ0b29sdGlwIiwiZXJyIiwiZSIsImYiLCJ2ZXJiVGVuc2VQcmVmaXhlcyIsIl9pIiwiX3ZlcmJUZW5zZVByZWZpeGVzIiwicHJlZml4IiwiYmFzZVR5cGUiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwiZ2V0T3JpZ2luYWxEaXNwbGF5Rm9yVHlwZSIsIl9pdGVyYXRvcjMiLCJfc3RlcDMiLCJkaXNwbGF5IiwiZ3Vlc3NUeXBlRnJvbUlkIiwiaWQiLCJiYXNlIiwiY3VzdG9tIiwiY3VzdG9tUGxhY2Vob2xkZXJzIiwiZmluZCIsInByb25vdW5GaXhlZFJlIiwidGVzdCIsIm1hdGNoIiwiZ3JvdXBOdW0iLCJhYmJyZXYiLCJmb3JtTWFwUmV2ZXJzZSIsIlNVQiIsIk9CSiIsIlBTQSIsIlBTUCIsIlJFRiIsInByb25vdW5SZSIsIm0iLCJnZXROb3VuRmluYWxUeXBlIiwiYmFzZUludGVybmFsIiwibnVtYmVyIiwiYmFzZVRhZyIsImV4dHJhIiwiaW5kZXhPZiIsInBhcnRzIiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJmaW5hbFRhZyIsImNvbXB1dGVGaW5hbFZlcmJUeXBlIiwidGVuc2VUYWciLCJiYXNlQ2F0ZWdvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/js/utils/typeHelpers.js\n");

/***/ }),

/***/ "./public/js/utils/utils.js":
/*!**********************************!*\
  !*** ./public/js/utils/utils.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StringUtils: () => (/* reexport safe */ _StringUtils_js__WEBPACK_IMPORTED_MODULE_0__.StringUtils),\n/* harmony export */   Utils: () => (/* binding */ Utils),\n/* harmony export */   decodeHTMLEntities: () => (/* reexport safe */ _StringUtils_js__WEBPACK_IMPORTED_MODULE_0__.decodeHTMLEntities)\n/* harmony export */ });\n/* harmony import */ var _StringUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StringUtils.js */ \"./public/js/utils/StringUtils.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// public/js/utils/utils.js\n\n\nvar Utils = _objectSpread({\n  debounce: function debounce(func, delay) {\n    var timeout;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var context = this;\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        return func.apply(context, args);\n      }, delay);\n    };\n  }\n}, _StringUtils_js__WEBPACK_IMPORTED_MODULE_0__.StringUtils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvdXRpbHMvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ21FO0FBRXhCO0FBRXBDLElBQU1FLEtBQUssR0FBQUMsYUFBQTtFQUNoQkMsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUdDLElBQUksRUFBRUMsS0FBSyxFQUFLO0lBQ3pCLElBQUlDLE9BQU87SUFDWCxPQUFPLFlBQWtCO01BQUEsU0FBQUMsSUFBQSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsRUFBTkMsSUFBSSxPQUFBQyxLQUFBLENBQUFKLElBQUEsR0FBQUssSUFBQSxNQUFBQSxJQUFBLEdBQUFMLElBQUEsRUFBQUssSUFBQTtRQUFKRixJQUFJLENBQUFFLElBQUEsSUFBQUosU0FBQSxDQUFBSSxJQUFBO01BQUE7TUFDckIsSUFBTUMsT0FBTyxHQUFHLElBQUk7TUFDcEJDLFlBQVksQ0FBQ1IsT0FBTyxDQUFDO01BQ3JCQSxPQUFPLEdBQUdTLFVBQVUsQ0FBQztRQUFBLE9BQU1YLElBQUksQ0FBQ1ksS0FBSyxDQUFDSCxPQUFPLEVBQUVILElBQUksQ0FBQztNQUFBLEdBQUVMLEtBQUssQ0FBQztJQUM5RCxDQUFDO0VBQ0g7QUFBQyxHQUVFTix3REFBVyxDQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL3V0aWxzL3V0aWxzLmpzP2YxMTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcHVibGljL2pzL3V0aWxzL3V0aWxzLmpzXHJcbmltcG9ydCB7IFN0cmluZ1V0aWxzLCBkZWNvZGVIVE1MRW50aXRpZXMgfSBmcm9tICcuL1N0cmluZ1V0aWxzLmpzJztcclxuXHJcbmV4cG9ydCB7IFN0cmluZ1V0aWxzLCBkZWNvZGVIVE1MRW50aXRpZXMgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBVdGlscyA9IHtcclxuICBkZWJvdW5jZTogKGZ1bmMsIGRlbGF5KSA9PiB7XHJcbiAgICBsZXQgdGltZW91dDtcclxuICAgIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyksIGRlbGF5KTtcclxuICAgIH07XHJcbiAgfSxcclxuICAvLyBSZS1leHBvcnQgc3RyaW5nIHV0aWxpdGllcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxyXG4gIC4uLlN0cmluZ1V0aWxzXHJcbn07Il0sIm5hbWVzIjpbIlN0cmluZ1V0aWxzIiwiZGVjb2RlSFRNTEVudGl0aWVzIiwiVXRpbHMiLCJfb2JqZWN0U3ByZWFkIiwiZGVib3VuY2UiLCJmdW5jIiwiZGVsYXkiLCJ0aW1lb3V0IiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjb250ZXh0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImFwcGx5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/js/utils/utils.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./public/js/main.js");
/******/ 	
/******/ })()
;