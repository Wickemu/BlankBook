"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateblankbook"]("main",{

/***/ "./public/js/handlers/events.js":
/*!**************************************!*\
  !*** ./public/js/handlers/events.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initEvents: () => (/* binding */ initEvents)\n/* harmony export */ });\n/* harmony import */ var _core_state_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/state.js */ \"./public/js/core/state.js\");\n/* harmony import */ var _data_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/storage.js */ \"./public/js/data/storage.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/utils.js */ \"./public/js/utils/utils.js\");\n/* harmony import */ var _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/StringUtils.js */ \"./public/js/utils/StringUtils.js\");\n/* harmony import */ var _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/typeHelpers.js */ \"./public/js/utils/typeHelpers.js\");\n/* harmony import */ var _core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/placeholders.js */ \"./public/js/core/placeholders.js\");\n/* harmony import */ var _ui_forms_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/forms.js */ \"./public/js/ui/forms.js\");\n/* harmony import */ var _core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/storyProcessor.js */ \"./public/js/core/storyProcessor.js\");\n/* harmony import */ var _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/domUtils.js */ \"./public/js/utils/domUtils.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _ui_notifications_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/notifications.js */ \"./public/js/ui/notifications.js\");\n// public/js/handlers/events.js\n\n\n\n\n\n\n\n\n\n // Ensure Swal is imported if used\n\n\n// Handle placeholder button click\nvar handlePlaceholderClick = function handlePlaceholderClick(internalType, displayName) {\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder && _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable) {\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateExistingPlaceholder)(_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable, internalType, displayName);\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isEditingPlaceholder = false;\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentEditingVariable = null;\n    $('#placeholderModal').modal('hide');\n  } else {\n    // For specialized types that have their own modal chains\n    if (internalType === \"PRONOUN\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.pickPronounFormAndGroup)();\n      $('#placeholderSearch').val('');\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n      // Hide the accordion container after selecting\n      $('.placeholder-accordion-container').hide();\n      return;\n    }\n    if (internalType.startsWith(\"NN\")) {\n      if (internalType === \"NN_Person\") {\n        (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showPersonTypeSelection)(internalType, displayName);\n        $('#placeholderSearch').val('');\n        (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n        // Hide the accordion container after selecting\n        $('.placeholder-accordion-container').hide();\n        return;\n      }\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection)(internalType, displayName);\n      $('#placeholderSearch').val('');\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n      // Hide the accordion container after selecting\n      $('.placeholder-accordion-container').hide();\n      return;\n    }\n    if (internalType.startsWith(\"VB\") || internalType === \"MD\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection)(internalType, displayName);\n      $('#placeholderSearch').val('');\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n      // Hide the accordion container after selecting\n      $('.placeholder-accordion-container').hide();\n      return;\n    }\n\n    // For direct placeholder insertion (non-pronoun, non-noun, non-verb)\n    // We don't need to modify state.lastSelectedText here as it should already be set\n    // by handleNewPlaceholder when the selection menu was clicked\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.insertPlaceholder)(internalType, displayName, false);\n    $('#placeholderSearch').val('');\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n    // Hide the accordion container after inserting the placeholder\n    $('.placeholder-accordion-container').hide();\n  }\n};\n\n// Handle create new story button click\nvar handleCreateNewStory = function handleCreateNewStory(e) {\n  e.preventDefault();\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges) {\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Unsaved changes',\n      text: 'Your story has unsaved changes. Would you like to save it to the site before starting a new one?',\n      showDenyButton: true,\n      confirmButtonText: 'Save and start new',\n      denyButtonText: 'Discard changes'\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.addCurrentStoryToSavedStories();\n        setTimeout(_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState, 1000);\n      } else if (result.isDenied) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n          title: 'Are you sure?',\n          text: 'This will discard your current unsaved story.',\n          confirmButtonText: 'Yes, start new'\n        }).then(function (res) {\n          if (res.isConfirmed) (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState)();\n        });\n      }\n    });\n  } else {\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Are you sure?',\n      text: 'This will discard your current story.',\n      confirmButtonText: 'Yes, start new'\n    }).then(function (res) {\n      if (res.isConfirmed) (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState)();\n    });\n  }\n};\n\n// Handle clear form button click\nvar handleClearForm = function handleClearForm(e) {\n  e.preventDefault();\n  if (_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges) {\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Clear Form',\n      text: 'You have unsaved changes. Would you like to save your story to the site before clearing the form?',\n      showDenyButton: true,\n      confirmButtonText: 'Save first',\n      denyButtonText: 'Clear without saving'\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.addCurrentStoryToSavedStories();\n        setTimeout(_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState, 1000);\n      } else if (result.isDenied) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n          title: 'Are you sure?',\n          text: 'This will clear your current form and discard all unsaved changes.',\n          confirmButtonText: 'Yes, clear form'\n        }).then(function (res) {\n          if (res.isConfirmed) (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState)();\n        });\n      }\n    });\n  } else {\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Clear Form',\n      text: 'This will clear all content from the current form. Are you sure?',\n      confirmButtonText: 'Yes, clear form'\n    }).then(function (res) {\n      if (res.isConfirmed) (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.resetStoryState)();\n    });\n  }\n};\n\n// Handle generate story button click\nvar handleGenerateStory = function handleGenerateStory() {\n  // Use the form validation function from forms.js\n  if (!(0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.validateInputForm)()) {\n    return; // Validation failed\n  }\n\n  // Collect values from the input form\n  var inputForm = document.getElementById('inputForm');\n  var inputs = inputForm.querySelectorAll('input[type=\"text\"]');\n\n  // Reset fillValues\n  _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = {};\n\n  // Populate fillValues with the values from the input fields\n  inputs.forEach(function (input) {\n    var id = input.getAttribute('data-id');\n    if (id && input.value.trim() !== '') {\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues[id] = input.value.trim();\n      console.log(\"Collected input value for \".concat(id, \": \\\"\").concat(input.value.trim(), \"\\\"\"));\n    }\n  });\n\n  // Generate the final story with replacements\n  var _final = (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.generateLegacyText)();\n  _final = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.fillPlaceholders)(_final, _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables, _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues, _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups);\n\n  // Update the result display\n  $('#finalStory').text(_final);\n  $('#displayTitle').text($('#storyTitle').val());\n  $('#displayAuthor').text($('#storyAuthor').val());\n  $('#displayTags').text($('#storyTags').val());\n  $('#result').removeClass('d-none');\n  $('#inputs').addClass('d-none');\n};\n\n// Handle save story to site button\nvar handleSaveStoryToSite = function handleSaveStoryToSite() {\n  sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n    title: 'Save Story',\n    html: \"\\n          <input type=\\\"text\\\" id=\\\"swalTitle\\\" class=\\\"swal2-input\\\" placeholder=\\\"Story Title\\\" value=\\\"\".concat($('#storyTitle').val(), \"\\\">\\n          <input type=\\\"text\\\" id=\\\"swalAuthor\\\" class=\\\"swal2-input\\\" placeholder=\\\"Author\\\" value=\\\"\").concat($('#storyAuthor').val(), \"\\\">\\n          <input type=\\\"text\\\" id=\\\"swalTags\\\" class=\\\"swal2-input\\\" placeholder=\\\"Tags (comma separated)\\\" value=\\\"\").concat($('#storyTags').val(), \"\\\">\\n          <input type=\\\"password\\\" id=\\\"swalPassword\\\" class=\\\"swal2-input\\\" placeholder=\\\"Password (optional)\\\">\\n          <div id=\\\"preexistingTagsContainer\\\" style=\\\"text-align:left; margin-top:10px;\\\"></div>\\n        \"),\n    didOpen: function didOpen() {\n      loadPreexistingTags();\n    },\n    showCancelButton: true,\n    confirmButtonText: 'Save',\n    preConfirm: function preConfirm() {\n      return {\n        title: document.getElementById('swalTitle').value,\n        author: document.getElementById('swalAuthor').value,\n        tags: document.getElementById('swalTags').value,\n        password: document.getElementById('swalPassword').value\n      };\n    }\n  }).then(function (result) {\n    if (result.isConfirmed) {\n      var data = result.value;\n      // Update fields in the editor\n      $('#storyTitle').val(data.title);\n      $('#storyAuthor').val(data.author);\n      $('#storyTags').val(data.tags);\n      var story = {\n        storyTitle: data.title,\n        storyAuthor: data.author,\n        storyText: $('#storyText').html(),\n        variables: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables,\n        pronounGroups: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups,\n        variableCounts: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts,\n        pronounGroupCount: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount,\n        customPlaceholders: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders,\n        tags: data.tags ? data.tags.split(',').map(function (s) {\n          return s.trim();\n        }) : [],\n        savedAt: new Date().toISOString(),\n        password: data.password && data.password.trim() !== '' ? data.password : null\n      };\n      $.ajax({\n        url: '/api/savestory',\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify(story),\n        success: function success() {\n          sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n            toast: true,\n            position: 'top-end',\n            icon: 'success',\n            title: 'Story saved to site!',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        },\n        error: function error(xhr, statusText, errorThrown) {\n          if (xhr.status === 409) {\n            sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n              title: 'Story exists',\n              text: 'A story with this title already exists. Overwrite?',\n              icon: 'warning',\n              showCancelButton: true,\n              confirmButtonText: 'Yes, overwrite',\n              cancelButtonText: 'No'\n            }).then(function (result) {\n              if (result.isConfirmed) {\n                story.overwrite = true;\n                $.ajax({\n                  url: '/api/savestory',\n                  method: 'POST',\n                  contentType: 'application/json',\n                  data: JSON.stringify(story),\n                  success: function success() {\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_9___default().fire({\n                      toast: true,\n                      position: 'top-end',\n                      icon: 'success',\n                      title: 'Story overwritten!',\n                      showConfirmButton: false,\n                      timer: 1500\n                    });\n                  },\n                  error: function error(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite) {\n                    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.handleAjaxError(xhrOverwrite, statusTextOverwrite, errorThrownOverwrite, 'Failed to overwrite story');\n                  }\n                });\n              }\n            });\n          } else {\n            _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to save story');\n          }\n        }\n      });\n    }\n  });\n};\n\n// Load preexisting tags for tag selector\nvar loadPreexistingTags = function loadPreexistingTags() {\n  $.ajax({\n    url: '/api/gettags',\n    method: 'GET',\n    success: function success(tags) {\n      var container = $('#preexistingTagsContainer');\n      container.empty();\n      if (tags.length > 0) {\n        container.append('<p>Select a tag:</p>');\n        tags.forEach(function (tag) {\n          var btn = $('<button type=\"button\" class=\"btn btn-sm btn-outline-secondary m-1 preexisting-tag-btn\"></button>');\n          btn.text(tag);\n          btn.on('click', function () {\n            var current = $('#swalTags').val();\n            var tagsArr = current ? current.split(',').map(function (t) {\n              return t.trim();\n            }).filter(Boolean) : [];\n            if (!tagsArr.includes(tag)) {\n              tagsArr.push(tag);\n              $('#swalTags').val(tagsArr.join(', '));\n            }\n          });\n          container.append(btn);\n        });\n      }\n    },\n    error: function error(err) {\n      console.error('Failed to load preexisting tags', err);\n    }\n  });\n};\n\n// Attach all event handlers\nvar initEvents = function initEvents() {\n  // Placeholder button click handler\n  $(document).on('click', '.placeholder-btn', function () {\n    var internalType = $(this).data('internal');\n    var displayName = $(this).data('display');\n    handlePlaceholderClick(internalType, displayName);\n  });\n\n  // Fill info icon click handler\n  $(document).on('click', '.fill-info-icon', function (e) {\n    e.stopPropagation();\n    var type = $(e.currentTarget).data('type');\n    var tooltip = _utils_typeHelpers_js__WEBPACK_IMPORTED_MODULE_4__.TypeHelpers.getTooltipForType(type);\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast(tooltip, 'info');\n  });\n\n  // Add accordion info icon click handler\n  $(document).on('click', '.accordion-info-icon', function (e) {\n    e.stopPropagation();\n    var tooltip = $(e.currentTarget).data('tooltip');\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast(tooltip, 'info');\n  });\n\n  // Show more toggle event handler\n  $(document).on('click', '.show-more-toggle', function () {\n    var parentList = $(this).closest('.list-group');\n    var hiddenItems = parentList.find('.secondary-placeholder-wrapper .secondary-placeholder');\n    var link = $(this);\n    link.text(link.text() === 'Show More' ? 'Show Less' : 'Show More');\n    hiddenItems.toggle();\n  });\n\n  // Add copy to clipboard handler\n  $('#copyStory').on('click', function () {\n    var finalText = $('#finalStory').text();\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.copyToClipboard(finalText);\n  });\n\n  // Selection changes\n  document.addEventListener('selectionchange', function () {\n    var editor = document.getElementById(\"storyText\");\n    var sel = window.getSelection();\n    if (sel.rangeCount > 0 && editor.contains(sel.anchorNode)) {\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lastRange = sel.getRangeAt(0);\n    }\n  });\n\n  // Attach search handlers with a reduced debounce delay (50ms)\n  $('#placeholderSearch').on('input', _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__.Utils.debounce(function () {\n    var searchVal = $(this).val();\n    var scrollTop = $('#sidePlaceholderPanel').scrollTop(); // Store current scroll position\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', searchVal);\n    $('#addCustomPlaceholderBtn').text('Add \"' + searchVal + '\"');\n\n    // Restore scroll position after update if needed\n    if (searchVal && scrollTop === 0) {\n      $('#sidePlaceholderPanel').scrollTop(0); // Ensure stays at top\n    }\n  }, 50));\n  $('#modalPlaceholderSearch').on('input', _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__.Utils.debounce(function () {\n    var searchVal = $(this).val();\n    var scrollTop = $('.modal-body').scrollTop(); // Store current scroll position\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', searchVal);\n    $('#modalAddCustomPlaceholderBtn').text('Add \"' + searchVal + '\"');\n\n    // Restore scroll position after update if needed\n    if (searchVal && scrollTop === 0) {\n      $('.modal-body').scrollTop(0); // Ensure stays at top\n    }\n  }, 50));\n\n  // Init accordions\n  (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n  (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n\n  // Filter tag input handler\n  $('#filterTag').on('input', _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__.Utils.debounce(function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n  }, 300));\n\n  // Sort option change handler\n  $('#sortOption').on('change', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n  });\n\n  // Alphabetical order button\n  $('#alphabeticalOrderBtn').on('click', function () {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillOrder = 'alphabetical';\n    $(this).removeClass('btn-outline-secondary').addClass('btn-outline-primary');\n    $('#randomOrderBtn').removeClass('btn-outline-primary').addClass('btn-outline-secondary');\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n  });\n\n  // Random order button\n  $('#randomOrderBtn').on('click', function () {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillOrder = 'random';\n    $(this).removeClass('btn-outline-secondary').addClass('btn-outline-primary');\n    $('#alphabeticalOrderBtn').removeClass('btn-outline-primary').addClass('btn-outline-secondary');\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n  });\n\n  // Tag autocomplete\n  $(\"#filterTag\").autocomplete({\n    source: function source(request, response) {\n      $.ajax({\n        url: '/api/gettags',\n        method: 'GET',\n        dataType: 'json',\n        success: function success(tags) {\n          var filteredTags = $.ui.autocomplete.filter(tags, request.term);\n          response(filteredTags);\n        },\n        error: function error(err) {\n          console.error('Failed to load tags for autocomplete', err);\n          response([]);\n        }\n      });\n    },\n    minLength: 1,\n    select: function select(event, ui) {\n      $(\"#filterTag\").val(ui.item.value);\n      $(\"#applyFilters\").click();\n      return false;\n    }\n  });\n\n  // Apply filters button\n  $('#applyFilters').on('click', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n  });\n\n  // Share story button\n  $('#shareStory').on('click', function () {\n    var finalText = $('#finalStory').text();\n    var title = $('#displayTitle').text();\n    var author = $('#displayAuthor').text();\n    var content = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.formatStoryForExport)(title, author, finalText);\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.copyToClipboard(content).then(function (success) {\n      if (success) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast('Story copied to clipboard!');\n      } else {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('Copy Failed', 'Failed to copy story. Please copy manually.');\n      }\n    });\n  });\n\n  // Story editor input event\n  $('#storyText').on('input', function () {\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateVariablesFromEditor)();\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyHasUnsavedChanges = true;\n  });\n\n  // Upload story button\n  $('#uploadStoryBtn').on('click', function () {\n    $('#uploadStory').click();\n  });\n  $('#uploadStory').on('change', function () {\n    var file = this.files[0];\n    if (!file) return;\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      var content = e.target.result;\n      var storyData = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.parseStoryFile)(content);\n      $('#storyTitle').val(storyData.title);\n      $('#storyAuthor').val(storyData.author);\n      $('#storyText').html(storyData.content);\n\n      // Reset state\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables = [];\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variableCounts = {};\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insertionCounter = 0;\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroupCount = 0;\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pronounGroups = {};\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fillValues = {};\n      _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customPlaceholders = [];\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateVariablesFromEditor)();\n    };\n    reader.readAsText(file);\n  });\n\n  // Start game button\n  $('#startGame').on('click', function () {\n    var content = $('#storyText').html();\n    if (!content.trim()) {\n      _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('Empty Story', 'Please write a story before continuing.');\n      return;\n    }\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updateVariablesFromEditor)();\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].storyText = (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.generateLegacyText)();\n    if (!_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.length) {\n      _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('No Placeholders', 'No placeholders found in the story.');\n      return;\n    }\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n    $('#inputs').removeClass('d-none');\n    $('#editor').addClass('d-none');\n  });\n\n  // Generate story button\n  $('#generateStory').on('click', handleGenerateStory);\n\n  // Create new story buttons\n  $('#createNewStory2, #createNewStory').on('click', handleCreateNewStory);\n\n  // Clear form button\n  $('#clearFormBtn').on('click', handleClearForm);\n\n  // Story editing flow buttons\n  $('#editStoryEntries').on('click', function () {\n    (0,_ui_forms_js__WEBPACK_IMPORTED_MODULE_6__.buildFillForm)();\n    $('#result').addClass('d-none');\n    $('#inputs').removeClass('d-none');\n  });\n  $('#backToEditor, #backToEditor2').on('click', function () {\n    $('#result, #inputs').addClass('d-none');\n    $('#editor').removeClass('d-none');\n  });\n\n  // Save story to site button\n  $('#saveStoryToSite').on('click', handleSaveStoryToSite);\n\n  // Download story button\n  $('#downloadStory').on('click', function () {\n    var finalText = $('#finalStory').text();\n    var title = $('#displayTitle').text();\n    var author = $('#displayAuthor').text();\n    var content = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.formatStoryForExport)(title, author, finalText);\n    var fileName = (0,_core_storyProcessor_js__WEBPACK_IMPORTED_MODULE_7__.createFilenameFromTitle)(title);\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.downloadTextFile(content, fileName);\n  });\n\n  // Save completed story button\n  $('#saveCompletedStory').on('click', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.addCompletedStoryToSavedStories();\n  });\n\n  // Saved stories buttons\n  $('#mySavedStoriesBtn').on('click', function () {\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStoriesList();\n    $('#savedStoriesModal').modal('show');\n  });\n  $(document).on('click', '.loadSavedStoryBtn', function () {\n    var index = $(this).data('index');\n    $('#savedStoriesModal').modal('hide');\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStory(index, \"play\");\n  });\n  $(document).on('click', '.editSavedStoryBtn', function () {\n    var index = $(this).data('index');\n    $('#savedStoriesModal').modal('hide');\n    _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.loadSavedStory(index, \"edit\");\n  });\n  $(document).on('click', '.deleteSavedStoryBtn', function () {\n    var title = $(this).data('title');\n    _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.confirmDialog({\n      title: 'Delete Story?',\n      text: 'Are you sure you want to delete this saved story?',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(function (result) {\n      if (result.isConfirmed) _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.deleteSavedStory(title);\n    });\n  });\n\n  // Rating submission\n  $('#submitRating').on('click', function () {\n    var rating = parseInt($('#storyRating').val(), 10);\n    if (!_core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId) {\n      _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showError('Error', 'Story ID not found.');\n      return;\n    }\n    $.ajax({\n      url: '/api/rateStory',\n      method: 'POST',\n      contentType: 'application/json',\n      data: JSON.stringify({\n        storyId: _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentStoryId,\n        rating: rating\n      }),\n      success: function success(data) {\n        _utils_domUtils_js__WEBPACK_IMPORTED_MODULE_8__.showToast(\"Thank you for rating! New average: \".concat(data.rating.toFixed(1), \" (\").concat(data.ratingCount, \" votes)\"));\n      },\n      error: function error(xhr, statusText, errorThrown) {\n        _data_storage_js__WEBPACK_IMPORTED_MODULE_1__.Storage.handleAjaxError(xhr, statusText, errorThrown, 'Failed to rate story');\n      }\n    });\n  });\n\n  // Editor key handling for placeholders\n  $('#storyText').on('keydown', function (e) {\n    var sel = window.getSelection();\n    if (sel.rangeCount) {\n      var range = sel.getRangeAt(0);\n      if (e.key === \"ArrowRight\") {\n        var node = sel.anchorNode;\n        if (node.nodeType === Node.TEXT_NODE && node.parentNode.classList.contains('placeholder')) {\n          if (sel.anchorOffset >= node.nodeValue.length) {\n            e.preventDefault();\n            var placeholder = node.parentNode;\n            var newRange = document.createRange();\n            newRange.setStartAfter(placeholder);\n            newRange.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(newRange);\n          }\n        }\n      }\n      if (e.key === \"Backspace\") {\n        var _node = sel.anchorNode;\n        if (_node.nodeType === Node.TEXT_NODE && _node.parentNode.classList.contains('placeholder') && sel.anchorOffset === 0) {\n          e.preventDefault();\n          var _placeholder = _node.parentNode;\n          var _newRange = document.createRange();\n          _newRange.setStartBefore(_placeholder);\n          _newRange.collapse(true);\n          sel.removeAllRanges();\n          sel.addRange(_newRange);\n        }\n      }\n    }\n  });\n\n  // Add placeholder button\n  $('#addPlaceholderBtn').on('click', function () {\n    $('#placeholderModal').modal('show');\n  });\n\n  // Click handler for existing placeholders\n  document.getElementById('existingPlaceholdersContainer').addEventListener('click', function (e) {\n    var btn = e.target.closest('.placeholder-item');\n    if (!btn) return;\n    var id = btn.getAttribute('data-id');\n    var variable = _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].variables.find(function (v) {\n      return v.id === id;\n    });\n    if (variable) (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.duplicatePlaceholder)(variable);\n  });\n\n  // Add custom placeholder button\n  $('#addCustomPlaceholderBtn').on('click', function () {\n    var raw = $('#placeholderSearch').val();\n    var usage = $('input[name=\"customPlaceholderType\"]:checked').val() || \"generic\";\n    if (usage === \"noun\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"noun\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection)(\"NN_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else if (usage === \"verb\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"verb\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection)(\"VB_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw);\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.insertPlaceholderFromCustom)(raw);\n    }\n    $('#placeholderSearch').val('');\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#placeholderAccordion', '#noResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentPlaceholderSearch);\n  });\n\n  // Modal add custom placeholder button\n  $('#modalAddCustomPlaceholderBtn').on('click', function () {\n    var raw = $('#modalPlaceholderSearch').val();\n    var usage = $('input[name=\"modalCustomPlaceholderType\"]:checked').val() || \"generic\";\n    if (usage === \"noun\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"noun\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showNounNumberSelection)(\"NN_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else if (usage === \"verb\") {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw, \"verb\");\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.showVerbTenseSelection)(\"VB_\" + _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.pascalCase(raw), _utils_StringUtils_js__WEBPACK_IMPORTED_MODULE_3__.StringUtils.naturalDisplay(raw));\n    } else {\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.addCustomPlaceholder)(raw);\n      (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.insertPlaceholderFromCustom)(raw);\n    }\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n    $('#placeholderModal').modal('hide');\n    $('#modalPlaceholderSearch').val('');\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n  });\n\n  // Search modal placeholder input\n  $('#modalPlaceholderSearchInput').on('input', function () {\n    _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch = $(this).val().trim().toLowerCase();\n    (0,_core_placeholders_js__WEBPACK_IMPORTED_MODULE_5__.updatePlaceholderAccordion)('#modalPlaceholderAccordion', '#modalNoResults', _core_state_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentModalPlaceholderSearch);\n  });\n\n  // The remaining initialization code follows\n  // ... existing code ...\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvaGFuZGxlcnMvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNxQztBQUNRO0FBQ0g7QUFDWTtBQUNBO0FBZXJCO0FBQ2lDO0FBTy9CO0FBQ2M7QUFDbEIsQ0FBQztBQUNtQjs7QUFFbkQ7QUFDQSxJQUFNNEIsc0JBQXNCLEdBQUcsU0FBekJBLHNCQUFzQkEsQ0FBSUMsWUFBWSxFQUFFQyxXQUFXLEVBQUs7RUFDMUQsSUFBSTlCLHNEQUFLLENBQUMrQixvQkFBb0IsSUFBSS9CLHNEQUFLLENBQUNnQyxzQkFBc0IsRUFBRTtJQUM1RGpCLGdGQUF5QixDQUFDZixzREFBSyxDQUFDZ0Msc0JBQXNCLEVBQUVILFlBQVksRUFBRUMsV0FBVyxDQUFDO0lBQ2xGOUIsc0RBQUssQ0FBQytCLG9CQUFvQixHQUFHLEtBQUs7SUFDbEMvQixzREFBSyxDQUFDZ0Msc0JBQXNCLEdBQUcsSUFBSTtJQUNuQ0MsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUNDLEtBQUssQ0FBQyxNQUFNLENBQUM7RUFDeEMsQ0FBQyxNQUFNO0lBQ0g7SUFDQSxJQUFJTCxZQUFZLEtBQUssU0FBUyxFQUFFO01BQzVCakIsOEVBQXVCLENBQUMsQ0FBQztNQUN6QnFCLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDRSxHQUFHLENBQUMsRUFBRSxDQUFDO01BQy9COUIsaUZBQTBCLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxFQUFFTCxzREFBSyxDQUFDb0Msd0JBQXdCLENBQUM7TUFDakc7TUFDQUgsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUNJLElBQUksQ0FBQyxDQUFDO01BQzVDO0lBQ0o7SUFDQSxJQUFJUixZQUFZLENBQUNTLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRTtNQUMvQixJQUFJVCxZQUFZLEtBQUssV0FBVyxFQUFFO1FBQzlCWiw4RUFBdUIsQ0FBQ1ksWUFBWSxFQUFFQyxXQUFXLENBQUM7UUFDbERHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDRSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQy9COUIsaUZBQTBCLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxFQUFFTCxzREFBSyxDQUFDb0Msd0JBQXdCLENBQUM7UUFDakc7UUFDQUgsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUNJLElBQUksQ0FBQyxDQUFDO1FBQzVDO01BQ0o7TUFDQTVCLDhFQUF1QixDQUFDb0IsWUFBWSxFQUFFQyxXQUFXLENBQUM7TUFDbERHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDRSxHQUFHLENBQUMsRUFBRSxDQUFDO01BQy9COUIsaUZBQTBCLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxFQUFFTCxzREFBSyxDQUFDb0Msd0JBQXdCLENBQUM7TUFDakc7TUFDQUgsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUNJLElBQUksQ0FBQyxDQUFDO01BQzVDO0lBQ0o7SUFFQSxJQUFJUixZQUFZLENBQUNTLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSVQsWUFBWSxLQUFLLElBQUksRUFBRTtNQUN4RG5CLDZFQUFzQixDQUFDbUIsWUFBWSxFQUFFQyxXQUFXLENBQUM7TUFDakRHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDRSxHQUFHLENBQUMsRUFBRSxDQUFDO01BQy9COUIsaUZBQTBCLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxFQUFFTCxzREFBSyxDQUFDb0Msd0JBQXdCLENBQUM7TUFDakc7TUFDQUgsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUNJLElBQUksQ0FBQyxDQUFDO01BQzVDO0lBQ0o7O0lBRUE7SUFDQTtJQUNBO0lBQ0FyQix3RUFBaUIsQ0FBQ2EsWUFBWSxFQUFFQyxXQUFXLEVBQUUsS0FBSyxDQUFDO0lBQ25ERyxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUMvQjlCLGlGQUEwQixDQUFDLHVCQUF1QixFQUFFLFlBQVksRUFBRUwsc0RBQUssQ0FBQ29DLHdCQUF3QixDQUFDO0lBQ2pHO0lBQ0FILENBQUMsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDSSxJQUFJLENBQUMsQ0FBQztFQUNoRDtBQUNKLENBQUM7O0FBRUQ7QUFDQSxJQUFNRSxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQW9CQSxDQUFJQyxDQUFDLEVBQUs7RUFDaENBLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLENBQUM7RUFDbEIsSUFBSXpDLHNEQUFLLENBQUMwQyxzQkFBc0IsRUFBRTtJQUM5QmpCLDZEQUFzQixDQUFDO01BQ25CbUIsS0FBSyxFQUFFLGlCQUFpQjtNQUN4QkMsSUFBSSxFQUFFLGtHQUFrRztNQUN4R0MsY0FBYyxFQUFFLElBQUk7TUFDcEJDLGlCQUFpQixFQUFFLG9CQUFvQjtNQUN2Q0MsY0FBYyxFQUFFO0lBQ3BCLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsVUFBQ0MsTUFBTSxFQUFLO01BQ2hCLElBQUlBLE1BQU0sQ0FBQ0MsV0FBVyxFQUFFO1FBQ3BCbEQscURBQU8sQ0FBQ21ELDZCQUE2QixDQUFDLENBQUM7UUFDdkNDLFVBQVUsQ0FBQzdCLG9FQUFlLEVBQUUsSUFBSSxDQUFDO01BQ3JDLENBQUMsTUFBTSxJQUFJMEIsTUFBTSxDQUFDSSxRQUFRLEVBQUU7UUFDeEI3Qiw2REFBc0IsQ0FBQztVQUNuQm1CLEtBQUssRUFBRSxlQUFlO1VBQ3RCQyxJQUFJLEVBQUUsK0NBQStDO1VBQ3JERSxpQkFBaUIsRUFBRTtRQUN2QixDQUFDLENBQUMsQ0FBQ0UsSUFBSSxDQUFDLFVBQUNNLEdBQUcsRUFBSztVQUNiLElBQUlBLEdBQUcsQ0FBQ0osV0FBVyxFQUFFM0Isd0VBQWUsQ0FBQyxDQUFDO1FBQzFDLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQyxNQUFNO0lBQ0hDLDZEQUFzQixDQUFDO01BQ25CbUIsS0FBSyxFQUFFLGVBQWU7TUFDdEJDLElBQUksRUFBRSx1Q0FBdUM7TUFDN0NFLGlCQUFpQixFQUFFO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUMsVUFBQ00sR0FBRyxFQUFLO01BQ2IsSUFBSUEsR0FBRyxDQUFDSixXQUFXLEVBQUUzQix3RUFBZSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDOztBQUVEO0FBQ0EsSUFBTWdDLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBSWhCLENBQUMsRUFBSztFQUMzQkEsQ0FBQyxDQUFDQyxjQUFjLENBQUMsQ0FBQztFQUNsQixJQUFJekMsc0RBQUssQ0FBQzBDLHNCQUFzQixFQUFFO0lBQzlCakIsNkRBQXNCLENBQUM7TUFDbkJtQixLQUFLLEVBQUUsWUFBWTtNQUNuQkMsSUFBSSxFQUFFLG1HQUFtRztNQUN6R0MsY0FBYyxFQUFFLElBQUk7TUFDcEJDLGlCQUFpQixFQUFFLFlBQVk7TUFDL0JDLGNBQWMsRUFBRTtJQUNwQixDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFVBQUNDLE1BQU0sRUFBSztNQUNoQixJQUFJQSxNQUFNLENBQUNDLFdBQVcsRUFBRTtRQUNwQmxELHFEQUFPLENBQUNtRCw2QkFBNkIsQ0FBQyxDQUFDO1FBQ3ZDQyxVQUFVLENBQUM3QixvRUFBZSxFQUFFLElBQUksQ0FBQztNQUNyQyxDQUFDLE1BQU0sSUFBSTBCLE1BQU0sQ0FBQ0ksUUFBUSxFQUFFO1FBQ3hCN0IsNkRBQXNCLENBQUM7VUFDbkJtQixLQUFLLEVBQUUsZUFBZTtVQUN0QkMsSUFBSSxFQUFFLG9FQUFvRTtVQUMxRUUsaUJBQWlCLEVBQUU7UUFDdkIsQ0FBQyxDQUFDLENBQUNFLElBQUksQ0FBQyxVQUFDTSxHQUFHLEVBQUs7VUFDYixJQUFJQSxHQUFHLENBQUNKLFdBQVcsRUFBRTNCLHdFQUFlLENBQUMsQ0FBQztRQUMxQyxDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsTUFBTTtJQUNIQyw2REFBc0IsQ0FBQztNQUNuQm1CLEtBQUssRUFBRSxZQUFZO01BQ25CQyxJQUFJLEVBQUUsa0VBQWtFO01BQ3hFRSxpQkFBaUIsRUFBRTtJQUN2QixDQUFDLENBQUMsQ0FBQ0UsSUFBSSxDQUFDLFVBQUNNLEdBQUcsRUFBSztNQUNiLElBQUlBLEdBQUcsQ0FBQ0osV0FBVyxFQUFFM0Isd0VBQWUsQ0FBQyxDQUFDO0lBQzFDLENBQUMsQ0FBQztFQUNOO0FBQ0osQ0FBQzs7QUFFRDtBQUNBLElBQU1pQyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CQSxDQUFBLEVBQVM7RUFDOUI7RUFDQSxJQUFJLENBQUN0QywrREFBaUIsQ0FBQyxDQUFDLEVBQUU7SUFDdEIsT0FBTyxDQUFDO0VBQ1o7O0VBRUE7RUFDQSxJQUFNdUMsU0FBUyxHQUFHQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7RUFDdEQsSUFBTUMsTUFBTSxHQUFHSCxTQUFTLENBQUNJLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDOztFQUUvRDtFQUNBOUQsc0RBQUssQ0FBQytELFVBQVUsR0FBRyxDQUFDLENBQUM7O0VBRXJCO0VBQ0FGLE1BQU0sQ0FBQ0csT0FBTyxDQUFDLFVBQUFDLEtBQUssRUFBSTtJQUNwQixJQUFNQyxFQUFFLEdBQUdELEtBQUssQ0FBQ0UsWUFBWSxDQUFDLFNBQVMsQ0FBQztJQUN4QyxJQUFJRCxFQUFFLElBQUlELEtBQUssQ0FBQ0csS0FBSyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtNQUNqQ3JFLHNEQUFLLENBQUMrRCxVQUFVLENBQUNHLEVBQUUsQ0FBQyxHQUFHRCxLQUFLLENBQUNHLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUM7TUFDekNDLE9BQU8sQ0FBQ0MsR0FBRyw4QkFBQUMsTUFBQSxDQUE4Qk4sRUFBRSxVQUFBTSxNQUFBLENBQU1QLEtBQUssQ0FBQ0csS0FBSyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxPQUFHLENBQUM7SUFDM0U7RUFDSixDQUFDLENBQUM7O0VBRUY7RUFDQSxJQUFJSSxNQUFLLEdBQUdsRSx5RUFBa0IsQ0FBQyxDQUFDO0VBQ2hDa0UsTUFBSyxHQUFHckQseUVBQWdCLENBQUNxRCxNQUFLLEVBQUV6RSxzREFBSyxDQUFDMEUsU0FBUyxFQUFFMUUsc0RBQUssQ0FBQytELFVBQVUsRUFBRS9ELHNEQUFLLENBQUMyRSxhQUFhLENBQUM7O0VBRXZGO0VBQ0ExQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNZLElBQUksQ0FBQzRCLE1BQUssQ0FBQztFQUM1QnhDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQ1ksSUFBSSxDQUFDWixDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNFLEdBQUcsQ0FBQyxDQUFDLENBQUM7RUFDL0NGLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDWSxJQUFJLENBQUNaLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsQ0FBQztFQUNqREYsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDWSxJQUFJLENBQUNaLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsQ0FBQztFQUM3Q0YsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDMkMsV0FBVyxDQUFDLFFBQVEsQ0FBQztFQUNsQzNDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQzRDLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDbkMsQ0FBQzs7QUFFRDtBQUNBLElBQU1DLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBcUJBLENBQUEsRUFBUztFQUNoQ3BELHVEQUFTLENBQUM7SUFDTmtCLEtBQUssRUFBRSxZQUFZO0lBQ25Cb0MsSUFBSSxpSEFBQVIsTUFBQSxDQUN1RnZDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsaUhBQUFxQyxNQUFBLENBQzFCdkMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDRSxHQUFHLENBQUMsQ0FBQywrSEFBQXFDLE1BQUEsQ0FDVHZDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsd09BR3pIO0lBQ0Q4QyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQSxFQUFRO01BQ2JDLG1CQUFtQixDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUNEQyxnQkFBZ0IsRUFBRSxJQUFJO0lBQ3RCcEMsaUJBQWlCLEVBQUUsTUFBTTtJQUN6QnFDLFVBQVUsRUFBRSxTQUFaQSxVQUFVQSxDQUFBLEVBQVE7TUFDaEIsT0FBTztRQUNMeEMsS0FBSyxFQUFFZSxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQ1EsS0FBSztRQUNqRGlCLE1BQU0sRUFBRTFCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDUSxLQUFLO1FBQ25Ea0IsSUFBSSxFQUFFM0IsUUFBUSxDQUFDQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUNRLEtBQUs7UUFDL0NtQixRQUFRLEVBQUU1QixRQUFRLENBQUNDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQ1E7TUFDcEQsQ0FBQztJQUNIO0VBQ0osQ0FBQyxDQUFDLENBQUNuQixJQUFJLENBQUMsVUFBQ0MsTUFBTSxFQUFLO0lBQ2hCLElBQUlBLE1BQU0sQ0FBQ0MsV0FBVyxFQUFFO01BQ3BCLElBQU1xQyxJQUFJLEdBQUd0QyxNQUFNLENBQUNrQixLQUFLO01BQ3pCO01BQ0FuQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNFLEdBQUcsQ0FBQ3FELElBQUksQ0FBQzVDLEtBQUssQ0FBQztNQUNoQ1gsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDRSxHQUFHLENBQUNxRCxJQUFJLENBQUNILE1BQU0sQ0FBQztNQUNsQ3BELENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0UsR0FBRyxDQUFDcUQsSUFBSSxDQUFDRixJQUFJLENBQUM7TUFFOUIsSUFBSUcsS0FBSyxHQUFHO1FBQ1JDLFVBQVUsRUFBRUYsSUFBSSxDQUFDNUMsS0FBSztRQUN0QitDLFdBQVcsRUFBRUgsSUFBSSxDQUFDSCxNQUFNO1FBQ3hCTyxTQUFTLEVBQUUzRCxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMrQyxJQUFJLENBQUMsQ0FBQztRQUNqQ04sU0FBUyxFQUFFMUUsc0RBQUssQ0FBQzBFLFNBQVM7UUFDMUJDLGFBQWEsRUFBRTNFLHNEQUFLLENBQUMyRSxhQUFhO1FBQ2xDa0IsY0FBYyxFQUFFN0Ysc0RBQUssQ0FBQzZGLGNBQWM7UUFDcENDLGlCQUFpQixFQUFFOUYsc0RBQUssQ0FBQzhGLGlCQUFpQjtRQUMxQ0Msa0JBQWtCLEVBQUUvRixzREFBSyxDQUFDK0Ysa0JBQWtCO1FBQzVDVCxJQUFJLEVBQUVFLElBQUksQ0FBQ0YsSUFBSSxHQUFHRSxJQUFJLENBQUNGLElBQUksQ0FBQ1UsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHLENBQUMsVUFBQUMsQ0FBQztVQUFBLE9BQUlBLENBQUMsQ0FBQzdCLElBQUksQ0FBQyxDQUFDO1FBQUEsRUFBQyxHQUFHLEVBQUU7UUFDOUQ4QixPQUFPLEVBQUUsSUFBSUMsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7UUFDakNkLFFBQVEsRUFBRUMsSUFBSSxDQUFDRCxRQUFRLElBQUlDLElBQUksQ0FBQ0QsUUFBUSxDQUFDbEIsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUdtQixJQUFJLENBQUNELFFBQVEsR0FBRztNQUM3RSxDQUFDO01BRUR0RCxDQUFDLENBQUNxRSxJQUFJLENBQUM7UUFDSEMsR0FBRyxFQUFFLGdCQUFnQjtRQUNyQkMsTUFBTSxFQUFFLE1BQU07UUFDZEMsV0FBVyxFQUFFLGtCQUFrQjtRQUMvQmpCLElBQUksRUFBRWtCLElBQUksQ0FBQ0MsU0FBUyxDQUFDbEIsS0FBSyxDQUFDO1FBQzNCbUIsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUEsRUFBUTtVQUNYbEYsdURBQVMsQ0FBQztZQUNObUYsS0FBSyxFQUFFLElBQUk7WUFDWEMsUUFBUSxFQUFFLFNBQVM7WUFDbkJDLElBQUksRUFBRSxTQUFTO1lBQ2ZuRSxLQUFLLEVBQUUsc0JBQXNCO1lBQzdCb0UsaUJBQWlCLEVBQUUsS0FBSztZQUN4QkMsS0FBSyxFQUFFO1VBQ1gsQ0FBQyxDQUFDO1FBQ04sQ0FBQztRQUNEQyxLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR0MsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBSztVQUNyQyxJQUFJRixHQUFHLENBQUNHLE1BQU0sS0FBSyxHQUFHLEVBQUU7WUFDcEI1Rix1REFBUyxDQUFDO2NBQ05rQixLQUFLLEVBQUUsY0FBYztjQUNyQkMsSUFBSSxFQUFFLG9EQUFvRDtjQUMxRGtFLElBQUksRUFBRSxTQUFTO2NBQ2Y1QixnQkFBZ0IsRUFBRSxJQUFJO2NBQ3RCcEMsaUJBQWlCLEVBQUUsZ0JBQWdCO2NBQ25Dd0UsZ0JBQWdCLEVBQUU7WUFDdEIsQ0FBQyxDQUFDLENBQUN0RSxJQUFJLENBQUMsVUFBQ0MsTUFBTSxFQUFLO2NBQ2hCLElBQUlBLE1BQU0sQ0FBQ0MsV0FBVyxFQUFFO2dCQUNwQnNDLEtBQUssQ0FBQytCLFNBQVMsR0FBRyxJQUFJO2dCQUN0QnZGLENBQUMsQ0FBQ3FFLElBQUksQ0FBQztrQkFDSEMsR0FBRyxFQUFFLGdCQUFnQjtrQkFDckJDLE1BQU0sRUFBRSxNQUFNO2tCQUNkQyxXQUFXLEVBQUUsa0JBQWtCO2tCQUMvQmpCLElBQUksRUFBRWtCLElBQUksQ0FBQ0MsU0FBUyxDQUFDbEIsS0FBSyxDQUFDO2tCQUMzQm1CLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7b0JBQ1hsRix1REFBUyxDQUFDO3NCQUNObUYsS0FBSyxFQUFFLElBQUk7c0JBQ1hDLFFBQVEsRUFBRSxTQUFTO3NCQUNuQkMsSUFBSSxFQUFFLFNBQVM7c0JBQ2ZuRSxLQUFLLEVBQUUsb0JBQW9CO3NCQUMzQm9FLGlCQUFpQixFQUFFLEtBQUs7c0JBQ3hCQyxLQUFLLEVBQUU7b0JBQ1gsQ0FBQyxDQUFDO2tCQUNOLENBQUM7a0JBQ0RDLEtBQUssRUFBRSxTQUFQQSxLQUFLQSxDQUFHTyxZQUFZLEVBQUVDLG1CQUFtQixFQUFFQyxvQkFBb0IsRUFBSztvQkFDaEUxSCxxREFBTyxDQUFDMkgsZUFBZSxDQUFDSCxZQUFZLEVBQUVDLG1CQUFtQixFQUFFQyxvQkFBb0IsRUFBRSwyQkFBMkIsQ0FBQztrQkFDakg7Z0JBQ0osQ0FBQyxDQUFDO2NBQ047WUFDSixDQUFDLENBQUM7VUFDTixDQUFDLE1BQU07WUFDSDFILHFEQUFPLENBQUMySCxlQUFlLENBQUNULEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUUsc0JBQXNCLENBQUM7VUFDakY7UUFDSjtNQUNKLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQyxDQUFDO0FBQ04sQ0FBQzs7QUFFRDtBQUNBLElBQU1uQyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CQSxDQUFBLEVBQVM7RUFDOUJqRCxDQUFDLENBQUNxRSxJQUFJLENBQUM7SUFDSEMsR0FBRyxFQUFFLGNBQWM7SUFDbkJDLE1BQU0sRUFBRSxLQUFLO0lBQ2JJLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFHdEIsSUFBSSxFQUFLO01BQ2YsSUFBSXVDLFNBQVMsR0FBRzVGLENBQUMsQ0FBQywyQkFBMkIsQ0FBQztNQUM5QzRGLFNBQVMsQ0FBQ0MsS0FBSyxDQUFDLENBQUM7TUFDakIsSUFBSXhDLElBQUksQ0FBQ3lDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDakJGLFNBQVMsQ0FBQ0csTUFBTSxDQUFDLHNCQUFzQixDQUFDO1FBQ3hDMUMsSUFBSSxDQUFDdEIsT0FBTyxDQUFDLFVBQUFpRSxHQUFHLEVBQUk7VUFDaEIsSUFBTUMsR0FBRyxHQUFHakcsQ0FBQyxDQUFDLGtHQUFrRyxDQUFDO1VBQ2pIaUcsR0FBRyxDQUFDckYsSUFBSSxDQUFDb0YsR0FBRyxDQUFDO1VBQ2JDLEdBQUcsQ0FBQ0MsRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFNO1lBQ2xCLElBQUlDLE9BQU8sR0FBR25HLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7WUFDbEMsSUFBSWtHLE9BQU8sR0FBR0QsT0FBTyxHQUFHQSxPQUFPLENBQUNwQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxVQUFBcUMsQ0FBQztjQUFBLE9BQUlBLENBQUMsQ0FBQ2pFLElBQUksQ0FBQyxDQUFDO1lBQUEsRUFBQyxDQUFDa0UsTUFBTSxDQUFDQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQ2xGLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxRQUFRLENBQUNSLEdBQUcsQ0FBQyxFQUFFO2NBQ3hCSSxPQUFPLENBQUNLLElBQUksQ0FBQ1QsR0FBRyxDQUFDO2NBQ2pCaEcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDRSxHQUFHLENBQUNrRyxPQUFPLENBQUNNLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxQztVQUNKLENBQUMsQ0FBQztVQUNGZCxTQUFTLENBQUNHLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDO1FBQ3pCLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQztJQUNEaEIsS0FBSyxFQUFFLFNBQVBBLEtBQUtBLENBQUcwQixHQUFHLEVBQUs7TUFDWnRFLE9BQU8sQ0FBQzRDLEtBQUssQ0FBQyxpQ0FBaUMsRUFBRTBCLEdBQUcsQ0FBQztJQUN6RDtFQUNKLENBQUMsQ0FBQztBQUNOLENBQUM7O0FBRUQ7QUFDTyxJQUFNQyxVQUFVLEdBQUcsU0FBYkEsVUFBVUEsQ0FBQSxFQUFTO0VBQzVCO0VBQ0E1RyxDQUFDLENBQUMwQixRQUFRLENBQUMsQ0FBQ3dFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsWUFBVztJQUNuRCxJQUFNdEcsWUFBWSxHQUFHSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUN1RCxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzdDLElBQU0xRCxXQUFXLEdBQUdHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQ3VELElBQUksQ0FBQyxTQUFTLENBQUM7SUFDM0M1RCxzQkFBc0IsQ0FBQ0MsWUFBWSxFQUFFQyxXQUFXLENBQUM7RUFDckQsQ0FBQyxDQUFDOztFQUVGO0VBQ0FHLENBQUMsQ0FBQzBCLFFBQVEsQ0FBQyxDQUFDd0UsRUFBRSxDQUFDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxVQUFDM0YsQ0FBQyxFQUFLO0lBQzlDQSxDQUFDLENBQUNzRyxlQUFlLENBQUMsQ0FBQztJQUNuQixJQUFNQyxJQUFJLEdBQUc5RyxDQUFDLENBQUNPLENBQUMsQ0FBQ3dHLGFBQWEsQ0FBQyxDQUFDeEQsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM1QyxJQUFNeUQsT0FBTyxHQUFHN0ksOERBQVcsQ0FBQzhJLGlCQUFpQixDQUFDSCxJQUFJLENBQUM7SUFDbkR0SCx5REFBa0IsQ0FBQ3dILE9BQU8sRUFBRSxNQUFNLENBQUM7RUFDdkMsQ0FBQyxDQUFDOztFQUVGO0VBQ0FoSCxDQUFDLENBQUMwQixRQUFRLENBQUMsQ0FBQ3dFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsVUFBQzNGLENBQUMsRUFBSztJQUNuREEsQ0FBQyxDQUFDc0csZUFBZSxDQUFDLENBQUM7SUFDbkIsSUFBTUcsT0FBTyxHQUFHaEgsQ0FBQyxDQUFDTyxDQUFDLENBQUN3RyxhQUFhLENBQUMsQ0FBQ3hELElBQUksQ0FBQyxTQUFTLENBQUM7SUFDbEQvRCx5REFBa0IsQ0FBQ3dILE9BQU8sRUFBRSxNQUFNLENBQUM7RUFDdkMsQ0FBQyxDQUFDOztFQUVGO0VBQ0FoSCxDQUFDLENBQUMwQixRQUFRLENBQUMsQ0FBQ3dFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsWUFBWTtJQUNyRCxJQUFNZ0IsVUFBVSxHQUFHbEgsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDbUgsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUNqRCxJQUFNQyxXQUFXLEdBQUdGLFVBQVUsQ0FBQ0csSUFBSSxDQUFDLHVEQUF1RCxDQUFDO0lBQzVGLElBQU1DLElBQUksR0FBR3RILENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDcEJzSCxJQUFJLENBQUMxRyxJQUFJLENBQUMwRyxJQUFJLENBQUMxRyxJQUFJLENBQUMsQ0FBQyxLQUFLLFdBQVcsR0FBRyxXQUFXLEdBQUcsV0FBVyxDQUFDO0lBQ2xFd0csV0FBVyxDQUFDRyxNQUFNLENBQUMsQ0FBQztFQUN4QixDQUFDLENBQUM7O0VBRUY7RUFDQXZILENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUM5QixJQUFNc0IsU0FBUyxHQUFHeEgsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDWSxJQUFJLENBQUMsQ0FBQztJQUN6Q3BCLCtEQUF3QixDQUFDZ0ksU0FBUyxDQUFDO0VBQ3ZDLENBQUMsQ0FBQzs7RUFFRjtFQUNBOUYsUUFBUSxDQUFDZ0csZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsWUFBTTtJQUMvQyxJQUFNQyxNQUFNLEdBQUdqRyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7SUFDbkQsSUFBTWlHLEdBQUcsR0FBR0MsTUFBTSxDQUFDQyxZQUFZLENBQUMsQ0FBQztJQUNqQyxJQUFJRixHQUFHLENBQUNHLFVBQVUsR0FBRyxDQUFDLElBQUlKLE1BQU0sQ0FBQ0ssUUFBUSxDQUFDSixHQUFHLENBQUNLLFVBQVUsQ0FBQyxFQUFFO01BQ3ZEbEssc0RBQUssQ0FBQ21LLFNBQVMsR0FBR04sR0FBRyxDQUFDTyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDO0VBQ0osQ0FBQyxDQUFDOztFQUVGO0VBQ0FuSSxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUVqSSxrREFBSyxDQUFDbUssUUFBUSxDQUFDLFlBQVk7SUFDM0QsSUFBTUMsU0FBUyxHQUFHckksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDRSxHQUFHLENBQUMsQ0FBQztJQUMvQixJQUFNb0ksU0FBUyxHQUFHdEksQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUNzSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMURsSyxpRkFBMEIsQ0FBQyx1QkFBdUIsRUFBRSxZQUFZLEVBQUVpSyxTQUFTLENBQUM7SUFDNUVySSxDQUFDLENBQUMsMEJBQTBCLENBQUMsQ0FBQ1ksSUFBSSxDQUFDLE9BQU8sR0FBR3lILFNBQVMsR0FBRyxHQUFHLENBQUM7O0lBRTdEO0lBQ0EsSUFBSUEsU0FBUyxJQUFJQyxTQUFTLEtBQUssQ0FBQyxFQUFFO01BQzlCdEksQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUNzSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QztFQUNKLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztFQUVQdEksQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFakksa0RBQUssQ0FBQ21LLFFBQVEsQ0FBQyxZQUFZO0lBQ2hFLElBQU1DLFNBQVMsR0FBR3JJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7SUFDL0IsSUFBTW9JLFNBQVMsR0FBR3RJLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ3NJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoRGxLLGlGQUEwQixDQUFDLDRCQUE0QixFQUFFLGlCQUFpQixFQUFFaUssU0FBUyxDQUFDO0lBQ3RGckksQ0FBQyxDQUFDLCtCQUErQixDQUFDLENBQUNZLElBQUksQ0FBQyxPQUFPLEdBQUd5SCxTQUFTLEdBQUcsR0FBRyxDQUFDOztJQUVsRTtJQUNBLElBQUlBLFNBQVMsSUFBSUMsU0FBUyxLQUFLLENBQUMsRUFBRTtNQUM5QnRJLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ3NJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25DO0VBQ0osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDOztFQUVQO0VBQ0FsSyxpRkFBMEIsQ0FBQyx1QkFBdUIsRUFBRSxZQUFZLEVBQUVMLHNEQUFLLENBQUNvQyx3QkFBd0IsQ0FBQztFQUNqRy9CLGlGQUEwQixDQUFDLDRCQUE0QixFQUFFLGlCQUFpQixFQUFFTCxzREFBSyxDQUFDd0ssNkJBQTZCLENBQUM7O0VBRWhIO0VBQ0F2SSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFakksa0RBQUssQ0FBQ21LLFFBQVEsQ0FBQyxZQUFNO0lBQzdDcEsscURBQU8sQ0FBQ3dLLG9CQUFvQixDQUFDLENBQUM7RUFDbEMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDOztFQUVSO0VBQ0F4SSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNrRyxFQUFFLENBQUMsUUFBUSxFQUFFLFlBQU07SUFDaENsSSxxREFBTyxDQUFDd0ssb0JBQW9CLENBQUMsQ0FBQztFQUNsQyxDQUFDLENBQUM7O0VBRUY7RUFDQXhJLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFZO0lBQy9Dbkksc0RBQUssQ0FBQzBLLFNBQVMsR0FBRyxjQUFjO0lBQ2hDekksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDMkMsV0FBVyxDQUFDLHVCQUF1QixDQUFDLENBQUNDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQztJQUM1RTVDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDMkMsV0FBVyxDQUFDLHFCQUFxQixDQUFDLENBQUNDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztJQUN6RjNELDJEQUFhLENBQUMsQ0FBQztFQUNuQixDQUFDLENBQUM7O0VBRUY7RUFDQWUsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQVk7SUFDekNuSSxzREFBSyxDQUFDMEssU0FBUyxHQUFHLFFBQVE7SUFDMUJ6SSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMyQyxXQUFXLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLHFCQUFxQixDQUFDO0lBQzVFNUMsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMyQyxXQUFXLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLHVCQUF1QixDQUFDO0lBQy9GM0QsMkRBQWEsQ0FBQyxDQUFDO0VBQ25CLENBQUMsQ0FBQzs7RUFFRjtFQUNBZSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMwSSxZQUFZLENBQUM7SUFDekJDLE1BQU0sRUFBRSxTQUFSQSxNQUFNQSxDQUFZQyxPQUFPLEVBQUVDLFFBQVEsRUFBRTtNQUNqQzdJLENBQUMsQ0FBQ3FFLElBQUksQ0FBQztRQUNIQyxHQUFHLEVBQUUsY0FBYztRQUNuQkMsTUFBTSxFQUFFLEtBQUs7UUFDYnVFLFFBQVEsRUFBRSxNQUFNO1FBQ2hCbkUsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUd0QixJQUFJLEVBQUs7VUFDZixJQUFNMEYsWUFBWSxHQUFHL0ksQ0FBQyxDQUFDZ0osRUFBRSxDQUFDTixZQUFZLENBQUNwQyxNQUFNLENBQUNqRCxJQUFJLEVBQUV1RixPQUFPLENBQUNLLElBQUksQ0FBQztVQUNqRUosUUFBUSxDQUFDRSxZQUFZLENBQUM7UUFDMUIsQ0FBQztRQUNEOUQsS0FBSyxFQUFFLFNBQVBBLEtBQUtBLENBQUcwQixHQUFHLEVBQUs7VUFDWnRFLE9BQU8sQ0FBQzRDLEtBQUssQ0FBQyxzQ0FBc0MsRUFBRTBCLEdBQUcsQ0FBQztVQUMxRGtDLFFBQVEsQ0FBQyxFQUFFLENBQUM7UUFDaEI7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDO0lBQ0RLLFNBQVMsRUFBRSxDQUFDO0lBQ1pDLE1BQU0sRUFBRSxTQUFSQSxNQUFNQSxDQUFHQyxLQUFLLEVBQUVKLEVBQUUsRUFBSztNQUNuQmhKLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ0UsR0FBRyxDQUFDOEksRUFBRSxDQUFDSyxJQUFJLENBQUNsSCxLQUFLLENBQUM7TUFDbENuQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUNzSixLQUFLLENBQUMsQ0FBQztNQUMxQixPQUFPLEtBQUs7SUFDaEI7RUFDSixDQUFDLENBQUM7O0VBRUY7RUFDQXRKLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUNqQ2xJLHFEQUFPLENBQUN3SyxvQkFBb0IsQ0FBQyxDQUFDO0VBQ2xDLENBQUMsQ0FBQzs7RUFFRjtFQUNBeEksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFNO0lBQy9CLElBQU1zQixTQUFTLEdBQUd4SCxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNZLElBQUksQ0FBQyxDQUFDO0lBQ3pDLElBQU1ELEtBQUssR0FBR1gsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDWSxJQUFJLENBQUMsQ0FBQztJQUN2QyxJQUFNd0MsTUFBTSxHQUFHcEQsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUNZLElBQUksQ0FBQyxDQUFDO0lBQ3pDLElBQU0ySSxPQUFPLEdBQUdsSyw2RUFBb0IsQ0FBQ3NCLEtBQUssRUFBRXlDLE1BQU0sRUFBRW9FLFNBQVMsQ0FBQztJQUU5RGhJLCtEQUF3QixDQUFDK0osT0FBTyxDQUFDLENBQzVCdkksSUFBSSxDQUFDLFVBQUEyRCxPQUFPLEVBQUk7TUFDYixJQUFJQSxPQUFPLEVBQUU7UUFDVG5GLHlEQUFrQixDQUFDLDRCQUE0QixDQUFDO01BQ3BELENBQUMsTUFBTTtRQUNIQSx5REFBa0IsQ0FBQyxhQUFhLEVBQUUsNkNBQTZDLENBQUM7TUFDcEY7SUFDSixDQUFDLENBQUM7RUFDVixDQUFDLENBQUM7O0VBRUY7RUFDQVEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFNO0lBQzlCN0gsZ0ZBQXlCLENBQUMsQ0FBQztJQUMzQk4sc0RBQUssQ0FBQzBDLHNCQUFzQixHQUFHLElBQUk7RUFDdkMsQ0FBQyxDQUFDOztFQUVGO0VBQ0FULENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFNO0lBQ25DbEcsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDc0osS0FBSyxDQUFDLENBQUM7RUFDN0IsQ0FBQyxDQUFDO0VBRUZ0SixDQUFDLENBQUMsY0FBYyxDQUFDLENBQUNrRyxFQUFFLENBQUMsUUFBUSxFQUFFLFlBQVk7SUFDdkMsSUFBTXVELElBQUksR0FBRyxJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDMUIsSUFBSSxDQUFDRCxJQUFJLEVBQUU7SUFDWCxJQUFNRSxNQUFNLEdBQUcsSUFBSUMsVUFBVSxDQUFDLENBQUM7SUFDL0JELE1BQU0sQ0FBQ0UsTUFBTSxHQUFHLFVBQUN0SixDQUFDLEVBQUs7TUFDbkIsSUFBTWdKLE9BQU8sR0FBR2hKLENBQUMsQ0FBQ3VKLE1BQU0sQ0FBQzdJLE1BQU07TUFDL0IsSUFBTThJLFNBQVMsR0FBRzNLLHVFQUFjLENBQUNtSyxPQUFPLENBQUM7TUFFekN2SixDQUFDLENBQUMsYUFBYSxDQUFDLENBQUNFLEdBQUcsQ0FBQzZKLFNBQVMsQ0FBQ3BKLEtBQUssQ0FBQztNQUNyQ1gsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDRSxHQUFHLENBQUM2SixTQUFTLENBQUMzRyxNQUFNLENBQUM7TUFDdkNwRCxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMrQyxJQUFJLENBQUNnSCxTQUFTLENBQUNSLE9BQU8sQ0FBQzs7TUFFdkM7TUFDQXhMLHNEQUFLLENBQUMwRSxTQUFTLEdBQUcsRUFBRTtNQUNwQjFFLHNEQUFLLENBQUM2RixjQUFjLEdBQUcsQ0FBQyxDQUFDO01BQ3pCN0Ysc0RBQUssQ0FBQ2lNLGdCQUFnQixHQUFHLENBQUM7TUFDMUJqTSxzREFBSyxDQUFDOEYsaUJBQWlCLEdBQUcsQ0FBQztNQUMzQjlGLHNEQUFLLENBQUMyRSxhQUFhLEdBQUcsQ0FBQyxDQUFDO01BQ3hCM0Usc0RBQUssQ0FBQytELFVBQVUsR0FBRyxDQUFDLENBQUM7TUFDckIvRCxzREFBSyxDQUFDK0Ysa0JBQWtCLEdBQUcsRUFBRTtNQUU3QnpGLGdGQUF5QixDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUNEc0wsTUFBTSxDQUFDTSxVQUFVLENBQUNSLElBQUksQ0FBQztFQUMzQixDQUFDLENBQUM7O0VBRUY7RUFDQXpKLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUM5QixJQUFNcUQsT0FBTyxHQUFHdkosQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDK0MsSUFBSSxDQUFDLENBQUM7SUFDdEMsSUFBSSxDQUFDd0csT0FBTyxDQUFDbkgsSUFBSSxDQUFDLENBQUMsRUFBRTtNQUNqQjVDLHlEQUFrQixDQUFDLGFBQWEsRUFBRSx5Q0FBeUMsQ0FBQztNQUM1RTtJQUNKO0lBQ0FuQixnRkFBeUIsQ0FBQyxDQUFDO0lBQzNCTixzREFBSyxDQUFDNEYsU0FBUyxHQUFHckYseUVBQWtCLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUNQLHNEQUFLLENBQUMwRSxTQUFTLENBQUNxRCxNQUFNLEVBQUU7TUFDekJ0Ryx5REFBa0IsQ0FBQyxpQkFBaUIsRUFBRSxxQ0FBcUMsQ0FBQztNQUM1RTtJQUNKO0lBQ0FQLDJEQUFhLENBQUMsQ0FBQztJQUNmZSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMyQyxXQUFXLENBQUMsUUFBUSxDQUFDO0lBQ2xDM0MsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDNEMsUUFBUSxDQUFDLFFBQVEsQ0FBQztFQUNuQyxDQUFDLENBQUM7O0VBRUY7RUFDQTVDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRTFFLG1CQUFtQixDQUFDOztFQUVwRDtFQUNBeEIsQ0FBQyxDQUFDLG1DQUFtQyxDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFNUYsb0JBQW9CLENBQUM7O0VBRXhFO0VBQ0FOLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUzRSxlQUFlLENBQUM7O0VBRS9DO0VBQ0F2QixDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUNyQ2pILDJEQUFhLENBQUMsQ0FBQztJQUNmZSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM0QyxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQy9CNUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDMkMsV0FBVyxDQUFDLFFBQVEsQ0FBQztFQUN0QyxDQUFDLENBQUM7RUFFRjNDLENBQUMsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFNO0lBQ2pEbEcsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUM0QyxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQ3hDNUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDMkMsV0FBVyxDQUFDLFFBQVEsQ0FBQztFQUN0QyxDQUFDLENBQUM7O0VBRUY7RUFDQTNDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRXJELHFCQUFxQixDQUFDOztFQUV4RDtFQUNBN0MsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07SUFDbEMsSUFBTXNCLFNBQVMsR0FBR3hILENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQ1ksSUFBSSxDQUFDLENBQUM7SUFDekMsSUFBTUQsS0FBSyxHQUFHWCxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUNZLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLElBQU13QyxNQUFNLEdBQUdwRCxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ1ksSUFBSSxDQUFDLENBQUM7SUFDekMsSUFBTTJJLE9BQU8sR0FBR2xLLDZFQUFvQixDQUFDc0IsS0FBSyxFQUFFeUMsTUFBTSxFQUFFb0UsU0FBUyxDQUFDO0lBQzlELElBQU0wQyxRQUFRLEdBQUc1SyxnRkFBdUIsQ0FBQ3FCLEtBQUssQ0FBQztJQUUvQ25CLGdFQUF5QixDQUFDK0osT0FBTyxFQUFFVyxRQUFRLENBQUM7RUFDaEQsQ0FBQyxDQUFDOztFQUVGO0VBQ0FsSyxDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUN2Q2xJLHFEQUFPLENBQUNvTSwrQkFBK0IsQ0FBQyxDQUFDO0VBQzdDLENBQUMsQ0FBQzs7RUFFRjtFQUNBcEssQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07SUFDdENsSSxxREFBTyxDQUFDd0ssb0JBQW9CLENBQUMsQ0FBQztJQUM5QnhJLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDQyxLQUFLLENBQUMsTUFBTSxDQUFDO0VBQ3pDLENBQUMsQ0FBQztFQUVGRCxDQUFDLENBQUMwQixRQUFRLENBQUMsQ0FBQ3dFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsWUFBWTtJQUN0RCxJQUFNbUUsS0FBSyxHQUFHckssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDdUQsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUNuQ3ZELENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ3JDakMscURBQU8sQ0FBQ3NNLGNBQWMsQ0FBQ0QsS0FBSyxFQUFFLE1BQU0sQ0FBQztFQUN6QyxDQUFDLENBQUM7RUFFRnJLLENBQUMsQ0FBQzBCLFFBQVEsQ0FBQyxDQUFDd0UsRUFBRSxDQUFDLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxZQUFZO0lBQ3RELElBQU1tRSxLQUFLLEdBQUdySyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUN1RCxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ25DdkQsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUNDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDckNqQyxxREFBTyxDQUFDc00sY0FBYyxDQUFDRCxLQUFLLEVBQUUsTUFBTSxDQUFDO0VBQ3pDLENBQUMsQ0FBQztFQUVGckssQ0FBQyxDQUFDMEIsUUFBUSxDQUFDLENBQUN3RSxFQUFFLENBQUMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLFlBQVk7SUFDeEQsSUFBTXZGLEtBQUssR0FBR1gsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDdUQsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUNuQy9ELDZEQUFzQixDQUFDO01BQ25CbUIsS0FBSyxFQUFFLGVBQWU7TUFDdEJDLElBQUksRUFBRSxtREFBbUQ7TUFDekRFLGlCQUFpQixFQUFFO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUMsVUFBQ0MsTUFBTSxFQUFLO01BQ2hCLElBQUlBLE1BQU0sQ0FBQ0MsV0FBVyxFQUFFbEQscURBQU8sQ0FBQ3VNLGdCQUFnQixDQUFDNUosS0FBSyxDQUFDO0lBQzNELENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQzs7RUFFRjtFQUNBWCxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUNrRyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07SUFDakMsSUFBTXNFLE1BQU0sR0FBR0MsUUFBUSxDQUFDekssQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUNwRCxJQUFJLENBQUNuQyxzREFBSyxDQUFDMk0sY0FBYyxFQUFFO01BQ3ZCbEwseURBQWtCLENBQUMsT0FBTyxFQUFFLHFCQUFxQixDQUFDO01BQ2xEO0lBQ0o7SUFDQVEsQ0FBQyxDQUFDcUUsSUFBSSxDQUFDO01BQ0hDLEdBQUcsRUFBRSxnQkFBZ0I7TUFDckJDLE1BQU0sRUFBRSxNQUFNO01BQ2RDLFdBQVcsRUFBRSxrQkFBa0I7TUFDL0JqQixJQUFJLEVBQUVrQixJQUFJLENBQUNDLFNBQVMsQ0FBQztRQUFFaUcsT0FBTyxFQUFFNU0sc0RBQUssQ0FBQzJNLGNBQWM7UUFBRUYsTUFBTSxFQUFOQTtNQUFPLENBQUMsQ0FBQztNQUMvRDdGLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFHcEIsSUFBSSxFQUFLO1FBQ2YvRCx5REFBa0IsdUNBQUErQyxNQUFBLENBQXVDZ0IsSUFBSSxDQUFDaUgsTUFBTSxDQUFDSSxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQUFySSxNQUFBLENBQUtnQixJQUFJLENBQUNzSCxXQUFXLFlBQVMsQ0FBQztNQUNsSCxDQUFDO01BQ0Q1RixLQUFLLEVBQUUsU0FBUEEsS0FBS0EsQ0FBR0MsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBSztRQUNyQ3BILHFEQUFPLENBQUMySCxlQUFlLENBQUNULEdBQUcsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUUsc0JBQXNCLENBQUM7TUFDakY7SUFDSixDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7O0VBRUY7RUFDQXBGLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxTQUFTLEVBQUUsVUFBQzNGLENBQUMsRUFBSztJQUNqQyxJQUFNcUgsR0FBRyxHQUFHQyxNQUFNLENBQUNDLFlBQVksQ0FBQyxDQUFDO0lBQ2pDLElBQUlGLEdBQUcsQ0FBQ0csVUFBVSxFQUFFO01BQ2hCLElBQUkrQyxLQUFLLEdBQUdsRCxHQUFHLENBQUNPLFVBQVUsQ0FBQyxDQUFDLENBQUM7TUFDN0IsSUFBSTVILENBQUMsQ0FBQ3dLLEdBQUcsS0FBSyxZQUFZLEVBQUU7UUFDeEIsSUFBSUMsSUFBSSxHQUFHcEQsR0FBRyxDQUFDSyxVQUFVO1FBQ3pCLElBQUkrQyxJQUFJLENBQUNDLFFBQVEsS0FBS0MsSUFBSSxDQUFDQyxTQUFTLElBQUlILElBQUksQ0FBQ0ksVUFBVSxDQUFDQyxTQUFTLENBQUNyRCxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUU7VUFDdkYsSUFBSUosR0FBRyxDQUFDMEQsWUFBWSxJQUFJTixJQUFJLENBQUNPLFNBQVMsQ0FBQ3pGLE1BQU0sRUFBRTtZQUMzQ3ZGLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLENBQUM7WUFDbEIsSUFBSWdMLFdBQVcsR0FBR1IsSUFBSSxDQUFDSSxVQUFVO1lBQ2pDLElBQUlLLFFBQVEsR0FBRy9KLFFBQVEsQ0FBQ2dLLFdBQVcsQ0FBQyxDQUFDO1lBQ3JDRCxRQUFRLENBQUNFLGFBQWEsQ0FBQ0gsV0FBVyxDQUFDO1lBQ25DQyxRQUFRLENBQUNHLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDdkJoRSxHQUFHLENBQUNpRSxlQUFlLENBQUMsQ0FBQztZQUNyQmpFLEdBQUcsQ0FBQ2tFLFFBQVEsQ0FBQ0wsUUFBUSxDQUFDO1VBQzFCO1FBQ0o7TUFDSjtNQUNBLElBQUlsTCxDQUFDLENBQUN3SyxHQUFHLEtBQUssV0FBVyxFQUFFO1FBQ3ZCLElBQUlDLEtBQUksR0FBR3BELEdBQUcsQ0FBQ0ssVUFBVTtRQUN6QixJQUFJK0MsS0FBSSxDQUFDQyxRQUFRLEtBQUtDLElBQUksQ0FBQ0MsU0FBUyxJQUFJSCxLQUFJLENBQUNJLFVBQVUsQ0FBQ0MsU0FBUyxDQUFDckQsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJSixHQUFHLENBQUMwRCxZQUFZLEtBQUssQ0FBQyxFQUFFO1VBQ2pIL0ssQ0FBQyxDQUFDQyxjQUFjLENBQUMsQ0FBQztVQUNsQixJQUFJZ0wsWUFBVyxHQUFHUixLQUFJLENBQUNJLFVBQVU7VUFDakMsSUFBSUssU0FBUSxHQUFHL0osUUFBUSxDQUFDZ0ssV0FBVyxDQUFDLENBQUM7VUFDckNELFNBQVEsQ0FBQ00sY0FBYyxDQUFDUCxZQUFXLENBQUM7VUFDcENDLFNBQVEsQ0FBQ0csUUFBUSxDQUFDLElBQUksQ0FBQztVQUN2QmhFLEdBQUcsQ0FBQ2lFLGVBQWUsQ0FBQyxDQUFDO1VBQ3JCakUsR0FBRyxDQUFDa0UsUUFBUSxDQUFDTCxTQUFRLENBQUM7UUFDMUI7TUFDSjtJQUNKO0VBQ0osQ0FBQyxDQUFDOztFQUVGO0VBQ0F6TCxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUN0Q2xHLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDQyxLQUFLLENBQUMsTUFBTSxDQUFDO0VBQ3hDLENBQUMsQ0FBQzs7RUFFRjtFQUNBeUIsUUFBUSxDQUFDQyxjQUFjLENBQUMsK0JBQStCLENBQUMsQ0FBQytGLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFDbkgsQ0FBQyxFQUFLO0lBQ3RGLElBQU0wRixHQUFHLEdBQUcxRixDQUFDLENBQUN1SixNQUFNLENBQUMzQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7SUFDakQsSUFBSSxDQUFDbEIsR0FBRyxFQUFFO0lBQ1YsSUFBTWhFLEVBQUUsR0FBR2dFLEdBQUcsQ0FBQy9ELFlBQVksQ0FBQyxTQUFTLENBQUM7SUFDdEMsSUFBTThKLFFBQVEsR0FBR2pPLHNEQUFLLENBQUMwRSxTQUFTLENBQUM0RSxJQUFJLENBQUMsVUFBQTRFLENBQUM7TUFBQSxPQUFJQSxDQUFDLENBQUNoSyxFQUFFLEtBQUtBLEVBQUU7SUFBQSxFQUFDO0lBQ3ZELElBQUkrSixRQUFRLEVBQUVuTiwyRUFBb0IsQ0FBQ21OLFFBQVEsQ0FBQztFQUNoRCxDQUFDLENBQUM7O0VBRUY7RUFDQWhNLENBQUMsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDa0csRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFNO0lBQzVDLElBQU1nRyxHQUFHLEdBQUdsTSxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7SUFDekMsSUFBTWlNLEtBQUssR0FBR25NLENBQUMsQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDRSxHQUFHLENBQUMsQ0FBQyxJQUFJLFNBQVM7SUFDakYsSUFBSWlNLEtBQUssS0FBSyxNQUFNLEVBQUU7TUFDbEI1TiwyRUFBb0IsQ0FBQzJOLEdBQUcsRUFBRSxNQUFNLENBQUM7TUFDakMxTiw4RUFBdUIsQ0FBQyxLQUFLLEdBQUdOLDhEQUFXLENBQUNrTyxVQUFVLENBQUNGLEdBQUcsQ0FBQyxFQUFFaE8sOERBQVcsQ0FBQ21PLGNBQWMsQ0FBQ0gsR0FBRyxDQUFDLENBQUM7SUFDakcsQ0FBQyxNQUFNLElBQUlDLEtBQUssS0FBSyxNQUFNLEVBQUU7TUFDekI1TiwyRUFBb0IsQ0FBQzJOLEdBQUcsRUFBRSxNQUFNLENBQUM7TUFDakN6Tiw2RUFBc0IsQ0FBQyxLQUFLLEdBQUdQLDhEQUFXLENBQUNrTyxVQUFVLENBQUNGLEdBQUcsQ0FBQyxFQUFFaE8sOERBQVcsQ0FBQ21PLGNBQWMsQ0FBQ0gsR0FBRyxDQUFDLENBQUM7SUFDaEcsQ0FBQyxNQUFNO01BQ0gzTiwyRUFBb0IsQ0FBQzJOLEdBQUcsQ0FBQztNQUN6QnhOLGtGQUEyQixDQUFDd04sR0FBRyxDQUFDO0lBQ3BDO0lBQ0FsTSxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUMvQjlCLGlGQUEwQixDQUFDLHVCQUF1QixFQUFFLFlBQVksRUFBRUwsc0RBQUssQ0FBQ29DLHdCQUF3QixDQUFDO0VBQ3JHLENBQUMsQ0FBQzs7RUFFRjtFQUNBSCxDQUFDLENBQUMsK0JBQStCLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUNqRCxJQUFNZ0csR0FBRyxHQUFHbE0sQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUNFLEdBQUcsQ0FBQyxDQUFDO0lBQzlDLElBQU1pTSxLQUFLLEdBQUduTSxDQUFDLENBQUMsa0RBQWtELENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsSUFBSSxTQUFTO0lBQ3RGLElBQUlpTSxLQUFLLEtBQUssTUFBTSxFQUFFO01BQ2xCNU4sMkVBQW9CLENBQUMyTixHQUFHLEVBQUUsTUFBTSxDQUFDO01BQ2pDMU4sOEVBQXVCLENBQUMsS0FBSyxHQUFHTiw4REFBVyxDQUFDa08sVUFBVSxDQUFDRixHQUFHLENBQUMsRUFBRWhPLDhEQUFXLENBQUNtTyxjQUFjLENBQUNILEdBQUcsQ0FBQyxDQUFDO0lBQ2pHLENBQUMsTUFBTSxJQUFJQyxLQUFLLEtBQUssTUFBTSxFQUFFO01BQ3pCNU4sMkVBQW9CLENBQUMyTixHQUFHLEVBQUUsTUFBTSxDQUFDO01BQ2pDek4sNkVBQXNCLENBQUMsS0FBSyxHQUFHUCw4REFBVyxDQUFDa08sVUFBVSxDQUFDRixHQUFHLENBQUMsRUFBRWhPLDhEQUFXLENBQUNtTyxjQUFjLENBQUNILEdBQUcsQ0FBQyxDQUFDO0lBQ2hHLENBQUMsTUFBTTtNQUNIM04sMkVBQW9CLENBQUMyTixHQUFHLENBQUM7TUFDekJ4TixrRkFBMkIsQ0FBQ3dOLEdBQUcsQ0FBQztJQUNwQztJQUNBOU4saUZBQTBCLENBQUMsNEJBQTRCLEVBQUUsaUJBQWlCLEVBQUVMLHNEQUFLLENBQUN3Syw2QkFBNkIsQ0FBQztJQUNoSHZJLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ3BDRCxDQUFDLENBQUMseUJBQXlCLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUNwQzlCLGlGQUEwQixDQUFDLDRCQUE0QixFQUFFLGlCQUFpQixFQUFFTCxzREFBSyxDQUFDd0ssNkJBQTZCLENBQUM7RUFDcEgsQ0FBQyxDQUFDOztFQUVGO0VBQ0F2SSxDQUFDLENBQUMsOEJBQThCLENBQUMsQ0FBQ2tHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBWTtJQUN0RG5JLHNEQUFLLENBQUN3Syw2QkFBNkIsR0FBR3ZJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsQ0FBQ2tDLElBQUksQ0FBQyxDQUFDLENBQUNrSyxXQUFXLENBQUMsQ0FBQztJQUN4RWxPLGlGQUEwQixDQUFDLDRCQUE0QixFQUFFLGlCQUFpQixFQUFFTCxzREFBSyxDQUFDd0ssNkJBQTZCLENBQUM7RUFDcEgsQ0FBQyxDQUFDOztFQUVGO0VBQ0E7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxhbmtib29rLy4vcHVibGljL2pzL2hhbmRsZXJzL2V2ZW50cy5qcz8xZWNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9oYW5kbGVycy9ldmVudHMuanNcbmltcG9ydCBzdGF0ZSBmcm9tICcuLi9jb3JlL3N0YXRlLmpzJztcbmltcG9ydCB7IFN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL3N0b3JhZ2UuanMnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5pbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gJy4uL3V0aWxzL1N0cmluZ1V0aWxzLmpzJztcbmltcG9ydCB7IFR5cGVIZWxwZXJzIH0gZnJvbSAnLi4vdXRpbHMvdHlwZUhlbHBlcnMuanMnO1xuaW1wb3J0IHsgXG4gICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24sIFxuICAgIHVwZGF0ZVZhcmlhYmxlc0Zyb21FZGl0b3IsIFxuICAgIGdlbmVyYXRlTGVnYWN5VGV4dCxcbiAgICBhZGRDdXN0b21QbGFjZWhvbGRlcixcbiAgICBzaG93Tm91bk51bWJlclNlbGVjdGlvbixcbiAgICBzaG93VmVyYlRlbnNlU2VsZWN0aW9uLFxuICAgIGluc2VydFBsYWNlaG9sZGVyRnJvbUN1c3RvbSxcbiAgICBwaWNrUHJvbm91bkZvcm1BbmRHcm91cCxcbiAgICB1cGRhdGVWYXJpYWJsZXNMaXN0LFxuICAgIGR1cGxpY2F0ZVBsYWNlaG9sZGVyLFxuICAgIHVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIsXG4gICAgaW5zZXJ0UGxhY2Vob2xkZXIsXG4gICAgc2hvd1BlcnNvblR5cGVTZWxlY3Rpb25cbn0gZnJvbSAnLi4vY29yZS9wbGFjZWhvbGRlcnMuanMnO1xuaW1wb3J0IHsgYnVpbGRGaWxsRm9ybSwgdmFsaWRhdGVJbnB1dEZvcm0gfSBmcm9tICcuLi91aS9mb3Jtcy5qcyc7XG5pbXBvcnQgeyBcbiAgICBmaWxsUGxhY2Vob2xkZXJzLCBcbiAgICBwYXJzZVN0b3J5RmlsZSwgXG4gICAgZm9ybWF0U3RvcnlGb3JFeHBvcnQsIFxuICAgIGNyZWF0ZUZpbGVuYW1lRnJvbVRpdGxlLFxuICAgIHJlc2V0U3RvcnlTdGF0ZVxufSBmcm9tICcuLi9jb3JlL3N0b3J5UHJvY2Vzc29yLmpzJztcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJy4uL3V0aWxzL2RvbVV0aWxzLmpzJztcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJzsgLy8gRW5zdXJlIFN3YWwgaXMgaW1wb3J0ZWQgaWYgdXNlZFxuaW1wb3J0IHsgc2hvd1RvYXN0IH0gZnJvbSAnLi4vdWkvbm90aWZpY2F0aW9ucy5qcyc7XG5cbi8vIEhhbmRsZSBwbGFjZWhvbGRlciBidXR0b24gY2xpY2tcbmNvbnN0IGhhbmRsZVBsYWNlaG9sZGVyQ2xpY2sgPSAoaW50ZXJuYWxUeXBlLCBkaXNwbGF5TmFtZSkgPT4ge1xuICAgIGlmIChzdGF0ZS5pc0VkaXRpbmdQbGFjZWhvbGRlciAmJiBzdGF0ZS5jdXJyZW50RWRpdGluZ1ZhcmlhYmxlKSB7XG4gICAgICAgIHVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIoc3RhdGUuY3VycmVudEVkaXRpbmdWYXJpYWJsZSwgaW50ZXJuYWxUeXBlLCBkaXNwbGF5TmFtZSk7XG4gICAgICAgIHN0YXRlLmlzRWRpdGluZ1BsYWNlaG9sZGVyID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmN1cnJlbnRFZGl0aW5nVmFyaWFibGUgPSBudWxsO1xuICAgICAgICAkKCcjcGxhY2Vob2xkZXJNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHNwZWNpYWxpemVkIHR5cGVzIHRoYXQgaGF2ZSB0aGVpciBvd24gbW9kYWwgY2hhaW5zXG4gICAgICAgIGlmIChpbnRlcm5hbFR5cGUgPT09IFwiUFJPTk9VTlwiKSB7XG4gICAgICAgICAgICBwaWNrUHJvbm91bkZvcm1BbmRHcm91cCgpO1xuICAgICAgICAgICAgJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykudmFsKCcnKTtcbiAgICAgICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjcGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI25vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCk7XG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBhY2NvcmRpb24gY29udGFpbmVyIGFmdGVyIHNlbGVjdGluZ1xuICAgICAgICAgICAgJCgnLnBsYWNlaG9sZGVyLWFjY29yZGlvbi1jb250YWluZXInKS5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVybmFsVHlwZS5zdGFydHNXaXRoKFwiTk5cIikpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcm5hbFR5cGUgPT09IFwiTk5fUGVyc29uXCIpIHtcbiAgICAgICAgICAgICAgICBzaG93UGVyc29uVHlwZVNlbGVjdGlvbihpbnRlcm5hbFR5cGUsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICAkKCcjcGxhY2Vob2xkZXJTZWFyY2gnKS52YWwoJycpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjcGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI25vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCk7XG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgYWNjb3JkaW9uIGNvbnRhaW5lciBhZnRlciBzZWxlY3RpbmdcbiAgICAgICAgICAgICAgICAkKCcucGxhY2Vob2xkZXItYWNjb3JkaW9uLWNvbnRhaW5lcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG93Tm91bk51bWJlclNlbGVjdGlvbihpbnRlcm5hbFR5cGUsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICQoJyNwbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgnJyk7XG4gICAgICAgICAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI3BsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNub1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50UGxhY2Vob2xkZXJTZWFyY2gpO1xuICAgICAgICAgICAgLy8gSGlkZSB0aGUgYWNjb3JkaW9uIGNvbnRhaW5lciBhZnRlciBzZWxlY3RpbmdcbiAgICAgICAgICAgICQoJy5wbGFjZWhvbGRlci1hY2NvcmRpb24tY29udGFpbmVyJykuaGlkZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludGVybmFsVHlwZS5zdGFydHNXaXRoKFwiVkJcIikgfHwgaW50ZXJuYWxUeXBlID09PSBcIk1EXCIpIHtcbiAgICAgICAgICAgIHNob3dWZXJiVGVuc2VTZWxlY3Rpb24oaW50ZXJuYWxUeXBlLCBkaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICAkKCcjcGxhY2Vob2xkZXJTZWFyY2gnKS52YWwoJycpO1xuICAgICAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNwbGFjZWhvbGRlckFjY29yZGlvbicsICcjbm9SZXN1bHRzJywgc3RhdGUuY3VycmVudFBsYWNlaG9sZGVyU2VhcmNoKTtcbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIGFjY29yZGlvbiBjb250YWluZXIgYWZ0ZXIgc2VsZWN0aW5nXG4gICAgICAgICAgICAkKCcucGxhY2Vob2xkZXItYWNjb3JkaW9uLWNvbnRhaW5lcicpLmhpZGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBkaXJlY3QgcGxhY2Vob2xkZXIgaW5zZXJ0aW9uIChub24tcHJvbm91biwgbm9uLW5vdW4sIG5vbi12ZXJiKVxuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIG1vZGlmeSBzdGF0ZS5sYXN0U2VsZWN0ZWRUZXh0IGhlcmUgYXMgaXQgc2hvdWxkIGFscmVhZHkgYmUgc2V0XG4gICAgICAgIC8vIGJ5IGhhbmRsZU5ld1BsYWNlaG9sZGVyIHdoZW4gdGhlIHNlbGVjdGlvbiBtZW51IHdhcyBjbGlja2VkXG4gICAgICAgIGluc2VydFBsYWNlaG9sZGVyKGludGVybmFsVHlwZSwgZGlzcGxheU5hbWUsIGZhbHNlKTtcbiAgICAgICAgJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykudmFsKCcnKTtcbiAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNwbGFjZWhvbGRlckFjY29yZGlvbicsICcjbm9SZXN1bHRzJywgc3RhdGUuY3VycmVudFBsYWNlaG9sZGVyU2VhcmNoKTtcbiAgICAgICAgLy8gSGlkZSB0aGUgYWNjb3JkaW9uIGNvbnRhaW5lciBhZnRlciBpbnNlcnRpbmcgdGhlIHBsYWNlaG9sZGVyXG4gICAgICAgICQoJy5wbGFjZWhvbGRlci1hY2NvcmRpb24tY29udGFpbmVyJykuaGlkZSgpO1xuICAgIH1cbn07XG5cbi8vIEhhbmRsZSBjcmVhdGUgbmV3IHN0b3J5IGJ1dHRvbiBjbGlja1xuY29uc3QgaGFuZGxlQ3JlYXRlTmV3U3RvcnkgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3RhdGUuc3RvcnlIYXNVbnNhdmVkQ2hhbmdlcykge1xuICAgICAgICBkb21VdGlscy5jb25maXJtRGlhbG9nKHtcbiAgICAgICAgICAgIHRpdGxlOiAnVW5zYXZlZCBjaGFuZ2VzJyxcbiAgICAgICAgICAgIHRleHQ6ICdZb3VyIHN0b3J5IGhhcyB1bnNhdmVkIGNoYW5nZXMuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgaXQgdG8gdGhlIHNpdGUgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3IG9uZT8nLFxuICAgICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1NhdmUgYW5kIHN0YXJ0IG5ldycsXG4gICAgICAgICAgICBkZW55QnV0dG9uVGV4dDogJ0Rpc2NhcmQgY2hhbmdlcydcbiAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgU3RvcmFnZS5hZGRDdXJyZW50U3RvcnlUb1NhdmVkU3RvcmllcygpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzZXRTdG9yeVN0YXRlLCAxMDAwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmlzRGVuaWVkKSB7XG4gICAgICAgICAgICAgICAgZG9tVXRpbHMuY29uZmlybURpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdUaGlzIHdpbGwgZGlzY2FyZCB5b3VyIGN1cnJlbnQgdW5zYXZlZCBzdG9yeS4nLFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcywgc3RhcnQgbmV3J1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkKSByZXNldFN0b3J5U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tVXRpbHMuY29uZmlybURpYWxvZyh7XG4gICAgICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgICAgICAgdGV4dDogJ1RoaXMgd2lsbCBkaXNjYXJkIHlvdXIgY3VycmVudCBzdG9yeS4nLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIHN0YXJ0IG5ldydcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkKSByZXNldFN0b3J5U3RhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLy8gSGFuZGxlIGNsZWFyIGZvcm0gYnV0dG9uIGNsaWNrXG5jb25zdCBoYW5kbGVDbGVhckZvcm0gPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3RhdGUuc3RvcnlIYXNVbnNhdmVkQ2hhbmdlcykge1xuICAgICAgICBkb21VdGlscy5jb25maXJtRGlhbG9nKHtcbiAgICAgICAgICAgIHRpdGxlOiAnQ2xlYXIgRm9ybScsXG4gICAgICAgICAgICB0ZXh0OiAnWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzLiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIHlvdXIgc3RvcnkgdG8gdGhlIHNpdGUgYmVmb3JlIGNsZWFyaW5nIHRoZSBmb3JtPycsXG4gICAgICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU2F2ZSBmaXJzdCcsXG4gICAgICAgICAgICBkZW55QnV0dG9uVGV4dDogJ0NsZWFyIHdpdGhvdXQgc2F2aW5nJ1xuICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlLmFkZEN1cnJlbnRTdG9yeVRvU2F2ZWRTdG9yaWVzKCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNldFN0b3J5U3RhdGUsIDEwMDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuaXNEZW5pZWQpIHtcbiAgICAgICAgICAgICAgICBkb21VdGlscy5jb25maXJtRGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1RoaXMgd2lsbCBjbGVhciB5b3VyIGN1cnJlbnQgZm9ybSBhbmQgZGlzY2FyZCBhbGwgdW5zYXZlZCBjaGFuZ2VzLicsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBjbGVhciBmb3JtJ1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmlzQ29uZmlybWVkKSByZXNldFN0b3J5U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tVXRpbHMuY29uZmlybURpYWxvZyh7XG4gICAgICAgICAgICB0aXRsZTogJ0NsZWFyIEZvcm0nLFxuICAgICAgICAgICAgdGV4dDogJ1RoaXMgd2lsbCBjbGVhciBhbGwgY29udGVudCBmcm9tIHRoZSBjdXJyZW50IGZvcm0uIEFyZSB5b3Ugc3VyZT8nLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGNsZWFyIGZvcm0nXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5pc0NvbmZpcm1lZCkgcmVzZXRTdG9yeVN0YXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8vIEhhbmRsZSBnZW5lcmF0ZSBzdG9yeSBidXR0b24gY2xpY2tcbmNvbnN0IGhhbmRsZUdlbmVyYXRlU3RvcnkgPSAoKSA9PiB7XG4gICAgLy8gVXNlIHRoZSBmb3JtIHZhbGlkYXRpb24gZnVuY3Rpb24gZnJvbSBmb3Jtcy5qc1xuICAgIGlmICghdmFsaWRhdGVJbnB1dEZvcm0oKSkge1xuICAgICAgICByZXR1cm47IC8vIFZhbGlkYXRpb24gZmFpbGVkXG4gICAgfVxuICAgIFxuICAgIC8vIENvbGxlY3QgdmFsdWVzIGZyb20gdGhlIGlucHV0IGZvcm1cbiAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRGb3JtJyk7XG4gICAgY29uc3QgaW5wdXRzID0gaW5wdXRGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG4gICAgXG4gICAgLy8gUmVzZXQgZmlsbFZhbHVlc1xuICAgIHN0YXRlLmZpbGxWYWx1ZXMgPSB7fTtcbiAgICBcbiAgICAvLyBQb3B1bGF0ZSBmaWxsVmFsdWVzIHdpdGggdGhlIHZhbHVlcyBmcm9tIHRoZSBpbnB1dCBmaWVsZHNcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgICAgIGlmIChpZCAmJiBpbnB1dC52YWx1ZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICBzdGF0ZS5maWxsVmFsdWVzW2lkXSA9IGlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb2xsZWN0ZWQgaW5wdXQgdmFsdWUgZm9yICR7aWR9OiBcIiR7aW5wdXQudmFsdWUudHJpbSgpfVwiYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBHZW5lcmF0ZSB0aGUgZmluYWwgc3Rvcnkgd2l0aCByZXBsYWNlbWVudHNcbiAgICBsZXQgZmluYWwgPSBnZW5lcmF0ZUxlZ2FjeVRleHQoKTtcbiAgICBmaW5hbCA9IGZpbGxQbGFjZWhvbGRlcnMoZmluYWwsIHN0YXRlLnZhcmlhYmxlcywgc3RhdGUuZmlsbFZhbHVlcywgc3RhdGUucHJvbm91bkdyb3Vwcyk7XG4gICAgXG4gICAgLy8gVXBkYXRlIHRoZSByZXN1bHQgZGlzcGxheVxuICAgICQoJyNmaW5hbFN0b3J5JykudGV4dChmaW5hbCk7XG4gICAgJCgnI2Rpc3BsYXlUaXRsZScpLnRleHQoJCgnI3N0b3J5VGl0bGUnKS52YWwoKSk7XG4gICAgJCgnI2Rpc3BsYXlBdXRob3InKS50ZXh0KCQoJyNzdG9yeUF1dGhvcicpLnZhbCgpKTtcbiAgICAkKCcjZGlzcGxheVRhZ3MnKS50ZXh0KCQoJyNzdG9yeVRhZ3MnKS52YWwoKSk7XG4gICAgJCgnI3Jlc3VsdCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcjaW5wdXRzJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xufTtcblxuLy8gSGFuZGxlIHNhdmUgc3RvcnkgdG8gc2l0ZSBidXR0b25cbmNvbnN0IGhhbmRsZVNhdmVTdG9yeVRvU2l0ZSA9ICgpID0+IHtcbiAgICBTd2FsLmZpcmUoe1xuICAgICAgICB0aXRsZTogJ1NhdmUgU3RvcnknLFxuICAgICAgICBodG1sOiBgXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJzd2FsVGl0bGVcIiBjbGFzcz1cInN3YWwyLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJTdG9yeSBUaXRsZVwiIHZhbHVlPVwiJHskKCcjc3RvcnlUaXRsZScpLnZhbCgpfVwiPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwic3dhbEF1dGhvclwiIGNsYXNzPVwic3dhbDItaW5wdXRcIiBwbGFjZWhvbGRlcj1cIkF1dGhvclwiIHZhbHVlPVwiJHskKCcjc3RvcnlBdXRob3InKS52YWwoKX1cIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInN3YWxUYWdzXCIgY2xhc3M9XCJzd2FsMi1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiVGFncyAoY29tbWEgc2VwYXJhdGVkKVwiIHZhbHVlPVwiJHskKCcjc3RvcnlUYWdzJykudmFsKCl9XCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwic3dhbFBhc3N3b3JkXCIgY2xhc3M9XCJzd2FsMi1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmQgKG9wdGlvbmFsKVwiPlxuICAgICAgICAgIDxkaXYgaWQ9XCJwcmVleGlzdGluZ1RhZ3NDb250YWluZXJcIiBzdHlsZT1cInRleHQtYWxpZ246bGVmdDsgbWFyZ2luLXRvcDoxMHB4O1wiPjwvZGl2PlxuICAgICAgICBgLFxuICAgICAgICBkaWRPcGVuOiAoKSA9PiB7XG4gICAgICAgICAgbG9hZFByZWV4aXN0aW5nVGFncygpO1xuICAgICAgICB9LFxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1NhdmUnLFxuICAgICAgICBwcmVDb25maXJtOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dhbFRpdGxlJykudmFsdWUsXG4gICAgICAgICAgICBhdXRob3I6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2FsQXV0aG9yJykudmFsdWUsXG4gICAgICAgICAgICB0YWdzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dhbFRhZ3MnKS52YWx1ZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dhbFBhc3N3b3JkJykudmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZmllbGRzIGluIHRoZSBlZGl0b3JcbiAgICAgICAgICAgICQoJyNzdG9yeVRpdGxlJykudmFsKGRhdGEudGl0bGUpO1xuICAgICAgICAgICAgJCgnI3N0b3J5QXV0aG9yJykudmFsKGRhdGEuYXV0aG9yKTtcbiAgICAgICAgICAgICQoJyNzdG9yeVRhZ3MnKS52YWwoZGF0YS50YWdzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHN0b3J5ID0ge1xuICAgICAgICAgICAgICAgIHN0b3J5VGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICAgICAgICAgICAgc3RvcnlBdXRob3I6IGRhdGEuYXV0aG9yLFxuICAgICAgICAgICAgICAgIHN0b3J5VGV4dDogJCgnI3N0b3J5VGV4dCcpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHN0YXRlLnZhcmlhYmxlcyxcbiAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBzOiBzdGF0ZS5wcm9ub3VuR3JvdXBzLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlQ291bnRzOiBzdGF0ZS52YXJpYWJsZUNvdW50cyxcbiAgICAgICAgICAgICAgICBwcm9ub3VuR3JvdXBDb3VudDogc3RhdGUucHJvbm91bkdyb3VwQ291bnQsXG4gICAgICAgICAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXJzOiBzdGF0ZS5jdXN0b21QbGFjZWhvbGRlcnMsXG4gICAgICAgICAgICAgICAgdGFnczogZGF0YS50YWdzID8gZGF0YS50YWdzLnNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpIDogW10sXG4gICAgICAgICAgICAgICAgc2F2ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkICYmIGRhdGEucGFzc3dvcmQudHJpbSgpICE9PSAnJyA/IGRhdGEucGFzc3dvcmQgOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJy9hcGkvc2F2ZXN0b3J5JyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHN0b3J5KSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N0b3J5IHNhdmVkIHRvIHNpdGUhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6ICh4aHIsIHN0YXR1c1RleHQsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9yeSBleGlzdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBIHN0b3J5IHdpdGggdGhpcyB0aXRsZSBhbHJlYWR5IGV4aXN0cy4gT3ZlcndyaXRlPycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIG92ZXJ3cml0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ05vJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yeS5vdmVyd3JpdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS9zYXZlc3RvcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc3RvcnkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3Rvcnkgb3ZlcndyaXR0ZW4hJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoeGhyT3ZlcndyaXRlLCBzdGF0dXNUZXh0T3ZlcndyaXRlLCBlcnJvclRocm93bk92ZXJ3cml0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0b3JhZ2UuaGFuZGxlQWpheEVycm9yKHhock92ZXJ3cml0ZSwgc3RhdHVzVGV4dE92ZXJ3cml0ZSwgZXJyb3JUaHJvd25PdmVyd3JpdGUsICdGYWlsZWQgdG8gb3ZlcndyaXRlIHN0b3J5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZS5oYW5kbGVBamF4RXJyb3IoeGhyLCBzdGF0dXNUZXh0LCBlcnJvclRocm93biwgJ0ZhaWxlZCB0byBzYXZlIHN0b3J5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLy8gTG9hZCBwcmVleGlzdGluZyB0YWdzIGZvciB0YWcgc2VsZWN0b3JcbmNvbnN0IGxvYWRQcmVleGlzdGluZ1RhZ3MgPSAoKSA9PiB7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL2FwaS9nZXR0YWdzJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgc3VjY2VzczogKHRhZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSAkKCcjcHJlZXhpc3RpbmdUYWdzQ29udGFpbmVyJyk7XG4gICAgICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICAgICAgICAgIGlmICh0YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKCc8cD5TZWxlY3QgYSB0YWc6PC9wPicpO1xuICAgICAgICAgICAgICAgIHRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidG4gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IG0tMSBwcmVleGlzdGluZy10YWctYnRuXCI+PC9idXR0b24+Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0KHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9ICQoJyNzd2FsVGFncycpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ3NBcnIgPSBjdXJyZW50ID8gY3VycmVudC5zcGxpdCgnLCcpLm1hcCh0ID0+IHQudHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFnc0Fyci5pbmNsdWRlcyh0YWcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc0Fyci5wdXNoKHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N3YWxUYWdzJykudmFsKHRhZ3NBcnIuam9pbignLCAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGJ0bik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBwcmVleGlzdGluZyB0YWdzJywgZXJyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLy8gQXR0YWNoIGFsbCBldmVudCBoYW5kbGVyc1xuZXhwb3J0IGNvbnN0IGluaXRFdmVudHMgPSAoKSA9PiB7XG4gICAgLy8gUGxhY2Vob2xkZXIgYnV0dG9uIGNsaWNrIGhhbmRsZXJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnBsYWNlaG9sZGVyLWJ0bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBpbnRlcm5hbFR5cGUgPSAkKHRoaXMpLmRhdGEoJ2ludGVybmFsJyk7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gJCh0aGlzKS5kYXRhKCdkaXNwbGF5Jyk7XG4gICAgICAgIGhhbmRsZVBsYWNlaG9sZGVyQ2xpY2soaW50ZXJuYWxUeXBlLCBkaXNwbGF5TmFtZSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRmlsbCBpbmZvIGljb24gY2xpY2sgaGFuZGxlclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZmlsbC1pbmZvLWljb24nLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3R5cGUnKTtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IFR5cGVIZWxwZXJzLmdldFRvb2x0aXBGb3JUeXBlKHR5cGUpO1xuICAgICAgICBkb21VdGlscy5zaG93VG9hc3QodG9vbHRpcCwgJ2luZm8nKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBBZGQgYWNjb3JkaW9uIGluZm8gaWNvbiBjbGljayBoYW5kbGVyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5hY2NvcmRpb24taW5mby1pY29uJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCd0b29sdGlwJyk7XG4gICAgICAgIGRvbVV0aWxzLnNob3dUb2FzdCh0b29sdGlwLCAnaW5mbycpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFNob3cgbW9yZSB0b2dnbGUgZXZlbnQgaGFuZGxlclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2hvdy1tb3JlLXRvZ2dsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TGlzdCA9ICQodGhpcykuY2xvc2VzdCgnLmxpc3QtZ3JvdXAnKTtcbiAgICAgICAgY29uc3QgaGlkZGVuSXRlbXMgPSBwYXJlbnRMaXN0LmZpbmQoJy5zZWNvbmRhcnktcGxhY2Vob2xkZXItd3JhcHBlciAuc2Vjb25kYXJ5LXBsYWNlaG9sZGVyJyk7XG4gICAgICAgIGNvbnN0IGxpbmsgPSAkKHRoaXMpO1xuICAgICAgICBsaW5rLnRleHQobGluay50ZXh0KCkgPT09ICdTaG93IE1vcmUnID8gJ1Nob3cgTGVzcycgOiAnU2hvdyBNb3JlJyk7XG4gICAgICAgIGhpZGRlbkl0ZW1zLnRvZ2dsZSgpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEFkZCBjb3B5IHRvIGNsaXBib2FyZCBoYW5kbGVyXG4gICAgJCgnI2NvcHlTdG9yeScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgZmluYWxUZXh0ID0gJCgnI2ZpbmFsU3RvcnknKS50ZXh0KCk7XG4gICAgICAgIGRvbVV0aWxzLmNvcHlUb0NsaXBib2FyZChmaW5hbFRleHQpO1xuICAgIH0pO1xuXG4gICAgLy8gU2VsZWN0aW9uIGNoYW5nZXNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RvcnlUZXh0XCIpO1xuICAgICAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChzZWwucmFuZ2VDb3VudCA+IDAgJiYgZWRpdG9yLmNvbnRhaW5zKHNlbC5hbmNob3JOb2RlKSkge1xuICAgICAgICAgICAgc3RhdGUubGFzdFJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEF0dGFjaCBzZWFyY2ggaGFuZGxlcnMgd2l0aCBhIHJlZHVjZWQgZGVib3VuY2UgZGVsYXkgKDUwbXMpXG4gICAgJCgnI3BsYWNlaG9sZGVyU2VhcmNoJykub24oJ2lucHV0JywgVXRpbHMuZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBzZWFyY2hWYWwgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSAkKCcjc2lkZVBsYWNlaG9sZGVyUGFuZWwnKS5zY3JvbGxUb3AoKTsgLy8gU3RvcmUgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNwbGFjZWhvbGRlckFjY29yZGlvbicsICcjbm9SZXN1bHRzJywgc2VhcmNoVmFsKTtcbiAgICAgICAgJCgnI2FkZEN1c3RvbVBsYWNlaG9sZGVyQnRuJykudGV4dCgnQWRkIFwiJyArIHNlYXJjaFZhbCArICdcIicpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzdG9yZSBzY3JvbGwgcG9zaXRpb24gYWZ0ZXIgdXBkYXRlIGlmIG5lZWRlZFxuICAgICAgICBpZiAoc2VhcmNoVmFsICYmIHNjcm9sbFRvcCA9PT0gMCkge1xuICAgICAgICAgICAgJCgnI3NpZGVQbGFjZWhvbGRlclBhbmVsJykuc2Nyb2xsVG9wKDApOyAvLyBFbnN1cmUgc3RheXMgYXQgdG9wXG4gICAgICAgIH1cbiAgICB9LCA1MCkpO1xuXG4gICAgJCgnI21vZGFsUGxhY2Vob2xkZXJTZWFyY2gnKS5vbignaW5wdXQnLCBVdGlscy5kZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9ICQoJy5tb2RhbC1ib2R5Jykuc2Nyb2xsVG9wKCk7IC8vIFN0b3JlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjbW9kYWxQbGFjZWhvbGRlckFjY29yZGlvbicsICcjbW9kYWxOb1Jlc3VsdHMnLCBzZWFyY2hWYWwpO1xuICAgICAgICAkKCcjbW9kYWxBZGRDdXN0b21QbGFjZWhvbGRlckJ0bicpLnRleHQoJ0FkZCBcIicgKyBzZWFyY2hWYWwgKyAnXCInKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uIGFmdGVyIHVwZGF0ZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHNlYXJjaFZhbCAmJiBzY3JvbGxUb3AgPT09IDApIHtcbiAgICAgICAgICAgICQoJy5tb2RhbC1ib2R5Jykuc2Nyb2xsVG9wKDApOyAvLyBFbnN1cmUgc3RheXMgYXQgdG9wXG4gICAgICAgIH1cbiAgICB9LCA1MCkpO1xuXG4gICAgLy8gSW5pdCBhY2NvcmRpb25zXG4gICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNwbGFjZWhvbGRlckFjY29yZGlvbicsICcjbm9SZXN1bHRzJywgc3RhdGUuY3VycmVudFBsYWNlaG9sZGVyU2VhcmNoKTtcbiAgICB1cGRhdGVQbGFjZWhvbGRlckFjY29yZGlvbignI21vZGFsUGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI21vZGFsTm9SZXN1bHRzJywgc3RhdGUuY3VycmVudE1vZGFsUGxhY2Vob2xkZXJTZWFyY2gpO1xuICAgIFxuICAgIC8vIEZpbHRlciB0YWcgaW5wdXQgaGFuZGxlclxuICAgICQoJyNmaWx0ZXJUYWcnKS5vbignaW5wdXQnLCBVdGlscy5kZWJvdW5jZSgoKSA9PiB7XG4gICAgICAgIFN0b3JhZ2UubG9hZFNhdmVkU3Rvcmllc0xpc3QoKTtcbiAgICB9LCAzMDApKTtcblxuICAgIC8vIFNvcnQgb3B0aW9uIGNoYW5nZSBoYW5kbGVyXG4gICAgJCgnI3NvcnRPcHRpb24nKS5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3JpZXNMaXN0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBBbHBoYWJldGljYWwgb3JkZXIgYnV0dG9uXG4gICAgJCgnI2FscGhhYmV0aWNhbE9yZGVyQnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGF0ZS5maWxsT3JkZXIgPSAnYWxwaGFiZXRpY2FsJztcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYnRuLW91dGxpbmUtc2Vjb25kYXJ5JykuYWRkQ2xhc3MoJ2J0bi1vdXRsaW5lLXByaW1hcnknKTtcbiAgICAgICAgJCgnI3JhbmRvbU9yZGVyQnRuJykucmVtb3ZlQ2xhc3MoJ2J0bi1vdXRsaW5lLXByaW1hcnknKS5hZGRDbGFzcygnYnRuLW91dGxpbmUtc2Vjb25kYXJ5Jyk7XG4gICAgICAgIGJ1aWxkRmlsbEZvcm0oKTtcbiAgICB9KTtcblxuICAgIC8vIFJhbmRvbSBvcmRlciBidXR0b25cbiAgICAkKCcjcmFuZG9tT3JkZXJCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXRlLmZpbGxPcmRlciA9ICdyYW5kb20nO1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdidG4tb3V0bGluZS1zZWNvbmRhcnknKS5hZGRDbGFzcygnYnRuLW91dGxpbmUtcHJpbWFyeScpO1xuICAgICAgICAkKCcjYWxwaGFiZXRpY2FsT3JkZXJCdG4nKS5yZW1vdmVDbGFzcygnYnRuLW91dGxpbmUtcHJpbWFyeScpLmFkZENsYXNzKCdidG4tb3V0bGluZS1zZWNvbmRhcnknKTtcbiAgICAgICAgYnVpbGRGaWxsRm9ybSgpO1xuICAgIH0pO1xuXG4gICAgLy8gVGFnIGF1dG9jb21wbGV0ZVxuICAgICQoXCIjZmlsdGVyVGFnXCIpLmF1dG9jb21wbGV0ZSh7XG4gICAgICAgIHNvdXJjZTogZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJy9hcGkvZ2V0dGFncycsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICh0YWdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkVGFncyA9ICQudWkuYXV0b2NvbXBsZXRlLmZpbHRlcih0YWdzLCByZXF1ZXN0LnRlcm0pO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZShmaWx0ZXJlZFRhZ3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgdGFncyBmb3IgYXV0b2NvbXBsZXRlJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UoW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBtaW5MZW5ndGg6IDEsXG4gICAgICAgIHNlbGVjdDogKGV2ZW50LCB1aSkgPT4ge1xuICAgICAgICAgICAgJChcIiNmaWx0ZXJUYWdcIikudmFsKHVpLml0ZW0udmFsdWUpO1xuICAgICAgICAgICAgJChcIiNhcHBseUZpbHRlcnNcIikuY2xpY2soKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQXBwbHkgZmlsdGVycyBidXR0b25cbiAgICAkKCcjYXBwbHlGaWx0ZXJzJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3JpZXNMaXN0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaGFyZSBzdG9yeSBidXR0b25cbiAgICAkKCcjc2hhcmVTdG9yeScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgZmluYWxUZXh0ID0gJCgnI2ZpbmFsU3RvcnknKS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gJCgnI2Rpc3BsYXlUaXRsZScpLnRleHQoKTtcbiAgICAgICAgY29uc3QgYXV0aG9yID0gJCgnI2Rpc3BsYXlBdXRob3InKS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXRTdG9yeUZvckV4cG9ydCh0aXRsZSwgYXV0aG9yLCBmaW5hbFRleHQpO1xuICAgICAgICBcbiAgICAgICAgZG9tVXRpbHMuY29weVRvQ2xpcGJvYXJkKGNvbnRlbnQpXG4gICAgICAgICAgICAudGhlbihzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zaG93VG9hc3QoJ1N0b3J5IGNvcGllZCB0byBjbGlwYm9hcmQhJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2hvd0Vycm9yKCdDb3B5IEZhaWxlZCcsICdGYWlsZWQgdG8gY29weSBzdG9yeS4gUGxlYXNlIGNvcHkgbWFudWFsbHkuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBTdG9yeSBlZGl0b3IgaW5wdXQgZXZlbnRcbiAgICAkKCcjc3RvcnlUZXh0Jykub24oJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yKCk7XG4gICAgICAgIHN0YXRlLnN0b3J5SGFzVW5zYXZlZENoYW5nZXMgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLy8gVXBsb2FkIHN0b3J5IGJ1dHRvblxuICAgICQoJyN1cGxvYWRTdG9yeUJ0bicpLm9uKCdjbGljaycsICgpID0+IHsgXG4gICAgICAgICQoJyN1cGxvYWRTdG9yeScpLmNsaWNrKCk7IFxuICAgIH0pO1xuICAgIFxuICAgICQoJyN1cGxvYWRTdG9yeScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xuICAgICAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlEYXRhID0gcGFyc2VTdG9yeUZpbGUoY29udGVudCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQoJyNzdG9yeVRpdGxlJykudmFsKHN0b3J5RGF0YS50aXRsZSk7XG4gICAgICAgICAgICAkKCcjc3RvcnlBdXRob3InKS52YWwoc3RvcnlEYXRhLmF1dGhvcik7XG4gICAgICAgICAgICAkKCcjc3RvcnlUZXh0JykuaHRtbChzdG9yeURhdGEuY29udGVudCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlc2V0IHN0YXRlXG4gICAgICAgICAgICBzdGF0ZS52YXJpYWJsZXMgPSBbXTtcbiAgICAgICAgICAgIHN0YXRlLnZhcmlhYmxlQ291bnRzID0ge307XG4gICAgICAgICAgICBzdGF0ZS5pbnNlcnRpb25Db3VudGVyID0gMDtcbiAgICAgICAgICAgIHN0YXRlLnByb25vdW5Hcm91cENvdW50ID0gMDtcbiAgICAgICAgICAgIHN0YXRlLnByb25vdW5Hcm91cHMgPSB7fTtcbiAgICAgICAgICAgIHN0YXRlLmZpbGxWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIHN0YXRlLmN1c3RvbVBsYWNlaG9sZGVycyA9IFtdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgIH0pO1xuXG4gICAgLy8gU3RhcnQgZ2FtZSBidXR0b25cbiAgICAkKCcjc3RhcnRHYW1lJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gJCgnI3N0b3J5VGV4dCcpLmh0bWwoKTtcbiAgICAgICAgaWYgKCFjb250ZW50LnRyaW0oKSkge1xuICAgICAgICAgICAgZG9tVXRpbHMuc2hvd0Vycm9yKCdFbXB0eSBTdG9yeScsICdQbGVhc2Ugd3JpdGUgYSBzdG9yeSBiZWZvcmUgY29udGludWluZy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yKCk7XG4gICAgICAgIHN0YXRlLnN0b3J5VGV4dCA9IGdlbmVyYXRlTGVnYWN5VGV4dCgpO1xuICAgICAgICBpZiAoIXN0YXRlLnZhcmlhYmxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRvbVV0aWxzLnNob3dFcnJvcignTm8gUGxhY2Vob2xkZXJzJywgJ05vIHBsYWNlaG9sZGVycyBmb3VuZCBpbiB0aGUgc3RvcnkuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGRGaWxsRm9ybSgpO1xuICAgICAgICAkKCcjaW5wdXRzJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAkKCcjZWRpdG9yJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIH0pO1xuXG4gICAgLy8gR2VuZXJhdGUgc3RvcnkgYnV0dG9uXG4gICAgJCgnI2dlbmVyYXRlU3RvcnknKS5vbignY2xpY2snLCBoYW5kbGVHZW5lcmF0ZVN0b3J5KTtcblxuICAgIC8vIENyZWF0ZSBuZXcgc3RvcnkgYnV0dG9uc1xuICAgICQoJyNjcmVhdGVOZXdTdG9yeTIsICNjcmVhdGVOZXdTdG9yeScpLm9uKCdjbGljaycsIGhhbmRsZUNyZWF0ZU5ld1N0b3J5KTtcblxuICAgIC8vIENsZWFyIGZvcm0gYnV0dG9uXG4gICAgJCgnI2NsZWFyRm9ybUJ0bicpLm9uKCdjbGljaycsIGhhbmRsZUNsZWFyRm9ybSk7XG5cbiAgICAvLyBTdG9yeSBlZGl0aW5nIGZsb3cgYnV0dG9uc1xuICAgICQoJyNlZGl0U3RvcnlFbnRyaWVzJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBidWlsZEZpbGxGb3JtKCk7XG4gICAgICAgICQoJyNyZXN1bHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICQoJyNpbnB1dHMnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgfSk7XG4gICAgXG4gICAgJCgnI2JhY2tUb0VkaXRvciwgI2JhY2tUb0VkaXRvcjInKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICQoJyNyZXN1bHQsICNpbnB1dHMnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICQoJyNlZGl0b3InKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgfSk7XG5cbiAgICAvLyBTYXZlIHN0b3J5IHRvIHNpdGUgYnV0dG9uXG4gICAgJCgnI3NhdmVTdG9yeVRvU2l0ZScpLm9uKCdjbGljaycsIGhhbmRsZVNhdmVTdG9yeVRvU2l0ZSk7XG5cbiAgICAvLyBEb3dubG9hZCBzdG9yeSBidXR0b25cbiAgICAkKCcjZG93bmxvYWRTdG9yeScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgZmluYWxUZXh0ID0gJCgnI2ZpbmFsU3RvcnknKS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gJCgnI2Rpc3BsYXlUaXRsZScpLnRleHQoKTtcbiAgICAgICAgY29uc3QgYXV0aG9yID0gJCgnI2Rpc3BsYXlBdXRob3InKS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXRTdG9yeUZvckV4cG9ydCh0aXRsZSwgYXV0aG9yLCBmaW5hbFRleHQpO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGNyZWF0ZUZpbGVuYW1lRnJvbVRpdGxlKHRpdGxlKTtcbiAgICAgICAgXG4gICAgICAgIGRvbVV0aWxzLmRvd25sb2FkVGV4dEZpbGUoY29udGVudCwgZmlsZU5hbWUpO1xuICAgIH0pO1xuXG4gICAgLy8gU2F2ZSBjb21wbGV0ZWQgc3RvcnkgYnV0dG9uXG4gICAgJCgnI3NhdmVDb21wbGV0ZWRTdG9yeScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgU3RvcmFnZS5hZGRDb21wbGV0ZWRTdG9yeVRvU2F2ZWRTdG9yaWVzKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTYXZlZCBzdG9yaWVzIGJ1dHRvbnNcbiAgICAkKCcjbXlTYXZlZFN0b3JpZXNCdG4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIFN0b3JhZ2UubG9hZFNhdmVkU3Rvcmllc0xpc3QoKTtcbiAgICAgICAgJCgnI3NhdmVkU3Rvcmllc01vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICB9KTtcbiAgICBcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmxvYWRTYXZlZFN0b3J5QnRuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpbmRleCA9ICQodGhpcykuZGF0YSgnaW5kZXgnKTtcbiAgICAgICAgJCgnI3NhdmVkU3Rvcmllc01vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgU3RvcmFnZS5sb2FkU2F2ZWRTdG9yeShpbmRleCwgXCJwbGF5XCIpO1xuICAgIH0pO1xuICAgIFxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZWRpdFNhdmVkU3RvcnlCdG4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gJCh0aGlzKS5kYXRhKCdpbmRleCcpO1xuICAgICAgICAkKCcjc2F2ZWRTdG9yaWVzTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICBTdG9yYWdlLmxvYWRTYXZlZFN0b3J5KGluZGV4LCBcImVkaXRcIik7XG4gICAgfSk7XG4gICAgXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kZWxldGVTYXZlZFN0b3J5QnRuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCB0aXRsZSA9ICQodGhpcykuZGF0YSgndGl0bGUnKTtcbiAgICAgICAgZG9tVXRpbHMuY29uZmlybURpYWxvZyh7XG4gICAgICAgICAgICB0aXRsZTogJ0RlbGV0ZSBTdG9yeT8nLFxuICAgICAgICAgICAgdGV4dDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBzYXZlZCBzdG9yeT8nLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRlbGV0ZSBpdCEnXG4gICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgU3RvcmFnZS5kZWxldGVTYXZlZFN0b3J5KHRpdGxlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBSYXRpbmcgc3VibWlzc2lvblxuICAgICQoJyNzdWJtaXRSYXRpbmcnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJhdGluZyA9IHBhcnNlSW50KCQoJyNzdG9yeVJhdGluZycpLnZhbCgpLCAxMCk7XG4gICAgICAgIGlmICghc3RhdGUuY3VycmVudFN0b3J5SWQpIHtcbiAgICAgICAgICAgIGRvbVV0aWxzLnNob3dFcnJvcignRXJyb3InLCAnU3RvcnkgSUQgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvYXBpL3JhdGVTdG9yeScsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IHN0b3J5SWQ6IHN0YXRlLmN1cnJlbnRTdG9yeUlkLCByYXRpbmcgfSksXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNob3dUb2FzdChgVGhhbmsgeW91IGZvciByYXRpbmchIE5ldyBhdmVyYWdlOiAke2RhdGEucmF0aW5nLnRvRml4ZWQoMSl9ICgke2RhdGEucmF0aW5nQ291bnR9IHZvdGVzKWApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiAoeGhyLCBzdGF0dXNUZXh0LCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgIFN0b3JhZ2UuaGFuZGxlQWpheEVycm9yKHhociwgc3RhdHVzVGV4dCwgZXJyb3JUaHJvd24sICdGYWlsZWQgdG8gcmF0ZSBzdG9yeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEVkaXRvciBrZXkgaGFuZGxpbmcgZm9yIHBsYWNlaG9sZGVyc1xuICAgICQoJyNzdG9yeVRleHQnKS5vbigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKHNlbC5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHNlbC5hbmNob3JOb2RlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiBub2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbGFjZWhvbGRlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWwuYW5jaG9yT2Zmc2V0ID49IG5vZGUubm9kZVZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1JhbmdlLnNldFN0YXJ0QWZ0ZXIocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UobmV3UmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBzZWwuYW5jaG9yTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgbm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygncGxhY2Vob2xkZXInKSAmJiBzZWwuYW5jaG9yT2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3UmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZXRTdGFydEJlZm9yZShwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgIG5ld1JhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShuZXdSYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgcGxhY2Vob2xkZXIgYnV0dG9uXG4gICAgJCgnI2FkZFBsYWNlaG9sZGVyQnRuJykub24oJ2NsaWNrJywgKCkgPT4geyBcbiAgICAgICAgJCgnI3BsYWNlaG9sZGVyTW9kYWwnKS5tb2RhbCgnc2hvdycpOyBcbiAgICB9KTtcblxuICAgIC8vIENsaWNrIGhhbmRsZXIgZm9yIGV4aXN0aW5nIHBsYWNlaG9sZGVyc1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGlzdGluZ1BsYWNlaG9sZGVyc0NvbnRhaW5lcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLnBsYWNlaG9sZGVyLWl0ZW0nKTtcbiAgICAgICAgaWYgKCFidG4pIHJldHVybjtcbiAgICAgICAgY29uc3QgaWQgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlID0gc3RhdGUudmFyaWFibGVzLmZpbmQodiA9PiB2LmlkID09PSBpZCk7XG4gICAgICAgIGlmICh2YXJpYWJsZSkgZHVwbGljYXRlUGxhY2Vob2xkZXIodmFyaWFibGUpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGN1c3RvbSBwbGFjZWhvbGRlciBidXR0b25cbiAgICAkKCcjYWRkQ3VzdG9tUGxhY2Vob2xkZXJCdG4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJhdyA9ICQoJyNwbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgpO1xuICAgICAgICBjb25zdCB1c2FnZSA9ICQoJ2lucHV0W25hbWU9XCJjdXN0b21QbGFjZWhvbGRlclR5cGVcIl06Y2hlY2tlZCcpLnZhbCgpIHx8IFwiZ2VuZXJpY1wiO1xuICAgICAgICBpZiAodXNhZ2UgPT09IFwibm91blwiKSB7XG4gICAgICAgICAgICBhZGRDdXN0b21QbGFjZWhvbGRlcihyYXcsIFwibm91blwiKTtcbiAgICAgICAgICAgIHNob3dOb3VuTnVtYmVyU2VsZWN0aW9uKFwiTk5fXCIgKyBTdHJpbmdVdGlscy5wYXNjYWxDYXNlKHJhdyksIFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KHJhdykpO1xuICAgICAgICB9IGVsc2UgaWYgKHVzYWdlID09PSBcInZlcmJcIikge1xuICAgICAgICAgICAgYWRkQ3VzdG9tUGxhY2Vob2xkZXIocmF3LCBcInZlcmJcIik7XG4gICAgICAgICAgICBzaG93VmVyYlRlbnNlU2VsZWN0aW9uKFwiVkJfXCIgKyBTdHJpbmdVdGlscy5wYXNjYWxDYXNlKHJhdyksIFN0cmluZ1V0aWxzLm5hdHVyYWxEaXNwbGF5KHJhdykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkQ3VzdG9tUGxhY2Vob2xkZXIocmF3KTtcbiAgICAgICAgICAgIGluc2VydFBsYWNlaG9sZGVyRnJvbUN1c3RvbShyYXcpO1xuICAgICAgICB9XG4gICAgICAgICQoJyNwbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgnJyk7XG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjcGxhY2Vob2xkZXJBY2NvcmRpb24nLCAnI25vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCk7XG4gICAgfSk7XG5cbiAgICAvLyBNb2RhbCBhZGQgY3VzdG9tIHBsYWNlaG9sZGVyIGJ1dHRvblxuICAgICQoJyNtb2RhbEFkZEN1c3RvbVBsYWNlaG9sZGVyQnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByYXcgPSAkKCcjbW9kYWxQbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgpO1xuICAgICAgICBjb25zdCB1c2FnZSA9ICQoJ2lucHV0W25hbWU9XCJtb2RhbEN1c3RvbVBsYWNlaG9sZGVyVHlwZVwiXTpjaGVja2VkJykudmFsKCkgfHwgXCJnZW5lcmljXCI7XG4gICAgICAgIGlmICh1c2FnZSA9PT0gXCJub3VuXCIpIHtcbiAgICAgICAgICAgIGFkZEN1c3RvbVBsYWNlaG9sZGVyKHJhdywgXCJub3VuXCIpO1xuICAgICAgICAgICAgc2hvd05vdW5OdW1iZXJTZWxlY3Rpb24oXCJOTl9cIiArIFN0cmluZ1V0aWxzLnBhc2NhbENhc2UocmF3KSwgU3RyaW5nVXRpbHMubmF0dXJhbERpc3BsYXkocmF3KSk7XG4gICAgICAgIH0gZWxzZSBpZiAodXNhZ2UgPT09IFwidmVyYlwiKSB7XG4gICAgICAgICAgICBhZGRDdXN0b21QbGFjZWhvbGRlcihyYXcsIFwidmVyYlwiKTtcbiAgICAgICAgICAgIHNob3dWZXJiVGVuc2VTZWxlY3Rpb24oXCJWQl9cIiArIFN0cmluZ1V0aWxzLnBhc2NhbENhc2UocmF3KSwgU3RyaW5nVXRpbHMubmF0dXJhbERpc3BsYXkocmF3KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRDdXN0b21QbGFjZWhvbGRlcihyYXcpO1xuICAgICAgICAgICAgaW5zZXJ0UGxhY2Vob2xkZXJGcm9tQ3VzdG9tKHJhdyk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24oJyNtb2RhbFBsYWNlaG9sZGVyQWNjb3JkaW9uJywgJyNtb2RhbE5vUmVzdWx0cycsIHN0YXRlLmN1cnJlbnRNb2RhbFBsYWNlaG9sZGVyU2VhcmNoKTtcbiAgICAgICAgJCgnI3BsYWNlaG9sZGVyTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAkKCcjbW9kYWxQbGFjZWhvbGRlclNlYXJjaCcpLnZhbCgnJyk7XG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjbW9kYWxQbGFjZWhvbGRlckFjY29yZGlvbicsICcjbW9kYWxOb1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaCk7XG4gICAgfSk7XG5cbiAgICAvLyBTZWFyY2ggbW9kYWwgcGxhY2Vob2xkZXIgaW5wdXRcbiAgICAkKCcjbW9kYWxQbGFjZWhvbGRlclNlYXJjaElucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGF0ZS5jdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaCA9ICQodGhpcykudmFsKCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyQWNjb3JkaW9uKCcjbW9kYWxQbGFjZWhvbGRlckFjY29yZGlvbicsICcjbW9kYWxOb1Jlc3VsdHMnLCBzdGF0ZS5jdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaCk7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgcmVtYWluaW5nIGluaXRpYWxpemF0aW9uIGNvZGUgZm9sbG93c1xuICAgIC8vIC4uLiBleGlzdGluZyBjb2RlIC4uLlxufTsiXSwibmFtZXMiOlsic3RhdGUiLCJTdG9yYWdlIiwiVXRpbHMiLCJTdHJpbmdVdGlscyIsIlR5cGVIZWxwZXJzIiwidXBkYXRlUGxhY2Vob2xkZXJBY2NvcmRpb24iLCJ1cGRhdGVWYXJpYWJsZXNGcm9tRWRpdG9yIiwiZ2VuZXJhdGVMZWdhY3lUZXh0IiwiYWRkQ3VzdG9tUGxhY2Vob2xkZXIiLCJzaG93Tm91bk51bWJlclNlbGVjdGlvbiIsInNob3dWZXJiVGVuc2VTZWxlY3Rpb24iLCJpbnNlcnRQbGFjZWhvbGRlckZyb21DdXN0b20iLCJwaWNrUHJvbm91bkZvcm1BbmRHcm91cCIsInVwZGF0ZVZhcmlhYmxlc0xpc3QiLCJkdXBsaWNhdGVQbGFjZWhvbGRlciIsInVwZGF0ZUV4aXN0aW5nUGxhY2Vob2xkZXIiLCJpbnNlcnRQbGFjZWhvbGRlciIsInNob3dQZXJzb25UeXBlU2VsZWN0aW9uIiwiYnVpbGRGaWxsRm9ybSIsInZhbGlkYXRlSW5wdXRGb3JtIiwiZmlsbFBsYWNlaG9sZGVycyIsInBhcnNlU3RvcnlGaWxlIiwiZm9ybWF0U3RvcnlGb3JFeHBvcnQiLCJjcmVhdGVGaWxlbmFtZUZyb21UaXRsZSIsInJlc2V0U3RvcnlTdGF0ZSIsImRvbVV0aWxzIiwiU3dhbCIsInNob3dUb2FzdCIsImhhbmRsZVBsYWNlaG9sZGVyQ2xpY2siLCJpbnRlcm5hbFR5cGUiLCJkaXNwbGF5TmFtZSIsImlzRWRpdGluZ1BsYWNlaG9sZGVyIiwiY3VycmVudEVkaXRpbmdWYXJpYWJsZSIsIiQiLCJtb2RhbCIsInZhbCIsImN1cnJlbnRQbGFjZWhvbGRlclNlYXJjaCIsImhpZGUiLCJzdGFydHNXaXRoIiwiaGFuZGxlQ3JlYXRlTmV3U3RvcnkiLCJlIiwicHJldmVudERlZmF1bHQiLCJzdG9yeUhhc1Vuc2F2ZWRDaGFuZ2VzIiwiY29uZmlybURpYWxvZyIsInRpdGxlIiwidGV4dCIsInNob3dEZW55QnV0dG9uIiwiY29uZmlybUJ1dHRvblRleHQiLCJkZW55QnV0dG9uVGV4dCIsInRoZW4iLCJyZXN1bHQiLCJpc0NvbmZpcm1lZCIsImFkZEN1cnJlbnRTdG9yeVRvU2F2ZWRTdG9yaWVzIiwic2V0VGltZW91dCIsImlzRGVuaWVkIiwicmVzIiwiaGFuZGxlQ2xlYXJGb3JtIiwiaGFuZGxlR2VuZXJhdGVTdG9yeSIsImlucHV0Rm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmlsbFZhbHVlcyIsImZvckVhY2giLCJpbnB1dCIsImlkIiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJ0cmltIiwiY29uc29sZSIsImxvZyIsImNvbmNhdCIsImZpbmFsIiwidmFyaWFibGVzIiwicHJvbm91bkdyb3VwcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJoYW5kbGVTYXZlU3RvcnlUb1NpdGUiLCJmaXJlIiwiaHRtbCIsImRpZE9wZW4iLCJsb2FkUHJlZXhpc3RpbmdUYWdzIiwic2hvd0NhbmNlbEJ1dHRvbiIsInByZUNvbmZpcm0iLCJhdXRob3IiLCJ0YWdzIiwicGFzc3dvcmQiLCJkYXRhIiwic3RvcnkiLCJzdG9yeVRpdGxlIiwic3RvcnlBdXRob3IiLCJzdG9yeVRleHQiLCJ2YXJpYWJsZUNvdW50cyIsInByb25vdW5Hcm91cENvdW50IiwiY3VzdG9tUGxhY2Vob2xkZXJzIiwic3BsaXQiLCJtYXAiLCJzIiwic2F2ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJjb250ZW50VHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdWNjZXNzIiwidG9hc3QiLCJwb3NpdGlvbiIsImljb24iLCJzaG93Q29uZmlybUJ1dHRvbiIsInRpbWVyIiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXNUZXh0IiwiZXJyb3JUaHJvd24iLCJzdGF0dXMiLCJjYW5jZWxCdXR0b25UZXh0Iiwib3ZlcndyaXRlIiwieGhyT3ZlcndyaXRlIiwic3RhdHVzVGV4dE92ZXJ3cml0ZSIsImVycm9yVGhyb3duT3ZlcndyaXRlIiwiaGFuZGxlQWpheEVycm9yIiwiY29udGFpbmVyIiwiZW1wdHkiLCJsZW5ndGgiLCJhcHBlbmQiLCJ0YWciLCJidG4iLCJvbiIsImN1cnJlbnQiLCJ0YWdzQXJyIiwidCIsImZpbHRlciIsIkJvb2xlYW4iLCJpbmNsdWRlcyIsInB1c2giLCJqb2luIiwiZXJyIiwiaW5pdEV2ZW50cyIsInN0b3BQcm9wYWdhdGlvbiIsInR5cGUiLCJjdXJyZW50VGFyZ2V0IiwidG9vbHRpcCIsImdldFRvb2x0aXBGb3JUeXBlIiwicGFyZW50TGlzdCIsImNsb3Nlc3QiLCJoaWRkZW5JdGVtcyIsImZpbmQiLCJsaW5rIiwidG9nZ2xlIiwiZmluYWxUZXh0IiwiY29weVRvQ2xpcGJvYXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVkaXRvciIsInNlbCIsIndpbmRvdyIsImdldFNlbGVjdGlvbiIsInJhbmdlQ291bnQiLCJjb250YWlucyIsImFuY2hvck5vZGUiLCJsYXN0UmFuZ2UiLCJnZXRSYW5nZUF0IiwiZGVib3VuY2UiLCJzZWFyY2hWYWwiLCJzY3JvbGxUb3AiLCJjdXJyZW50TW9kYWxQbGFjZWhvbGRlclNlYXJjaCIsImxvYWRTYXZlZFN0b3JpZXNMaXN0IiwiZmlsbE9yZGVyIiwiYXV0b2NvbXBsZXRlIiwic291cmNlIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiZGF0YVR5cGUiLCJmaWx0ZXJlZFRhZ3MiLCJ1aSIsInRlcm0iLCJtaW5MZW5ndGgiLCJzZWxlY3QiLCJldmVudCIsIml0ZW0iLCJjbGljayIsImNvbnRlbnQiLCJzaG93RXJyb3IiLCJmaWxlIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwidGFyZ2V0Iiwic3RvcnlEYXRhIiwiaW5zZXJ0aW9uQ291bnRlciIsInJlYWRBc1RleHQiLCJmaWxlTmFtZSIsImRvd25sb2FkVGV4dEZpbGUiLCJhZGRDb21wbGV0ZWRTdG9yeVRvU2F2ZWRTdG9yaWVzIiwiaW5kZXgiLCJsb2FkU2F2ZWRTdG9yeSIsImRlbGV0ZVNhdmVkU3RvcnkiLCJyYXRpbmciLCJwYXJzZUludCIsImN1cnJlbnRTdG9yeUlkIiwic3RvcnlJZCIsInRvRml4ZWQiLCJyYXRpbmdDb3VudCIsInJhbmdlIiwia2V5Iiwibm9kZSIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJhbmNob3JPZmZzZXQiLCJub2RlVmFsdWUiLCJwbGFjZWhvbGRlciIsIm5ld1JhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydEFmdGVyIiwiY29sbGFwc2UiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsInNldFN0YXJ0QmVmb3JlIiwidmFyaWFibGUiLCJ2IiwicmF3IiwidXNhZ2UiLCJwYXNjYWxDYXNlIiwibmF0dXJhbERpc3BsYXkiLCJ0b0xvd2VyQ2FzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/handlers/events.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("0c15f9dfabd1d8b422b4")
/******/ })();
/******/ 
/******/ }
);