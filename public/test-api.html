<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Test</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="debug.js"></script>
</head>
<body>
    <h1>API Connection Test</h1>
    <button id="testApiBtn">Test API Connection</button>
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>

    <script>
        $(document).ready(function() {
            $('#testApiBtn').click(function() {
                $('#result').html('Testing connection...');
                
                $.ajax({
                    url: 'http://localhost:3000/api/getstories',
                    method: 'GET',
                    success: function(data) {
                        $('#result').html('<div style="color: green;">SUCCESS: API connection successful!</div><pre>' + JSON.stringify(data, null, 2) + '</pre>');
                    },
                    error: function(xhr, status, error) {
                        $('#result').html(
                            '<div style="color: red;">ERROR: API connection failed!</div>' +
                            '<div>Status: ' + status + '</div>' +
                            '<div>Error: ' + error + '</div>' +
                            '<div>Response: ' + (xhr.responseText || 'No response') + '</div>'
                        );
                    }
                });
            });
        });
    </script>
</body>
</html> 